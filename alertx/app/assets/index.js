var s$=Object.defineProperty;var E1=t=>{throw TypeError(t)};var o$=(t,e,n)=>e in t?s$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Zt=(t,e,n)=>o$(t,typeof e!="symbol"?e+"":e,n),_m=(t,e,n)=>e.has(t)||E1("Cannot "+n);var R=(t,e,n)=>(_m(t,e,"read from private field"),n?n.call(t):e.get(t)),At=(t,e,n)=>e.has(t)?E1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Je=(t,e,n,i)=>(_m(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),He=(t,e,n)=>(_m(t,e,"access private method"),n);var Mf=(t,e,n,i)=>({set _(r){Je(t,e,r,n)},get _(){return R(t,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Gb(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const jt={},fl=[],Jr=()=>{},a$=()=>!1,Zd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Kb=t=>t.startsWith("onUpdate:"),Xn=Object.assign,Jb=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},l$=Object.prototype.hasOwnProperty,Lt=(t,e)=>l$.call(t,e),Ze=Array.isArray,hl=t=>ef(t)==="[object Map]",tc=t=>ef(t)==="[object Set]",D1=t=>ef(t)==="[object Date]",at=t=>typeof t=="function",hn=t=>typeof t=="string",is=t=>typeof t=="symbol",Xt=t=>t!==null&&typeof t=="object",SS=t=>(Xt(t)||at(t))&&at(t.then)&&at(t.catch),CS=Object.prototype.toString,ef=t=>CS.call(t),c$=t=>ef(t).slice(8,-1),TS=t=>ef(t)==="[object Object]",Zb=t=>hn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Uc=Gb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ep=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},u$=/-(\w)/g,yo=ep(t=>t.replace(u$,(e,n)=>n?n.toUpperCase():"")),f$=/\B([A-Z])/g,ka=ep(t=>t.replace(f$,"-$1").toLowerCase()),AS=ep(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sm=ep(t=>t?`on${AS(t)}`:""),mo=(t,e)=>!Object.is(t,e),yh=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},kS=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Xh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let R1;const tp=()=>R1||(R1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ey(t){if(Ze(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=hn(i)?m$(i):ey(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(hn(t)||Xt(t))return t}const h$=/;(?![^(]*\))/g,d$=/:([^]+)/,p$=/\/\*[^]*?\*\//g;function m$(t){const e={};return t.replace(p$,"").split(h$).forEach(n=>{if(n){const i=n.split(d$);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Sn(t){let e="";if(hn(t))e=t;else if(Ze(t))for(let n=0;n<t.length;n++){const i=Sn(t[n]);i&&(e+=i+" ")}else if(Xt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const g$="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",v$=Gb(g$);function ES(t){return!!t||t===""}function b$(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=tf(t[i],e[i]);return n}function tf(t,e){if(t===e)return!0;let n=D1(t),i=D1(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=is(t),i=is(e),n||i)return t===e;if(n=Ze(t),i=Ze(e),n||i)return n&&i?b$(t,e):!1;if(n=Xt(t),i=Xt(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!tf(t[o],e[o]))return!1}}return String(t)===String(e)}function ty(t,e){return t.findIndex(n=>tf(n,e))}const DS=t=>!!(t&&t.__v_isRef===!0),$e=t=>hn(t)?t:t==null?"":Ze(t)||Xt(t)&&(t.toString===CS||!at(t.toString))?DS(t)?$e(t.value):JSON.stringify(t,RS,2):String(t),RS=(t,e)=>DS(e)?RS(t,e.value):hl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[Cm(i,s)+" =>"]=r,n),{})}:tc(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Cm(n))}:is(e)?Cm(e):Xt(e)&&!Ze(e)&&!TS(e)?String(e):e,Cm=(t,e="")=>{var n;return is(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mi;class PS{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mi,!e&&Mi&&(this.index=(Mi.scopes||(Mi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Mi;try{return Mi=this,e()}finally{Mi=n}}}on(){Mi=this}off(){Mi=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function y$(t){return new PS(t)}function O$(){return Mi}let Wt;const Tm=new WeakSet;class $S{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mi&&Mi.active&&Mi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Tm.has(this)&&(Tm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||LS(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,P1(this),NS(this);const e=Wt,n=_r;Wt=this,_r=!0;try{return this.fn()}finally{IS(this),Wt=e,_r=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ry(e);this.deps=this.depsTail=void 0,P1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Tm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qg(this)&&this.run()}get dirty(){return qg(this)}}let MS=0,Yc,Gc;function LS(t,e=!1){if(t.flags|=8,e){t.next=Gc,Gc=t;return}t.next=Yc,Yc=t}function ny(){MS++}function iy(){if(--MS>0)return;if(Gc){let e=Gc;for(Gc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Yc;){let e=Yc;for(Yc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function NS(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function IS(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),ry(i),x$(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function qg(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(FS(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function FS(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===du))return;t.globalVersion=du;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!qg(t)){t.flags&=-3;return}const n=Wt,i=_r;Wt=t,_r=!0;try{NS(t);const r=t.fn(t._value);(e.version===0||mo(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Wt=n,_r=i,IS(t),t.flags&=-3}}function ry(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)ry(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function x$(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let _r=!0;const BS=[];function Do(){BS.push(_r),_r=!1}function Ro(){const t=BS.pop();_r=t===void 0?!0:t}function P1(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Wt;Wt=void 0;try{e()}finally{Wt=n}}}let du=0;class w${constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sy{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Wt||!_r||Wt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Wt)n=this.activeLink=new w$(Wt,this),Wt.deps?(n.prevDep=Wt.depsTail,Wt.depsTail.nextDep=n,Wt.depsTail=n):Wt.deps=Wt.depsTail=n,HS(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Wt.depsTail,n.nextDep=void 0,Wt.depsTail.nextDep=n,Wt.depsTail=n,Wt.deps===n&&(Wt.deps=i)}return n}trigger(e){this.version++,du++,this.notify(e)}notify(e){ny();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{iy()}}}function HS(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)HS(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Xg=new WeakMap,la=Symbol(""),Ug=Symbol(""),pu=Symbol("");function jn(t,e,n){if(_r&&Wt){let i=Xg.get(t);i||Xg.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new sy),r.map=i,r.key=n),r.track()}}function ys(t,e,n,i,r,s){const o=Xg.get(t);if(!o){du++;return}const a=l=>{l&&l.trigger()};if(ny(),e==="clear")o.forEach(a);else{const l=Ze(t),c=l&&Zb(n);if(l&&n==="length"){const u=Number(i);o.forEach((f,d)=>{(d==="length"||d===pu||!is(d)&&d>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(pu)),e){case"add":l?c&&a(o.get("length")):(a(o.get(la)),hl(t)&&a(o.get(Ug)));break;case"delete":l||(a(o.get(la)),hl(t)&&a(o.get(Ug)));break;case"set":hl(t)&&a(o.get(la));break}}iy()}function Ha(t){const e=Dt(t);return e===t?e:(jn(e,"iterate",pu),er(t)?e:e.map(Vn))}function np(t){return jn(t=Dt(t),"iterate",pu),t}const _$={__proto__:null,[Symbol.iterator](){return Am(this,Symbol.iterator,Vn)},concat(...t){return Ha(this).concat(...t.map(e=>Ze(e)?Ha(e):e))},entries(){return Am(this,"entries",t=>(t[1]=Vn(t[1]),t))},every(t,e){return fs(this,"every",t,e,void 0,arguments)},filter(t,e){return fs(this,"filter",t,e,n=>n.map(Vn),arguments)},find(t,e){return fs(this,"find",t,e,Vn,arguments)},findIndex(t,e){return fs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return fs(this,"findLast",t,e,Vn,arguments)},findLastIndex(t,e){return fs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return fs(this,"forEach",t,e,void 0,arguments)},includes(...t){return km(this,"includes",t)},indexOf(...t){return km(this,"indexOf",t)},join(t){return Ha(this).join(t)},lastIndexOf(...t){return km(this,"lastIndexOf",t)},map(t,e){return fs(this,"map",t,e,void 0,arguments)},pop(){return Sc(this,"pop")},push(...t){return Sc(this,"push",t)},reduce(t,...e){return $1(this,"reduce",t,e)},reduceRight(t,...e){return $1(this,"reduceRight",t,e)},shift(){return Sc(this,"shift")},some(t,e){return fs(this,"some",t,e,void 0,arguments)},splice(...t){return Sc(this,"splice",t)},toReversed(){return Ha(this).toReversed()},toSorted(t){return Ha(this).toSorted(t)},toSpliced(...t){return Ha(this).toSpliced(...t)},unshift(...t){return Sc(this,"unshift",t)},values(){return Am(this,"values",Vn)}};function Am(t,e,n){const i=np(t),r=i[e]();return i!==t&&!er(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const S$=Array.prototype;function fs(t,e,n,i,r,s){const o=np(t),a=o!==t&&!er(t),l=o[e];if(l!==S$[e]){const f=l.apply(t,s);return a?Vn(f):f}let c=n;o!==t&&(a?c=function(f,d){return n.call(this,Vn(f),d,t)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,t)}));const u=l.call(o,c,i);return a&&r?r(u):u}function $1(t,e,n,i){const r=np(t);let s=n;return r!==t&&(er(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Vn(a),l,t)}),r[e](s,...i)}function km(t,e,n){const i=Dt(t);jn(i,"iterate",pu);const r=i[e](...n);return(r===-1||r===!1)&&ly(n[0])?(n[0]=Dt(n[0]),i[e](...n)):r}function Sc(t,e,n=[]){Do(),ny();const i=Dt(t)[e].apply(t,n);return iy(),Ro(),i}const C$=Gb("__proto__,__v_isRef,__isVue"),jS=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(is));function T$(t){is(t)||(t=String(t));const e=Dt(this);return jn(e,"has",t),e.hasOwnProperty(t)}class VS{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?N$:qS:s?WS:zS).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Ze(e);if(!r){let l;if(o&&(l=_$[n]))return l;if(n==="hasOwnProperty")return T$}const a=Reflect.get(e,n,qn(e)?e:i);return(is(n)?jS.has(n):C$(n))||(r||jn(e,"get",n),s)?a:qn(a)?o&&Zb(n)?a:a.value:Xt(a)?r?US(a):ws(a):a}}class QS extends VS{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=ga(s);if(!er(i)&&!ga(i)&&(s=Dt(s),i=Dt(i)),!Ze(e)&&qn(s)&&!qn(i))return l?!1:(s.value=i,!0)}const o=Ze(e)&&Zb(n)?Number(n)<e.length:Lt(e,n),a=Reflect.set(e,n,i,qn(e)?e:r);return e===Dt(r)&&(o?mo(i,s)&&ys(e,"set",n,i):ys(e,"add",n,i)),a}deleteProperty(e,n){const i=Lt(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&ys(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!is(n)||!jS.has(n))&&jn(e,"has",n),i}ownKeys(e){return jn(e,"iterate",Ze(e)?"length":la),Reflect.ownKeys(e)}}class A$ extends VS{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const k$=new QS,E$=new A$,D$=new QS(!0);const Yg=t=>t,Lf=t=>Reflect.getPrototypeOf(t);function R$(t,e,n){return function(...i){const r=this.__v_raw,s=Dt(r),o=hl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...i),u=n?Yg:e?Gg:Vn;return!e&&jn(s,"iterate",l?Ug:la),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Nf(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function P$(t,e){const n={get(r){const s=this.__v_raw,o=Dt(s),a=Dt(r);t||(mo(r,a)&&jn(o,"get",r),jn(o,"get",a));const{has:l}=Lf(o),c=e?Yg:t?Gg:Vn;if(l.call(o,r))return c(s.get(r));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!t&&jn(Dt(r),"iterate",la),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=Dt(s),a=Dt(r);return t||(mo(r,a)&&jn(o,"has",r),jn(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=Dt(a),c=e?Yg:t?Gg:Vn;return!t&&jn(l,"iterate",la),a.forEach((u,f)=>r.call(s,c(u),c(f),o))}};return Xn(n,t?{add:Nf("add"),set:Nf("set"),delete:Nf("delete"),clear:Nf("clear")}:{add(r){!e&&!er(r)&&!ga(r)&&(r=Dt(r));const s=Dt(this);return Lf(s).has.call(s,r)||(s.add(r),ys(s,"add",r,r)),this},set(r,s){!e&&!er(s)&&!ga(s)&&(s=Dt(s));const o=Dt(this),{has:a,get:l}=Lf(o);let c=a.call(o,r);c||(r=Dt(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,s),c?mo(s,u)&&ys(o,"set",r,s):ys(o,"add",r,s),this},delete(r){const s=Dt(this),{has:o,get:a}=Lf(s);let l=o.call(s,r);l||(r=Dt(r),l=o.call(s,r)),a&&a.call(s,r);const c=s.delete(r);return l&&ys(s,"delete",r,void 0),c},clear(){const r=Dt(this),s=r.size!==0,o=r.clear();return s&&ys(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=R$(r,t,e)}),n}function oy(t,e){const n=P$(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(Lt(n,r)&&r in i?n:i,r,s)}const $$={get:oy(!1,!1)},M$={get:oy(!1,!0)},L$={get:oy(!0,!1)};const zS=new WeakMap,WS=new WeakMap,qS=new WeakMap,N$=new WeakMap;function I$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function F$(t){return t.__v_skip||!Object.isExtensible(t)?0:I$(c$(t))}function ws(t){return ga(t)?t:ay(t,!1,k$,$$,zS)}function XS(t){return ay(t,!1,D$,M$,WS)}function US(t){return ay(t,!0,E$,L$,qS)}function ay(t,e,n,i,r){if(!Xt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=F$(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function dl(t){return ga(t)?dl(t.__v_raw):!!(t&&t.__v_isReactive)}function ga(t){return!!(t&&t.__v_isReadonly)}function er(t){return!!(t&&t.__v_isShallow)}function ly(t){return t?!!t.__v_raw:!1}function Dt(t){const e=t&&t.__v_raw;return e?Dt(e):t}function YS(t){return!Lt(t,"__v_skip")&&Object.isExtensible(t)&&kS(t,"__v_skip",!0),t}const Vn=t=>Xt(t)?ws(t):t,Gg=t=>Xt(t)?US(t):t;function qn(t){return t?t.__v_isRef===!0:!1}function Bt(t){return GS(t,!1)}function B$(t){return GS(t,!0)}function GS(t,e){return qn(t)?t:new H$(t,e)}class H${constructor(e,n){this.dep=new sy,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Dt(e),this._value=n?e:Vn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||er(e)||ga(e);e=i?e:Dt(e),mo(e,n)&&(this._rawValue=e,this._value=i?e:Vn(e),this.dep.trigger())}}function Ni(t){return qn(t)?t.value:t}const j$={get:(t,e,n)=>e==="__v_raw"?t:Ni(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return qn(r)&&!qn(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function KS(t){return dl(t)?t:new Proxy(t,j$)}class V${constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new sy(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=du-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Wt!==this)return LS(this,!0),!0}get value(){const e=this.dep.track();return FS(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Q$(t,e,n=!1){let i,r;return at(t)?i=t:(i=t.get,r=t.set),new V$(i,r,n)}const If={},Uh=new WeakMap;let Wo;function z$(t,e=!1,n=Wo){if(n){let i=Uh.get(n);i||Uh.set(n,i=[]),i.push(t)}}function W$(t,e,n=jt){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,c=T=>r?T:er(T)||r===!1||r===0?Os(T,1):Os(T);let u,f,d,m,g=!1,y=!1;if(qn(t)?(f=()=>t.value,g=er(t)):dl(t)?(f=()=>c(t),g=!0):Ze(t)?(y=!0,g=t.some(T=>dl(T)||er(T)),f=()=>t.map(T=>{if(qn(T))return T.value;if(dl(T))return c(T);if(at(T))return l?l(T,2):T()})):at(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){Do();try{d()}finally{Ro()}}const T=Wo;Wo=u;try{return l?l(t,3,[m]):t(m)}finally{Wo=T}}:f=Jr,e&&r){const T=f,B=r===!0?1/0:r;f=()=>Os(T(),B)}const O=O$(),_=()=>{u.stop(),O&&O.active&&Jb(O.effects,u)};if(s&&e){const T=e;e=(...B)=>{T(...B),_()}}let A=y?new Array(t.length).fill(If):If;const P=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const B=u.run();if(r||g||(y?B.some((I,v)=>mo(I,A[v])):mo(B,A))){d&&d();const I=Wo;Wo=u;try{const v=[B,A===If?void 0:y&&A[0]===If?[]:A,m];l?l(e,3,v):e(...v),A=B}finally{Wo=I}}}else u.run()};return a&&a(P),u=new $S(f),u.scheduler=o?()=>o(P,!1):P,m=T=>z$(T,!1,u),d=u.onStop=()=>{const T=Uh.get(u);if(T){if(l)l(T,4);else for(const B of T)B();Uh.delete(u)}},e?i?P(!0):A=u.run():o?o(P.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function Os(t,e=1/0,n){if(e<=0||!Xt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,qn(t))Os(t.value,e,n);else if(Ze(t))for(let i=0;i<t.length;i++)Os(t[i],e,n);else if(tc(t)||hl(t))t.forEach(i=>{Os(i,e,n)});else if(TS(t)){for(const i in t)Os(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Os(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nf(t,e,n,i){try{return i?t(...i):t()}catch(r){ip(r,e,n)}}function rs(t,e,n,i){if(at(t)){const r=nf(t,e,n,i);return r&&SS(r)&&r.catch(s=>{ip(s,e,n)}),r}if(Ze(t)){const r=[];for(let s=0;s<t.length;s++)r.push(rs(t[s],e,n,i));return r}}function ip(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||jt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,c)===!1)return}a=a.parent}if(s){Do(),nf(s,null,10,[t,l,c]),Ro();return}}q$(t,n,r,i,o)}function q$(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const ri=[];let Vr=-1;const pl=[];let Ks=null,Ua=0;const JS=Promise.resolve();let Yh=null;function Dl(t){const e=Yh||JS;return t?e.then(this?t.bind(this):t):e}function X$(t){let e=Vr+1,n=ri.length;for(;e<n;){const i=e+n>>>1,r=ri[i],s=mu(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function cy(t){if(!(t.flags&1)){const e=mu(t),n=ri[ri.length-1];!n||!(t.flags&2)&&e>=mu(n)?ri.push(t):ri.splice(X$(e),0,t),t.flags|=1,ZS()}}function ZS(){Yh||(Yh=JS.then(tC))}function U$(t){Ze(t)?pl.push(...t):Ks&&t.id===-1?Ks.splice(Ua+1,0,t):t.flags&1||(pl.push(t),t.flags|=1),ZS()}function M1(t,e,n=Vr+1){for(;n<ri.length;n++){const i=ri[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;ri.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function eC(t){if(pl.length){const e=[...new Set(pl)].sort((n,i)=>mu(n)-mu(i));if(pl.length=0,Ks){Ks.push(...e);return}for(Ks=e,Ua=0;Ua<Ks.length;Ua++){const n=Ks[Ua];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ks=null,Ua=0}}const mu=t=>t.id==null?t.flags&2?-1:1/0:t.id;function tC(t){try{for(Vr=0;Vr<ri.length;Vr++){const e=ri[Vr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),nf(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Vr<ri.length;Vr++){const e=ri[Vr];e&&(e.flags&=-2)}Vr=-1,ri.length=0,eC(),Yh=null,(ri.length||pl.length)&&tC()}}let Yi=null,nC=null;function Gh(t){const e=Yi;return Yi=t,nC=t&&t.type.__scopeId||null,e}function iC(t,e=Yi,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&Q1(-1);const s=Gh(e);let o;try{o=t(...r)}finally{Gh(s),i._d&&Q1(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function $n(t,e){if(Yi===null)return t;const n=lp(Yi),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=jt]=e[r];s&&(at(s)&&(s={mounted:s,updated:s}),s.deep&&Os(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Vo(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Do(),rs(l,n,8,[t.el,a,t,e]),Ro())}}const Y$=Symbol("_vte"),G$=t=>t.__isTeleport;function uy(t,e){t.shapeFlag&6&&t.component?(t.transition=e,uy(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function di(t,e){return at(t)?Xn({name:t.name},e,{setup:t}):t}function rC(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Kh(t,e,n,i,r=!1){if(Ze(t)){t.forEach((g,y)=>Kh(g,e&&(Ze(e)?e[y]:e),n,i,r));return}if(Kc(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Kh(t,e,n,i.component.subTree);return}const s=i.shapeFlag&4?lp(i.component):i.el,o=r?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===jt?a.refs={}:a.refs,f=a.setupState,d=Dt(f),m=f===jt?()=>!1:g=>Lt(d,g);if(c!=null&&c!==l&&(hn(c)?(u[c]=null,m(c)&&(f[c]=null)):qn(c)&&(c.value=null)),at(l))nf(l,a,12,[o,u]);else{const g=hn(l),y=qn(l);if(g||y){const O=()=>{if(t.f){const _=g?m(l)?f[l]:u[l]:l.value;r?Ze(_)&&Jb(_,s):Ze(_)?_.includes(s)||_.push(s):g?(u[l]=[s],m(l)&&(f[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else g?(u[l]=o,m(l)&&(f[l]=o)):y&&(l.value=o,t.k&&(u[t.k]=o))};o?(O.id=-1,Ei(O,n)):O()}}}tp().requestIdleCallback;tp().cancelIdleCallback;const Kc=t=>!!t.type.__asyncLoader,sC=t=>t.type.__isKeepAlive;function K$(t,e){oC(t,"a",e)}function J$(t,e){oC(t,"da",e)}function oC(t,e,n=oi){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(rp(e,i,n),n){let r=n.parent;for(;r&&r.parent;)sC(r.parent.vnode)&&Z$(i,e,n,r),r=r.parent}}function Z$(t,e,n,i){const r=rp(e,t,i,!0);sp(()=>{Jb(i[e],r)},n)}function rp(t,e,n=oi,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Do();const a=rf(n),l=rs(e,n,t,o);return a(),Ro(),l});return i?r.unshift(s):r.push(s),s}}const Is=t=>(e,n=oi)=>{(!vu||t==="sp")&&rp(t,(...i)=>e(...i),n)},eM=Is("bm"),Ea=Is("m"),tM=Is("bu"),nM=Is("u"),iM=Is("bum"),sp=Is("um"),rM=Is("sp"),sM=Is("rtg"),oM=Is("rtc");function aM(t,e=oi){rp("ec",t,e)}const lM=Symbol.for("v-ndc");function Gi(t,e,n,i){let r;const s=n,o=Ze(t);if(o||hn(t)){const a=o&&dl(t);let l=!1;a&&(l=!er(t),t=np(t)),r=new Array(t.length);for(let c=0,u=t.length;c<u;c++)r[c]=e(l?Vn(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s)}else if(Xt(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(t[u],u,l,s)}}else r=[];return r}const Kg=t=>t?kC(t)?lp(t):Kg(t.parent):null,Jc=Xn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Kg(t.parent),$root:t=>Kg(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>lC(t),$forceUpdate:t=>t.f||(t.f=()=>{cy(t.update)}),$nextTick:t=>t.n||(t.n=Dl.bind(t.proxy)),$watch:t=>EM.bind(t)}),Em=(t,e)=>t!==jt&&!t.__isScriptSetup&&Lt(t,e),cM={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(Em(i,e))return o[e]=1,i[e];if(r!==jt&&Lt(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Lt(c,e))return o[e]=3,s[e];if(n!==jt&&Lt(n,e))return o[e]=4,n[e];Jg&&(o[e]=0)}}const u=Jc[e];let f,d;if(u)return e==="$attrs"&&jn(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==jt&&Lt(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,Lt(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return Em(r,e)?(r[e]=n,!0):i!==jt&&Lt(i,e)?(i[e]=n,!0):Lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==jt&&Lt(t,o)||Em(e,o)||(a=s[0])&&Lt(a,o)||Lt(i,o)||Lt(Jc,o)||Lt(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function L1(t){return Ze(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Jg=!0;function uM(t){const e=lC(t),n=t.proxy,i=t.ctx;Jg=!1,e.beforeCreate&&N1(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:m,updated:g,activated:y,deactivated:O,beforeDestroy:_,beforeUnmount:A,destroyed:P,unmounted:T,render:B,renderTracked:I,renderTriggered:v,errorCaptured:Q,serverPrefetch:Y,expose:te,inheritAttrs:ve,components:J,directives:X,filters:le}=e;if(c&&fM(c,i,null),o)for(const ue in o){const Re=o[ue];at(Re)&&(i[ue]=Re.bind(n))}if(r){const ue=r.call(n,n);Xt(ue)&&(t.data=ws(ue))}if(Jg=!0,s)for(const ue in s){const Re=s[ue],Ge=at(Re)?Re.bind(n,n):at(Re.get)?Re.get.bind(n,n):Jr,ft=!at(Re)&&at(Re.set)?Re.set.bind(n):Jr,ct=Qn({get:Ge,set:ft});Object.defineProperty(i,ue,{enumerable:!0,configurable:!0,get:()=>ct.value,set:tt=>ct.value=tt})}if(a)for(const ue in a)aC(a[ue],i,n,ue);if(l){const ue=at(l)?l.call(n):l;Reflect.ownKeys(ue).forEach(Re=>{Oh(Re,ue[Re])})}u&&N1(u,t,"c");function me(ue,Re){Ze(Re)?Re.forEach(Ge=>ue(Ge.bind(n))):Re&&ue(Re.bind(n))}if(me(eM,f),me(Ea,d),me(tM,m),me(nM,g),me(K$,y),me(J$,O),me(aM,Q),me(oM,I),me(sM,v),me(iM,A),me(sp,T),me(rM,Y),Ze(te))if(te.length){const ue=t.exposed||(t.exposed={});te.forEach(Re=>{Object.defineProperty(ue,Re,{get:()=>n[Re],set:Ge=>n[Re]=Ge})})}else t.exposed||(t.exposed={});B&&t.render===Jr&&(t.render=B),ve!=null&&(t.inheritAttrs=ve),J&&(t.components=J),X&&(t.directives=X),Y&&rC(t)}function fM(t,e,n=Jr){Ze(t)&&(t=Zg(t));for(const i in t){const r=t[i];let s;Xt(r)?"default"in r?s=_s(r.from||i,r.default,!0):s=_s(r.from||i):s=_s(r),qn(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function N1(t,e,n){rs(Ze(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function aC(t,e,n,i){let r=i.includes(".")?wC(n,i):()=>n[i];if(hn(t)){const s=e[t];at(s)&&Ss(r,s)}else if(at(t))Ss(r,t.bind(n));else if(Xt(t))if(Ze(t))t.forEach(s=>aC(s,e,n,i));else{const s=at(t.handler)?t.handler.bind(n):e[t.handler];at(s)&&Ss(r,s,t)}}function lC(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>Jh(l,c,o,!0)),Jh(l,e,o)),Xt(e)&&s.set(e,l),l}function Jh(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&Jh(t,s,n,!0),r&&r.forEach(o=>Jh(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=hM[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const hM={data:I1,props:F1,emits:F1,methods:Fc,computed:Fc,beforeCreate:ei,created:ei,beforeMount:ei,mounted:ei,beforeUpdate:ei,updated:ei,beforeDestroy:ei,beforeUnmount:ei,destroyed:ei,unmounted:ei,activated:ei,deactivated:ei,errorCaptured:ei,serverPrefetch:ei,components:Fc,directives:Fc,watch:pM,provide:I1,inject:dM};function I1(t,e){return e?t?function(){return Xn(at(t)?t.call(this,this):t,at(e)?e.call(this,this):e)}:e:t}function dM(t,e){return Fc(Zg(t),Zg(e))}function Zg(t){if(Ze(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ei(t,e){return t?[...new Set([].concat(t,e))]:e}function Fc(t,e){return t?Xn(Object.create(null),t,e):e}function F1(t,e){return t?Ze(t)&&Ze(e)?[...new Set([...t,...e])]:Xn(Object.create(null),L1(t),L1(e??{})):e}function pM(t,e){if(!t)return e;if(!e)return t;const n=Xn(Object.create(null),t);for(const i in e)n[i]=ei(t[i],e[i]);return n}function cC(){return{app:null,config:{isNativeTag:a$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mM=0;function gM(t,e){return function(i,r=null){at(i)||(i=Xn({},i)),r!=null&&!Xt(r)&&(r=null);const s=cC(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:mM++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:YM,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&at(u.install)?(o.add(u),u.install(c,...f)):at(u)&&(o.add(u),u(c,...f))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,f){return f?(s.components[u]=f,c):s.components[u]},directive(u,f){return f?(s.directives[u]=f,c):s.directives[u]},mount(u,f,d){if(!l){const m=c._ceVNode||Et(i,r);return m.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),t(m,u,d),l=!0,c._container=u,u.__vue_app__=c,lp(m.component)}},onUnmount(u){a.push(u)},unmount(){l&&(rs(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return s.provides[u]=f,c},runWithContext(u){const f=ml;ml=c;try{return u()}finally{ml=f}}};return c}}let ml=null;function Oh(t,e){if(oi){let n=oi.provides;const i=oi.parent&&oi.parent.provides;i===n&&(n=oi.provides=Object.create(i)),n[t]=e}}function _s(t,e,n=!1){const i=oi||Yi;if(i||ml){const r=ml?ml._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&at(e)?e.call(i&&i.proxy):e}}const uC={},fC=()=>Object.create(uC),hC=t=>Object.getPrototypeOf(t)===uC;function vM(t,e,n,i=!1){const r={},s=fC();t.propsDefaults=Object.create(null),dC(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:XS(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function bM(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=Dt(r),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(op(t.emitsOptions,d))continue;const m=e[d];if(l)if(Lt(s,d))m!==s[d]&&(s[d]=m,c=!0);else{const g=yo(d);r[g]=ev(l,a,g,m,t,!1)}else m!==s[d]&&(s[d]=m,c=!0)}}}else{dC(t,e,r,s)&&(c=!0);let u;for(const f in a)(!e||!Lt(e,f)&&((u=ka(f))===f||!Lt(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=ev(l,a,f,void 0,t,!0)):delete r[f]);if(s!==a)for(const f in s)(!e||!Lt(e,f))&&(delete s[f],c=!0)}c&&ys(t.attrs,"set","")}function dC(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Uc(l))continue;const c=e[l];let u;r&&Lt(r,u=yo(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:op(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=Dt(n),c=a||jt;for(let u=0;u<s.length;u++){const f=s[u];n[f]=ev(r,l,f,c[f],t,!Lt(c,f))}}return o}function ev(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=Lt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&at(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const u=rf(r);i=c[n]=l.call(null,e),u()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===ka(n))&&(i=!0))}return i}const yM=new WeakMap;function pC(t,e,n=!1){const i=n?yM:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!at(t)){const u=f=>{l=!0;const[d,m]=pC(f,e,!0);Xn(o,d),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Xt(t)&&i.set(t,fl),fl;if(Ze(s))for(let u=0;u<s.length;u++){const f=yo(s[u]);B1(f)&&(o[f]=jt)}else if(s)for(const u in s){const f=yo(u);if(B1(f)){const d=s[u],m=o[f]=Ze(d)||at(d)?{type:d}:Xn({},d),g=m.type;let y=!1,O=!0;if(Ze(g))for(let _=0;_<g.length;++_){const A=g[_],P=at(A)&&A.name;if(P==="Boolean"){y=!0;break}else P==="String"&&(O=!1)}else y=at(g)&&g.name==="Boolean";m[0]=y,m[1]=O,(y||Lt(m,"default"))&&a.push(f)}}const c=[o,a];return Xt(t)&&i.set(t,c),c}function B1(t){return t[0]!=="$"&&!Uc(t)}const mC=t=>t[0]==="_"||t==="$stable",fy=t=>Ze(t)?t.map(Qr):[Qr(t)],OM=(t,e,n)=>{if(e._n)return e;const i=iC((...r)=>fy(e(...r)),n);return i._c=!1,i},gC=(t,e,n)=>{const i=t._ctx;for(const r in t){if(mC(r))continue;const s=t[r];if(at(s))e[r]=OM(r,s,i);else if(s!=null){const o=fy(s);e[r]=()=>o}}},vC=(t,e)=>{const n=fy(e);t.slots.default=()=>n},bC=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},xM=(t,e,n)=>{const i=t.slots=fC();if(t.vnode.shapeFlag&32){const r=e._;r?(bC(i,e,n),n&&kS(i,"_",r,!0)):gC(e,i)}else e&&vC(t,e)},wM=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=jt;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:bC(r,e,n):(s=!e.$stable,gC(e,r)),o=e}else e&&(vC(t,e),o={default:1});if(s)for(const a in r)!mC(a)&&o[a]==null&&delete r[a]},Ei=NM;function _M(t){return SM(t)}function SM(t,e){const n=tp();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:m=Jr,insertStaticContent:g}=t,y=(M,N,z,oe=null,ce=null,re=null,we=void 0,_e=null,ye=!!N.dynamicChildren)=>{if(M===N)return;M&&!Cc(M,N)&&(oe=ne(M),tt(M,ce,re,!0),M=null),N.patchFlag===-2&&(ye=!1,N.dynamicChildren=null);const{type:pe,ref:Be,shapeFlag:Se}=N;switch(pe){case ap:O(M,N,z,oe);break;case va:_(M,N,z,oe);break;case Rm:M==null&&A(N,z,oe,we);break;case Ot:J(M,N,z,oe,ce,re,we,_e,ye);break;default:Se&1?B(M,N,z,oe,ce,re,we,_e,ye):Se&6?X(M,N,z,oe,ce,re,we,_e,ye):(Se&64||Se&128)&&pe.process(M,N,z,oe,ce,re,we,_e,ye,Pe)}Be!=null&&ce&&Kh(Be,M&&M.ref,re,N||M,!N)},O=(M,N,z,oe)=>{if(M==null)i(N.el=a(N.children),z,oe);else{const ce=N.el=M.el;N.children!==M.children&&c(ce,N.children)}},_=(M,N,z,oe)=>{M==null?i(N.el=l(N.children||""),z,oe):N.el=M.el},A=(M,N,z,oe)=>{[M.el,M.anchor]=g(M.children,N,z,oe,M.el,M.anchor)},P=({el:M,anchor:N},z,oe)=>{let ce;for(;M&&M!==N;)ce=d(M),i(M,z,oe),M=ce;i(N,z,oe)},T=({el:M,anchor:N})=>{let z;for(;M&&M!==N;)z=d(M),r(M),M=z;r(N)},B=(M,N,z,oe,ce,re,we,_e,ye)=>{N.type==="svg"?we="svg":N.type==="math"&&(we="mathml"),M==null?I(N,z,oe,ce,re,we,_e,ye):Y(M,N,ce,re,we,_e,ye)},I=(M,N,z,oe,ce,re,we,_e)=>{let ye,pe;const{props:Be,shapeFlag:Se,transition:Ve,dirs:de}=M;if(ye=M.el=o(M.type,re,Be&&Be.is,Be),Se&8?u(ye,M.children):Se&16&&Q(M.children,ye,null,oe,ce,Dm(M,re),we,_e),de&&Vo(M,null,oe,"created"),v(ye,M,M.scopeId,we,oe),Be){for(const Ct in Be)Ct!=="value"&&!Uc(Ct)&&s(ye,Ct,null,Be[Ct],re,oe);"value"in Be&&s(ye,"value",null,Be.value,re),(pe=Be.onVnodeBeforeMount)&&Nr(pe,oe,M)}de&&Vo(M,null,oe,"beforeMount");const Xe=CM(ce,Ve);Xe&&Ve.beforeEnter(ye),i(ye,N,z),((pe=Be&&Be.onVnodeMounted)||Xe||de)&&Ei(()=>{pe&&Nr(pe,oe,M),Xe&&Ve.enter(ye),de&&Vo(M,null,oe,"mounted")},ce)},v=(M,N,z,oe,ce)=>{if(z&&m(M,z),oe)for(let re=0;re<oe.length;re++)m(M,oe[re]);if(ce){let re=ce.subTree;if(N===re||SC(re.type)&&(re.ssContent===N||re.ssFallback===N)){const we=ce.vnode;v(M,we,we.scopeId,we.slotScopeIds,ce.parent)}}},Q=(M,N,z,oe,ce,re,we,_e,ye=0)=>{for(let pe=ye;pe<M.length;pe++){const Be=M[pe]=_e?Js(M[pe]):Qr(M[pe]);y(null,Be,N,z,oe,ce,re,we,_e)}},Y=(M,N,z,oe,ce,re,we)=>{const _e=N.el=M.el;let{patchFlag:ye,dynamicChildren:pe,dirs:Be}=N;ye|=M.patchFlag&16;const Se=M.props||jt,Ve=N.props||jt;let de;if(z&&Qo(z,!1),(de=Ve.onVnodeBeforeUpdate)&&Nr(de,z,N,M),Be&&Vo(N,M,z,"beforeUpdate"),z&&Qo(z,!0),(Se.innerHTML&&Ve.innerHTML==null||Se.textContent&&Ve.textContent==null)&&u(_e,""),pe?te(M.dynamicChildren,pe,_e,z,oe,Dm(N,ce),re):we||Re(M,N,_e,null,z,oe,Dm(N,ce),re,!1),ye>0){if(ye&16)ve(_e,Se,Ve,z,ce);else if(ye&2&&Se.class!==Ve.class&&s(_e,"class",null,Ve.class,ce),ye&4&&s(_e,"style",Se.style,Ve.style,ce),ye&8){const Xe=N.dynamicProps;for(let Ct=0;Ct<Xe.length;Ct++){const vt=Xe[Ct],kn=Se[vt],dn=Ve[vt];(dn!==kn||vt==="value")&&s(_e,vt,kn,dn,ce,z)}}ye&1&&M.children!==N.children&&u(_e,N.children)}else!we&&pe==null&&ve(_e,Se,Ve,z,ce);((de=Ve.onVnodeUpdated)||Be)&&Ei(()=>{de&&Nr(de,z,N,M),Be&&Vo(N,M,z,"updated")},oe)},te=(M,N,z,oe,ce,re,we)=>{for(let _e=0;_e<N.length;_e++){const ye=M[_e],pe=N[_e],Be=ye.el&&(ye.type===Ot||!Cc(ye,pe)||ye.shapeFlag&70)?f(ye.el):z;y(ye,pe,Be,null,oe,ce,re,we,!0)}},ve=(M,N,z,oe,ce)=>{if(N!==z){if(N!==jt)for(const re in N)!Uc(re)&&!(re in z)&&s(M,re,N[re],null,ce,oe);for(const re in z){if(Uc(re))continue;const we=z[re],_e=N[re];we!==_e&&re!=="value"&&s(M,re,_e,we,ce,oe)}"value"in z&&s(M,"value",N.value,z.value,ce)}},J=(M,N,z,oe,ce,re,we,_e,ye)=>{const pe=N.el=M?M.el:a(""),Be=N.anchor=M?M.anchor:a("");let{patchFlag:Se,dynamicChildren:Ve,slotScopeIds:de}=N;de&&(_e=_e?_e.concat(de):de),M==null?(i(pe,z,oe),i(Be,z,oe),Q(N.children||[],z,Be,ce,re,we,_e,ye)):Se>0&&Se&64&&Ve&&M.dynamicChildren?(te(M.dynamicChildren,Ve,z,ce,re,we,_e),(N.key!=null||ce&&N===ce.subTree)&&yC(M,N,!0)):Re(M,N,z,Be,ce,re,we,_e,ye)},X=(M,N,z,oe,ce,re,we,_e,ye)=>{N.slotScopeIds=_e,M==null?N.shapeFlag&512?ce.ctx.activate(N,z,oe,we,ye):le(N,z,oe,ce,re,we,ye):ae(M,N,ye)},le=(M,N,z,oe,ce,re,we)=>{const _e=M.component=QM(M,oe,ce);if(sC(M)&&(_e.ctx.renderer=Pe),zM(_e,!1,we),_e.asyncDep){if(ce&&ce.registerDep(_e,me,we),!M.el){const ye=_e.subTree=Et(va);_(null,ye,N,z)}}else me(_e,M,N,z,ce,re,we)},ae=(M,N,z)=>{const oe=N.component=M.component;if(MM(M,N,z))if(oe.asyncDep&&!oe.asyncResolved){ue(oe,N,z);return}else oe.next=N,oe.update();else N.el=M.el,oe.vnode=N},me=(M,N,z,oe,ce,re,we)=>{const _e=()=>{if(M.isMounted){let{next:Se,bu:Ve,u:de,parent:Xe,vnode:Ct}=M;{const bn=OC(M);if(bn){Se&&(Se.el=Ct.el,ue(M,Se,we)),bn.asyncDep.then(()=>{M.isUnmounted||_e()});return}}let vt=Se,kn;Qo(M,!1),Se?(Se.el=Ct.el,ue(M,Se,we)):Se=Ct,Ve&&yh(Ve),(kn=Se.props&&Se.props.onVnodeBeforeUpdate)&&Nr(kn,Xe,Se,Ct),Qo(M,!0);const dn=j1(M),Kn=M.subTree;M.subTree=dn,y(Kn,dn,f(Kn.el),ne(Kn),M,ce,re),Se.el=dn.el,vt===null&&LM(M,dn.el),de&&Ei(de,ce),(kn=Se.props&&Se.props.onVnodeUpdated)&&Ei(()=>Nr(kn,Xe,Se,Ct),ce)}else{let Se;const{el:Ve,props:de}=N,{bm:Xe,m:Ct,parent:vt,root:kn,type:dn}=M,Kn=Kc(N);Qo(M,!1),Xe&&yh(Xe),!Kn&&(Se=de&&de.onVnodeBeforeMount)&&Nr(Se,vt,N),Qo(M,!0);{kn.ce&&kn.ce._injectChildStyle(dn);const bn=M.subTree=j1(M);y(null,bn,z,oe,M,ce,re),N.el=bn.el}if(Ct&&Ei(Ct,ce),!Kn&&(Se=de&&de.onVnodeMounted)){const bn=N;Ei(()=>Nr(Se,vt,bn),ce)}(N.shapeFlag&256||vt&&Kc(vt.vnode)&&vt.vnode.shapeFlag&256)&&M.a&&Ei(M.a,ce),M.isMounted=!0,N=z=oe=null}};M.scope.on();const ye=M.effect=new $S(_e);M.scope.off();const pe=M.update=ye.run.bind(ye),Be=M.job=ye.runIfDirty.bind(ye);Be.i=M,Be.id=M.uid,ye.scheduler=()=>cy(Be),Qo(M,!0),pe()},ue=(M,N,z)=>{N.component=M;const oe=M.vnode.props;M.vnode=N,M.next=null,bM(M,N.props,oe,z),wM(M,N.children,z),Do(),M1(M),Ro()},Re=(M,N,z,oe,ce,re,we,_e,ye=!1)=>{const pe=M&&M.children,Be=M?M.shapeFlag:0,Se=N.children,{patchFlag:Ve,shapeFlag:de}=N;if(Ve>0){if(Ve&128){ft(pe,Se,z,oe,ce,re,we,_e,ye);return}else if(Ve&256){Ge(pe,Se,z,oe,ce,re,we,_e,ye);return}}de&8?(Be&16&&Nt(pe,ce,re),Se!==pe&&u(z,Se)):Be&16?de&16?ft(pe,Se,z,oe,ce,re,we,_e,ye):Nt(pe,ce,re,!0):(Be&8&&u(z,""),de&16&&Q(Se,z,oe,ce,re,we,_e,ye))},Ge=(M,N,z,oe,ce,re,we,_e,ye)=>{M=M||fl,N=N||fl;const pe=M.length,Be=N.length,Se=Math.min(pe,Be);let Ve;for(Ve=0;Ve<Se;Ve++){const de=N[Ve]=ye?Js(N[Ve]):Qr(N[Ve]);y(M[Ve],de,z,null,ce,re,we,_e,ye)}pe>Be?Nt(M,ce,re,!0,!1,Se):Q(N,z,oe,ce,re,we,_e,ye,Se)},ft=(M,N,z,oe,ce,re,we,_e,ye)=>{let pe=0;const Be=N.length;let Se=M.length-1,Ve=Be-1;for(;pe<=Se&&pe<=Ve;){const de=M[pe],Xe=N[pe]=ye?Js(N[pe]):Qr(N[pe]);if(Cc(de,Xe))y(de,Xe,z,null,ce,re,we,_e,ye);else break;pe++}for(;pe<=Se&&pe<=Ve;){const de=M[Se],Xe=N[Ve]=ye?Js(N[Ve]):Qr(N[Ve]);if(Cc(de,Xe))y(de,Xe,z,null,ce,re,we,_e,ye);else break;Se--,Ve--}if(pe>Se){if(pe<=Ve){const de=Ve+1,Xe=de<Be?N[de].el:oe;for(;pe<=Ve;)y(null,N[pe]=ye?Js(N[pe]):Qr(N[pe]),z,Xe,ce,re,we,_e,ye),pe++}}else if(pe>Ve)for(;pe<=Se;)tt(M[pe],ce,re,!0),pe++;else{const de=pe,Xe=pe,Ct=new Map;for(pe=Xe;pe<=Ve;pe++){const Ae=N[pe]=ye?Js(N[pe]):Qr(N[pe]);Ae.key!=null&&Ct.set(Ae.key,pe)}let vt,kn=0;const dn=Ve-Xe+1;let Kn=!1,bn=0;const En=new Array(dn);for(pe=0;pe<dn;pe++)En[pe]=0;for(pe=de;pe<=Se;pe++){const Ae=M[pe];if(kn>=dn){tt(Ae,ce,re,!0);continue}let We;if(Ae.key!=null)We=Ct.get(Ae.key);else for(vt=Xe;vt<=Ve;vt++)if(En[vt-Xe]===0&&Cc(Ae,N[vt])){We=vt;break}We===void 0?tt(Ae,ce,re,!0):(En[We-Xe]=pe+1,We>=bn?bn=We:Kn=!0,y(Ae,N[We],z,null,ce,re,we,_e,ye),kn++)}const ee=Kn?TM(En):fl;for(vt=ee.length-1,pe=dn-1;pe>=0;pe--){const Ae=Xe+pe,We=N[Ae],ht=Ae+1<Be?N[Ae+1].el:oe;En[pe]===0?y(null,We,z,ht,ce,re,we,_e,ye):Kn&&(vt<0||pe!==ee[vt]?ct(We,z,ht,2):vt--)}}},ct=(M,N,z,oe,ce=null)=>{const{el:re,type:we,transition:_e,children:ye,shapeFlag:pe}=M;if(pe&6){ct(M.component.subTree,N,z,oe);return}if(pe&128){M.suspense.move(N,z,oe);return}if(pe&64){we.move(M,N,z,Pe);return}if(we===Ot){i(re,N,z);for(let Se=0;Se<ye.length;Se++)ct(ye[Se],N,z,oe);i(M.anchor,N,z);return}if(we===Rm){P(M,N,z);return}if(oe!==2&&pe&1&&_e)if(oe===0)_e.beforeEnter(re),i(re,N,z),Ei(()=>_e.enter(re),ce);else{const{leave:Se,delayLeave:Ve,afterLeave:de}=_e,Xe=()=>i(re,N,z),Ct=()=>{Se(re,()=>{Xe(),de&&de()})};Ve?Ve(re,Xe,Ct):Ct()}else i(re,N,z)},tt=(M,N,z,oe=!1,ce=!1)=>{const{type:re,props:we,ref:_e,children:ye,dynamicChildren:pe,shapeFlag:Be,patchFlag:Se,dirs:Ve,cacheIndex:de}=M;if(Se===-2&&(ce=!1),_e!=null&&Kh(_e,null,z,M,!0),de!=null&&(N.renderCache[de]=void 0),Be&256){N.ctx.deactivate(M);return}const Xe=Be&1&&Ve,Ct=!Kc(M);let vt;if(Ct&&(vt=we&&we.onVnodeBeforeUnmount)&&Nr(vt,N,M),Be&6)Ut(M.component,z,oe);else{if(Be&128){M.suspense.unmount(z,oe);return}Xe&&Vo(M,null,N,"beforeUnmount"),Be&64?M.type.remove(M,N,z,Pe,oe):pe&&!pe.hasOnce&&(re!==Ot||Se>0&&Se&64)?Nt(pe,N,z,!1,!0):(re===Ot&&Se&384||!ce&&Be&16)&&Nt(ye,N,z),oe&&xt(M)}(Ct&&(vt=we&&we.onVnodeUnmounted)||Xe)&&Ei(()=>{vt&&Nr(vt,N,M),Xe&&Vo(M,null,N,"unmounted")},z)},xt=M=>{const{type:N,el:z,anchor:oe,transition:ce}=M;if(N===Ot){$t(z,oe);return}if(N===Rm){T(M);return}const re=()=>{r(z),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(M.shapeFlag&1&&ce&&!ce.persisted){const{leave:we,delayLeave:_e}=ce,ye=()=>we(z,re);_e?_e(M.el,re,ye):ye()}else re()},$t=(M,N)=>{let z;for(;M!==N;)z=d(M),r(M),M=z;r(N)},Ut=(M,N,z)=>{const{bum:oe,scope:ce,job:re,subTree:we,um:_e,m:ye,a:pe}=M;H1(ye),H1(pe),oe&&yh(oe),ce.stop(),re&&(re.flags|=8,tt(we,M,N,z)),_e&&Ei(_e,N),Ei(()=>{M.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},Nt=(M,N,z,oe=!1,ce=!1,re=0)=>{for(let we=re;we<M.length;we++)tt(M[we],N,z,oe,ce)},ne=M=>{if(M.shapeFlag&6)return ne(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const N=d(M.anchor||M.el),z=N&&N[Y$];return z?d(z):N};let ke=!1;const Te=(M,N,z)=>{M==null?N._vnode&&tt(N._vnode,null,null,!0):y(N._vnode||null,M,N,null,null,null,z),N._vnode=M,ke||(ke=!0,M1(),eC(),ke=!1)},Pe={p:y,um:tt,m:ct,r:xt,mt:le,mc:Q,pc:Re,pbc:te,n:ne,o:t};return{render:Te,hydrate:void 0,createApp:gM(Te)}}function Dm({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Qo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function CM(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function yC(t,e,n=!1){const i=t.children,r=e.children;if(Ze(i)&&Ze(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Js(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&yC(o,a)),a.type===ap&&(a.el=o.el)}}function TM(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function OC(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:OC(e)}function H1(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const AM=Symbol.for("v-scx"),kM=()=>_s(AM);function Ss(t,e,n){return xC(t,e,n)}function xC(t,e,n=jt){const{immediate:i,deep:r,flush:s,once:o}=n,a=Xn({},n),l=e&&i||!e&&s!=="post";let c;if(vu){if(s==="sync"){const m=kM();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=Jr,m.resume=Jr,m.pause=Jr,m}}const u=oi;a.call=(m,g,y)=>rs(m,u,g,y);let f=!1;s==="post"?a.scheduler=m=>{Ei(m,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(m,g)=>{g?m():cy(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const d=W$(t,e,a);return vu&&(c?c.push(d):l&&d()),d}function EM(t,e,n){const i=this.proxy,r=hn(t)?t.includes(".")?wC(i,t):()=>i[t]:t.bind(i,i);let s;at(e)?s=e:(s=e.handler,n=e);const o=rf(this),a=xC(r,s.bind(i),n);return o(),a}function wC(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const DM=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${yo(e)}Modifiers`]||t[`${ka(e)}Modifiers`];function RM(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||jt;let r=n;const s=e.startsWith("update:"),o=s&&DM(i,e.slice(7));o&&(o.trim&&(r=n.map(u=>hn(u)?u.trim():u)),o.number&&(r=n.map(Xh)));let a,l=i[a=Sm(e)]||i[a=Sm(yo(e))];!l&&s&&(l=i[a=Sm(ka(e))]),l&&rs(l,t,6,r);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,rs(c,t,6,r)}}function _C(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!at(t)){const l=c=>{const u=_C(c,e,!0);u&&(a=!0,Xn(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Xt(t)&&i.set(t,null),null):(Ze(s)?s.forEach(l=>o[l]=null):Xn(o,s),Xt(t)&&i.set(t,o),o)}function op(t,e){return!t||!Zd(e)?!1:(e=e.slice(2).replace(/Once$/,""),Lt(t,e[0].toLowerCase()+e.slice(1))||Lt(t,ka(e))||Lt(t,e))}function j1(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:m,ctx:g,inheritAttrs:y}=t,O=Gh(t);let _,A;try{if(n.shapeFlag&4){const T=r||i,B=T;_=Qr(c.call(B,T,u,f,m,d,g)),A=a}else{const T=e;_=Qr(T.length>1?T(f,{attrs:a,slots:o,emit:l}):T(f,null)),A=e.props?a:PM(a)}}catch(T){Zc.length=0,ip(T,t,1),_=Et(va)}let P=_;if(A&&y!==!1){const T=Object.keys(A),{shapeFlag:B}=P;T.length&&B&7&&(s&&T.some(Kb)&&(A=$M(A,s)),P=Rl(P,A,!1,!0))}return n.dirs&&(P=Rl(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&uy(P,n.transition),_=P,Gh(O),_}const PM=t=>{let e;for(const n in t)(n==="class"||n==="style"||Zd(n))&&((e||(e={}))[n]=t[n]);return e},$M=(t,e)=>{const n={};for(const i in t)(!Kb(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function MM(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?V1(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==i[d]&&!op(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?V1(i,o,c):!0:!!o;return!1}function V1(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!op(n,s))return!0}return!1}function LM({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const SC=t=>t.__isSuspense;function NM(t,e){e&&e.pendingBranch?Ze(t)?e.effects.push(...t):e.effects.push(t):U$(t)}const Ot=Symbol.for("v-fgt"),ap=Symbol.for("v-txt"),va=Symbol.for("v-cmt"),Rm=Symbol.for("v-stc"),Zc=[];let Ii=null;function Oe(t=!1){Zc.push(Ii=t?null:[])}function IM(){Zc.pop(),Ii=Zc[Zc.length-1]||null}let gu=1;function Q1(t,e=!1){gu+=t,t<0&&Ii&&e&&(Ii.hasOnce=!0)}function CC(t){return t.dynamicChildren=gu>0?Ii||fl:null,IM(),gu>0&&Ii&&Ii.push(t),t}function xe(t,e,n,i,r,s){return CC(w(t,e,n,i,r,s,!0))}function TC(t,e,n,i,r){return CC(Et(t,e,n,i,r,!0))}function Zh(t){return t?t.__v_isVNode===!0:!1}function Cc(t,e){return t.type===e.type&&t.key===e.key}const AC=({key:t})=>t??null,xh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?hn(t)||qn(t)||at(t)?{i:Yi,r:t,k:e,f:!!n}:t:null);function w(t,e=null,n=null,i=0,r=null,s=t===Ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&AC(e),ref:e&&xh(e),scopeId:nC,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Yi};return a?(hy(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=hn(n)?8:16),gu>0&&!o&&Ii&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ii.push(l),l}const Et=FM;function FM(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===lM)&&(t=va),Zh(t)){const a=Rl(t,e,!0);return n&&hy(a,n),gu>0&&!s&&Ii&&(a.shapeFlag&6?Ii[Ii.indexOf(t)]=a:Ii.push(a)),a.patchFlag=-2,a}if(UM(t)&&(t=t.__vccOpts),e){e=BM(e);let{class:a,style:l}=e;a&&!hn(a)&&(e.class=Sn(a)),Xt(l)&&(ly(l)&&!Ze(l)&&(l=Xn({},l)),e.style=ey(l))}const o=hn(t)?1:SC(t)?128:G$(t)?64:Xt(t)?4:at(t)?2:0;return w(t,e,n,i,r,o,s,!0)}function BM(t){return t?ly(t)||hC(t)?Xn({},t):t:null}function Rl(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?HM(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&AC(c),ref:e&&e.ref?n&&s?Ze(s)?s.concat(xh(e)):[s,xh(e)]:xh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ot?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rl(t.ssContent),ssFallback:t.ssFallback&&Rl(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&uy(u,l.clone(u)),u}function Vt(t=" ",e=0){return Et(ap,null,t,e)}function nn(t="",e=!1){return e?(Oe(),TC(va,null,t)):Et(va,null,t)}function Qr(t){return t==null||typeof t=="boolean"?Et(va):Ze(t)?Et(Ot,null,t.slice()):Zh(t)?Js(t):Et(ap,null,String(t))}function Js(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Rl(t)}function hy(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ze(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),hy(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!hC(e)?e._ctx=Yi:r===3&&Yi&&(Yi.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else at(e)?(e={default:e,_ctx:Yi},n=32):(e=String(e),i&64?(n=16,e=[Vt(e)]):n=8);t.children=e,t.shapeFlag|=n}function HM(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Sn([e.class,i.class]));else if(r==="style")e.style=ey([e.style,i.style]);else if(Zd(r)){const s=e[r],o=i[r];o&&s!==o&&!(Ze(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function Nr(t,e,n,i=null){rs(t,e,7,[n,i])}const jM=cC();let VM=0;function QM(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||jM,s={uid:VM++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new PS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pC(i,r),emitsOptions:_C(i,r),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:i.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=RM.bind(null,s),t.ce&&t.ce(s),s}let oi=null,ed,tv;{const t=tp(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};ed=e("__VUE_INSTANCE_SETTERS__",n=>oi=n),tv=e("__VUE_SSR_SETTERS__",n=>vu=n)}const rf=t=>{const e=oi;return ed(t),t.scope.on(),()=>{t.scope.off(),ed(e)}},z1=()=>{oi&&oi.scope.off(),ed(null)};function kC(t){return t.vnode.shapeFlag&4}let vu=!1;function zM(t,e=!1,n=!1){e&&tv(e);const{props:i,children:r}=t.vnode,s=kC(t);vM(t,i,s,e),xM(t,r,n);const o=s?WM(t,e):void 0;return e&&tv(!1),o}function WM(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,cM);const{setup:i}=n;if(i){Do();const r=t.setupContext=i.length>1?XM(t):null,s=rf(t),o=nf(i,t,0,[t.props,r]),a=SS(o);if(Ro(),s(),(a||t.sp)&&!Kc(t)&&rC(t),a){if(o.then(z1,z1),e)return o.then(l=>{W1(t,l)}).catch(l=>{ip(l,t,0)});t.asyncDep=o}else W1(t,o)}else EC(t)}function W1(t,e,n){at(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Xt(e)&&(t.setupState=KS(e)),EC(t)}function EC(t,e,n){const i=t.type;t.render||(t.render=i.render||Jr);{const r=rf(t);Do();try{uM(t)}finally{Ro(),r()}}}const qM={get(t,e){return jn(t,"get",""),t[e]}};function XM(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,qM),slots:t.slots,emit:t.emit,expose:e}}function lp(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(KS(YS(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Jc)return Jc[n](t)},has(e,n){return n in e||n in Jc}})):t.proxy}function UM(t){return at(t)&&"__vccOpts"in t}const Qn=(t,e)=>Q$(t,e,vu);function DC(t,e,n){const i=arguments.length;return i===2?Xt(e)&&!Ze(e)?Zh(e)?Et(t,null,[e]):Et(t,e):Et(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Zh(n)&&(n=[n]),Et(t,e,n))}const YM="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nv;const q1=typeof window<"u"&&window.trustedTypes;if(q1)try{nv=q1.createPolicy("vue",{createHTML:t=>t})}catch{}const RC=nv?t=>nv.createHTML(t):t=>t,GM="http://www.w3.org/2000/svg",KM="http://www.w3.org/1998/Math/MathML",ps=typeof document<"u"?document:null,X1=ps&&ps.createElement("template"),JM={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?ps.createElementNS(GM,t):e==="mathml"?ps.createElementNS(KM,t):n?ps.createElement(t,{is:n}):ps.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>ps.createTextNode(t),createComment:t=>ps.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ps.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{X1.innerHTML=RC(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=X1.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ZM=Symbol("_vtc");function eL(t,e,n){const i=t[ZM];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const U1=Symbol("_vod"),tL=Symbol("_vsh"),nL=Symbol(""),iL=/(^|;)\s*display\s*:/;function rL(t,e,n){const i=t.style,r=hn(n);let s=!1;if(n&&!r){if(e)if(hn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&wh(i,a,"")}else for(const o in e)n[o]==null&&wh(i,o,"");for(const o in n)o==="display"&&(s=!0),wh(i,o,n[o])}else if(r){if(e!==n){const o=i[nL];o&&(n+=";"+o),i.cssText=n,s=iL.test(n)}}else e&&t.removeAttribute("style");U1 in t&&(t[U1]=s?i.display:"",t[tL]&&(i.display="none"))}const Y1=/\s*!important$/;function wh(t,e,n){if(Ze(n))n.forEach(i=>wh(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=sL(t,e);Y1.test(n)?t.setProperty(ka(i),n.replace(Y1,""),"important"):t[i]=n}}const G1=["Webkit","Moz","ms"],Pm={};function sL(t,e){const n=Pm[e];if(n)return n;let i=yo(e);if(i!=="filter"&&i in t)return Pm[e]=i;i=AS(i);for(let r=0;r<G1.length;r++){const s=G1[r]+i;if(s in t)return Pm[e]=s}return e}const K1="http://www.w3.org/1999/xlink";function J1(t,e,n,i,r,s=v$(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(K1,e.slice(6,e.length)):t.setAttributeNS(K1,e,n):n==null||s&&!ES(n)?t.removeAttribute(e):t.setAttribute(e,s?"":is(n)?String(n):n)}function Z1(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?RC(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=ES(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function no(t,e,n,i){t.addEventListener(e,n,i)}function oL(t,e,n,i){t.removeEventListener(e,n,i)}const eO=Symbol("_vei");function aL(t,e,n,i,r=null){const s=t[eO]||(t[eO]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=lL(e);if(i){const c=s[e]=fL(i,r);no(t,a,c,l)}else o&&(oL(t,a,o,l),s[e]=void 0)}}const tO=/(?:Once|Passive|Capture)$/;function lL(t){let e;if(tO.test(t)){e={};let i;for(;i=t.match(tO);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ka(t.slice(2)),e]}let $m=0;const cL=Promise.resolve(),uL=()=>$m||(cL.then(()=>$m=0),$m=Date.now());function fL(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;rs(hL(i,n.value),e,5,[i])};return n.value=t,n.attached=uL(),n}function hL(t,e){if(Ze(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const nO=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,dL=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?eL(t,i,o):e==="style"?rL(t,n,i):Zd(e)?Kb(e)||aL(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pL(t,e,i,o))?(Z1(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&J1(t,e,i,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!hn(i))?Z1(t,yo(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),J1(t,e,i,o))};function pL(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&nO(e)&&at(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return nO(e)&&hn(n)?!1:e in t}const Pl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ze(e)?n=>yh(e,n):e};function mL(t){t.target.composing=!0}function iO(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Cs=Symbol("_assign"),Bc={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[Cs]=Pl(r);const s=i||r.props&&r.props.type==="number";no(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Xh(a)),t[Cs](a)}),n&&no(t,"change",()=>{t.value=t.value.trim()}),e||(no(t,"compositionstart",mL),no(t,"compositionend",iO),no(t,"change",iO))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(t[Cs]=Pl(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Xh(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Oo={deep:!0,created(t,e,n){t[Cs]=Pl(n),no(t,"change",()=>{const i=t._modelValue,r=bu(t),s=t.checked,o=t[Cs];if(Ze(i)){const a=ty(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(tc(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(PC(t,s))})},mounted:rO,beforeUpdate(t,e,n){t[Cs]=Pl(n),rO(t,e,n)}};function rO(t,{value:e,oldValue:n},i){t._modelValue=e;let r;if(Ze(e))r=ty(e,i.props.value)>-1;else if(tc(e))r=e.has(i.props.value);else{if(e===n)return;r=tf(e,PC(t,!0))}t.checked!==r&&(t.checked=r)}const td={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=tc(e);no(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Xh(bu(o)):bu(o));t[Cs](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,Dl(()=>{t._assigning=!1})}),t[Cs]=Pl(i)},mounted(t,{value:e}){sO(t,e)},beforeUpdate(t,e,n){t[Cs]=Pl(n)},updated(t,{value:e}){t._assigning||sO(t,e)}};function sO(t,e){const n=t.multiple,i=Ze(e);if(!(n&&!i&&!tc(e))){for(let r=0,s=t.options.length;r<s;r++){const o=t.options[r],a=bu(o);if(n)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=ty(e,a)>-1}else o.selected=e.has(a);else if(tf(bu(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function bu(t){return"_value"in t?t._value:t.value}function PC(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const gL=["ctrl","shift","alt","meta"],vL={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>gL.some(n=>t[`${n}Key`]&&!e.includes(n))},Or=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<e.length;o++){const a=vL[e[o]];if(a&&a(r,e))return}return t(r,...s)})},bL=Xn({patchProp:dL},JM);let oO;function yL(){return oO||(oO=_M(bL))}const OL=(...t)=>{const e=yL().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=wL(i);if(!r)return;const s=e._component;!at(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,xL(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function xL(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function wL(t){return hn(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const _L=Symbol();var aO;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(aO||(aO={}));function SL(){const t=y$(!0),e=t.run(()=>Bt({}));let n=[],i=[];const r=YS({install(s){r._a=s,s.provide(_L,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return this._a?n.push(s):i.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}function $C(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mm={exports:{}},lO;function CL(){return lO||(lO=1,function(t,e){(function(n,i,r,s,o){if("customElements"in r)o();else{if(r.AWAITING_WEB_COMPONENTS_POLYFILL)return void r.AWAITING_WEB_COMPONENTS_POLYFILL.then(o);var a=r.AWAITING_WEB_COMPONENTS_POLYFILL=u();a.then(o);var l=r.WEB_COMPONENTS_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.0.2/webcomponents-bundle.js",c=r.ES6_CORE_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/core-js/2.5.3/core.min.js";"Promise"in r?f(l).then(function(){a.isDone=!0,a.exec()}):f(c).then(function(){f(l).then(function(){a.isDone=!0,a.exec()})})}function u(){var d=[];return d.isDone=!1,d.exec=function(){d.splice(0).forEach(function(m){m()})},d.then=function(m){return d.isDone?m():d.push(m),d},d}function f(d){var m=u(),g=s.createElement("script");return g.type="text/javascript",g.readyState?g.onreadystatechange=function(){g.readyState!="loaded"&&g.readyState!="complete"||(g.onreadystatechange=null,m.isDone=!0,m.exec())}:g.onload=function(){m.isDone=!0,m.exec()},g.src=d,s.getElementsByTagName("head")[0].appendChild(g),g.then=m.then,g}})(0,0,window,document,function(){var n;n=function(){return function(i){var r={};function s(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return i[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=i,s.c=r,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(1&a&&(o=s(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var c in o)s.d(l,c,(function(u){return o[u]}).bind(null,c));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s=5)}([function(i,r){i.exports=function(s){var o=[];return o.toString=function(){return this.map(function(a){var l=function(c,u){var f,d=c[1]||"",m=c[3];if(!m)return d;if(u&&typeof btoa=="function"){var g=(f=m,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),y=m.sources.map(function(O){return"/*# sourceURL="+m.sourceRoot+O+" */"});return[d].concat(y).concat([g]).join(`
`)}return[d].join(`
`)}(a,s);return a[2]?"@media "+a[2]+"{"+l+"}":l}).join("")},o.i=function(a,l){typeof a=="string"&&(a=[[null,a,""]]);for(var c={},u=0;u<this.length;u++){var f=this[u][0];typeof f=="number"&&(c[f]=!0)}for(u=0;u<a.length;u++){var d=a[u];typeof d[0]=="number"&&c[d[0]]||(l&&!d[2]?d[2]=l:l&&(d[2]="("+d[2]+") and ("+l+")"),o.push(d))}},o}},function(i,r,s){var o=s(3);i.exports=typeof o=="string"?o:o.toString()},function(i,r,s){var o=s(4);i.exports=typeof o=="string"?o:o.toString()},function(i,r,s){(i.exports=s(0)(!1)).push([i.i,"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@-webkit-keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@-webkit-keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@-webkit-keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@-webkit-keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@-webkit-keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:scaleX(1) rotate(-10deg);transform:scaleX(1) rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.bx-spin,.bx-spin-hover:hover{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.bx-tada,.bx-tada-hover:hover{-webkit-animation:tada 1.5s ease infinite;animation:tada 1.5s ease infinite}.bx-flashing,.bx-flashing-hover:hover{-webkit-animation:flashing 1.5s infinite linear;animation:flashing 1.5s infinite linear}.bx-burst,.bx-burst-hover:hover{-webkit-animation:burst 1.5s infinite linear;animation:burst 1.5s infinite linear}.bx-fade-up,.bx-fade-up-hover:hover{-webkit-animation:fade-up 1.5s infinite linear;animation:fade-up 1.5s infinite linear}.bx-fade-down,.bx-fade-down-hover:hover{-webkit-animation:fade-down 1.5s infinite linear;animation:fade-down 1.5s infinite linear}.bx-fade-left,.bx-fade-left-hover:hover{-webkit-animation:fade-left 1.5s infinite linear;animation:fade-left 1.5s infinite linear}.bx-fade-right,.bx-fade-right-hover:hover{-webkit-animation:fade-right 1.5s infinite linear;animation:fade-right 1.5s infinite linear}",""])},function(i,r,s){(i.exports=s(0)(!1)).push([i.i,'.bx-rotate-90{transform:rotate(90deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)"}.bx-rotate-180{transform:rotate(180deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)"}.bx-rotate-270{transform:rotate(270deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}.bx-flip-horizontal{transform:scaleX(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)"}.bx-flip-vertical{transform:scaleY(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}',""])},function(i,r,s){s.r(r),s.d(r,"BoxIconElement",function(){return B});var o,a,l,c,u=s(1),f=s.n(u),d=s(2),m=s.n(d),g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},y=function(){function I(v,Q){for(var Y=0;Y<Q.length;Y++){var te=Q[Y];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(v,te.key,te)}}return function(v,Q,Y){return Q&&I(v.prototype,Q),Y&&I(v,Y),v}}(),O=(a=(o=Object).getPrototypeOf||function(I){return I.__proto__},l=o.setPrototypeOf||function(I,v){return I.__proto__=v,I},c=(typeof Reflect>"u"?"undefined":g(Reflect))==="object"?Reflect.construct:function(I,v,Q){var Y,te=[null];return te.push.apply(te,v),Y=I.bind.apply(I,te),l(new Y,Q.prototype)},function(I){var v=a(I);return l(I,l(function(){return c(v,arguments,a(this).constructor)},v))}),_=window,A={},P=document.createElement("template"),T=function(){return!!_.ShadyCSS};P.innerHTML=`
<style>
:host {
  display: inline-block;
  font-size: initial;
  box-sizing: border-box;
  width: 24px;
  height: 24px;
}
:host([size=xs]) {
    width: 0.8rem;
    height: 0.8rem;
}
:host([size=sm]) {
    width: 1.55rem;
    height: 1.55rem;
}
:host([size=md]) {
    width: 2.25rem;
    height: 2.25rem;
}
:host([size=lg]) {
    width: 3.0rem;
    height: 3.0rem;
}

:host([size]:not([size=""]):not([size=xs]):not([size=sm]):not([size=md]):not([size=lg])) {
    width: auto;
    height: auto;
}
:host([pull=left]) #icon {
    float: left;
    margin-right: .3em!important;
}
:host([pull=right]) #icon {
    float: right;
    margin-left: .3em!important;
}
:host([border=square]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: .25em;
}
:host([border=circle]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: 50%;
}
#icon,
svg {
  width: 100%;
  height: 100%;
}
#icon {
    box-sizing: border-box;
} 
`+f.a+`
`+m.a+`
</style>
<div id="icon"></div>`;var B=O(function(I){function v(){(function(Y,te){if(!(Y instanceof te))throw new TypeError("Cannot call a class as a function")})(this,v);var Q=function(Y,te){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!te||typeof te!="object"&&typeof te!="function"?Y:te}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return Q.$ui=Q.attachShadow({mode:"open"}),Q.$ui.appendChild(Q.ownerDocument.importNode(P.content,!0)),T()&&_.ShadyCSS.styleElement(Q),Q._state={$iconHolder:Q.$ui.getElementById("icon"),type:Q.getAttribute("type")},Q}return function(Q,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);Q.prototype=Object.create(Y&&Y.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,Y):Q.__proto__=Y)}(v,HTMLElement),y(v,null,[{key:"getIconSvg",value:function(Q,Y){var te=this.cdnUrl+"/regular/bx-"+Q+".svg";return Y==="solid"?te=this.cdnUrl+"/solid/bxs-"+Q+".svg":Y==="logo"&&(te=this.cdnUrl+"/logos/bxl-"+Q+".svg"),te&&A[te]||(A[te]=new Promise(function(ve,J){var X=new XMLHttpRequest;X.addEventListener("load",function(){this.status<200||this.status>=300?J(new Error(this.status+" "+this.responseText)):ve(this.responseText)}),X.onerror=J,X.onabort=J,X.open("GET",te),X.send()})),A[te]}},{key:"define",value:function(Q){Q=Q||this.tagName,T()&&_.ShadyCSS.prepareTemplate(P,Q),customElements.define(Q,this)}},{key:"cdnUrl",get:function(){return"//unpkg.com/boxicons@2.1.4/svg"}},{key:"tagName",get:function(){return"box-icon"}},{key:"observedAttributes",get:function(){return["type","name","color","size","rotate","flip","animation","border","pull"]}}]),y(v,[{key:"attributeChangedCallback",value:function(Q,Y,te){var ve=this._state.$iconHolder;switch(Q){case"type":(function(J,X,le){var ae=J._state;ae.$iconHolder.textContent="",ae.type&&(ae.type=null),ae.type=!le||le!=="solid"&&le!=="logo"?"regular":le,ae.currentName!==void 0&&J.constructor.getIconSvg(ae.currentName,ae.type).then(function(me){ae.type===le&&(ae.$iconHolder.innerHTML=me)}).catch(function(me){console.error("Failed to load icon: "+ae.currentName+`
`+me)})})(this,0,te);break;case"name":(function(J,X,le){var ae=J._state;ae.currentName=le,ae.$iconHolder.textContent="",le&&ae.type!==void 0&&J.constructor.getIconSvg(le,ae.type).then(function(me){ae.currentName===le&&(ae.$iconHolder.innerHTML=me)}).catch(function(me){console.error("Failed to load icon: "+le+`
`+me)})})(this,0,te);break;case"color":ve.style.fill=te||"";break;case"size":(function(J,X,le){var ae=J._state;ae.size&&(ae.$iconHolder.style.width=ae.$iconHolder.style.height="",ae.size=ae.sizeType=null),le&&!/^(xs|sm|md|lg)$/.test(ae.size)&&(ae.size=le.trim(),ae.$iconHolder.style.width=ae.$iconHolder.style.height=ae.size)})(this,0,te);break;case"rotate":Y&&ve.classList.remove("bx-rotate-"+Y),te&&ve.classList.add("bx-rotate-"+te);break;case"flip":Y&&ve.classList.remove("bx-flip-"+Y),te&&ve.classList.add("bx-flip-"+te);break;case"animation":Y&&ve.classList.remove("bx-"+Y),te&&ve.classList.add("bx-"+te)}}},{key:"connectedCallback",value:function(){T()&&_.ShadyCSS.styleElement(this)}}]),v}());r.default=B,B.define()}])},t.exports=n()})}(Mm)),Mm.exports}var TL=CL();const AL=$C(TL);let cO;(function(){document.querySelectorAll("#layout-menu").forEach(function(l){cO=new Menu(l,{orientation:"vertical",closeChildren:!1}),window.Helpers.scrollToActive(!1),window.Helpers.mainMenu=cO}),document.querySelectorAll(".layout-menu-toggle").forEach(l=>{l.addEventListener("click",c=>{c.preventDefault(),window.Helpers.toggleCollapsed()})});let n=function(l,c){let u=null;l.onmouseenter=function(){Helpers.isSmallScreen()?u=setTimeout(c,0):u=setTimeout(c,300)},l.onmouseleave=function(){document.querySelector(".layout-menu-toggle").classList.remove("d-block"),clearTimeout(u)}};document.getElementById("layout-menu")&&n(document.getElementById("layout-menu"),function(){Helpers.isSmallScreen()||document.querySelector(".layout-menu-toggle").classList.add("d-block")});let i=document.getElementsByClassName("menu-inner"),r=document.getElementsByClassName("menu-inner-shadow")[0];i.length>0&&r&&i[0].addEventListener("ps-scroll-y",function(){this.querySelector(".ps__thumb-y").offsetTop?r.style.display="block":r.style.display="none"}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(l){return new bootstrap.Tooltip(l)});const o=function(l){l.type=="show.bs.collapse"||l.type=="show.bs.collapse"?l.target.closest(".accordion-item").classList.add("active"):l.target.closest(".accordion-item").classList.remove("active")};[].slice.call(document.querySelectorAll(".accordion")).map(function(l){l.addEventListener("show.bs.collapse",o),l.addEventListener("hide.bs.collapse",o)})})();const kL={name:"TopNavigation",props:{url:{type:String,required:!0}}},nc=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},EL={class:"navbar shadow-sm navbar-light"},DL={class:"breadcrumb bg-transparent d-flex align-items-center"},RL={href:"/","aria-current":"page",role:"menuitem"},PL=["src"],$L={class:"breadcrumb-item"},ML=["href"];function LL(t,e,n,i,r,s){return Oe(),xe("nav",EL,[w("ol",DL,[w("a",RL,[w("img",{src:`${t.$props.url}/assets/logo.png`,class:"img-logo"},null,8,PL)]),e[0]||(e[0]=w("li",{class:"breadcrumb-item"},[w("a",{class:"align-middle",href:"/"},"Home")],-1)),w("li",$L,[w("a",{class:"align-middle",href:`${t.$props.url}`},"AlertX",8,ML)])])])}const NL=nc(kL,[["render",LL]]),IL=["id"],FL={class:"modal-dialog modal-xl"},BL={class:"modal-content"},HL={class:"modal-header"},jL={class:"modal-title",id:"modalLabel"},VL={style:{color:"blue"}},QL={class:"modal-body"},zL={class:"table table-striped table-bordered"},WL=di({__name:"OverviewAlerts",props:{alerts:{},modalId:{},hostname:{},ruleType:{}},emits:["modal-open","modal-close"],setup(t,{emit:e}){const n=t,i=e;return Ea(()=>{const r=document.getElementById(n.modalId);r&&(r.addEventListener("shown.bs.modal",()=>i("modal-open")),r.addEventListener("hidden.bs.modal",()=>i("modal-close")))}),sp(()=>{const r=document.getElementById(n.modalId);r&&(r.removeEventListener("shown.bs.modal",()=>i("modal-open")),r.removeEventListener("hidden.bs.modal",()=>i("modal-close")))}),(r,s)=>(Oe(),xe("div",null,[w("div",{class:"modal fade",id:n.modalId,tabindex:"-1","aria-labelledby":"modalLabel","aria-hidden":"true"},[w("div",FL,[w("div",BL,[w("div",HL,[w("h5",jL,[s[0]||(s[0]=Vt("Alerts Overview for ")),w("span",VL,[w("i",null,$e(n.hostname),1)]),Vt(" ["+$e(n.ruleType)+"]",1)]),s[1]||(s[1]=w("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),w("div",QL,[w("table",zL,[s[2]||(s[2]=w("thead",null,[w("tr",null,[w("th",null,"#"),w("th",null,"Rule"),w("th",null,"State"),w("th",null,"Severity"),w("th",null,"NHC"),w("th",null,"Exporter"),w("th",null,"Path"),w("th",null,"Description")])],-1)),w("tbody",null,[(Oe(!0),xe(Ot,null,Gi(n.alerts,(o,a)=>(Oe(),xe("tr",{key:o.state},[w("td",null,$e(a+1),1),w("td",null,$e(o.labels.alertname),1),w("td",null,$e(o.state),1),w("td",null,$e(o.labels.severity),1),w("td",null,$e(o.labels.nhc),1),w("td",null,$e(o.labels.exporter),1),w("td",null,$e(o.labels.path),1),w("td",null,$e(o.annotations.description),1)]))),128))])])]),s[3]||(s[3]=w("div",{class:"modal-footer"},[w("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])],8,IL)]))}}),Ff=nc(WL,[["__scopeId","data-v-06936753"]]);function MC(t,e){return function(){return t.apply(e,arguments)}}const{toString:qL}=Object.prototype,{getPrototypeOf:dy}=Object,cp=(t=>e=>{const n=qL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ar=t=>(t=t.toLowerCase(),e=>cp(e)===t),up=t=>e=>typeof e===t,{isArray:ic}=Array,yu=up("undefined");function XL(t){return t!==null&&!yu(t)&&t.constructor!==null&&!yu(t.constructor)&&Bi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LC=Ar("ArrayBuffer");function UL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LC(t.buffer),e}const YL=up("string"),Bi=up("function"),NC=up("number"),fp=t=>t!==null&&typeof t=="object",GL=t=>t===!0||t===!1,_h=t=>{if(cp(t)!=="object")return!1;const e=dy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KL=Ar("Date"),JL=Ar("File"),ZL=Ar("Blob"),eN=Ar("FileList"),tN=t=>fp(t)&&Bi(t.pipe),nN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bi(t.append)&&((e=cp(t))==="formdata"||e==="object"&&Bi(t.toString)&&t.toString()==="[object FormData]"))},iN=Ar("URLSearchParams"),[rN,sN,oN,aN]=["ReadableStream","Request","Response","Headers"].map(Ar),lN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),ic(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function IC(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,FC=t=>!yu(t)&&t!==Jo;function iv(){const{caseless:t}=FC(this)&&this||{},e={},n=(i,r)=>{const s=t&&IC(e,r)||r;_h(e[s])&&_h(i)?e[s]=iv(e[s],i):_h(i)?e[s]=iv({},i):ic(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&sf(arguments[i],n);return e}const cN=(t,e,n,{allOwnKeys:i}={})=>(sf(e,(r,s)=>{n&&Bi(r)?t[s]=MC(r,n):t[s]=r},{allOwnKeys:i}),t),uN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fN=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},hN=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&dy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},dN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},pN=t=>{if(!t)return null;if(ic(t))return t;let e=t.length;if(!NC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},mN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dy(Uint8Array)),gN=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},vN=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},bN=Ar("HTMLFormElement"),yN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),uO=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ON=Ar("RegExp"),BC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};sf(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},xN=t=>{BC(t,(e,n)=>{if(Bi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Bi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wN=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return ic(t)?i(t):i(String(t).split(e)),n},_N=()=>{},SN=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Lm="abcdefghijklmnopqrstuvwxyz",fO="0123456789",HC={DIGIT:fO,ALPHA:Lm,ALPHA_DIGIT:Lm+Lm.toUpperCase()+fO},CN=(t=16,e=HC.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function TN(t){return!!(t&&Bi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const AN=t=>{const e=new Array(10),n=(i,r)=>{if(fp(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=ic(i)?[]:{};return sf(i,(o,a)=>{const l=n(o,r+1);!yu(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},kN=Ar("AsyncFunction"),EN=t=>t&&(fp(t)||Bi(t))&&Bi(t.then)&&Bi(t.catch),jC=((t,e)=>t?setImmediate:e?((n,i)=>(Jo.addEventListener("message",({source:r,data:s})=>{r===Jo&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Jo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bi(Jo.postMessage)),DN=typeof queueMicrotask<"u"?queueMicrotask.bind(Jo):typeof process<"u"&&process.nextTick||jC,Z={isArray:ic,isArrayBuffer:LC,isBuffer:XL,isFormData:nN,isArrayBufferView:UL,isString:YL,isNumber:NC,isBoolean:GL,isObject:fp,isPlainObject:_h,isReadableStream:rN,isRequest:sN,isResponse:oN,isHeaders:aN,isUndefined:yu,isDate:KL,isFile:JL,isBlob:ZL,isRegExp:ON,isFunction:Bi,isStream:tN,isURLSearchParams:iN,isTypedArray:mN,isFileList:eN,forEach:sf,merge:iv,extend:cN,trim:lN,stripBOM:uN,inherits:fN,toFlatObject:hN,kindOf:cp,kindOfTest:Ar,endsWith:dN,toArray:pN,forEachEntry:gN,matchAll:vN,isHTMLForm:bN,hasOwnProperty:uO,hasOwnProp:uO,reduceDescriptors:BC,freezeMethods:xN,toObjectSet:wN,toCamelCase:yN,noop:_N,toFiniteNumber:SN,findKey:IC,global:Jo,isContextDefined:FC,ALPHABET:HC,generateString:CN,isSpecCompliantForm:TN,toJSONObject:AN,isAsyncFn:kN,isThenable:EN,setImmediate:jC,asap:DN};function ot(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Z.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const VC=ot.prototype,QC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QC[t]={value:t}});Object.defineProperties(ot,QC);Object.defineProperty(VC,"isAxiosError",{value:!0});ot.from=(t,e,n,i,r,s)=>{const o=Object.create(VC);return Z.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ot.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const RN=null;function rv(t){return Z.isPlainObject(t)||Z.isArray(t)}function zC(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function hO(t,e,n){return t?t.concat(e).map(function(r,s){return r=zC(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function PN(t){return Z.isArray(t)&&!t.some(rv)}const $N=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function hp(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,O){return!Z.isUndefined(O[y])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(r))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Z.isDate(g))return g.toISOString();if(!l&&Z.isBlob(g))throw new ot("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(g)||Z.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,O){let _=g;if(g&&!O&&typeof g=="object"){if(Z.endsWith(y,"{}"))y=i?y:y.slice(0,-2),g=JSON.stringify(g);else if(Z.isArray(g)&&PN(g)||(Z.isFileList(g)||Z.endsWith(y,"[]"))&&(_=Z.toArray(g)))return y=zC(y),_.forEach(function(P,T){!(Z.isUndefined(P)||P===null)&&e.append(o===!0?hO([y],T,s):o===null?y:y+"[]",c(P))}),!1}return rv(g)?!0:(e.append(hO(O,y,s),c(g)),!1)}const f=[],d=Object.assign($N,{defaultVisitor:u,convertValue:c,isVisitable:rv});function m(g,y){if(!Z.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),Z.forEach(g,function(_,A){(!(Z.isUndefined(_)||_===null)&&r.call(e,_,Z.isString(A)?A.trim():A,y,d))===!0&&m(_,y?y.concat(A):[A])}),f.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return m(t),e}function dO(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function py(t,e){this._pairs=[],t&&hp(t,this,e)}const WC=py.prototype;WC.append=function(e,n){this._pairs.push([e,n])};WC.toString=function(e){const n=e?function(i){return e.call(this,i,dO)}:dO;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function MN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qC(t,e,n){if(!e)return t;const i=n&&n.encode||MN;Z.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=Z.isURLSearchParams(e)?e.toString():new py(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class pO{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(i){i!==null&&e(i)})}}const XC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LN=typeof URLSearchParams<"u"?URLSearchParams:py,NN=typeof FormData<"u"?FormData:null,IN=typeof Blob<"u"?Blob:null,FN={isBrowser:!0,classes:{URLSearchParams:LN,FormData:NN,Blob:IN},protocols:["http","https","file","blob","url","data"]},my=typeof window<"u"&&typeof document<"u",sv=typeof navigator=="object"&&navigator||void 0,BN=my&&(!sv||["ReactNative","NativeScript","NS"].indexOf(sv.product)<0),HN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jN=my&&window.location.href||"http://localhost",VN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:my,hasStandardBrowserEnv:BN,hasStandardBrowserWebWorkerEnv:HN,navigator:sv,origin:jN},Symbol.toStringTag,{value:"Module"})),zn={...VN,...FN};function QN(t,e){return hp(t,new zn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return zn.isNode&&Z.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function zN(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function WN(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function UC(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Z.isArray(r)?r.length:o,l?(Z.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!Z.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&Z.isArray(r[o])&&(r[o]=WN(r[o])),!a)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(i,r)=>{e(zN(i),r,n,0)}),n}return null}function qN(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const of={transitional:XC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=Z.isObject(e);if(s&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return r?JSON.stringify(UC(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return QN(e,this.formSerializer).toString();if((a=Z.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),qN(e)):e}],transformResponse:[function(e){const n=this.transitional||of.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ot.from(a,ot.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zn.classes.FormData,Blob:zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{of.headers[t]={}});const XN=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UN=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&XN[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},mO=Symbol("internals");function Tc(t){return t&&String(t).trim().toLowerCase()}function Sh(t){return t===!1||t==null?t:Z.isArray(t)?t.map(Sh):String(t)}function YN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const GN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nm(t,e,n,i,r){if(Z.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!Z.isString(e)){if(Z.isString(i))return e.indexOf(i)!==-1;if(Z.isRegExp(i))return i.test(e)}}function KN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function JN(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let Si=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const u=Tc(l);if(!u)throw new Error("header name must be a non-empty string");const f=Z.findKey(r,u);(!f||r[f]===void 0||c===!0||c===void 0&&r[f]!==!1)&&(r[f||l]=Sh(a))}const o=(a,l)=>Z.forEach(a,(c,u)=>s(c,u,l));if(Z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Z.isString(e)&&(e=e.trim())&&!GN(e))o(UN(e),n);else if(Z.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=Tc(e),e){const i=Z.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return YN(r);if(Z.isFunction(n))return n.call(this,r,i);if(Z.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Tc(e),e){const i=Z.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Nm(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=Tc(o),o){const a=Z.findKey(i,o);a&&(!n||Nm(i,i[a],a,n))&&(delete i[a],r=!0)}}return Z.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Nm(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return Z.forEach(this,(r,s)=>{const o=Z.findKey(i,s);if(o){n[o]=Sh(r),delete n[s];return}const a=e?KN(s):String(s).trim();a!==s&&delete n[s],n[a]=Sh(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&Z.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[mO]=this[mO]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Tc(o);i[a]||(JN(r,o),i[a]=!0)}return Z.isArray(e)?e.forEach(s):s(e),this}};Si.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(Si.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Z.freezeMethods(Si);function Im(t,e){const n=this||of,i=e||n,r=Si.from(i.headers);let s=i.data;return Z.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function YC(t){return!!(t&&t.__CANCEL__)}function rc(t,e,n){ot.call(this,t??"canceled",ot.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(rc,ot,{__CANCEL__:!0});function GC(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ot("Request failed with status code "+n.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ZN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function e2(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),n[r]=l,i[r]=c;let f=s,d=0;for(;f!==r;)d+=n[f++],f=f%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(d*1e3/m):void 0}}function t2(t,e){let n=0,i=1e3/e,r,s;const o=(c,u=Date.now())=>{n=u,r=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=i?o(c,u):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-f)))},()=>r&&o(r)]}const nd=(t,e,n=3)=>{let i=0;const r=e2(50,250);return t2(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},gO=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},vO=t=>(...e)=>Z.asap(()=>t(...e)),n2=zn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,zn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(zn.origin),zn.navigator&&/(msie|trident)/i.test(zn.navigator.userAgent)):()=>!0,i2=zn.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];Z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Z.isString(i)&&o.push("path="+i),Z.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function r2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function s2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function KC(t,e){return t&&!r2(e)?s2(t,e):e}const bO=t=>t instanceof Si?{...t}:t;function ba(t,e){e=e||{};const n={};function i(c,u,f,d){return Z.isPlainObject(c)&&Z.isPlainObject(u)?Z.merge.call({caseless:d},c,u):Z.isPlainObject(u)?Z.merge({},u):Z.isArray(u)?u.slice():u}function r(c,u,f,d){if(Z.isUndefined(u)){if(!Z.isUndefined(c))return i(void 0,c,f,d)}else return i(c,u,f,d)}function s(c,u){if(!Z.isUndefined(u))return i(void 0,u)}function o(c,u){if(Z.isUndefined(u)){if(!Z.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,f){if(f in e)return i(c,u);if(f in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>r(bO(c),bO(u),f,!0)};return Z.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||r,d=f(t[u],e[u],u);Z.isUndefined(d)&&f!==a||(n[u]=d)}),n}const JC=t=>{const e=ba({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Si.from(o),e.url=qC(KC(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Z.isFormData(n)){if(zn.hasStandardBrowserEnv||zn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(zn.hasStandardBrowserEnv&&(i&&Z.isFunction(i)&&(i=i(e)),i||i!==!1&&n2(e.url))){const c=r&&s&&i2.read(s);c&&o.set(r,c)}return e},o2=typeof XMLHttpRequest<"u",a2=o2&&function(t){return new Promise(function(n,i){const r=JC(t);let s=r.data;const o=Si.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,f,d,m,g;function y(){m&&m(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let O=new XMLHttpRequest;O.open(r.method.toUpperCase(),r.url,!0),O.timeout=r.timeout;function _(){if(!O)return;const P=Si.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),B={data:!a||a==="text"||a==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:P,config:t,request:O};GC(function(v){n(v),y()},function(v){i(v),y()},B),O=null}"onloadend"in O?O.onloadend=_:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(_)},O.onabort=function(){O&&(i(new ot("Request aborted",ot.ECONNABORTED,t,O)),O=null)},O.onerror=function(){i(new ot("Network Error",ot.ERR_NETWORK,t,O)),O=null},O.ontimeout=function(){let T=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const B=r.transitional||XC;r.timeoutErrorMessage&&(T=r.timeoutErrorMessage),i(new ot(T,B.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,t,O)),O=null},s===void 0&&o.setContentType(null),"setRequestHeader"in O&&Z.forEach(o.toJSON(),function(T,B){O.setRequestHeader(B,T)}),Z.isUndefined(r.withCredentials)||(O.withCredentials=!!r.withCredentials),a&&a!=="json"&&(O.responseType=r.responseType),c&&([d,g]=nd(c,!0),O.addEventListener("progress",d)),l&&O.upload&&([f,m]=nd(l),O.upload.addEventListener("progress",f),O.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(u=P=>{O&&(i(!P||P.type?new rc(null,t,O):P),O.abort(),O=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const A=ZN(r.url);if(A&&zn.protocols.indexOf(A)===-1){i(new ot("Unsupported protocol "+A+":",ot.ERR_BAD_REQUEST,t));return}O.send(s||null)})},l2=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof ot?u:new rc(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new ot(`timeout ${e} of ms exceeded`,ot.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>Z.asap(a),l}},c2=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},u2=async function*(t,e){for await(const n of f2(t))yield*c2(n,e)},f2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},yO=(t,e,n,i)=>{const r=u2(t,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let d=s+=f;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},dp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ZC=dp&&typeof ReadableStream=="function",h2=dp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),eT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},d2=ZC&&eT(()=>{let t=!1;const e=new Request(zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),OO=64*1024,ov=ZC&&eT(()=>Z.isReadableStream(new Response("").body)),id={stream:ov&&(t=>t.body)};dp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!id[e]&&(id[e]=Z.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new ot(`Response type '${e}' is not supported`,ot.ERR_NOT_SUPPORT,i)})})})(new Response);const p2=async t=>{if(t==null)return 0;if(Z.isBlob(t))return t.size;if(Z.isSpecCompliantForm(t))return(await new Request(zn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(t)||Z.isArrayBuffer(t))return t.byteLength;if(Z.isURLSearchParams(t)&&(t=t+""),Z.isString(t))return(await h2(t)).byteLength},m2=async(t,e)=>{const n=Z.toFiniteNumber(t.getContentLength());return n??p2(e)},g2=dp&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=JC(t);c=c?(c+"").toLowerCase():"text";let m=l2([r,s&&s.toAbortSignal()],o),g;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let O;try{if(l&&d2&&n!=="get"&&n!=="head"&&(O=await m2(u,i))!==0){let B=new Request(e,{method:"POST",body:i,duplex:"half"}),I;if(Z.isFormData(i)&&(I=B.headers.get("content-type"))&&u.setContentType(I),B.body){const[v,Q]=gO(O,nd(vO(l)));i=yO(B.body,OO,v,Q)}}Z.isString(f)||(f=f?"include":"omit");const _="credentials"in Request.prototype;g=new Request(e,{...d,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:_?f:void 0});let A=await fetch(g);const P=ov&&(c==="stream"||c==="response");if(ov&&(a||P&&y)){const B={};["status","statusText","headers"].forEach(Y=>{B[Y]=A[Y]});const I=Z.toFiniteNumber(A.headers.get("content-length")),[v,Q]=a&&gO(I,nd(vO(a),!0))||[];A=new Response(yO(A.body,OO,v,()=>{Q&&Q(),y&&y()}),B)}c=c||"text";let T=await id[Z.findKey(id,c)||"text"](A,t);return!P&&y&&y(),await new Promise((B,I)=>{GC(B,I,{data:T,headers:Si.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:g})})}catch(_){throw y&&y(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,t,g),{cause:_.cause||_}):ot.from(_,_&&_.code,t,g)}}),av={http:RN,xhr:a2,fetch:g2};Z.forEach(av,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const xO=t=>`- ${t}`,v2=t=>Z.isFunction(t)||t===null||t===!1,tT={getAdapter:t=>{t=Z.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!v2(n)&&(i=av[(o=String(n)).toLowerCase()],i===void 0))throw new ot(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(xO).join(`
`):" "+xO(s[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:av};function Fm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rc(null,t)}function wO(t){return Fm(t),t.headers=Si.from(t.headers),t.data=Im.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tT.getAdapter(t.adapter||of.adapter)(t).then(function(i){return Fm(t),i.data=Im.call(t,t.transformResponse,i),i.headers=Si.from(i.headers),i},function(i){return YC(i)||(Fm(t),i&&i.response&&(i.response.data=Im.call(t,t.transformResponse,i.response),i.response.headers=Si.from(i.response.headers))),Promise.reject(i)})}const nT="1.7.9",pp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pp[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const _O={};pp.transitional=function(e,n,i){function r(s,o){return"[Axios v"+nT+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new ot(r(o," has been removed"+(n?" in "+n:"")),ot.ERR_DEPRECATED);return n&&!_O[o]&&(_O[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};pp.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function b2(t,e,n){if(typeof t!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ot("option "+s+" must be "+l,ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ot("Unknown option "+s,ot.ERR_BAD_OPTION)}}const Ch={assertOptions:b2,validators:pp},Ir=Ch.validators;let ca=class{constructor(e){this.defaults=e,this.interceptors={request:new pO,response:new pO}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ba(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&Ch.assertOptions(i,{silentJSONParsing:Ir.transitional(Ir.boolean),forcedJSONParsing:Ir.transitional(Ir.boolean),clarifyTimeoutError:Ir.transitional(Ir.boolean)},!1),r!=null&&(Z.isFunction(r)?n.paramsSerializer={serialize:r}:Ch.assertOptions(r,{encode:Ir.function,serialize:Ir.function},!0)),Ch.assertOptions(n,{baseUrl:Ir.spelling("baseURL"),withXsrfToken:Ir.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Z.merge(s.common,s[n.method]);s&&Z.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Si.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,f=0,d;if(!l){const g=[wO.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),d=g.length,u=Promise.resolve(n);f<d;)u=u.then(g[f++],g[f++]);return u}d=a.length;let m=n;for(f=0;f<d;){const g=a[f++],y=a[f++];try{m=g(m)}catch(O){y.call(this,O);break}}try{u=wO.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=ba(this.defaults,e);const n=KC(e.baseURL,e.url);return qC(n,e.params,e.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(e){ca.prototype[e]=function(n,i){return this.request(ba(i||{},{method:e,url:n,data:(i||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(ba(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ca.prototype[e]=n(),ca.prototype[e+"Form"]=n(!0)});let y2=class iT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new rc(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new iT(function(r){e=r}),cancel:e}}};function O2(t){return function(n){return t.apply(null,n)}}function x2(t){return Z.isObject(t)&&t.isAxiosError===!0}const lv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lv).forEach(([t,e])=>{lv[e]=t});function rT(t){const e=new ca(t),n=MC(ca.prototype.request,e);return Z.extend(n,ca.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return rT(ba(t,r))},n}const Rt=rT(of);Rt.Axios=ca;Rt.CanceledError=rc;Rt.CancelToken=y2;Rt.isCancel=YC;Rt.VERSION=nT;Rt.toFormData=hp;Rt.AxiosError=ot;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=O2;Rt.isAxiosError=x2;Rt.mergeConfig=ba;Rt.AxiosHeaders=Si;Rt.formToJSON=t=>UC(Z.isHTMLForm(t)?new FormData(t):t);Rt.getAdapter=tT.getAdapter;Rt.HttpStatusCode=lv;Rt.default=Rt;const{Axios:Tee,AxiosError:cv,CanceledError:Aee,isCancel:kee,CancelToken:Eee,VERSION:Dee,all:Ree,Cancel:Pee,isAxiosError:$ee,spread:Mee,toFormData:Lee,AxiosHeaders:Nee,HttpStatusCode:Iee,formToJSON:Fee,getAdapter:Bee,mergeConfig:Hee}=Rt;var ci="top",Vi="bottom",Qi="right",ui="left",mp="auto",sc=[ci,Vi,Qi,ui],ya="start",$l="end",sT="clippingParents",gy="viewport",Ya="popper",oT="reference",uv=sc.reduce(function(t,e){return t.concat([e+"-"+ya,e+"-"+$l])},[]),vy=[].concat(sc,[mp]).reduce(function(t,e){return t.concat([e,e+"-"+ya,e+"-"+$l])},[]),aT="beforeRead",lT="read",cT="afterRead",uT="beforeMain",fT="main",hT="afterMain",dT="beforeWrite",pT="write",mT="afterWrite",gT=[aT,lT,cT,uT,fT,hT,dT,pT,mT];function ss(t){return t?(t.nodeName||"").toLowerCase():null}function zi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Oa(t){var e=zi(t).Element;return t instanceof e||t instanceof Element}function tr(t){var e=zi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function by(t){if(typeof ShadowRoot>"u")return!1;var e=zi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function w2(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!tr(s)||!ss(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function _2(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!tr(r)||!ss(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const gp={name:"applyStyles",enabled:!0,phase:"write",fn:w2,effect:_2,requires:["computeStyles"]};function Zr(t){return t.split("-")[0]}var ua=Math.max,rd=Math.min,Ml=Math.round;function fv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function vT(){return!/^((?!chrome|android).)*safari/i.test(fv())}function Ll(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&tr(t)&&(r=t.offsetWidth>0&&Ml(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ml(i.height)/t.offsetHeight||1);var o=Oa(t)?zi(t):window,a=o.visualViewport,l=!vT()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/s,f=i.width/r,d=i.height/s;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function yy(t){var e=Ll(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function bT(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&by(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Es(t){return zi(t).getComputedStyle(t)}function S2(t){return["table","td","th"].indexOf(ss(t))>=0}function Po(t){return((Oa(t)?t.ownerDocument:t.document)||window.document).documentElement}function vp(t){return ss(t)==="html"?t:t.assignedSlot||t.parentNode||(by(t)?t.host:null)||Po(t)}function SO(t){return!tr(t)||Es(t).position==="fixed"?null:t.offsetParent}function C2(t){var e=/firefox/i.test(fv()),n=/Trident/i.test(fv());if(n&&tr(t)){var i=Es(t);if(i.position==="fixed")return null}var r=vp(t);for(by(r)&&(r=r.host);tr(r)&&["html","body"].indexOf(ss(r))<0;){var s=Es(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function af(t){for(var e=zi(t),n=SO(t);n&&S2(n)&&Es(n).position==="static";)n=SO(n);return n&&(ss(n)==="html"||ss(n)==="body"&&Es(n).position==="static")?e:n||C2(t)||e}function Oy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function eu(t,e,n){return ua(t,rd(e,n))}function T2(t,e,n){var i=eu(t,e,n);return i>n?n:i}function yT(){return{top:0,right:0,bottom:0,left:0}}function OT(t){return Object.assign({},yT(),t)}function xT(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var A2=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,OT(typeof e!="number"?e:xT(e,sc))};function k2(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Zr(n.placement),l=Oy(a),c=[ui,Qi].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var f=A2(r.padding,n),d=yy(s),m=l==="y"?ci:ui,g=l==="y"?Vi:Qi,y=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],O=o[l]-n.rects.reference[l],_=af(s),A=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,P=y/2-O/2,T=f[m],B=A-d[u]-f[g],I=A/2-d[u]/2+P,v=eu(T,I,B),Q=l;n.modifiersData[i]=(e={},e[Q]=v,e.centerOffset=v-I,e)}}function E2(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||bT(e.elements.popper,r)&&(e.elements.arrow=r))}const wT={name:"arrow",enabled:!0,phase:"main",fn:k2,effect:E2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nl(t){return t.split("-")[1]}var D2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function R2(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:Ml(n*r)/r||0,y:Ml(i*r)/r||0}}function CO(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,d=o.x,m=d===void 0?0:d,g=o.y,y=g===void 0?0:g,O=typeof u=="function"?u({x:m,y}):{x:m,y};m=O.x,y=O.y;var _=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),P=ui,T=ci,B=window;if(c){var I=af(n),v="clientHeight",Q="clientWidth";if(I===zi(n)&&(I=Po(n),Es(I).position!=="static"&&a==="absolute"&&(v="scrollHeight",Q="scrollWidth")),I=I,r===ci||(r===ui||r===Qi)&&s===$l){T=Vi;var Y=f&&I===B&&B.visualViewport?B.visualViewport.height:I[v];y-=Y-i.height,y*=l?1:-1}if(r===ui||(r===ci||r===Vi)&&s===$l){P=Qi;var te=f&&I===B&&B.visualViewport?B.visualViewport.width:I[Q];m-=te-i.width,m*=l?1:-1}}var ve=Object.assign({position:a},c&&D2),J=u===!0?R2({x:m,y},zi(n)):{x:m,y};if(m=J.x,y=J.y,l){var X;return Object.assign({},ve,(X={},X[T]=A?"0":"",X[P]=_?"0":"",X.transform=(B.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",X))}return Object.assign({},ve,(e={},e[T]=A?y+"px":"",e[P]=_?m+"px":"",e.transform="",e))}function P2(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Zr(e.placement),variation:Nl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,CO(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,CO(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const xy={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:P2,data:{}};var Bf={passive:!0};function $2(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=zi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,Bf)}),a&&l.addEventListener("resize",n.update,Bf),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Bf)}),a&&l.removeEventListener("resize",n.update,Bf)}}const wy={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$2,data:{}};var M2={left:"right",right:"left",bottom:"top",top:"bottom"};function Th(t){return t.replace(/left|right|bottom|top/g,function(e){return M2[e]})}var L2={start:"end",end:"start"};function TO(t){return t.replace(/start|end/g,function(e){return L2[e]})}function _y(t){var e=zi(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Sy(t){return Ll(Po(t)).left+_y(t).scrollLeft}function N2(t,e){var n=zi(t),i=Po(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=vT();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+Sy(t),y:l}}function I2(t){var e,n=Po(t),i=_y(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=ua(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=ua(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Sy(t),l=-i.scrollTop;return Es(r||n).direction==="rtl"&&(a+=ua(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Cy(t){var e=Es(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function _T(t){return["html","body","#document"].indexOf(ss(t))>=0?t.ownerDocument.body:tr(t)&&Cy(t)?t:_T(vp(t))}function tu(t,e){var n;e===void 0&&(e=[]);var i=_T(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=zi(i),o=r?[s].concat(s.visualViewport||[],Cy(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(tu(vp(o)))}function hv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function F2(t,e){var n=Ll(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function AO(t,e,n){return e===gy?hv(N2(t,n)):Oa(e)?F2(e,n):hv(I2(Po(t)))}function B2(t){var e=tu(vp(t)),n=["absolute","fixed"].indexOf(Es(t).position)>=0,i=n&&tr(t)?af(t):t;return Oa(i)?e.filter(function(r){return Oa(r)&&bT(r,i)&&ss(r)!=="body"}):[]}function H2(t,e,n,i){var r=e==="clippingParents"?B2(t):[].concat(e),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var u=AO(t,c,i);return l.top=ua(u.top,l.top),l.right=rd(u.right,l.right),l.bottom=rd(u.bottom,l.bottom),l.left=ua(u.left,l.left),l},AO(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ST(t){var e=t.reference,n=t.element,i=t.placement,r=i?Zr(i):null,s=i?Nl(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case ci:l={x:o,y:e.y-n.height};break;case Vi:l={x:o,y:e.y+e.height};break;case Qi:l={x:e.x+e.width,y:a};break;case ui:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?Oy(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case ya:l[c]=l[c]-(e[u]/2-n[u]/2);break;case $l:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Il(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?sT:a,c=n.rootBoundary,u=c===void 0?gy:c,f=n.elementContext,d=f===void 0?Ya:f,m=n.altBoundary,g=m===void 0?!1:m,y=n.padding,O=y===void 0?0:y,_=OT(typeof O!="number"?O:xT(O,sc)),A=d===Ya?oT:Ya,P=t.rects.popper,T=t.elements[g?A:d],B=H2(Oa(T)?T:T.contextElement||Po(t.elements.popper),l,u,o),I=Ll(t.elements.reference),v=ST({reference:I,element:P,placement:r}),Q=hv(Object.assign({},P,v)),Y=d===Ya?Q:I,te={top:B.top-Y.top+_.top,bottom:Y.bottom-B.bottom+_.bottom,left:B.left-Y.left+_.left,right:Y.right-B.right+_.right},ve=t.modifiersData.offset;if(d===Ya&&ve){var J=ve[r];Object.keys(te).forEach(function(X){var le=[Qi,Vi].indexOf(X)>=0?1:-1,ae=[ci,Vi].indexOf(X)>=0?"y":"x";te[X]+=J[ae]*le})}return te}function j2(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?vy:l,u=Nl(i),f=u?a?uv:uv.filter(function(g){return Nl(g)===u}):sc,d=f.filter(function(g){return c.indexOf(g)>=0});d.length===0&&(d=f);var m=d.reduce(function(g,y){return g[y]=Il(t,{placement:y,boundary:r,rootBoundary:s,padding:o})[Zr(y)],g},{});return Object.keys(m).sort(function(g,y){return m[g]-m[y]})}function V2(t){if(Zr(t)===mp)return[];var e=Th(t);return[TO(t),e,TO(e)]}function Q2(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,y=n.allowedAutoPlacements,O=e.options.placement,_=Zr(O),A=_===O,P=l||(A||!g?[Th(O)]:V2(O)),T=[O].concat(P).reduce(function($t,Ut){return $t.concat(Zr(Ut)===mp?j2(e,{placement:Ut,boundary:u,rootBoundary:f,padding:c,flipVariations:g,allowedAutoPlacements:y}):Ut)},[]),B=e.rects.reference,I=e.rects.popper,v=new Map,Q=!0,Y=T[0],te=0;te<T.length;te++){var ve=T[te],J=Zr(ve),X=Nl(ve)===ya,le=[ci,Vi].indexOf(J)>=0,ae=le?"width":"height",me=Il(e,{placement:ve,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),ue=le?X?Qi:ui:X?Vi:ci;B[ae]>I[ae]&&(ue=Th(ue));var Re=Th(ue),Ge=[];if(s&&Ge.push(me[J]<=0),a&&Ge.push(me[ue]<=0,me[Re]<=0),Ge.every(function($t){return $t})){Y=ve,Q=!1;break}v.set(ve,Ge)}if(Q)for(var ft=g?3:1,ct=function(Ut){var Nt=T.find(function(ne){var ke=v.get(ne);if(ke)return ke.slice(0,Ut).every(function(Te){return Te})});if(Nt)return Y=Nt,"break"},tt=ft;tt>0;tt--){var xt=ct(tt);if(xt==="break")break}e.placement!==Y&&(e.modifiersData[i]._skip=!0,e.placement=Y,e.reset=!0)}}const CT={name:"flip",enabled:!0,phase:"main",fn:Q2,requiresIfExists:["offset"],data:{_skip:!1}};function kO(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function EO(t){return[ci,Qi,Vi,ui].some(function(e){return t[e]>=0})}function z2(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=Il(e,{elementContext:"reference"}),a=Il(e,{altBoundary:!0}),l=kO(o,i),c=kO(a,r,s),u=EO(l),f=EO(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const TT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:z2};function W2(t,e,n){var i=Zr(t),r=[ui,ci].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[ui,Qi].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function q2(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=vy.reduce(function(u,f){return u[f]=W2(f,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const AT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:q2};function X2(t){var e=t.state,n=t.name;e.modifiersData[n]=ST({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Ty={name:"popperOffsets",enabled:!0,phase:"read",fn:X2,data:{}};function U2(t){return t==="x"?"y":"x"}function Y2(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,d=n.tether,m=d===void 0?!0:d,g=n.tetherOffset,y=g===void 0?0:g,O=Il(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),_=Zr(e.placement),A=Nl(e.placement),P=!A,T=Oy(_),B=U2(T),I=e.modifiersData.popperOffsets,v=e.rects.reference,Q=e.rects.popper,Y=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,te=typeof Y=="number"?{mainAxis:Y,altAxis:Y}:Object.assign({mainAxis:0,altAxis:0},Y),ve=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,J={x:0,y:0};if(I){if(s){var X,le=T==="y"?ci:ui,ae=T==="y"?Vi:Qi,me=T==="y"?"height":"width",ue=I[T],Re=ue+O[le],Ge=ue-O[ae],ft=m?-Q[me]/2:0,ct=A===ya?v[me]:Q[me],tt=A===ya?-Q[me]:-v[me],xt=e.elements.arrow,$t=m&&xt?yy(xt):{width:0,height:0},Ut=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:yT(),Nt=Ut[le],ne=Ut[ae],ke=eu(0,v[me],$t[me]),Te=P?v[me]/2-ft-ke-Nt-te.mainAxis:ct-ke-Nt-te.mainAxis,Pe=P?-v[me]/2+ft+ke+ne+te.mainAxis:tt+ke+ne+te.mainAxis,gt=e.elements.arrow&&af(e.elements.arrow),M=gt?T==="y"?gt.clientTop||0:gt.clientLeft||0:0,N=(X=ve==null?void 0:ve[T])!=null?X:0,z=ue+Te-N-M,oe=ue+Pe-N,ce=eu(m?rd(Re,z):Re,ue,m?ua(Ge,oe):Ge);I[T]=ce,J[T]=ce-ue}if(a){var re,we=T==="x"?ci:ui,_e=T==="x"?Vi:Qi,ye=I[B],pe=B==="y"?"height":"width",Be=ye+O[we],Se=ye-O[_e],Ve=[ci,ui].indexOf(_)!==-1,de=(re=ve==null?void 0:ve[B])!=null?re:0,Xe=Ve?Be:ye-v[pe]-Q[pe]-de+te.altAxis,Ct=Ve?ye+v[pe]+Q[pe]-de-te.altAxis:Se,vt=m&&Ve?T2(Xe,ye,Ct):eu(m?Xe:Be,ye,m?Ct:Se);I[B]=vt,J[B]=vt-ye}e.modifiersData[i]=J}}const kT={name:"preventOverflow",enabled:!0,phase:"main",fn:Y2,requiresIfExists:["offset"]};function G2(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function K2(t){return t===zi(t)||!tr(t)?_y(t):G2(t)}function J2(t){var e=t.getBoundingClientRect(),n=Ml(e.width)/t.offsetWidth||1,i=Ml(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Z2(t,e,n){n===void 0&&(n=!1);var i=tr(e),r=tr(e)&&J2(e),s=Po(e),o=Ll(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((ss(e)!=="body"||Cy(s))&&(a=K2(e)),tr(e)?(l=Ll(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Sy(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function eI(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function tI(t){var e=eI(t);return gT.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function nI(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function iI(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var DO={placement:"bottom",modifiers:[],strategy:"absolute"};function RO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function bp(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?DO:r;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},DO,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,m={state:u,setOptions:function(_){var A=typeof _=="function"?_(u.options):_;y(),u.options=Object.assign({},s,u.options,A),u.scrollParents={reference:Oa(a)?tu(a):a.contextElement?tu(a.contextElement):[],popper:tu(l)};var P=tI(iI([].concat(i,u.options.modifiers)));return u.orderedModifiers=P.filter(function(T){return T.enabled}),g(),m.update()},forceUpdate:function(){if(!d){var _=u.elements,A=_.reference,P=_.popper;if(RO(A,P)){u.rects={reference:Z2(A,af(P),u.options.strategy==="fixed"),popper:yy(P)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(te){return u.modifiersData[te.name]=Object.assign({},te.data)});for(var T=0;T<u.orderedModifiers.length;T++){if(u.reset===!0){u.reset=!1,T=-1;continue}var B=u.orderedModifiers[T],I=B.fn,v=B.options,Q=v===void 0?{}:v,Y=B.name;typeof I=="function"&&(u=I({state:u,options:Q,name:Y,instance:m})||u)}}}},update:nI(function(){return new Promise(function(O){m.forceUpdate(),O(u)})}),destroy:function(){y(),d=!0}};if(!RO(a,l))return m;m.setOptions(c).then(function(O){!d&&c.onFirstUpdate&&c.onFirstUpdate(O)});function g(){u.orderedModifiers.forEach(function(O){var _=O.name,A=O.options,P=A===void 0?{}:A,T=O.effect;if(typeof T=="function"){var B=T({state:u,name:_,instance:m,options:P}),I=function(){};f.push(B||I)}})}function y(){f.forEach(function(O){return O()}),f=[]}return m}}var rI=bp(),sI=[wy,Ty,xy,gp],oI=bp({defaultModifiers:sI}),aI=[wy,Ty,xy,gp,AT,CT,kT,wT,TT],yp=bp({defaultModifiers:aI});const ET=Object.freeze(Object.defineProperty({__proto__:null,afterMain:hT,afterRead:cT,afterWrite:mT,applyStyles:gp,arrow:wT,auto:mp,basePlacements:sc,beforeMain:uT,beforeRead:aT,beforeWrite:dT,bottom:Vi,clippingParents:sT,computeStyles:xy,createPopper:yp,createPopperBase:rI,createPopperLite:oI,detectOverflow:Il,end:$l,eventListeners:wy,flip:CT,hide:TT,left:ui,main:fT,modifierPhases:gT,offset:AT,placements:vy,popper:Ya,popperGenerator:bp,popperOffsets:Ty,preventOverflow:kT,read:lT,reference:oT,right:Qi,start:ya,top:ci,variationPlacements:uv,viewport:gy,write:pT},Symbol.toStringTag,{value:"Module"}));var lI="tippy-box",DT="tippy-content",cI="tippy-backdrop",RT="tippy-arrow",PT="tippy-svg-arrow",qo={passive:!0,capture:!0},$T=function(){return document.body};function Bm(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function Ay(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function MT(t,e){return typeof t=="function"?t.apply(void 0,e):t}function PO(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function uI(t){return t.split(/\s+/).filter(Boolean)}function Ga(t){return[].concat(t)}function $O(t,e){t.indexOf(e)===-1&&t.push(e)}function fI(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function hI(t){return t.split("-")[0]}function sd(t){return[].slice.call(t)}function MO(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function nu(){return document.createElement("div")}function Op(t){return["Element","Fragment"].some(function(e){return Ay(t,e)})}function dI(t){return Ay(t,"NodeList")}function pI(t){return Ay(t,"MouseEvent")}function mI(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function gI(t){return Op(t)?[t]:dI(t)?sd(t):Array.isArray(t)?t:sd(document.querySelectorAll(t))}function Hm(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function LO(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function vI(t){var e,n=Ga(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function bI(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var s=r.popperRect,o=r.popperState,a=r.props,l=a.interactiveBorder,c=hI(o.placement),u=o.modifiersData.offset;if(!u)return!0;var f=c==="bottom"?u.top.y:0,d=c==="top"?u.bottom.y:0,m=c==="right"?u.left.x:0,g=c==="left"?u.right.x:0,y=s.top-i+f>l,O=i-s.bottom-d>l,_=s.left-n+m>l,A=n-s.right-g>l;return y||O||_||A})}function jm(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function NO(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var zr={isTouch:!1},IO=0;function yI(){zr.isTouch||(zr.isTouch=!0,window.performance&&document.addEventListener("mousemove",LT))}function LT(){var t=performance.now();t-IO<20&&(zr.isTouch=!1,document.removeEventListener("mousemove",LT)),IO=t}function OI(){var t=document.activeElement;if(mI(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function xI(){document.addEventListener("touchstart",yI,qo),window.addEventListener("blur",OI)}var wI=typeof window<"u"&&typeof document<"u",_I=wI?!!window.msCrypto:!1,SI={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},CI={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},xr=Object.assign({appendTo:$T,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},SI,CI),TI=Object.keys(xr),AI=function(e){var n=Object.keys(e);n.forEach(function(i){xr[i]=e[i]})};function NT(t){var e=t.plugins||[],n=e.reduce(function(i,r){var s=r.name,o=r.defaultValue;if(s){var a;i[s]=t[s]!==void 0?t[s]:(a=xr[s])!=null?a:o}return i},{});return Object.assign({},t,n)}function kI(t,e){var n=e?Object.keys(NT(Object.assign({},xr,{plugins:e}))):TI,i=n.reduce(function(r,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return r;if(s==="content")r[s]=o;else try{r[s]=JSON.parse(o)}catch{r[s]=o}return r},{});return i}function FO(t,e){var n=Object.assign({},e,{content:MT(e.content,[t])},e.ignoreAttributes?{}:kI(t,e.plugins));return n.aria=Object.assign({},xr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var EI=function(){return"innerHTML"};function dv(t,e){t[EI()]=e}function BO(t){var e=nu();return t===!0?e.className=RT:(e.className=PT,Op(t)?e.appendChild(t):dv(e,t)),e}function HO(t,e){Op(e.content)?(dv(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?dv(t,e.content):t.textContent=e.content)}function pv(t){var e=t.firstElementChild,n=sd(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(DT)}),arrow:n.find(function(i){return i.classList.contains(RT)||i.classList.contains(PT)}),backdrop:n.find(function(i){return i.classList.contains(cI)})}}function IT(t){var e=nu(),n=nu();n.className=lI,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=nu();i.className=DT,i.setAttribute("data-state","hidden"),HO(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(s,o){var a=pv(e),l=a.box,c=a.content,u=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&HO(c,t.props),o.arrow?u?s.arrow!==o.arrow&&(l.removeChild(u),l.appendChild(BO(o.arrow))):l.appendChild(BO(o.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:r}}IT.$$tippy=!0;var DI=1,Hf=[],Vm=[];function RI(t,e){var n=FO(t,Object.assign({},xr,NT(MO(e)))),i,r,s,o=!1,a=!1,l=!1,c=!1,u,f,d,m=[],g=PO(z,n.interactiveDebounce),y,O=DI++,_=null,A=fI(n.plugins),P={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},T={id:O,reference:t,popper:nu(),popperInstance:_,props:n,state:P,plugins:A,clearDelayTimeouts:Xe,setProps:Ct,setContent:vt,show:kn,hide:dn,hideWithInteractivity:Kn,enable:Ve,disable:de,unmount:bn,destroy:En};if(!n.render)return T;var B=n.render(T),I=B.popper,v=B.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+T.id,T.popper=I,t._tippy=T,I._tippy=T;var Q=A.map(function(ee){return ee.fn(T)}),Y=t.hasAttribute("aria-expanded");return gt(),ft(),ue(),Re("onCreate",[T]),n.showOnCreate&&Be(),I.addEventListener("mouseenter",function(){T.props.interactive&&T.state.isVisible&&T.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){T.props.interactive&&T.props.trigger.indexOf("mouseenter")>=0&&le().addEventListener("mousemove",g)}),T;function te(){var ee=T.props.touch;return Array.isArray(ee)?ee:[ee,0]}function ve(){return te()[0]==="hold"}function J(){var ee;return!!((ee=T.props.render)!=null&&ee.$$tippy)}function X(){return y||t}function le(){var ee=X().parentNode;return ee?vI(ee):document}function ae(){return pv(I)}function me(ee){return T.state.isMounted&&!T.state.isVisible||zr.isTouch||u&&u.type==="focus"?0:Bm(T.props.delay,ee?0:1,xr.delay)}function ue(ee){ee===void 0&&(ee=!1),I.style.pointerEvents=T.props.interactive&&!ee?"":"none",I.style.zIndex=""+T.props.zIndex}function Re(ee,Ae,We){if(We===void 0&&(We=!0),Q.forEach(function(bt){bt[ee]&&bt[ee].apply(bt,Ae)}),We){var ht;(ht=T.props)[ee].apply(ht,Ae)}}function Ge(){var ee=T.props.aria;if(ee.content){var Ae="aria-"+ee.content,We=I.id,ht=Ga(T.props.triggerTarget||t);ht.forEach(function(bt){var yn=bt.getAttribute(Ae);if(T.state.isVisible)bt.setAttribute(Ae,yn?yn+" "+We:We);else{var pi=yn&&yn.replace(We,"").trim();pi?bt.setAttribute(Ae,pi):bt.removeAttribute(Ae)}})}}function ft(){if(!(Y||!T.props.aria.expanded)){var ee=Ga(T.props.triggerTarget||t);ee.forEach(function(Ae){T.props.interactive?Ae.setAttribute("aria-expanded",T.state.isVisible&&Ae===X()?"true":"false"):Ae.removeAttribute("aria-expanded")})}}function ct(){le().removeEventListener("mousemove",g),Hf=Hf.filter(function(ee){return ee!==g})}function tt(ee){if(!(zr.isTouch&&(l||ee.type==="mousedown"))){var Ae=ee.composedPath&&ee.composedPath()[0]||ee.target;if(!(T.props.interactive&&NO(I,Ae))){if(Ga(T.props.triggerTarget||t).some(function(We){return NO(We,Ae)})){if(zr.isTouch||T.state.isVisible&&T.props.trigger.indexOf("click")>=0)return}else Re("onClickOutside",[T,ee]);T.props.hideOnClick===!0&&(T.clearDelayTimeouts(),T.hide(),a=!0,setTimeout(function(){a=!1}),T.state.isMounted||Nt())}}}function xt(){l=!0}function $t(){l=!1}function Ut(){var ee=le();ee.addEventListener("mousedown",tt,!0),ee.addEventListener("touchend",tt,qo),ee.addEventListener("touchstart",$t,qo),ee.addEventListener("touchmove",xt,qo)}function Nt(){var ee=le();ee.removeEventListener("mousedown",tt,!0),ee.removeEventListener("touchend",tt,qo),ee.removeEventListener("touchstart",$t,qo),ee.removeEventListener("touchmove",xt,qo)}function ne(ee,Ae){Te(ee,function(){!T.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&Ae()})}function ke(ee,Ae){Te(ee,Ae)}function Te(ee,Ae){var We=ae().box;function ht(bt){bt.target===We&&(jm(We,"remove",ht),Ae())}if(ee===0)return Ae();jm(We,"remove",f),jm(We,"add",ht),f=ht}function Pe(ee,Ae,We){We===void 0&&(We=!1);var ht=Ga(T.props.triggerTarget||t);ht.forEach(function(bt){bt.addEventListener(ee,Ae,We),m.push({node:bt,eventType:ee,handler:Ae,options:We})})}function gt(){ve()&&(Pe("touchstart",N,{passive:!0}),Pe("touchend",oe,{passive:!0})),uI(T.props.trigger).forEach(function(ee){if(ee!=="manual")switch(Pe(ee,N),ee){case"mouseenter":Pe("mouseleave",oe);break;case"focus":Pe(_I?"focusout":"blur",ce);break;case"focusin":Pe("focusout",ce);break}})}function M(){m.forEach(function(ee){var Ae=ee.node,We=ee.eventType,ht=ee.handler,bt=ee.options;Ae.removeEventListener(We,ht,bt)}),m=[]}function N(ee){var Ae,We=!1;if(!(!T.state.isEnabled||re(ee)||a)){var ht=((Ae=u)==null?void 0:Ae.type)==="focus";u=ee,y=ee.currentTarget,ft(),!T.state.isVisible&&pI(ee)&&Hf.forEach(function(bt){return bt(ee)}),ee.type==="click"&&(T.props.trigger.indexOf("mouseenter")<0||o)&&T.props.hideOnClick!==!1&&T.state.isVisible?We=!0:Be(ee),ee.type==="click"&&(o=!We),We&&!ht&&Se(ee)}}function z(ee){var Ae=ee.target,We=X().contains(Ae)||I.contains(Ae);if(!(ee.type==="mousemove"&&We)){var ht=pe().concat(I).map(function(bt){var yn,pi=bt._tippy,Ti=(yn=pi.popperInstance)==null?void 0:yn.state;return Ti?{popperRect:bt.getBoundingClientRect(),popperState:Ti,props:n}:null}).filter(Boolean);bI(ht,ee)&&(ct(),Se(ee))}}function oe(ee){var Ae=re(ee)||T.props.trigger.indexOf("click")>=0&&o;if(!Ae){if(T.props.interactive){T.hideWithInteractivity(ee);return}Se(ee)}}function ce(ee){T.props.trigger.indexOf("focusin")<0&&ee.target!==X()||T.props.interactive&&ee.relatedTarget&&I.contains(ee.relatedTarget)||Se(ee)}function re(ee){return zr.isTouch?ve()!==ee.type.indexOf("touch")>=0:!1}function we(){_e();var ee=T.props,Ae=ee.popperOptions,We=ee.placement,ht=ee.offset,bt=ee.getReferenceClientRect,yn=ee.moveTransition,pi=J()?pv(I).arrow:null,Ti=bt?{getBoundingClientRect:bt,contextElement:bt.contextElement||X()}:t,js={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Dn){var rn=Dn.state;if(J()){var mc=ae(),gc=mc.box;["placement","reference-hidden","escaped"].forEach(function(Io){Io==="placement"?gc.setAttribute("data-placement",rn.placement):rn.attributes.popper["data-popper-"+Io]?gc.setAttribute("data-"+Io,""):gc.removeAttribute("data-"+Io)}),rn.attributes.popper={}}}},Dr=[{name:"offset",options:{offset:ht}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!yn}},js];J()&&pi&&Dr.push({name:"arrow",options:{element:pi,padding:3}}),Dr.push.apply(Dr,(Ae==null?void 0:Ae.modifiers)||[]),T.popperInstance=yp(Ti,I,Object.assign({},Ae,{placement:We,onFirstUpdate:d,modifiers:Dr}))}function _e(){T.popperInstance&&(T.popperInstance.destroy(),T.popperInstance=null)}function ye(){var ee=T.props.appendTo,Ae,We=X();T.props.interactive&&ee===$T||ee==="parent"?Ae=We.parentNode:Ae=MT(ee,[We]),Ae.contains(I)||Ae.appendChild(I),T.state.isMounted=!0,we()}function pe(){return sd(I.querySelectorAll("[data-tippy-root]"))}function Be(ee){T.clearDelayTimeouts(),ee&&Re("onTrigger",[T,ee]),Ut();var Ae=me(!0),We=te(),ht=We[0],bt=We[1];zr.isTouch&&ht==="hold"&&bt&&(Ae=bt),Ae?i=setTimeout(function(){T.show()},Ae):T.show()}function Se(ee){if(T.clearDelayTimeouts(),Re("onUntrigger",[T,ee]),!T.state.isVisible){Nt();return}if(!(T.props.trigger.indexOf("mouseenter")>=0&&T.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ee.type)>=0&&o)){var Ae=me(!1);Ae?r=setTimeout(function(){T.state.isVisible&&T.hide()},Ae):s=requestAnimationFrame(function(){T.hide()})}}function Ve(){T.state.isEnabled=!0}function de(){T.hide(),T.state.isEnabled=!1}function Xe(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)}function Ct(ee){if(!T.state.isDestroyed){Re("onBeforeUpdate",[T,ee]),M();var Ae=T.props,We=FO(t,Object.assign({},Ae,MO(ee),{ignoreAttributes:!0}));T.props=We,gt(),Ae.interactiveDebounce!==We.interactiveDebounce&&(ct(),g=PO(z,We.interactiveDebounce)),Ae.triggerTarget&&!We.triggerTarget?Ga(Ae.triggerTarget).forEach(function(ht){ht.removeAttribute("aria-expanded")}):We.triggerTarget&&t.removeAttribute("aria-expanded"),ft(),ue(),v&&v(Ae,We),T.popperInstance&&(we(),pe().forEach(function(ht){requestAnimationFrame(ht._tippy.popperInstance.forceUpdate)})),Re("onAfterUpdate",[T,ee])}}function vt(ee){T.setProps({content:ee})}function kn(){var ee=T.state.isVisible,Ae=T.state.isDestroyed,We=!T.state.isEnabled,ht=zr.isTouch&&!T.props.touch,bt=Bm(T.props.duration,0,xr.duration);if(!(ee||Ae||We||ht)&&!X().hasAttribute("disabled")&&(Re("onShow",[T],!1),T.props.onShow(T)!==!1)){if(T.state.isVisible=!0,J()&&(I.style.visibility="visible"),ue(),Ut(),T.state.isMounted||(I.style.transition="none"),J()){var yn=ae(),pi=yn.box,Ti=yn.content;Hm([pi,Ti],0)}d=function(){var Dr;if(!(!T.state.isVisible||c)){if(c=!0,I.offsetHeight,I.style.transition=T.props.moveTransition,J()&&T.props.animation){var $a=ae(),Dn=$a.box,rn=$a.content;Hm([Dn,rn],bt),LO([Dn,rn],"visible")}Ge(),ft(),$O(Vm,T),(Dr=T.popperInstance)==null||Dr.forceUpdate(),Re("onMount",[T]),T.props.animation&&J()&&ke(bt,function(){T.state.isShown=!0,Re("onShown",[T])})}},ye()}}function dn(){var ee=!T.state.isVisible,Ae=T.state.isDestroyed,We=!T.state.isEnabled,ht=Bm(T.props.duration,1,xr.duration);if(!(ee||Ae||We)&&(Re("onHide",[T],!1),T.props.onHide(T)!==!1)){if(T.state.isVisible=!1,T.state.isShown=!1,c=!1,o=!1,J()&&(I.style.visibility="hidden"),ct(),Nt(),ue(!0),J()){var bt=ae(),yn=bt.box,pi=bt.content;T.props.animation&&(Hm([yn,pi],ht),LO([yn,pi],"hidden"))}Ge(),ft(),T.props.animation?J()&&ne(ht,T.unmount):T.unmount()}}function Kn(ee){le().addEventListener("mousemove",g),$O(Hf,g),g(ee)}function bn(){T.state.isVisible&&T.hide(),T.state.isMounted&&(_e(),pe().forEach(function(ee){ee._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),Vm=Vm.filter(function(ee){return ee!==T}),T.state.isMounted=!1,Re("onHidden",[T]))}function En(){T.state.isDestroyed||(T.clearDelayTimeouts(),T.unmount(),M(),delete t._tippy,T.state.isDestroyed=!0,Re("onDestroy",[T]))}}function lf(t,e){e===void 0&&(e={});var n=xr.plugins.concat(e.plugins||[]);xI();var i=Object.assign({},e,{plugins:n}),r=gI(t),s=r.reduce(function(o,a){var l=a&&RI(a,i);return l&&o.push(l),o},[]);return Op(t)?s[0]:s}lf.defaultProps=xr;lf.setDefaultProps=AI;lf.currentInput=zr;Object.assign({},gp,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});lf.setDefaultProps({render:IT});const PI={class:"fw-bold py-3 mb-4"},$I={key:0,class:"alert alert-danger alert-dismissible",role:"alert"},MI={class:"container-xxl flex-grow-1 container-p-y"},LI={class:"card"},NI={key:0},II={id:"dataTableOverview",class:"table table-bordered table-striped table-hover caption-top"},FI=["data-tippy-content"],BI=["data-tippy-content"],HI=["data-tippy-content"],jI=["data-tippy-content"],VI={key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":"Node  Rules are OK."},QI=["data-bs-target","data-tippy-content"],zI=["data-bs-target","data-tippy-content"],WI=["data-tippy-content"],qI=["data-tippy-content"],XI=["data-tippy-content"],UI=["data-tippy-content"],YI=["data-bs-target","data-tippy-content"],GI=["data-bs-target","data-tippy-content"],KI=["data-tippy-content"],JI=["data-tippy-content"],ZI=["data-tippy-content"],eF=["data-tippy-content"],tF=["data-bs-target","data-tippy-content"],nF=["data-bs-target","data-tippy-content"],iF=["data-tippy-content"],rF=["data-tippy-content"],sF=["data-tippy-content"],oF=["data-tippy-content"],aF=["data-bs-target","data-tippy-content"],lF=["data-bs-target","data-tippy-content"],cF=di({props:{url:{type:String,required:!0},statusAPI:{type:String,required:!0},nodeListAPI:{type:String,required:!0},alertURL:{type:String,required:!0}},components:{BoxIcon:AL},data(){return{overview:[],alerts:[],noRows:"",showPopup:!1,intervalId:null,autoReload:!0}},async mounted(){await this.fetchOverview(),this.intervalId=setInterval(this.fetchOverview,3e4)},beforeUnmount(){this.intervalId&&clearInterval(this.intervalId)},methods:{async fetchOverview(){var t,e;this.overview=[],this.updateShowSpinner(!0);try{const n=`${this.url}/proxy?url=${this.nodeListAPI}`,i=await Rt.get(n);i.status===200?i.data.data.result.forEach(r=>{const s=r.metric.hostname;this.overview.push({state:!0,hostname:s,genericRules:null,services:null,hardware:null,other:null,ipmi:null,genericAlerts:[],servicesAlerts:[],hardwareAlerts:[],otherAlerts:[]})}):(this.noRows+=`
ERROR[Prometheus Server] :: Error fetching Nodes from ${this.nodeListAPI} Status: ${i.status}.`,console.error("Error fetching nodes:",i.status,i.data))}catch(n){n instanceof cv?this.noRows+=`
ERROR[Prometheus Server] :: ${n.message}: CODE:${n.code} URL:${(t=n.config)==null?void 0:t.url}`:n instanceof Error?this.noRows+=`
ERROR[Prometheus Server] :: ${n.message}`:this.noRows+=`
ERROR[Prometheus Server] :: ${n}`}if(!this.noRows)try{const n=`${this.url}/proxy?url=${this.statusAPI}`,i=await Rt.get(n);i.status===200?i.data.data.groups.forEach(r=>{(r.name==="trinityx"||r.name==="trinityx_hw")&&(r.rules.forEach(s=>{s.alerts&&s.alerts.length>0&&s.alerts.forEach(o=>{const a=o.labels.hostname,l=!0;let c=null,u=null,f=null,d=null;const m=[],g=[],y=[],O=[],_=String(s.labels.nhc)==="true";if(a!==void 0&&s.state==="firing"&&(String(o.labels.disabled)==="false"||o.labels.disabled===void 0)){o.labels.category==="generic"&&(_===!0?c=!0:c=!1,m.push(o)),o.labels.category==="service"&&(_===!0?u=!0:u=!1,g.push(o)),o.labels.category==="hardware"&&(_===!0?f=!0:f=!1,y.push(o)),(o.labels.category!=="generic"&&o.labels.category!=="service"&&o.labels.category!=="hardware"||o.labels.category===void 0)&&(_===!0?d=!0:d=!1,O.push(o));const A=this.overview.find(P=>P.hostname===a);A?(c===!0?(A.genericRules=c,A.genericAlerts.push(...m)):c===!1&&A.genericRules!==!0&&(A.genericRules=c,A.genericAlerts.push(...m)),u===!0?(A.services=u,A.servicesAlerts.push(...g)):u===!1&&A.services!==!0&&(A.services=u,A.servicesAlerts.push(...g)),f===!0?(A.hardware=f,A.hardwareAlerts.push(...y)):f===!1&&A.hardware!==!0&&(A.hardware=f,A.hardwareAlerts.push(...y)),d===!0?(A.other=d,A.otherAlerts.push(...O)):d===!1&&A.other!==!0&&(A.other=d,A.otherAlerts.push(...O)),o.labels.alertname==="ServerDown"&&(A.state=!1)):this.overview.push({state:l,hostname:a,genericRules:c,services:u,hardware:f,other:d,ipmi:null,genericAlerts:[...m],servicesAlerts:[...g],hardwareAlerts:[...y],otherAlerts:[...O]})}})}),this.overview.length===0&&(this.noRows+=`
ERROR[Prometheus Server] :: There is only inactive alerts for TrinityX Group.`))}):(this.noRows+=`
ERROR[Prometheus Server] :: Error fetching Alerts from ${this.statusAPI} Status: ${i.status}.`,console.error("Error fetching rules:",i.status,i.data))}catch(n){n instanceof cv?this.noRows+=`
ERROR[Prometheus Server] :: ${n.message}: CODE:${n.code} URL:${(e=n.config)==null?void 0:e.url}`:n instanceof Error?this.noRows+=`
ERROR[Prometheus Server] :: ${n.message}`:this.noRows+=`
ERROR[Prometheus Server] :: ${n}`}this.updateShowSpinner(!1),await Dl(),this.refreshDataTable()},refreshDataTable(){const t=$("#dataTableOverview");Dl(()=>{t.DataTable({order:[[1,"asc"]],columnDefs:[{targets:2,type:"string"}],pageLength:25})}),lf("[data-tippy-content]")},updateShowSpinner(t){this.$emit("update:showSpinner",t)},startAutoReload(){this.autoReload&&!this.intervalId&&(this.intervalId=setInterval(this.fetchOverview,3e4))},stopAutoReload(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},toggleAutoReload(){this.autoReload=!this.autoReload,this.autoReload?this.startAutoReload():this.stopAutoReload()}}}),uF=di({...cF,__name:"TabOverview",setup(t){return(e,n)=>(Oe(),xe(Ot,null,[w("h4",PI,[n[1]||(n[1]=w("span",{class:"text-muted fw-light"}," Monitoring /",-1)),n[2]||(n[2]=Vt(" Overview ")),w("button",{style:{float:"right"},type:"button",class:Sn(["btn","btn-sm",e.autoReload?"btn-success":"btn-warning"]),onClick:n[0]||(n[0]=(...i)=>e.toggleAutoReload&&e.toggleAutoReload(...i))},$e(e.autoReload?"Stop Auto Reload":"Start Auto Reload"),3)]),e.noRows?(Oe(),xe("div",$I,[w("pre",null,$e(e.noRows),1),n[3]||(n[3]=w("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))])):nn("",!0),w("div",MI,[w("div",LI,[n[5]||(n[5]=w("div",{class:"alert alert-info alert-dismissible",role:"alert"},[w("div",{class:"row"},[w("div",{class:"col col-1"},[w("box-icon",{name:"circle",type:"solid",color:"#198754"})]),w("div",{class:"col col-1"},[w("i",null,[w("strong",null,"OK")])])]),w("div",{class:"row"},[w("div",{class:"col col-1"},[w("box-icon",{name:"circle",type:"solid",color:"#FFC107"})]),w("div",{class:"col col-11"},[w("i",null,[Vt("When Firing and NHC is "),w("strong",null,"Disabled"),Vt(".")])])]),w("div",{class:"row"},[w("div",{class:"col col-1"},[w("box-icon",{name:"circle",type:"solid",color:"#DC3545"})]),w("div",{class:"col col-11"},[w("i",null,[Vt("When Firing and NHC is "),w("strong",null,"Enabled"),Vt(".")])])]),w("div",{class:"row"},[w("div",{class:"col col-1"},[w("box-icon",{name:"circle",type:"solid",color:"#000000"})]),w("div",{class:"col col-11"},[w("i",null,[Vt("When Host is "),w("strong",null,"Down"),Vt(".")])])]),w("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})],-1)),e.overview.length?(Oe(),xe("div",NI,[w("table",II,[n[4]||(n[4]=w("thead",null,[w("tr",null,[w("th",null,"#"),w("th",null,"Node(s)"),w("th",null,"Generic Rules"),w("th",null,"Services"),w("th",null,"Node H/W"),w("th",null,"Other Rules")])],-1)),w("tbody",null,[(Oe(!0),xe(Ot,null,Gi(e.overview,(i,r)=>(Oe(),xe("tr",{key:i.hostname},[w("td",null,$e(r+1),1),w("td",{class:Sn({"text-danger":!i.state}),"data-tippy-content":i.state?`Node ${i.hostname} is UP.`:`Node ${i.hostname} is Down.`},$e(i.hostname),11,FI),w("td",null,[i.state===!1?(Oe(),xe(Ot,{key:0},[i.genericRules===null?(Oe(),xe("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,BI)):i.genericRules===!1?(Oe(),xe("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,HI)):i.genericRules===!0?(Oe(),xe("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,jI)):nn("",!0)],64)):(Oe(),xe(Ot,{key:1},[Et(Ff,{alerts:i.genericAlerts||[],hostname:i.hostname,ruleType:"Generic Rules",modalId:`${i.hostname}_Generic`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"]),i.genericRules===null?(Oe(),xe("box-icon",VI)):i.genericRules===!1?(Oe(),xe("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Generic`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${i.hostname} Rules NHC is Disabled.`},null,8,QI)):i.genericRules===!0?(Oe(),xe("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Generic`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${i.hostname} Rules NHC is Enabled.`},null,8,zI)):nn("",!0)],64))]),w("td",null,[i.state===!1?(Oe(),xe(Ot,{key:0},[i.services===null?(Oe(),xe("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,WI)):i.services===!1?(Oe(),xe("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,qI)):i.services===!0?(Oe(),xe("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,XI)):nn("",!0)],64)):(Oe(),xe(Ot,{key:1},[Et(Ff,{alerts:i.servicesAlerts||[],hostname:i.hostname,ruleType:"Service Rules",modalId:`${i.hostname}_Service`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"]),i.services===null?(Oe(),xe("box-icon",{key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":`Node ${i.hostname} Services are OK.`},null,8,UI)):i.services===!1?(Oe(),xe("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Service`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${i.hostname} Services NHC is Disabled.`},null,8,YI)):i.services===!0?(Oe(),xe("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Service`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${i.hostname} Services NHC is Enabled.`},null,8,GI)):nn("",!0)],64))]),w("td",null,[i.state===!1?(Oe(),xe(Ot,{key:0},[i.hardware===null?(Oe(),xe("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,KI)):i.hardware===!1?(Oe(),xe("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,JI)):i.hardware===!0?(Oe(),xe("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,ZI)):nn("",!0)],64)):(Oe(),xe(Ot,{key:1},[Et(Ff,{alerts:i.hardwareAlerts||[],hostname:i.hostname,ruleType:"Hardware Rules",modalId:`${i.hostname}_Hardware`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"]),i.hardware===null?(Oe(),xe("box-icon",{key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":`Node ${i.hostname} Hardware are OK.`},null,8,eF)):i.hardware===!1?(Oe(),xe("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Hardware`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${i.hostname} Hardware NHC is Disabled.`},null,8,tF)):i.hardware===!0?(Oe(),xe("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Hardware`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${i.hostname} Hardware NHC is Enabled.`},null,8,nF)):nn("",!0)],64))]),w("td",null,[i.state===!1?(Oe(),xe(Ot,{key:0},[i.other===null?(Oe(),xe("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,iF)):i.other===!1?(Oe(),xe("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,rF)):i.other===!0?(Oe(),xe("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,sF)):nn("",!0)],64)):(Oe(),xe(Ot,{key:1},[Et(Ff,{alerts:i.otherAlerts||[],hostname:i.hostname,ruleType:"Other Rules",modalId:`${i.hostname}_Other`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"]),i.other===null?(Oe(),xe("box-icon",{key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":`Node ${i.hostname} Other are OK.`},null,8,oF)):i.other===!1?(Oe(),xe("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Other`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${i.hostname} Other NHC is Disabled.`},null,8,aF)):i.other===!0?(Oe(),xe("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Other`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${i.hostname} Other NHC is Enabled.`},null,8,lF)):nn("",!0)],64))])]))),128))])])])):nn("",!0)])])],64))}}),fF=["id"],hF={class:"modal-dialog modal-xl"},dF={class:"modal-content"},pF={class:"modal-header"},mF={class:"modal-title",id:"modalLabel"},gF={style:{color:"blue"}},vF={class:"modal-body"},bF={class:"table table-striped table-bordered"},yF=["innerHTML"],OF=di({__name:"StatusAlerts",props:{alerts:{},modalId:{},ruleName:{}},emits:["html","modal-open","modal-close"],setup(t,{emit:e}){const n=t,i=e,r=Bt([]);return Ss(()=>n.alerts,async s=>{var o;try{r.value=[];for(const a of s){if(!((o=a==null?void 0:a.labels)!=null&&o.hostname)){r.value.push("");continue}const l=await new Promise(c=>{i("html",a.labels.hostname,c)});r.value.push(l)}}catch(a){console.error("Error parsing hostnames:",a),r.value=[]}},{immediate:!0}),Ea(()=>{const s=document.getElementById(n.modalId);s&&(s.addEventListener("shown.bs.modal",()=>i("modal-open")),s.addEventListener("hidden.bs.modal",()=>i("modal-close")))}),sp(()=>{const s=document.getElementById(n.modalId);s&&(s.removeEventListener("shown.bs.modal",()=>i("modal-open")),s.removeEventListener("hidden.bs.modal",()=>i("modal-close")))}),(s,o)=>(Oe(),xe("div",null,[w("div",{class:"modal fade",id:n.modalId,tabindex:"-1","aria-labelledby":"modalLabel","aria-hidden":"true"},[w("div",hF,[w("div",dF,[w("div",pF,[w("h5",mF,[o[0]||(o[0]=Vt("Alert Status for ")),w("span",gF,[w("i",null,$e(n.ruleName),1)])]),o[1]||(o[1]=w("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),w("div",vF,[w("table",bF,[o[2]||(o[2]=w("thead",null,[w("tr",null,[w("th",null,"#"),w("th",null,"Category"),w("th",null,"Class"),w("th",null,"Exporter"),w("th",null,"Hostname"),w("th",null,"Description")])],-1)),w("tbody",null,[(Oe(!0),xe(Ot,null,Gi(n.alerts,(a,l)=>(Oe(),xe("tr",{key:a.state},[w("td",null,$e(l+1),1),w("td",null,$e(a.labels.category),1),w("td",null,$e(a.labels.class),1),w("td",null,$e(a.labels.exporter),1),w("td",{innerHTML:r.value[l]},null,8,yF),w("td",null,$e(a.annotations.description),1)]))),128))])])]),o[3]||(o[3]=w("div",{class:"modal-footer"},[w("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])],8,fF)]))}}),xF=nc(OF,[["__scopeId","data-v-9b8e730c"]]),wF={class:"fw-bold py-3 mb-4"},_F={style:{"font-weight":"bold","font-size":"larger"}},SF={key:1,class:"table table-bordered table-striped table-hover table-responsive text-nowrap"},CF={id:"dataTable",class:"table table-bordered table-striped table-hover caption-top"},TF=["data-bs-target"],AF=["innerHTML"],jO={critical:1,danger:2,warning:3,info:4,none:5},kF=di({props:{url:{type:String,required:!0},statusAPI:{type:String,required:!0},alertURL:{type:String,required:!0}},data(){return{rows:[],alerts:[],noRows:"",noRowsType:!1,showPopup:!1,intervalId:null,autoReload:!0}},async mounted(){await this.fetchAlerts(),this.intervalId=setInterval(this.fetchAlerts,3e4)},beforeUnmount(){this.intervalId&&clearInterval(this.intervalId)},methods:{parseTimestamp(t){try{if(!t)return"";if(t.includes("Z00:00Z")&&(t=t.replace("Z00:00Z","Z")),t.endsWith("Z")&&(t=t.replace("Z","+00:00")),t.includes(".")){const s=t.split(".")[0];let o=t.split(".")[1];if(o=o.replace(/Z$/,""),o.includes("+")||o.includes("-")){let a=o.split(/[+-]/)[0];const l=o.split(/[+-]/)[1];a=a.substring(0,6),t=`${s}.${a}+${l}`}else t=`${s}.${o.substring(0,6)}`}const e=new Date(t),n=Intl.DateTimeFormat().resolvedOptions().timeZone,i=e.toISOString().split("T")[0],r=e.toTimeString().split(" ")[0];return`${i} ${r} ${n}`}catch(e){return console.error("Invalid timestamp:",t,e),""}},hostnameParser(t){let e="";return Array.isArray(t)?e=t.join("<br />"):typeof t=="string"?t.includes(",")||t.includes(";")?(t=t.replace(/\[|\]|\s/g,""),e=t.split(",").join("<br>")):e=t:e="",e},sortRowsBySeverity(){this.rows.sort((t,e)=>{const n=jO[t.severity]||5,i=jO[e.severity]||5;return n-i})},async fetchAlerts(){var t;this.rows=[],this.noRows="";try{const e=`${this.url}/proxy?url=${this.statusAPI}`,n=await Rt.get(e);n.status===200?n.data.data.groups.forEach(i=>{(i.name==="trinityx"||i.name==="trinityx_hw")&&i.rules.forEach(r=>{r.alerts&&r.alerts.length>0&&r.alerts.forEach(s=>{(String(s.labels.disabled)==="false"||s.labels.disabled===void 0)&&this.rows.push({rule:r.name,nhc:String(r.labels.nhc)==="true",state:r.state,severity:r.labels.severity,eventTime:this.parseTimestamp(r.lastEvaluation),hostname:this.hostnameParser(s.labels.hostname),exporter:s.labels.exporter,job:s.labels.job,alerts:r.alerts})})})}):(this.noRows+=`
ERROR[Prometheus Server] :: Error fetching Alerts from ${this.statusAPI} Status: ${n.status}.`,console.error("Error fetching rules:",n.status,n.data)),this.rows.length===0?(this.noRows+="SUCCESS[Prometheus Server] :: There is no firing alerts for TrinityX Group.",this.noRowsType=!0):this.sortRowsBySeverity()}catch(e){e instanceof cv?this.noRows+=`
ERROR[Prometheus Server] :: ${e.message}: CODE:${e.code} URL:${(t=e.config)==null?void 0:t.url}`:e instanceof Error?this.noRows+=`
ERROR[Prometheus Server] :: ${e.message}`:this.noRows+=`
ERROR[Prometheus Server] :: ${e}`}await Dl(),this.refreshDataTable()},refreshDataTable(){$("#dataTable").DataTable({pageLength:25})},startAutoReload(){this.autoReload&&!this.intervalId&&(this.intervalId=setInterval(this.fetchAlerts,3e4))},stopAutoReload(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},toggleAutoReload(){this.autoReload=!this.autoReload,this.autoReload?this.startAutoReload():this.stopAutoReload()}}}),EF=di({...kF,__name:"TabStatus",setup(t){return(e,n)=>(Oe(),xe(Ot,null,[w("h4",wF,[n[2]||(n[2]=w("span",{class:"text-muted fw-light"}," Monitoring /",-1)),n[3]||(n[3]=Vt(" Alerts ")),w("button",{style:{float:"right"},type:"button",class:Sn(["btn","btn-sm",e.autoReload?"btn-success":"btn-warning"]),onClick:n[0]||(n[0]=(...i)=>e.toggleAutoReload&&e.toggleAutoReload(...i))},$e(e.autoReload?"Stop Auto Reload":"Start Auto Reload"),3)]),e.noRows?(Oe(),xe("div",{key:0,class:Sn(["alert",e.noRowsType?"alert-success":"alert-danger","alert-dismissible"]),role:"alert"},[w("pre",_F,$e(e.noRows),1),n[4]||(n[4]=w("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))],2)):nn("",!0),e.rows.length?(Oe(),xe("div",SF,[w("table",CF,[n[5]||(n[5]=w("thead",null,[w("tr",null,[w("th",null,"#"),w("th",null,"Rule"),w("th",null,"State"),w("th",null,"Severity"),w("th",null,"NHC"),w("th",null,"Event Time"),w("th",null,"Hostname"),w("th",null,"Exporter"),w("th",null,"Job")])],-1)),w("tbody",null,[(Oe(!0),xe(Ot,null,Gi(e.rows,(i,r)=>(Oe(),xe("tr",{key:i.state},[w("td",null,$e(r+1),1),w("td",null,[Et(xF,{alerts:i.alerts||[],ruleName:i.rule,modalId:`Status_${r+1}`,onHtml:n[1]||(n[1]=(s,o)=>o(e.hostnameParser(s))),onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","ruleName","modalId","onModalOpen","onModalClose"]),w("a",{href:"#","data-bs-toggle":"modal","data-bs-target":`#Status_${r+1}`},$e(i.rule),9,TF)]),w("td",null,[w("span",{class:Sn(["badge me-1",{"bg-label-secondary":i.state==="inactive","bg-label-danger":i.state==="firing","bg-label-warning":i.state==="pending","bg-label-success":i.state==="active","bg-label-info":i.state==="suppressed"}])},$e(i.state==="active"?"firing":i.state),3)]),w("td",null,[w("span",{class:Sn(["badge me-1",{"bg-label-info":i.severity==="info","bg-label-warning":i.severity==="warning","bg-label-danger":i.severity==="danger","bg-label-dark":i.severity==="critical"}])},$e(i.severity),3)]),w("td",null,[w("span",{class:Sn(["badge me-1",{"bg-label-primary":i.nhc===!0,"bg-label-warning":i.nhc===!1||i.nhc===void 0}])},$e(i.nhc===!0),3)]),w("td",null,$e(i.eventTime),1),w("td",{innerHTML:i.hostname},null,8,AF),w("td",null,$e(i.exporter),1),w("td",null,$e(i.job),1)]))),128))])])])):nn("",!0)],64))}});let mv=[],FT=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?FT:mv).push(n=n+t[e])})();function DF(t){if(t<768)return!1;for(let e=0,n=mv.length;;){let i=e+n>>1;if(t<mv[i])n=i;else if(t>=FT[i])e=i+1;else return!0;if(e==n)return!1}}function VO(t){return t>=127462&&t<=127487}const QO=8205;function RF(t,e,n=!0,i=!0){return(n?BT:PF)(t,e,i)}function BT(t,e,n){if(e==t.length)return e;e&&HT(t.charCodeAt(e))&&jT(t.charCodeAt(e-1))&&e--;let i=Qm(t,e);for(e+=zO(i);e<t.length;){let r=Qm(t,e);if(i==QO||r==QO||n&&DF(r))e+=zO(r),i=r;else if(VO(r)){let s=0,o=e-2;for(;o>=0&&VO(Qm(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function PF(t,e,n){for(;e>0;){let i=BT(t,e-2,n);if(i<e)return i;e--}return 0}function Qm(t,e){let n=t.charCodeAt(e);if(!jT(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return HT(i)?(n-55296<<10)+(i-56320)+65536:n}function HT(t){return t>=56320&&t<57344}function jT(t){return t>=55296&&t<56320}function zO(t){return t<65536?1:2}class St{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,i){[e,n]=Fl(this,e,n);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(n,this.length,r,1),Wr.from(r,this.length-(n-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Fl(this,e,n);let i=[];return this.decompose(e,n,i,0),Wr.from(i,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new iu(this),s=new iu(e);for(let o=n,a=n;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new iu(this,e)}iterRange(e,n=this.length){return new VT(this,e,n)}iterLines(e,n){let i;if(e==null)i=this.iter();else{n==null&&(n=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new QT(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?St.empty:e.length<=32?new sn(e):Wr.from(sn.split(e,[]))}}class sn extends St{constructor(e,n=$F(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((n?i:a)>=e)return new MF(r,a,i,o);r=a+1,i++}}decompose(e,n,i,r){let s=e<=0&&n>=this.length?this:new sn(WO(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=Ah(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new sn(a,o.length+s.length));else{let l=a.length>>1;i.push(new sn(a.slice(0,l)),new sn(a.slice(l)))}}else i.push(s)}replace(e,n,i){if(!(i instanceof sn))return super.replace(e,n,i);[e,n]=Fl(this,e,n);let r=Ah(this.text,Ah(i.text,WO(this.text,0,e)),n),s=this.length+i.length-(n-e);return r.length<=32?new sn(r,s):Wr.from(sn.split(r,[]),s)}sliceString(e,n=this.length,i=`
`){[e,n]=Fl(this,e,n);let r="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&n>s&&(r+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return r}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(n.push(new sn(i,r)),i=[],r=-1);return r>-1&&n.push(new sn(i,r)),n}}class Wr extends St{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,i,r);r=a+1,i=l+1}}decompose(e,n,i,r){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let c=r&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?i.push(a):a.decompose(e-o,n-o,i,c)}o=l+1}}replace(e,n,i){if([e,n]=Fl(this,e,n),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[r]=l,new Wr(u,this.length-(n-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,i)}sliceString(e,n=this.length,i=`
`){[e,n]=Fl(this,e,n);let r="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&n>o&&(r+=a.sliceString(e-o,n-o,i)),o=l+1}return r}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Wr))return 0;let i=0,[r,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=n,s+=n){if(r==o||s==a)return i;let l=this.children[r],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,n);i+=l.length+1}}static from(e,n=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let m of e)i+=m.lines;if(i<32){let m=[];for(let g of e)g.flatten(m);return new sn(m,n)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,c=-1,u=[];function f(m){let g;if(m.lines>s&&m instanceof Wr)for(let y of m.children)f(y);else m.lines>o&&(l>o||!l)?(d(),a.push(m)):m instanceof sn&&l&&(g=u[u.length-1])instanceof sn&&m.lines+g.lines<=32?(l+=m.lines,c+=m.length+1,u[u.length-1]=new sn(g.text.concat(m.text),g.length+1+m.length)):(l+m.lines>r&&d(),l+=m.lines,c+=m.length+1,u.push(m))}function d(){l!=0&&(a.push(u.length==1?u[0]:Wr.from(u,c)),c=-1,l=u.length=0)}for(let m of e)f(m);return d(),a.length==1?a[0]:new Wr(a,n)}}St.empty=new sn([""],0);function $F(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Ah(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let a=t[s],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function WO(t,e,n){return Ah(t,[""],e,n)}class iu{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof sn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof sn?r.text.length:r.children.length;if(o==(n>0?a:0)){if(i==0)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[i]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof sn){let l=r.text[o+(n<0?-1:0)];if(this.offsets[i]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof sn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class VT{constructor(e,n,i){this.value="",this.done=!1,this.cursor=new iu(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*n,this.value=r.length<=i?r:n<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class QT{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:i,value:r}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(St.prototype[Symbol.iterator]=function(){return this.iter()},iu.prototype[Symbol.iterator]=VT.prototype[Symbol.iterator]=QT.prototype[Symbol.iterator]=function(){return this});class MF{constructor(e,n,i,r){this.from=e,this.to=n,this.number=i,this.text=r}get length(){return this.to-this.from}}function Fl(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Nn(t,e,n=!0,i=!0){return RF(t,e,n,i)}function LF(t){return t>=56320&&t<57344}function NF(t){return t>=55296&&t<56320}function bi(t,e){let n=t.charCodeAt(e);if(!NF(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return LF(i)?(n-55296<<10)+(i-56320)+65536:n}function ky(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function qr(t){return t<65536?1:2}const gv=/\r\n?|\n/;var Ln=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Ln||(Ln={}));class es{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];e+=i<0?this.sections[n]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,i=0,r=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,n=!1){vv(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];r<0?e.push(i,r):e.push(r,i)}return new es(e)}composeDesc(e){return this.empty?e:e.empty?this:zT(this,e)}mapDesc(e,n=!1){return e.empty?this:bv(this,e,n)}mapPos(e,n=-1,i=Ln.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=r+a;if(l<0){if(c>e)return s+(e-r);s+=a}else{if(i!=Ln.Simple&&c>=e&&(i==Ln.TrackDel&&r<e&&c>e||i==Ln.TrackBefore&&r<e||i==Ln.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==r||n<0?s:s+l;s+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,n=e){for(let i=0,r=0;i<this.sections.length&&r<=n;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=n&&a>=e)return r<e&&a>n?"cover":!0;r=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new es(e)}static create(e){return new es(e)}}class gn extends es{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return vv(this,(n,i,r,s,o)=>e=e.replace(r,r+(i-n),o),!1),e}mapDesc(e,n=!1){return bv(this,e,n,!0)}invert(e){let n=this.sections.slice(),i=[];for(let r=0,s=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a>=0){n[r]=a,n[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(St.empty);i.push(o?e.slice(s,s+o):St.empty)}s+=o}return new gn(n,i)}compose(e){return this.empty?e:e.empty?this:zT(this,e,!0)}map(e,n=!1){return e.empty?this:bv(this,e,n,!0)}iterChanges(e,n=!1){vv(this,e,n)}get desc(){return es.create(this.sections)}filter(e){let n=[],i=[],r=[],s=new Ou(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);Hn(r,u,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;Hn(n,u,f),f>0&&oo(i,n,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);Hn(n,u,-1),Hn(r,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new gn(n,i),filtered:es.create(r)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],r=this.sections[n+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,i){let r=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!r.length)return;o<n&&Hn(r,n-o,-1);let f=new gn(r,s);a=a?a.compose(f.map(a)):f,r=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof gn){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:f,to:d=f,insert:m}=u;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let g=m?typeof m=="string"?St.of(m.split(i||gv)):m:St.empty,y=g.length;if(f==d&&y==0)return;f<o&&l(),f>o&&Hn(r,f-o,-1),Hn(r,d-f,y),oo(s,r,g),o=d}}return c(e),l(!a),a}static empty(e){return new gn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;i.length<r;)i.push(St.empty);i[r]=St.of(s.slice(1)),n.push(s[0],i[r].length)}}}return new gn(n,i)}static createSet(e,n){return new gn(e,n)}}function Hn(t,e,n,i=!1){if(e==0&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:r>=0&&e==0&&t[r]==0?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function oo(t,e,n){if(n.length==0)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(St.empty);t.push(n)}}function vv(t,e,n){let i=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)r+=a,s+=a;else{let c=r,u=s,f=St.empty;for(;c+=a,u+=l,l&&i&&(f=f.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(r,c,s,u,f),r=c,s=u}}}function bv(t,e,n,i=!1){let r=[],s=i?[]:null,o=new Ou(t),a=new Ou(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Hn(r,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let c=a.len;for(Hn(r,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(Hn(r,0,o.ins),s&&oo(s,r,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let f=Math.min(u,a.len);c+=f,u-=f,a.forward(f)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;Hn(r,c,l<o.i?o.ins:0),s&&l<o.i&&oo(s,r,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?gn.createSet(r,s):es.create(r);throw new Error("Mismatched change set lengths")}}}function zT(t,e,n=!1){let i=[],r=n?[]:null,s=new Ou(t),o=new Ou(e);for(let a=!1;;){if(s.done&&o.done)return r?gn.createSet(i,r):es.create(i);if(s.ins==0)Hn(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)Hn(i,0,o.ins,a),r&&oo(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;Hn(i,l,u,a),r&&u&&oo(r,i,o.text)}else o.ins==-1?(Hn(i,s.off?0:s.len,l,a),r&&oo(r,i,s.textBit(l))):(Hn(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&oo(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}}}class Ou{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?St.empty:e[n]}textBit(e){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!e?St.empty:n[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Zo{constructor(e,n,i){this.from=e,this.to=n,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,n):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Zo(i,r,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return fe.range(e,n);let i=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return fe.range(this.anchor,i)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return fe.range(e.anchor,e.head)}static create(e,n,i){return new Zo(e,n,i)}}class fe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:fe.create(this.ranges.map(i=>i.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new fe([this.main],0)}addRange(e,n=!0){return fe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let i=this.ranges.slice();return i[n]=e,fe.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new fe(e.ranges.map(n=>Zo.fromJSON(n)),e.main)}static single(e,n=e){return new fe([fe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return fe.normalized(e.slice(),n);i=s.to}return new fe(e,n)}static cursor(e,n=0,i,r){return Zo.create(e,e,(n==0?0:n<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,n,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return n<e?Zo.create(n,e,48|s):Zo.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let i=e[n];e.sort((r,s)=>r.from-s.from),n=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=n&&n--,e.splice(--r,2,s.anchor>s.head?fe.range(l,a):fe.range(a,l))}}return new fe(e,n)}}function WT(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Ey=0;class Fe{constructor(e,n,i,r,s){this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=r,this.id=Ey++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Fe(e.combine||(n=>n),e.compareInput||((n,i)=>n===i),e.compare||(e.combine?(n,i)=>n===i:Dy),!!e.static,e.enables)}of(e){return new kh([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new kh(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new kh(e,this,2,n)}from(e,n){return n||(n=i=>i),this.compute([e],i=>n(i.field(e)))}}function Dy(t,e){return t==e||t.length==e.length&&t.every((n,i)=>n===e[i])}class kh{constructor(e,n,i,r){this.dependencies=e,this.facet=n,this.type=i,this.value=r,this.id=Ey++}dynamicSlot(e){var n;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||u.push(e[f.id]);return{create(f){return f.values[o]=i(f),1},update(f,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||yv(f,u)){let m=i(f);if(a?!qO(m,f.values[o],r):!r(m,f.values[o]))return f.values[o]=m,1}return 0},reconfigure:(f,d)=>{let m,g=d.config.address[s];if(g!=null){let y=ad(d,g);if(this.dependencies.every(O=>O instanceof Fe?d.facet(O)===f.facet(O):O instanceof An?d.field(O,!1)==f.field(O,!1):!0)||(a?qO(m=i(f),y,r):r(m=i(f),y)))return f.values[o]=y,0}else m=i(f);return f.values[o]=m,1}}}}function qO(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function yv(t,e){let n=!1;for(let i of e)ru(t,i)&1&&(n=!0);return n}function IF(t,e,n){let i=n.map(l=>t[l.id]),r=n.map(l=>l.type),s=i.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<i.length;u++){let f=ad(l,i[u]);if(r[u]==2)for(let d of f)c.push(d);else c.push(f)}return e.combine(c)}return{create(l){for(let c of i)ru(l,c);return l.values[o]=a(l),1},update(l,c){if(!yv(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=yv(l,i),f=c.config.facets[e.id],d=c.facet(e);if(f&&!u&&Dy(n,f))return l.values[o]=d,0;let m=a(l);return e.compare(m,d)?(l.values[o]=d,0):(l.values[o]=m,1)}}}const jf=Fe.define({static:!0});class An{constructor(e,n,i,r,s){this.id=e,this.createF=n,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let n=new An(Ey++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(jf).find(i=>i.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:i=>(i.values[n]=this.create(i),1),update:(i,r)=>{let s=i.values[n],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[n]=o,1)},reconfigure:(i,r)=>{let s=i.facet(jf),o=r.facet(jf),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(i.values[n]=a.create(i),1):r.config.address[this.id]!=null?(i.values[n]=r.field(this),0):(i.values[n]=this.create(i),1)}}}init(e){return[this,jf.of({field:this,create:e})]}get extension(){return this}}const Uo={lowest:4,low:3,default:2,high:1,highest:0};function Ac(t){return e=>new qT(e,t)}const $o={highest:Ac(Uo.highest),high:Ac(Uo.high),default:Ac(Uo.default),low:Ac(Uo.low),lowest:Ac(Uo.lowest)};class qT{constructor(e,n){this.inner=e,this.prec=n}}class xp{of(e){return new Ov(this,e)}reconfigure(e){return xp.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ov{constructor(e,n){this.compartment=e,this.inner=n}}class od{constructor(e,n,i,r,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,i){let r=[],s=Object.create(null),o=new Map;for(let d of FF(e,n,o))d instanceof An?r.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of r)a[d.id]=c.length<<1,c.push(m=>d.slot(m));let u=i==null?void 0:i.config.facets;for(let d in s){let m=s[d],g=m[0].facet,y=u&&u[d]||[];if(m.every(O=>O.type==0))if(a[g.id]=l.length<<1|1,Dy(y,m))l.push(i.facet(g));else{let O=g.combine(m.map(_=>_.value));l.push(i&&g.compare(O,i.facet(g))?i.facet(g):O)}else{for(let O of m)O.type==0?(a[O.id]=l.length<<1|1,l.push(O.value)):(a[O.id]=c.length<<1,c.push(_=>O.dynamicSlot(_)));a[g.id]=c.length<<1,c.push(O=>IF(O,g,m))}}let f=c.map(d=>d(a));return new od(e,o,f,a,l,s)}}function FF(t,e,n){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof Ov&&n.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Ov){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),s(c,a)}else if(o instanceof qT)s(o.inner,o.prec);else if(o instanceof An)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof kh)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,Uo.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,Uo.default),i.reduce((o,a)=>o.concat(a))}function ru(t,e){if(e&1)return 2;let n=e>>1,i=t.status[n];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function ad(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const XT=Fe.define(),xv=Fe.define({combine:t=>t.some(e=>e),static:!0}),UT=Fe.define({combine:t=>t.length?t[0]:void 0,static:!0}),YT=Fe.define(),GT=Fe.define(),KT=Fe.define(),JT=Fe.define({combine:t=>t.length?t[0]:!1});class Fs{constructor(e,n){this.type=e,this.value=n}static define(){return new BF}}class BF{of(e){return new Fs(this,e)}}class HF{constructor(e){this.map=e}of(e){return new st(this,e)}}class st{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new st(this.type,n)}is(e){return this.type==e}static define(e={}){return new HF(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(n);s&&i.push(s)}return i}}st.reconfigure=st.define();st.appendConfig=st.define();class un{constructor(e,n,i,r,s,o){this.startState=e,this.changes=n,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&WT(i,n.newLength),s.some(a=>a.type==un.time)||(this.annotations=s.concat(un.time.of(Date.now())))}static create(e,n,i,r,s,o){return new un(e,n,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(un.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}un.time=Fs.define();un.userEvent=Fs.define();un.addToHistory=Fs.define();un.remote=Fs.define();function jF(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else if(r<e.length)s=e[r++],o=e[r++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function ZT(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=gn.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=t.selection)===null||i===void 0?void 0:i.map(r),effects:st.mapEffects(t.effects,r).concat(st.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function wv(t,e,n){let i=e.selection,r=gl(e.annotations);return e.userEvent&&(r=r.concat(un.userEvent.of(e.userEvent))),{changes:e.changes instanceof gn?e.changes:gn.of(e.changes||[],n,t.facet(UT)),selection:i&&(i instanceof fe?i:fe.single(i.anchor,i.head)),effects:gl(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function eA(t,e,n){let i=wv(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;i=ZT(i,wv(t,e[s],o?i.changes.newLength:t.doc.length),o)}let r=un.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return QF(n?VF(r):r)}function VF(t){let e=t.startState,n=!0;for(let r of e.facet(YT)){let s=r(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:jF(n,s))}if(n!==!0){let r,s;if(n===!1)s=t.changes.invertedDesc,r=gn.empty(e.doc.length);else{let o=t.changes.filter(n);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=un.create(e,r,t.selection&&t.selection.map(s),st.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let i=e.facet(GT);for(let r=i.length-1;r>=0;r--){let s=i[r](t);s instanceof un?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof un?t=s[0]:t=eA(e,gl(s),!1)}return t}function QF(t){let e=t.startState,n=e.facet(KT),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=ZT(i,wv(e,s,t.changes.newLength),!0))}return i==t?t:un.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}const zF=[];function gl(t){return t==null?zF:Array.isArray(t)?t:[t]}var en=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(en||(en={}));const WF=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let _v;try{_v=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function qF(t){if(_v)return _v.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||WF.test(n)))return!0}return!1}function XF(t){return e=>{if(!/\S/.test(e))return en.Space;if(qF(e))return en.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return en.Word;return en.Other}}class _t{constructor(e,n,i,r,s,o){this.config=e,this.doc=n,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)ru(this,a<<1);this.computeSlot=null}field(e,n=!0){let i=this.config.address[e.id];if(i==null){if(n)throw new RangeError("Field is not present in this state");return}return ru(this,i),ad(this,i)}update(...e){return eA(this,e,!0)}applyTransaction(e){let n=this.config,{base:i,compartments:r}=n;for(let a of e.effects)a.is(xp.reconfigure)?(n&&(r=new Map,n.compartments.forEach((l,c)=>r.set(c,l)),n=null),r.set(a.value.compartment,a.value.extension)):a.is(st.reconfigure)?(n=null,i=a.value):a.is(st.appendConfig)&&(n=null,i=gl(i).concat(a.value));let s;n?s=e.startState.values.slice():(n=od.resolve(i,r,this),s=new _t(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(xv)?e.newSelection:e.newSelection.asSingle();new _t(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:fe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,i=e(n.ranges[0]),r=this.changes(i.changes),s=[i.range],o=gl(i.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(r);for(let d=0;d<a;d++)s[d]=s[d].map(u);let f=r.mapDesc(c,!0);s.push(l.range.map(f)),r=r.compose(u),o=st.mapEffects(o,u).concat(st.mapEffects(gl(l.effects),f))}return{changes:r,selection:fe.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof gn?e:gn.of(e,this.doc.length,this.facet(_t.lineSeparator))}toText(e){return St.of(e.split(this.facet(_t.lineSeparator)||gv))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(ru(this,n),ad(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof An&&this.config.address[r.id]!=null&&(n[i]=r.spec.toJSON(this.field(e[i]),this))}return n}static fromJSON(e,n={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return _t.create({doc:e.doc,selection:fe.fromJSON(e.selection),extensions:n.extensions?r.concat([n.extensions]):r})}static create(e={}){let n=od.resolve(e.extensions||[],new Map),i=e.doc instanceof St?e.doc:St.of((e.doc||"").split(n.staticFacet(_t.lineSeparator)||gv)),r=e.selection?e.selection instanceof fe?e.selection:fe.single(e.selection.anchor,e.selection.head):fe.single(0);return WT(r,i.length),n.staticFacet(xv)||(r=r.asSingle()),new _t(n,i,r,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(_t.tabSize)}get lineBreak(){return this.facet(_t.lineSeparator)||`
`}get readOnly(){return this.facet(JT)}phrase(e,...n){for(let i of this.facet(_t.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>n.length?i:n[s-1]})),e}languageDataAt(e,n,i=-1){let r=[];for(let s of this.facet(XT))for(let o of s(this,n,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return XF(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=Nn(n,o,!1);if(s(n.slice(l,o))!=en.Word)break;o=l}for(;a<r;){let l=Nn(n,a);if(s(n.slice(a,l))!=en.Word)break;a=l}return o==a?null:fe.range(o+i,a+i)}}_t.allowMultipleSelections=xv;_t.tabSize=Fe.define({combine:t=>t.length?t[0]:4});_t.lineSeparator=UT;_t.readOnly=JT;_t.phrases=Fe.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every(r=>t[r]==e[r])}});_t.languageData=XT;_t.changeFilter=YT;_t.transactionFilter=GT;_t.transactionExtender=KT;xp.reconfigure=st.define();function as(t,e,n={}){let i={};for(let r of t)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))i[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class xa{eq(e){return this==e}range(e,n=e){return Sv.create(e,n,this)}}xa.prototype.startSide=xa.prototype.endSide=0;xa.prototype.point=!1;xa.prototype.mapMode=Ln.TrackDel;let Sv=class tA{constructor(e,n,i){this.from=e,this.to=n,this.value=i}static create(e,n,i){return new tA(e,n,i)}};function Cv(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Ry{constructor(e,n,i,r){this.from=e,this.to=n,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,n,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,i,r){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,d,m;if(u==f){let g=n.mapPos(u,c.startSide,c.mapMode);if(g==null||(d=m=g,c.startSide!=c.endSide&&(m=n.mapPos(u,c.endSide),m<d)))continue}else if(d=n.mapPos(u,c.startSide),m=n.mapPos(f,c.endSide),d>m||d==m&&c.startSide>0&&c.endSide<=0)continue;(m-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(a=Math.max(a,m-d)),i.push(c),r.push(d-o),s.push(m-o))}return{mapped:i.length?new Ry(r,s,i,a):null,pos:o}}}class kt{constructor(e,n,i,r){this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=r}static create(e,n,i,r){return new kt(e,n,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(i&&(n=n.slice().sort(Cv)),this.isEmpty)return n.length?kt.of(n):this;let a=new nA(this,null,-1).goto(0),l=0,c=[],u=new Ds;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(Sv.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?kt.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),n.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:f}=l.map(a,e);u&&(r=Math.max(r,u.maxPoint),n.push(u),i.push(f))}}let s=this.nextLayer.map(e);return n.length==0?s:new kt(i,n,s||kt.empty,r)}between(e,n,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,i)===!1)return}this.nextLayer.between(e,n,i)}}iter(e=0){return xu.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return xu.from(e).goto(n)}static compare(e,n,i,r,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=XO(o,a,i),c=new kc(o,l,s),u=new kc(a,l,s);i.iterGaps((f,d,m)=>UO(c,f,u,d,m,r)),i.empty&&i.length==0&&UO(c,0,u,0,0,r)}static eq(e,n,i=0,r){r==null&&(r=999999999);let s=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),o=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=XO(s,o),l=new kc(s,a,0).goto(i),c=new kc(o,a,0).goto(i);for(;;){if(l.to!=c.to||!Tv(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,n,i,r,s=-1){let o=new kc(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let u=o.activeForPoint(o.to),f=o.pointFrom<n?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);r.point(a,c,o.point,u,f,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(r.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,n=!1){let i=new Ds;for(let r of e instanceof Sv?[e]:n?UF(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return kt.empty;let n=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=kt.empty;r=r.nextLayer)n=new kt(r.chunkPos,r.chunk,n,Math.max(r.maxPoint,n.maxPoint));return n}}kt.empty=new kt([],[],null,-1);function UF(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(Cv(e,i)>0)return t.slice().sort(Cv);e=i}return t}kt.empty.nextLayer=kt.empty;class Ds{finishChunk(e){this.chunks.push(new Ry(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new Ds)).add(e,n,i)}addInner(e,n,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+e,this.lastTo=n.to[i]+e,!0}finish(){return this.finishInner(kt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=kt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function XO(t,e,n){let i=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class nA{constructor(e,n,i,r=0){this.layer=e,this.skip=n,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=e+n.from[this.rangeIndex];if(this.from=i,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class xu{constructor(e){this.heap=e}static from(e,n=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new nA(o,n,i,s));return r.length==1?r[0]:new xu(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let i of this.heap)i.goto(e,n);for(let i=this.heap.length>>1;i>=0;i--)zm(this.heap,i);return this.next(),this}forward(e,n){for(let i of this.heap)i.forward(e,n);for(let i=this.heap.length>>1;i>=0;i--)zm(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),zm(this.heap,0)}}}function zm(t,e){for(let n=t[e];;){let i=(e<<1)+1;if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class kc{constructor(e,n,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=xu.from(e,n,i)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Vf(this.active,e),Vf(this.activeTo,e),Vf(this.activeRank,e),this.minActive=YO(this.active,this.activeTo)}addActive(e){let n=0,{value:i,to:r,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||r-this.activeTo[n])>0;)n++;Qf(this.active,n,i),Qf(this.activeTo,n,r),Qf(this.activeRank,n,s),e&&Qf(e,n,this.cursor.from),this.minActive=YO(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Vf(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(e){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)n++;return n}}function UO(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,a=i,l=i-e;for(;;){let c=t.to+l-n.to,u=c||t.endSide-n.endSide,f=u<0?t.to+l:n.to,d=Math.min(f,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Tv(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,d,t.point,n.point):d>a&&!Tv(t.active,n.active)&&s.compareRange(a,d,t.active,n.active),f>o)break;(c||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(f),a=f,u<=0&&t.next(),u>=0&&n.next()}}function Tv(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Vf(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Qf(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function YO(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function oc(t,e,n=t.length){let i=0;for(let r=0;r<n&&r<t.length;)t.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Nn(t,r));return i}function Av(t,e,n,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=t.charCodeAt(r)==9?n-s%n:1,r=Nn(t,r)}return i===!0?-1:t.length}const kv="",GO=typeof Symbol>"u"?"__"+kv:Symbol.for(kv),Ev=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),KO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xo{constructor(e,n){this.rules=[];let{finish:i}=n||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],f=/^@(\w+)\b/.exec(o[0]),d=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let m in a){let g=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(y=>o.map(O=>y.replace(/&/,O))).reduce((y,O)=>y.concat(O)),g,l);else if(g&&typeof g=="object"){if(!f)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(r(m),g,u,d)}else g!=null&&u.push(m.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(u.length||d)&&l.push((i&&!f&&!c?o.map(i):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=KO[GO]||1;return KO[GO]=e+1,kv+e.toString(36)}static mount(e,n,i){let r=e[Ev],s=i&&i.nonce;r?s&&r.setNonce(s):r=new YF(e,s),r.mount(Array.isArray(n)?n:[n],e)}}let JO=new Map;class YF{constructor(e,n){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=JO.get(i);if(s)return e[Ev]=s;this.sheet=new r.CSSStyleSheet,JO.set(i,this)}else this.styleTag=i.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Ev]=this}mount(e,n){let i=this.sheet,r=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let c=0;c<a.rules.length;c++)i.insertRule(a.rules[c],r++)}else{for(;s<l;)r+=this.modules[s++].rules.length;r+=a.rules.length,s++}}if(i)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var wo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},wu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},GF=typeof navigator<"u"&&/Mac/.test(navigator.platform),KF=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Mn=0;Mn<10;Mn++)wo[48+Mn]=wo[96+Mn]=String(Mn);for(var Mn=1;Mn<=24;Mn++)wo[Mn+111]="F"+Mn;for(var Mn=65;Mn<=90;Mn++)wo[Mn]=String.fromCharCode(Mn+32),wu[Mn]=String.fromCharCode(Mn);for(var Wm in wo)wu.hasOwnProperty(Wm)||(wu[Wm]=wo[Wm]);function JF(t){var e=GF&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||KF&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?wu:wo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function _u(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Dv(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Eh(t,e){if(!e.anchorNode)return!1;try{return Dv(t,e.anchorNode)}catch{return!1}}function Su(t){return t.nodeType==3?_a(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function su(t,e,n,i){return n?ZO(t,e,n,i,-1)||ZO(t,e,n,i,1):!1}function wa(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function ld(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function ZO(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:os(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=wa(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=r<0?os(t):0}else return!1}}function os(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function wp(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function ZF(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function iA(t,e){let n=e.width/t.offsetWidth,i=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-t.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}function eB(t,e,n,i,r,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,f=!1;u&&!f;)if(u.nodeType==1){let d,m=u==l.body,g=1,y=1;if(m)d=ZF(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(f=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let A=u.getBoundingClientRect();({scaleX:g,scaleY:y}=iA(u,A)),d={left:A.left,right:A.left+u.clientWidth*g,top:A.top,bottom:A.top+u.clientHeight*y}}let O=0,_=0;if(r=="nearest")e.top<d.top?(_=-(d.top-e.top+o),n>0&&e.bottom>d.bottom+_&&(_=e.bottom-d.bottom+_+o)):e.bottom>d.bottom&&(_=e.bottom-d.bottom+o,n<0&&e.top-_<d.top&&(_=-(d.top+_-e.top+o)));else{let A=e.bottom-e.top,P=d.bottom-d.top;_=(r=="center"&&A<=P?e.top+A/2-P/2:r=="start"||r=="center"&&n<0?e.top-o:e.bottom-P+o)-d.top}if(i=="nearest"?e.left<d.left?(O=-(d.left-e.left+s),n>0&&e.right>d.right+O&&(O=e.right-d.right+O+s)):e.right>d.right&&(O=e.right-d.right+s,n<0&&e.left<d.left+O&&(O=-(d.left+O-e.left+s))):O=(i=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:i=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,O||_)if(m)c.scrollBy(O,_);else{let A=0,P=0;if(_){let T=u.scrollTop;u.scrollTop+=_/y,P=(u.scrollTop-T)*y}if(O){let T=u.scrollLeft;u.scrollLeft+=O/g,A=(u.scrollLeft-T)*g}e={left:e.left-A,top:e.top-P,right:e.right-A,bottom:e.bottom-P},A&&Math.abs(A-O)<1&&(i="nearest"),P&&Math.abs(P-_)<1&&(r="nearest")}if(m)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function tB(t){let e=t.ownerDocument,n,i;for(let r=t.parentNode;r&&!(r==e.body||n&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!n&&r.scrollWidth>r.clientWidth&&(n=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:n,y:i}}class nB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:i}=e;this.set(n,Math.min(e.anchorOffset,n?os(n):0),i,Math.min(e.focusOffset,i?os(i):0))}set(e,n,i,r){this.anchorNode=e,this.anchorOffset=n,this.focusNode=i,this.focusOffset=r}}let ja=null;function rA(t){if(t.setActive)return t.setActive();if(ja)return t.focus(ja);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(ja==null?{get preventScroll(){return ja={preventScroll:!0},!0}}:void 0),!ja){ja=!1;for(let n=0;n<e.length;){let i=e[n++],r=e[n++],s=e[n++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let ex;function _a(t,e,n=e){let i=ex||(ex=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function vl(t,e,n,i){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function iB(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function sA(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function rB(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,os(n));;)if(i){if(n.nodeType!=1)return!1;let r=n.childNodes[i-1];r.contentEditable=="false"?i--:(n=r,i=os(n))}else{if(n==t)return!0;i=wa(n),n=n.parentNode}}function oA(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function aA(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i>0)return{node:n,offset:i};if(n.nodeType==1&&i>0){if(n.contentEditable=="false")return null;n=n.childNodes[i-1],i=os(n)}else if(n.parentNode&&!ld(n))i=wa(n),n=n.parentNode;else return null}}function lA(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i<n.nodeValue.length)return{node:n,offset:i};if(n.nodeType==1&&i<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[i],i=0}else if(n.parentNode&&!ld(n))i=wa(n)+1,n=n.parentNode;else return null}}class Wn{constructor(e,n,i=!0){this.node=e,this.offset=n,this.precise=i}static before(e,n){return new Wn(e.parentNode,wa(e),n)}static after(e,n){return new Wn(e.parentNode,wa(e)+1,n)}}const Py=[];class Qt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let a=Qt.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&s!=o.dom&&(n.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=tx(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&n&&n.node==i&&(n.written=!0);s;)s=tx(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,n),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let i;if(e==this.dom)i=this.dom.childNodes[n];else{let r=os(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Qt.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,u=i;l<this.children.length;l++){let f=this.children[l],d=c+f.length;if(c<e&&d>n)return f.domBoundsAround(e,n,c);if(d>=e&&r==-1&&(r=l,s=c),c>n&&f.dom.parentNode==this.dom){o=l,a=u;break}u=d,c=d+f.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,i=Py){this.markDirty();for(let r=e;r<n;r++){let s=this.children[r];s.parent==this&&i.indexOf(s)<0&&s.destroy()}i.length<250?this.children.splice(e,n-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(n));for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new cA(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Qt.prototype.breakAfter=0;function tx(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class cA{constructor(e,n,i){this.children=e,this.pos=n,this.i=i,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function uA(t,e,n,i,r,s,o,a,l){let{children:c}=t,u=c.length?c[e]:null,f=s.length?s[s.length-1]:null,d=f?f.breakAfter:o;if(!(e==i&&u&&!o&&!d&&s.length<2&&u.merge(n,r,s.length?f:null,n==0,a,l))){if(i<c.length){let m=c[i];m&&(r<m.length||m.breakAfter&&(f!=null&&f.breakAfter))?(e==i&&(m=m.split(r),r=0),!d&&f&&m.merge(0,r,f,!0,0,l)?s[s.length-1]=m:((r||m.children.length&&!m.children[0].length)&&m.merge(0,r,null,!1,0,l),s.push(m))):m!=null&&m.breakAfter&&(f?f.breakAfter=1:o=1),i++}for(u&&(u.breakAfter=o,n>0&&(!o&&s.length&&u.merge(n,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function fA(t,e,n,i,r,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:u}=o.findPos(e,-1),f=e-n;for(let d of i)f+=d.length;t.length+=f,uA(t,c,u,a,l,i,0,r,s)}let yi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Rv=typeof document<"u"?document:{documentElement:{style:{}}};const Pv=/Edge\/(\d+)/.exec(yi.userAgent),hA=/MSIE \d/.test(yi.userAgent),$v=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yi.userAgent),_p=!!(hA||$v||Pv),nx=!_p&&/gecko\/(\d+)/i.test(yi.userAgent),qm=!_p&&/Chrome\/(\d+)/.exec(yi.userAgent),ix="webkitFontSmoothing"in Rv.documentElement.style,dA=!_p&&/Apple Computer/.test(yi.vendor),rx=dA&&(/Mobile\/\w+/.test(yi.userAgent)||yi.maxTouchPoints>2);var Ie={mac:rx||/Mac/.test(yi.platform),windows:/Win/.test(yi.platform),linux:/Linux|X11/.test(yi.platform),ie:_p,ie_version:hA?Rv.documentMode||6:$v?+$v[1]:Pv?+Pv[1]:0,gecko:nx,gecko_version:nx?+(/Firefox\/(\d+)/.exec(yi.userAgent)||[0,0])[1]:0,chrome:!!qm,chrome_version:qm?+qm[1]:0,ios:rx,android:/Android\b/.test(yi.userAgent),webkit:ix,safari:dA,webkit_version:ix?+(/\bAppleWebKit\/(\d+)/.exec(yi.userAgent)||[0,0])[1]:0,tabSize:Rv.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const sB=256;class Sr extends Qt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,i){return this.flags&8||i&&(!(i instanceof Sr)||this.length-(n-e)+i.length>sB||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Sr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Wn(this.dom,e)}domBoundsAround(e,n,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return oB(this.dom,e,n)}}class Rs extends Qt{constructor(e,n=[],i=0){super(),this.mark=e,this.children=n,this.length=i;for(let r of n)r.setParent(this)}setAttrs(e){if(sA(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,i,r,s,o){return i&&(!(i instanceof Rs&&i.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(fA(this,e,n,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&n.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Rs(this.mark,n,o)}domAtPos(e){return pA(this,e)}coordsAt(e,n){return gA(this,e,n)}}function oB(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&n<0||e==i&&n>=0?Ie.chrome||Ie.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):n<0?r--:s<i&&s++;let a=_a(t,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return Ie.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?wp(l,o<0):l||null}class ao extends Qt{static create(e,n,i){return new ao(e,n,i)}constructor(e,n,i){super(),this.widget=e,this.length=n,this.side=i,this.prevWidget=null}split(e){let n=ao.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,i,r,s,o){return i&&(!(i instanceof ao)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}become(e){return e instanceof ao&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return St.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,i=n&&n.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):St.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Wn.before(this.dom):Wn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return wp(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Bl extends Qt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Bl&&e.side==this.side}split(){return new Bl(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Wn.before(this.dom):Wn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return St.empty}get isHidden(){return!0}}Sr.prototype.children=ao.prototype.children=Bl.prototype.children=Py;function pA(t,e){let n=t.dom,{children:i}=t,r=0;for(let s=0;r<i.length;r++){let o=i[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Wn(n,0)}function mA(t,e,n){let i,{children:r}=t;n>0&&e instanceof Rs&&r.length&&(i=r[r.length-1])instanceof Rs&&i.mark.eq(e.mark)?mA(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function gA(t,e,n){let i=null,r=-1,s=null,o=-1;function a(c,u){for(let f=0,d=0;f<c.children.length&&d<=u;f++){let m=c.children[f],g=d+m.length;g>=u&&(m.children.length?a(m,u-d):(!s||s.isHidden&&n>0)&&(g>u||d==g&&m.getSide()>0)?(s=m,o=u-d):(d<u||d==g&&m.getSide()<0&&!m.isHidden)&&(i=m,r=u-d)),d=g}}a(t,e);let l=(n<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?r:o),n):aB(t)}function aB(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Su(e);return n[n.length-1]||null}function Mv(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const sx=Object.create(null);function cd(t,e,n){if(t==e)return!0;t||(t=sx),e||(e=sx);let i=Object.keys(t),r=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=r.length-(n&&r.indexOf(n)>-1?1:0))return!1;for(let s of i)if(s!=n&&(r.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function Lv(t,e,n){let i=!1;if(e)for(let r in e)n&&r in n||(i=!0,r=="style"?t.style.cssText="":t.removeAttribute(r));if(n)for(let r in n)e&&e[r]==n[r]||(i=!0,r=="style"?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i}function lB(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}class Bs{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var fi=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(fi||(fi={}));class Ue extends xa{constructor(e,n,i,r){super(),this.startSide=e,this.endSide=n,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new cf(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return n+=i&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new _o(e,n,n,i,e.widget||null,!1)}static replace(e){let n=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=vA(e,n);i=(s?n?-3e8:-1:5e8)-1,r=(o?n?2e8:1:-6e8)+1}return new _o(e,i,r,n,e.widget||null,!0)}static line(e){return new uf(e)}static set(e,n=!1){return kt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ue.none=kt.empty;class cf extends Ue{constructor(e){let{start:n,end:i}=vA(e);super(n?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,i;return this==e||e instanceof cf&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&cd(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}cf.prototype.point=!1;class uf extends Ue{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof uf&&this.spec.class==e.spec.class&&cd(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}uf.prototype.mapMode=Ln.TrackBefore;uf.prototype.point=!0;class _o extends Ue{constructor(e,n,i,r,s,o){super(n,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?n<=0?Ln.TrackBefore:Ln.TrackAfter:Ln.TrackDel}get type(){return this.startSide!=this.endSide?fi.WidgetRange:this.startSide<=0?fi.WidgetBefore:fi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof _o&&cB(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}_o.prototype.point=!0;function vA(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return n==null&&(n=t.inclusive),i==null&&(i=t.inclusive),{start:n??e,end:i??e}}function cB(t,e){return t==e||!!(t&&e&&t.compare(e))}function Dh(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}class ln extends Qt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,i,r,s,o){if(i){if(!(i instanceof ln))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),fA(this,e,n,i?i.children.slice():[],s,o),!0}split(e){let n=new ln;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i,off:r}=this.childPos(e);r&&(n.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)n.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){cd(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){mA(this,e,n)}addLineDeco(e){let n=e.spec.attributes,i=e.spec.class;n&&(this.attrs=Mv(n,this.attrs||{})),i&&(this.attrs=Mv({class:i},this.attrs||{}))}domAtPos(e){return pA(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var i;this.dom?this.flags&4&&(sA(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Lv(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let r=this.dom.lastChild;for(;r&&Qt.get(r)instanceof Rs;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=Qt.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!Ie.ios||!this.children.some(s=>s instanceof Sr))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let i of this.children){if(!(i instanceof Sr)||/[^ -~]/.test(i.text))return null;let r=Su(i.dom);if(r.length!=1)return null;e+=r[0].width,n=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let i=gA(this,e,n);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return e instanceof ln&&this.children.length==0&&e.children.length==0&&cd(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=n){if(s instanceof ln)return s;if(o>n)break}r=o+s.breakAfter}return null}}class Ts extends Qt{constructor(e,n,i){super(),this.widget=e,this.length=n,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,n,i,r,s,o){return i&&(!(i instanceof Ts)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Wn.before(this.dom):Wn.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let i=new Ts(this.widget,n,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Py}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):St.empty}domBoundsAround(){return null}become(e){return e instanceof Ts&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);return i||(this.widget instanceof Nv?null:wp(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:i}=this.deco;return n==i?!1:e<0?n<0:i>0}}class Nv extends Bs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ou{constructor(e,n,i,r){this.doc=e,this.pos=n,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ts&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ln),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(zf(new Bl(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ts)&&this.getLine()}buildText(e,n,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-i)),this.getLine().append(zf(new Sr(this.text.slice(this.textOff,this.textOff+r)),n),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,n,i,r){this.buildText(n-e,i,r),this.pos=n,this.openStart<0&&(this.openStart=r)}point(e,n,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof _o){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(i instanceof _o)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ts(i.widget||Hl.block,a,i));else{let l=ao.create(i.widget||Hl.inline,a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<n||i.startSide>0),u=!l.isEditable&&(e<n||s>r.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(f.append(zf(new Bl(1),r),s),s=r.length+Math.max(0,s-r.length)),f.append(zf(l,r),s),this.atCursorPos=u,this.pendingBuffer=u?e<n||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,i,r,s){let o=new ou(e,n,i,s);return o.openEnd=kt.spans(r,n,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function zf(t,e){for(let n of e)t=new Rs(n,[t],t.length);return t}class Hl extends Bs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Hl.inline=new Hl("span");Hl.block=new Hl("div");var Jt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Jt||(Jt={}));const Sa=Jt.LTR,$y=Jt.RTL;function bA(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const uB=bA("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),fB=bA("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Iv=Object.create(null),Fr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Iv[e]=n,Iv[n]=-e}function yA(t){return t<=247?uB[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?fB[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const hB=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class lo{get dir(){return this.level%2?$y:Sa}constructor(e,n,i){this.from=e,this.to=n,this.level=i}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==i)return o;(s<0||(r!=0?r<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function OA(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!OA(i.inner,r.inner))return!1}return!0}const Ht=[];function dB(t,e,n,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:n,l=s?256:r;for(let c=o,u=l,f=l;c<a;c++){let d=yA(t.charCodeAt(c));d==512?d=u:d==8&&f==4&&(d=16),Ht[c]=d==4?2:d,d&7&&(f=d),u=d}for(let c=o,u=l,f=l;c<a;c++){let d=Ht[c];if(d==128)c<a-1&&u==Ht[c+1]&&u&24?d=Ht[c]=u:Ht[c]=256;else if(d==64){let m=c+1;for(;m<a&&Ht[m]==64;)m++;let g=c&&u==8||m<n&&Ht[m]==8?f==1?1:8:256;for(let y=c;y<m;y++)Ht[y]=g;c=m-1}else d==8&&f==1&&(Ht[c]=1);u=d,d&7&&(f=d)}}}function pB(t,e,n,i,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let c=o?i[o-1].to:e,u=o<i.length?i[o].from:n;for(let f=c,d,m,g;f<u;f++)if(m=Iv[d=t.charCodeAt(f)])if(m<0){for(let y=a-3;y>=0;y-=3)if(Fr[y+1]==-m){let O=Fr[y+2],_=O&2?r:O&4?O&1?s:r:0;_&&(Ht[f]=Ht[Fr[y]]=_),a=y;break}}else{if(Fr.length==189)break;Fr[a++]=f,Fr[a++]=d,Fr[a++]=l}else if((g=Ht[f])==2||g==1){let y=g==r;l=y?0:1;for(let O=a-3;O>=0;O-=3){let _=Fr[O+2];if(_&2)break;if(y)Fr[O+2]|=2;else{if(_&4)break;Fr[O+2]|=4}}}}}function mB(t,e,n,i){for(let r=0,s=i;r<=n.length;r++){let o=r?n[r-1].to:t,a=r<n.length?n[r].from:e;for(let l=o;l<a;){let c=Ht[l];if(c==256){let u=l+1;for(;;)if(u==a){if(r==n.length)break;u=n[r++].to,a=r<n.length?n[r].from:e}else if(Ht[u]==256)u++;else break;let f=s==1,d=(u<e?Ht[u]:i)==1,m=f==d?f?1:2:i;for(let g=u,y=r,O=y?n[y-1].to:t;g>l;)g==O&&(g=n[--y].from,O=y?n[y-1].to:t),Ht[--g]=m;l=u}else s=c,l++}}}function Fv(t,e,n,i,r,s,o){let a=i%2?2:1;if(i%2==r%2)for(let l=e,c=0;l<n;){let u=!0,f=!1;if(c==s.length||l<s[c].from){let y=Ht[l];y!=a&&(u=!1,f=y==16)}let d=!u&&a==1?[]:null,m=u?i:i+1,g=l;e:for(;;)if(c<s.length&&g==s[c].from){if(f)break e;let y=s[c];if(!u)for(let O=y.to,_=c+1;;){if(O==n)break e;if(_<s.length&&s[_].from==O)O=s[_++].to;else{if(Ht[O]==a)break e;break}}if(c++,d)d.push(y);else{y.from>l&&o.push(new lo(l,y.from,m));let O=y.direction==Sa!=!(m%2);Bv(t,O?i+1:i,r,y.inner,y.from,y.to,o),l=y.to}g=y.to}else{if(g==n||(u?Ht[g]!=a:Ht[g]==a))break;g++}d?Fv(t,l,g,i+1,r,d,o):l<g&&o.push(new lo(l,g,m)),l=g}else for(let l=n,c=s.length;l>e;){let u=!0,f=!1;if(!c||l>s[c-1].to){let y=Ht[l-1];y!=a&&(u=!1,f=y==16)}let d=!u&&a==1?[]:null,m=u?i:i+1,g=l;e:for(;;)if(c&&g==s[c-1].to){if(f)break e;let y=s[--c];if(!u)for(let O=y.from,_=c;;){if(O==e)break e;if(_&&s[_-1].to==O)O=s[--_].from;else{if(Ht[O-1]==a)break e;break}}if(d)d.push(y);else{y.to<l&&o.push(new lo(y.to,l,m));let O=y.direction==Sa!=!(m%2);Bv(t,O?i+1:i,r,y.inner,y.from,y.to,o),l=y.from}g=y.from}else{if(g==e||(u?Ht[g-1]!=a:Ht[g-1]==a))break;g--}d?Fv(t,g,l,i+1,r,d,o):g<l&&o.push(new lo(g,l,m)),l=g}}function Bv(t,e,n,i,r,s,o){let a=e%2?2:1;dB(t,r,s,i,a),pB(t,r,s,i,a),mB(r,s,i,a),Fv(t,r,s,e,n,i,o)}function gB(t,e,n){if(!t)return[new lo(0,0,e==$y?1:0)];if(e==Sa&&!n.length&&!hB.test(t))return xA(t.length);if(n.length)for(;t.length>Ht.length;)Ht[Ht.length]=256;let i=[],r=e==Sa?0:1;return Bv(t,r,r,n,0,t.length,i),i}function xA(t){return[new lo(0,t,0)]}let wA="";function vB(t,e,n,i,r){var s;let o=i.head-t.from,a=lo.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],c=l.side(r,n);if(o==c){let d=a+=r?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!r,n),c=l.side(r,n)}let u=Nn(t.text,o,l.forward(r,n));(u<l.from||u>l.to)&&(u=c),wA=t.text.slice(Math.min(o,u),Math.max(o,u));let f=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return f&&u==c&&f.level+(r?0:1)<l.level?fe.cursor(f.side(!r,n)+t.from,f.forward(r,n)?1:-1,f.level):fe.cursor(u+t.from,l.forward(r,n)?-1:1,l.level)}function bB(t,e,n){for(let i=e;i<n;i++){let r=yA(t.charCodeAt(i));if(r==1)return Sa;if(r==2||r==4)return $y}return Sa}const _A=Fe.define(),SA=Fe.define(),CA=Fe.define(),TA=Fe.define(),Hv=Fe.define(),AA=Fe.define(),kA=Fe.define(),My=Fe.define(),Ly=Fe.define(),EA=Fe.define({combine:t=>t.some(e=>e)}),DA=Fe.define({combine:t=>t.some(e=>e)}),RA=Fe.define();class bl{constructor(e,n="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=n,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new bl(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new bl(fe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Wf=st.define({map:(t,e)=>t.map(e)}),PA=st.define();function li(t,e,n){let i=t.facet(TA);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const xs=Fe.define({combine:t=>t.length?t[0]:!0});let yB=0;const Hc=Fe.define();class on{constructor(e,n,i,r,s){this.id=e,this.create=n,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,n){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=n||{};return new on(yB++,e,i,r,a=>{let l=[Hc.of(a)];return o&&l.push(Cu.of(c=>{let u=c.plugin(a);return u?o(u):Ue.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return on.define(i=>new e(i),n)}}class Xm{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(i){if(li(n.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){li(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(i){li(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $A=Fe.define(),Ny=Fe.define(),Cu=Fe.define(),MA=Fe.define(),Iy=Fe.define(),LA=Fe.define();function ox(t,e){let n=t.state.facet(LA);if(!n.length)return n;let i=n.map(s=>s instanceof Function?s(t):s),r=[];return kt.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,f=r;for(let d=a.length-1;d>=0;d--,l--){let m=a[d].spec.bidiIsolate,g;if(m==null&&(m=bB(e.text,c,u)),l>0&&f.length&&(g=f[f.length-1]).to==c&&g.direction==m)g.to=u,f=g.inner;else{let y={from:c,to:u,direction:m,inner:[]};f.push(y),f=y.inner}}}}),r}const NA=Fe.define();function Fy(t){let e=0,n=0,i=0,r=0;for(let s of t.state.facet(NA)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:n,top:i,bottom:r}}const jc=Fe.define();class nr{constructor(e,n,i,r){this.fromA=e,this.toA=n,this.fromB=i,this.toB=r}join(e){return new nr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,i=this;for(;n>0;n--){let r=e[n-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(n-1,1)}}return e.splice(n,0,i),e}static extendWithRanges(e,n){if(n.length==0)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],c=o-a,u=l?l.fromB:1e9;for(;s<n.length&&n[s]<u;){let f=n[s],d=n[s+1],m=Math.max(a,f),g=Math.min(u,d);if(m<=g&&new nr(m+c,g+c,m,g).addToSet(i),d>u)break;s+=2}if(!l)return i;new nr(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class ud{constructor(e,n,i){this.view=e,this.state=n,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=gn.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new nr(s,o,a,l))),this.changedRanges=r}static create(e,n,i){return new ud(e,n,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class ax extends Qt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ue.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ln],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new nr(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?r=this.domChanged.newSel.head:!TB(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?xB(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;i=new nr(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Ie.ie||Ie.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=SB(o,a,e.changes);return i=nr.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Ie.chrome||Ie.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ts&&o.widget instanceof Nv&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,n,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:f}=a,d,m,g,y;if(i&&i.range.fromB<f&&i.range.toB>u){let T=ou.build(this.view.state.doc,u,i.range.fromB,this.decorations,this.dynamicDecorationMap),B=ou.build(this.view.state.doc,i.range.toB,f,this.decorations,this.dynamicDecorationMap);m=T.breakAtStart,g=T.openStart,y=B.openEnd;let I=this.compositionView(i);B.breakAtStart?I.breakAfter=1:B.content.length&&I.merge(I.length,I.length,B.content[0],!1,B.openStart,0)&&(I.breakAfter=B.content[0].breakAfter,B.content.shift()),T.content.length&&I.merge(0,0,T.content[T.content.length-1],!0,0,T.openEnd)&&T.content.pop(),d=T.content.concat(I).concat(B.content)}else({content:d,breakAtStart:m,openStart:g,openEnd:y}=ou.build(this.view.state.doc,u,f,this.decorations,this.dynamicDecorationMap));let{i:O,off:_}=s.findPos(c,1),{i:A,off:P}=s.findPos(l,-1);uA(this,A,P,O,_,d,m,g,y)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let i of n.effects)i.is(PA)&&(this.editContextFormatting=i.value)}compositionView(e){let n=new Sr(e.text.nodeValue);n.flags|=8;for(let{deco:r}of e.marks)n=new Rs(r,[n],n.length);let i=new ln;return i.append(n,0),i}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Qt.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];n(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],n(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&!(this.view.state.facet(xs)||this.dom.tabIndex>-1)&&Eh(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Ie.gecko&&a.empty&&!this.hasComposition&&OB(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new Wn(f,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!su(l.node,l.offset,u.anchorNode,u.anchorOffset)||!su(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{Ie.android&&Ie.chrome&&this.dom.contains(u.focusNode)&&CB(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=_u(this.view.root);if(f)if(a.empty){if(Ie.gecko){let d=wB(l.node,l.offset);if(d&&d!=3){let m=(d==1?aA:lA)(l.node,l.offset);m&&(l=new Wn(m.node,m.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Wn(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Wn(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&su(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,i=_u(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!n.empty||!n.assoc||!i.modify)return;let o=ln.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);i.collapse(u.node,u.offset),i.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&i.collapse(r,s)}moveToLine(e){let n=this.dom,i;if(e.node!=n)return e;for(let r=e.offset;!i&&r<n.childNodes.length;r++){let s=Qt.get(n.childNodes[r]);s instanceof ln&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=Qt.get(n.childNodes[r]);s instanceof ln&&(i=s.domAtPos(s.length))}return i?new Wn(i.node,i.offset,!0):e}nearest(e){for(let n=e;n;){let i=Qt.get(n);if(i&&i.rootView==this)return i;n=n.parentNode}return null}posFromDOM(e,n){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,n)+i.posAtStart}domAtPos(e){let{i:n,off:i}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let r=this.children[n];if(i<r.length||r instanceof ln)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,n){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof ln&&!(i instanceof ln&&n>=0)))i=a,r=c;else if(i&&c==e&&l==e&&a instanceof Ts&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(i=null)}s=c}return i?i.coordsAt(e-r,n):null}coordsForChar(e){let{i:n,off:i}=this.childPos(e,1),r=this.children[n];if(!(r instanceof ln))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof Sr))return null;let s=Nn(r.text,i);if(s==i)return null;let o=_a(r.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Jt.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],d=c+f.length;if(d>r)break;if(c>=i){let m=f.dom.getBoundingClientRect();if(n.push(m.height),o){let g=f.dom.lastChild,y=g?Su(g):[];if(y.length){let O=y[y.length-1],_=l?O.right-m.left:m.right-O.left;_>a&&(a=_,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Jt.RTL:Jt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof ln){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Su(e.firstChild)[0];n=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:i,textHeight:r}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new cA(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let i=0,r=0;;r++){let s=r==n.viewports.length?null:n.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(i).top)/this.view.scaleY;e.push(Ue.replace({widget:new Nv(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return Ue.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Cu).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(MA).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,n.push(kt.join(r))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(RA))try{if(c(this.view,e.range,e))return!0}catch(u){li(this.view.state,u,"scroll handler")}let{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),r;if(!i)return;!n.empty&&(r=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=Fy(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;eB(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Jt.LTR)}}function OB(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function IA(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let i=aA(n.focusNode,n.focusOffset),r=lA(n.focusNode,n.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let a=Qt.get(r.node);if(!a||a instanceof Sr&&a.text!=r.node.nodeValue)s=r;else if(t.docView.lastCompositionAfterCursor){let l=Qt.get(i.node);!l||l instanceof Sr&&l.text!=i.node.nodeValue||(s=r)}}if(t.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function xB(t,e,n){let i=IA(t,n);if(!i)return null;let{node:r,from:s,to:o}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,c=new nr(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let f=r.parentNode;;f=f.parentNode){let d=Qt.get(f);if(d instanceof Rs)u.push({node:f,deco:d.mark});else{if(d instanceof ln||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:c,text:r,marks:u,line:f};if(f!=t.contentDOM)u.push({node:f,deco:new cf({inclusive:!0,attributes:lB(f),tagName:f.tagName.toLowerCase()})});else return null}}}function wB(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let _B=class{constructor(){this.changes=[]}compareRange(e,n){Dh(e,n,this.changes)}comparePoint(e,n){Dh(e,n,this.changes)}boundChange(e){Dh(e,e,this.changes)}};function SB(t,e,n){let i=new _B;return kt.compare(t,e,n,i),i.changes}function CB(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function TB(t,e){let n=!1;return e&&t.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(n=!0)}),n}function AB(t,e,n=1){let i=t.charCategorizer(e),r=t.doc.lineAt(e),s=e-r.from;if(r.length==0)return fe.cursor(e);s==0?n=1:s==r.length&&(n=-1);let o=s,a=s;n<0?o=Nn(r.text,s,!1):a=Nn(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let c=Nn(r.text,o,!1);if(i(r.text.slice(c,o))!=l)break;o=c}for(;a<r.length;){let c=Nn(r.text,a);if(i(r.text.slice(a,c))!=l)break;a=c}return fe.range(o+r.from,a+r.from)}function kB(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function EB(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Um(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function lx(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function cx(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function jv(t,e,n){let i,r,s,o,a=!1,l,c,u,f;for(let g=t.firstChild;g;g=g.nextSibling){let y=Su(g);for(let O=0;O<y.length;O++){let _=y[O];r&&Um(r,_)&&(_=lx(cx(_,r.bottom),r.top));let A=kB(e,_),P=EB(n,_);if(A==0&&P==0)return g.nodeType==3?ux(g,e,n):jv(g,e,n);if(!i||o>P||o==P&&s>A){i=g,r=_,s=A,o=P;let T=P?n<_.top?-1:1:A?e<_.left?-1:1:0;a=!T||(T>0?O<y.length-1:O>0)}A==0?n>_.bottom&&(!u||u.bottom<_.bottom)?(l=g,u=_):n<_.top&&(!f||f.top>_.top)&&(c=g,f=_):u&&Um(u,_)?u=cx(u,_.bottom):f&&Um(f,_)&&(f=lx(f,_.top))}}if(u&&u.bottom>=n?(i=l,r=u):f&&f.top<=n&&(i=c,r=f),!i)return{node:t,offset:0};let d=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return ux(i,d,n);if(a&&i.contentEditable!="false")return jv(i,d,n);let m=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:t,offset:m}}function ux(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=_a(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<s){let d=e>=(u.left+u.right)/2,m=d;if((Ie.chrome||Ie.gecko)&&_a(t,a).getBoundingClientRect().left==u.right&&(m=!d),f<=0)return{node:t,offset:a+(m?1:0)};r=a+(m?1:0),s=f}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function FA(t,e,n,i=-1){var r,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:f}=e,d=f-a;if(d<0)return 0;if(d>c)return t.state.doc.length;for(let T=t.viewState.heightOracle.textHeight/2,B=!1;l=t.elementAtHeight(d),l.type!=fi.Text;)for(;d=i>0?l.bottom+T:l.top-T,!(d>=0&&d<=c);){if(B)return n?null:0;B=!0,i=-i}f=a+d;let m=l.from;if(m<t.viewport.from)return t.viewport.from==0?0:n?null:fx(t,o,l,u,f);if(m>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:fx(t,o,l,u,f);let g=t.dom.ownerDocument,y=t.root.elementFromPoint?t.root:g,O=y.elementFromPoint(u,f);O&&!t.contentDOM.contains(O)&&(O=null),O||(u=Math.max(o.left+1,Math.min(o.right-1,u)),O=y.elementFromPoint(u,f),O&&!t.contentDOM.contains(O)&&(O=null));let _,A=-1;if(O&&((r=t.docView.nearest(O))===null||r===void 0?void 0:r.isEditable)!=!1){if(g.caretPositionFromPoint){let T=g.caretPositionFromPoint(u,f);T&&({offsetNode:_,offset:A}=T)}else if(g.caretRangeFromPoint){let T=g.caretRangeFromPoint(u,f);T&&({startContainer:_,startOffset:A}=T,(!t.contentDOM.contains(_)||Ie.safari&&DB(_,A,u)||Ie.chrome&&RB(_,A,u))&&(_=void 0))}_&&(A=Math.min(os(_),A))}if(!_||!t.docView.dom.contains(_)){let T=ln.find(t.docView,m);if(!T)return d>l.top+l.height/2?l.to:l.from;({node:_,offset:A}=jv(T.dom,u,f))}let P=t.docView.nearest(_);if(!P)return null;if(P.isWidget&&((s=P.dom)===null||s===void 0?void 0:s.nodeType)==1){let T=P.dom.getBoundingClientRect();return e.y<T.top||e.y<=T.bottom&&e.x<=(T.left+T.right)/2?P.posAtStart:P.posAtEnd}else return P.localPosFromDOM(_,A)+P.posAtStart}function fx(t,e,n,i,r){let s=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((r-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Av(o,s,t.state.tabSize)}function DB(t,e,n){let i;if(t.nodeType!=3||e!=(i=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return _a(t,i-1,i).getBoundingClientRect().left>n}function RB(t,e,n){if(e!=0)return!1;for(let r=t;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=t.nodeType==1?t.getBoundingClientRect():_a(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function Vv(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==fi.Text))return i}return n}function PB(t,e,n,i){let r=Vv(t,e.head),s=!i||r.type!=fi.Text||!(t.lineWrapping||r.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(r.from),l=t.posAtCoords({x:n==(a==Jt.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return fe.cursor(l,n?-1:1)}return fe.cursor(n?r.to:r.from,n?-1:1)}function hx(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let a=e,l=null;;){let c=vB(r,s,o,a,n),u=wA;if(!c){if(r.number==(n?t.state.doc.lines:1))return a;u=`
`,r=t.state.doc.line(r.number+(n?1:-1)),s=t.bidiSpans(r),c=t.visualLineSide(r,!n)}if(l){if(!l(u))return a}else{if(!i)return c;l=i(u)}a=c}}function $B(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return s=>{let o=i(s);return r==en.Space&&(r=o),r==o}}function MB(t,e,n,i){let r=e.head,s=n?1:-1;if(r==(n?t.state.doc.length:0))return fe.cursor(r,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(r,e.assoc||-1),u=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let m=t.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(r-m.from))),a=(s<0?m.top:m.bottom)+u}let f=l.left+o,d=i??t.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=a+(d+m)*s,y=FA(t,{x:f,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?y<r:y>r)){let O=t.docView.coordsForChar(y),_=!O||g<O.top?-1:1;return fe.cursor(y,_,void 0,o)}}}function Rh(t,e,n){for(;;){let i=0;for(let r of t)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||n||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function Ym(t,e,n){let i=Rh(t.state.facet(Iy).map(r=>r(t)),n.from,e.head>n.from?-1:1);return i==n.from?n:fe.cursor(i,i<n.from?1:-1)}const Vc="";class LB{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(_t.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Vc}readRange(e,n){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==n)break;let a=Qt.get(r),l=Qt.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:ld(r))||ld(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,n),this}readTextNode(e){let n=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(i,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let n=Qt.get(e),i=n&&n.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}findPointInside(e,n){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(NB(e,i.node,i.offset)?n:0))}}function NB(t,e,n){for(;;){if(!e||n<os(e))return!1;if(e==t)return!0;n=wa(e)+1,e=e.parentNode}}class dx{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class IB{constructor(e,n,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,i,0))){let a=s||o?[]:HB(e),l=new LB(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=jB(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Dv(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Dv(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((Ie.ios||Ie.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let f=Math.min(l,c),d=Math.max(l,c),m=u.from-f,g=u.to-d;(m==0||m==1||f==0)&&(g==0||g==-1||d==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=fe.single(c,l)}}}function BA(t,e){let n,{newSel:i}=e,r=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,c=null;(s===8||Ie.android&&e.text.length<a-o)&&(l=r.to,c="end");let u=BB(t.state.doc.sliceString(o,a,Vc),e.text,l-o,c);u&&(Ie.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Vc+Vc&&u.toB--,n={from:o+u.from,to:o+u.toA,insert:St.of(e.text.slice(u.from,u.toB).split(Vc))})}else i&&(!t.hasFocus&&t.state.facet(xs)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:(Ie.mac||Ie.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(i&&n.insert.length==2&&(i=fe.single(i.main.anchor-1,i.main.head-1)),n={from:n.from,to:n.to,insert:St.of([n.insert.toString().replace("."," ")])}):n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,r.to))}:Ie.chrome&&n&&n.from==n.to&&n.from==r.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(i&&(i=fe.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:St.of([" "])}),n)return By(t,n,i,s);if(i&&!i.main.eq(r)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function By(t,e,n,i=-1){if(Ie.ios&&t.inputState.flushIOSKey(e))return!0;let r=t.state.selection.main;if(Ie.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&t.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&vl(t.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&vl(t.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&vl(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=FB(t,e,n));return t.state.facet(AA).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function FB(t,e,n){let i,r=t.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=r.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),u,f=n&&IA(t,n.main.head);if(f){let g=e.insert.length-(e.to-e.from);u={from:f.from,to:f.to-g}}else u=t.state.doc.lineAt(s.head);let d=s.to-e.to,m=s.to-s.from;i=r.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:a,range:l||g.map(a)};let y=g.to-d,O=y-c.length;if(g.to-g.from!=m||t.state.sliceDoc(O,y)!=c||g.to>=u.from&&g.from<=u.to)return{range:g};let _=r.changes({from:O,to:y,insert:e.insert}),A=g.to-s.to;return{changes:_,range:l?fe.range(Math.max(0,l.anchor+A),Math.max(0,l.head+A)):g.map(_)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function BB(t,e,n,i){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function HB(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new dx(n,i)),(r!=n||s!=i)&&e.push(new dx(r,s))),e}function jB(t,e){if(t.length==0)return null;let n=t[0].pos,i=t.length==2?t[1].pos:n;return n>-1&&i>-1?fe.single(n+e,i+e):null}class VB{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ie.safari&&e.contentDOM.addEventListener("input",()=>null),Ie.gecko&&rH(e.contentDOM.ownerDocument)}handleEvent(e){!GB(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,n);for(let r of i.handlers){if(n.defaultPrevented)break;if(r(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=QB(e),i=this.handlers,r=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(r.removeEventListener(s,this.handleEvent),a=null),a||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!n[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&jA.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ie.android&&Ie.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Ie.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=HA.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||zB.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,vl(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ie.safari&&!Ie.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function px(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(r){li(n.state,r)}}}function QB(t){let e=Object.create(null);function n(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of t){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&n(s).handlers.push(px(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&n(s).observers.push(px(i.value,o))}}for(let i in Cr)n(i).handlers.push(Cr[i]);for(let i in rr)n(i).observers.push(rr[i]);return e}const HA=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],zB="dthko",jA=[16,17,18,20,91,92,224,225],qf=6;function Xf(t){return Math.max(0,t)*.7+8}function WB(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class qB{constructor(e,n,i,r){this.view=e,this.startEvent=n,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=tB(e.contentDOM),this.atoms=e.state.facet(Iy).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(_t.allowMultipleSelections)&&XB(e,n),this.dragging=YB(e,n)&&zA(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&WB(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,i=0,r=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Fy(this.view);e.clientX-l.left<=r+qf?n=-Xf(r-e.clientX):e.clientX+l.right>=o-qf&&(n=Xf(e.clientX-o)),e.clientY-l.top<=s+qf?i=-Xf(s-e.clientY):e.clientY+l.bottom>=a-qf&&(i=Xf(e.clientY-a)),this.setScrollSpeed(n,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=Rh(this.atoms,r.from,0);o!=r.from&&(s=fe.cursor(o,-1))}else{let o=Rh(this.atoms,r.from,-1),a=Rh(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=fe.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(n||(n=e.ranges.slice()),n[i]=s)}return n?fe.create(n,e.mainIndex):e}select(e){let{view:n}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function XB(t,e){let n=t.state.facet(_A);return n.length?n[0](e):Ie.mac?e.metaKey:e.ctrlKey}function UB(t,e){let n=t.state.facet(SA);return n.length?n[0](e):Ie.mac?!e.altKey:!e.ctrlKey}function YB(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=_u(t.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function GB(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,i;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(i=Qt.get(n))&&i.ignoreEvent(e))return!1;return!0}const Cr=Object.create(null),rr=Object.create(null),VA=Ie.ie&&Ie.ie_version<15||Ie.ios&&Ie.webkit_version<604;function KB(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),QA(t,n.value)},50)}function Sp(t,e,n){for(let i of t.facet(e))n=i(n,t);return n}function QA(t,e){e=Sp(t.state,My,e);let{state:n}=t,i,r=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(Qv!=null&&n.selection.ranges.every(l=>l.empty)&&Qv==s.toString()){let l=-1;i=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=n.toText((o?s.line(r++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:f},range:fe.cursor(c.from+f.length)}})}else o?i=n.changeByRange(l=>{let c=s.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:fe.cursor(l.from+c.length)}}):i=n.replaceSelection(s);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}rr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Cr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);rr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};rr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Cr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(CA))if(n=i(t,e),n)break;if(!n&&e.button==0&&(n=eH(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new qB(t,e,n,i)),i&&t.observer.ignore(()=>{rA(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let r=t.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function mx(t,e,n,i){if(i==1)return fe.cursor(e,n);if(i==2)return AB(t.state,e,n);{let r=ln.find(t.docView,e),s=t.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,fe.range(o,a)}}let gx=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function JB(t,e,n,i){let r=ln.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&gx(n,i,o))return-1;let a=r.coordsAt(s,1);return a&&gx(n,i,a)?1:o&&o.bottom>=i?-1:1}function vx(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:JB(t,n,e.clientX,e.clientY)}}const ZB=Ie.ie&&Ie.ie_version<=11;let bx=null,yx=0,Ox=0;function zA(t){if(!ZB)return t.detail;let e=bx,n=Ox;return bx=t,Ox=Date.now(),yx=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(yx+1)%3:1}function eH(t,e){let n=vx(t,e),i=zA(e),r=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),r=r.map(s.changes))},get(s,o,a){let l=vx(t,s),c,u=mx(t,l.pos,l.bias,i);if(n.pos!=l.pos&&!o){let f=mx(t,n.pos,n.bias,i),d=Math.min(f.from,u.from),m=Math.max(f.to,u.to);u=d<u.from?fe.range(d,m):fe.range(m,d)}return o?r.replaceRange(r.main.extend(u.from,u.to)):a&&i==1&&r.ranges.length>1&&(c=tH(r,l.pos))?c:a?r.addRange(u):fe.create([u])}}}function tH(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:r}=t.ranges[n];if(i<=e&&r>=e)return fe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Cr.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=n.to||o<=n.from)&&(n=fe.range(s,o))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Sp(t.state,Ly,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Cr.dragend=t=>(t.inputState.draggedContent=null,!1);function xx(t,e,n,i){if(n=Sp(t.state,My,n),!n)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=i&&s&&UB(t,e)?{from:s.from,to:s.to}:null,a={from:r,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Cr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),r=0,s=()=>{++r==n.length&&xx(t,e,i.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return xx(t,e,i,!0),!0}return!1};Cr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=VA?null:e.clipboardData;return n?(QA(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(KB(t),!1)};function nH(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),t.focus()},50)}function iH(t){let e=[],n=[],i=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let r=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>r&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),r=o.number}i=!0}return{text:Sp(t,Ly,e.join(t.lineBreak)),ranges:n,linewise:i}}let Qv=null;Cr.copy=Cr.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=iH(t.state);if(!n&&!r)return!1;Qv=r?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=VA?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(nH(t,n),!1)};const WA=Fs.define();function qA(t,e){let n=[];for(let i of t.facet(kA)){let r=i(t,e);r&&n.push(r)}return n?t.update({effects:n,annotations:WA.of(!0)}):null}function XA(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=qA(t.state,e);n?t.dispatch(n):t.update([])}},10)}rr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),XA(t)};rr.blur=t=>{t.observer.clearSelectionRange(),XA(t)};rr.compositionstart=rr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};rr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ie.chrome&&Ie.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};rr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Cr.beforeinput=(t,e)=>{var n,i;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return By(t,{from:l,to:c,insert:t.state.toText(s)},null),!0}}let r;if(Ie.chrome&&Ie.android&&(r=HA.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Ie.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Ie.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>rr.compositionend(t,e),20),!1};const wx=new Set;function rH(t){wx.has(t)||(wx.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const _x=["pre-wrap","normal","pre-line","break-spaces"];let jl=!1;function Sx(){jl=!1}class sH{constructor(e){this.lineWrapping=e,this.doc=St.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let i=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((n-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return _x.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(n=!0,this.heightSamples[Math.floor(r*10)]=!0)}return n}refresh(e,n,i,r,s,o){let a=_x.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=i,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class oH{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Xr{constructor(e,n,i,r,s){this.from=e,this.length=n,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?fi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof _o?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Xr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Kt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Kt||(Kt={}));const Ph=.001;class hi{constructor(e,n,i=2){this.length=e,this.height=n,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ph&&(jl=!0),this.height=e)}replace(e,n,i){return hi.of(i)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,i,r){let s=this,o=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:f}=r[a],d=s.lineAt(l,Kt.ByPosNoHeight,i.setDoc(n),0,0),m=d.to>=c?d:s.lineAt(c,Kt.ByPosNoHeight,i,0,0);for(f+=m.to-c,c=m.to;a>0&&d.from<=r[a-1].toA;)l=r[a-1].fromA,u=r[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,Kt.ByPosNoHeight,i,0,0));u+=d.from-l,l=d.from;let g=Hy.build(i.setDoc(o),e,u,f);s=fd(s,s.replace(l,c,g))}return s.updateHeight(i,0)}static empty(){return new Li(0,0)}static of(e){if(e.length==1)return e[0];let n=0,i=e.length,r=0,s=0;for(;;)if(n==i)if(r>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(s>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[n++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,i++),new aH(hi.of(e.slice(0,n)),o,hi.of(e.slice(i)))}}function fd(t,e){return t==e?t:(t.constructor!=e.constructor&&(jl=!0),e)}hi.prototype.size=1;class UA extends hi{constructor(e,n,i){super(e,n),this.deco=i}blockAt(e,n,i,r){return new Xr(r,this.length,i,this.height,this.deco||0)}lineAt(e,n,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,n,i,r,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Li extends UA{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,i,r){return new Xr(r,this.length,i,this.height,this.breaks)}replace(e,n,i){let r=i[0];return i.length==1&&(r instanceof Li||r instanceof Pn&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Pn?r=new Li(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):hi.of(i)}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more?this.setHeight(r.heights[r.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Pn extends hi{constructor(e){super(e,0)}heightMetrics(e,n){let i=e.doc.lineAt(n).number,r=e.doc.lineAt(n+this.length).number,s=r-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:a}}blockAt(e,n,i,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,r);if(n.lineWrapping){let c=r+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),u=n.doc.lineAt(c),f=a+u.length*l,d=Math.max(i,e-f/2);return new Xr(u.from,u.length,d,f,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:u,length:f}=n.doc.line(s+c);return new Xr(u,f,i+a*c,a,0)}}lineAt(e,n,i,r,s){if(n==Kt.ByHeight)return this.blockAt(e,i,r,s);if(n==Kt.ByPosNoHeight){let{from:m,to:g}=i.doc.lineAt(e);return new Xr(m,g-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),c=i.doc.lineAt(e),u=a+c.length*l,f=c.number-o,d=r+a*f+l*(c.from-s-f);return new Xr(c.from,c.length,Math.max(r,Math.min(d,r+this.height-u)),u,0)}forEachLine(e,n,i,r,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,s);for(let u=e,f=r;u<=n;){let d=i.doc.lineAt(u);if(u==e){let g=d.number-a;f+=l*g+c*(e-s-g)}let m=l+c*d.length;o(new Xr(d.from,d.length,f,m,0)),f+=m,u=d.to+1}}replace(e,n,i){let r=this.length-n;if(r>0){let s=i[i.length-1];s instanceof Pn?i[i.length-1]=new Pn(s.length+r):i.push(null,new Pn(r-1))}if(e>0){let s=i[0];s instanceof Pn?i[0]=new Pn(e+s.length):i.unshift(new Pn(e-1),null)}return hi.of(i)}decomposeLeft(e,n){n.push(new Pn(e-1),null)}decomposeRight(e,n){n.push(null,new Pn(this.length-e-1))}updateHeight(e,n=0,i=!1,r){let s=n+this.length;if(r&&r.from<=n+this.length&&r.more){let o=[],a=Math.max(n,r.from),l=-1;for(r.from>n&&o.push(new Pn(r.from-n-1).updateHeight(e,n));a<=s&&r.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let f=r.heights[r.index++];l==-1?l=f:Math.abs(f-l)>=Ph&&(l=-2);let d=new Li(u,f);d.outdated=!1,o.push(d),a+=u+1}a<=s&&o.push(null,new Pn(s-a).updateHeight(e,a));let c=hi.of(o);return(l<0||Math.abs(c.height-this.height)>=Ph||Math.abs(l-this.heightMetrics(e,n).perLine)>=Ph)&&(jl=!0),fd(this,c)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class aH extends hi{constructor(e,n,i){super(e.length+n+i.length,e.height+i.height,n|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,n,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,n,i,r):this.right.blockAt(e,n,s,r+this.left.length+this.break)}lineAt(e,n,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=n==Kt.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,n,i,r,s):this.right.lineAt(e,n,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==Kt.ByPosNoHeight?Kt.ByPosNoHeight:Kt.ByPos;return l?c.join(this.right.lineAt(a,u,i,o,a)):this.left.lineAt(a,u,i,r,s).join(c)}forEachLine(e,n,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,i,r,s,o),n>=l&&this.right.forEachLine(e,n,i,a,l,o);else{let c=this.lineAt(l,Kt.ByPos,i,r,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,s,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,i,a,l,o)}}replace(e,n,i){let r=this.left.length+this.break;if(n<r)return this.balanced(this.left.replace(e,n,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,n-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&Cx(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),Cx(s,a)}return hi.of(s)}decomposeLeft(e,n){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(i++,e>=i&&n.push(null)),e>i&&this.right.decomposeLeft(e-i,n)}decomposeRight(e,n){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,n);e<i&&this.left.decomposeRight(e,n),this.break&&e<r&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?hi.of(this.break?[e,null,n]:[e,n]):(this.left=fd(this.left,e),this.right=fd(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,i=!1,r){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return r&&r.from<=n+s.length&&r.more?l=s=s.updateHeight(e,n,i,r):s.updateHeight(e,n,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Cx(t,e){let n,i;t[e]==null&&(n=t[e-1])instanceof Pn&&(i=t[e+1])instanceof Pn&&t.splice(e-1,3,new Pn(n.length+1+i.length))}const lH=5;class Hy{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let i=Math.min(n,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Li?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Li(i-this.pos,-1)),this.writtenTo=i,n>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,i){if(e<n||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=n-e;i.block?this.addBlock(new UA(o,r,i)):(o||s||r>=lH)&&this.addLineDeco(r,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Li(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let i=new Pn(n-e);return this.oracle.doc.lineAt(e).to==n&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Li)return e;let n=new Li(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=n,this.writtenTo=this.pos=this.pos+i}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Li)&&!this.isCovered?this.nodes.push(new Li(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Li&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,n,i,r){let s=new Hy(i,e);return kt.spans(n,i,r,s,0),s.finish(i)}}function cH(t,e,n){let i=new uH;return kt.compare(t,e,n,i,0),i.changes}class uH{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,i,r){(e<n||i&&i.heightRelevant||r&&r.heightRelevant)&&Dh(e,n,this.changes,5)}}function fH(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,s=Math.max(0,n.left),o=Math.min(r.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(r.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=i.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let d=u.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=Math.min(c==t.parentNode?r.innerHeight:l,d.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function hH(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function dH(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Gm{constructor(e,n,i,r){this.from=e,this.to=n,this.size=i,this.displaySize=r}static same(e,n){if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,n){return Ue.replace({widget:new pH(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class pH extends Bs{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Tx{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Ax,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Jt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Ny).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new sH(n),this.stateDeco=e.facet(Cu).filter(i=>typeof i!="function"),this.heightMap=hi.empty().applyChanges(this.stateDeco,St.empty,this.heightOracle.setDoc(e.doc),[new nr(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ue.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let i=0;i<=1;i++){let r=i?n.head:n.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new Uf(s,o))}}return this.viewports=e.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Ax:new jy(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Qc(e,this.scaler))})}update(e,n=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Cu).filter(u=>typeof u!="function");let r=e.changedRanges,s=nr.extendWithRanges(r,cH(i,this.stateDeco,e?e.changes:gn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Sx(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||jl)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(DA)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,i=window.getComputedStyle(n),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Jt.RTL:Jt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:T,scaleY:B}=iA(n,a);(T>.005&&Math.abs(this.scaleX-T)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=T,this.scaleY=B,c|=16,o=l=!0)}let f=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=oA(e.scrollDOM);let g=(this.printing?dH:fH)(n,this.paddingTop),y=g.top-this.pixelViewport.top,O=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let _=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(_!=this.inView&&(this.inView=_,_&&(l=!0)),!this.inView&&!this.scrollTarget&&!hH(e.dom))return 0;let A=a.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let T=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(T)&&(o=!0),o||r.lineWrapping&&Math.abs(A-this.contentDOMWidth)>r.charWidth){let{lineHeight:B,charWidth:I,textHeight:v}=e.docView.measureTextSize();o=B>0&&r.refresh(s,B,I,v,A/I,T),o&&(e.docView.minWidth=0,c|=16)}y>0&&O>0?u=Math.max(y,O):y<0&&O<0&&(u=Math.min(y,O)),Sx();for(let B of this.viewports){let I=B.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(B);this.heightMap=(o?hi.empty().applyChanges(this.stateDeco,St.empty,this.heightOracle,[new nr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new oH(B.from,I))}jl&&(c|=2)}let P=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return P&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||P)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Uf(r.lineAt(o-i*1e3,Kt.ByHeight,s,0,0).from,r.lineAt(a+(1-i)*1e3,Kt.ByHeight,s,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(c,Kt.ByPos,s,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?d=f.top:d=f.bottom-u,l=new Uf(r.lineAt(d-1e3/2,Kt.ByHeight,s,0,0).from,r.lineAt(d+u+1e3/2,Kt.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let i=n.mapPos(e.from,-1),r=n.mapPos(e.to,1);return new Uf(this.heightMap.lineAt(i,Kt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Kt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Kt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Kt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let i=[];for(let r of e)n.touchesRange(r.from,r.to)||i.push(new Gm(n.mapPos(r.from),n.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(e,n){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=Jt.LTR&&!i)return[];let a=[],l=(u,f,d,m)=>{if(f-u<s)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let _ of y)if(_>u&&_<f){l(u,_-10,d,m),l(_+10,f,d,m);return}let O=gH(e,_=>_.from>=d.from&&_.to<=d.to&&Math.abs(_.from-u)<s&&Math.abs(_.to-f)<s&&!y.some(A=>_.from<A&&_.to>A));if(!O){if(f<d.to&&n&&i&&n.visibleRanges.some(P=>P.from<=f&&P.to>=f)){let P=n.moveToLineBoundary(fe.cursor(f),!1,!0).head;P>u&&(f=P)}let _=this.gapSize(d,u,f,m),A=i||_<2e6?_:2e6;O=new Gm(u,f,_,A)}a.push(O)},c=u=>{if(u.length<o||u.type!=fi.Text)return;let f=mH(u.from,u.to,this.stateDeco);if(f.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,m,g;if(i){let y=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,O,_;if(d!=null){let A=Gf(f,d),P=((this.visibleBottom-this.visibleTop)/2+y)/u.height;O=A-P,_=A+P}else O=(this.visibleTop-u.top-y)/u.height,_=(this.visibleBottom-u.top+y)/u.height;m=Yf(f,O),g=Yf(f,_)}else{let y=f.total*this.heightOracle.charWidth,O=r*this.heightOracle.charWidth,_=0;if(y>2e6)for(let I of e)I.from>=u.from&&I.from<u.to&&I.size!=I.displaySize&&I.from*this.heightOracle.charWidth+_<this.pixelViewport.left&&(_=I.size-I.displaySize);let A=this.pixelViewport.left+_,P=this.pixelViewport.right+_,T,B;if(d!=null){let I=Gf(f,d),v=((P-A)/2+O)/y;T=I-v,B=I+v}else T=(A-O)/y,B=(P+O)/y;m=Yf(f,T),g=Yf(f,B)}m>u.from&&l(u.from,m,u,f),g<u.to&&l(g,u.to,u,f)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,i,r){let s=Gf(r,i)-Gf(r,n);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){Gm.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ue.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let i=[];kt.spans(n,this.viewport.from,this.viewport.to,{span(s,o){i.push({from:s,to:o})},point(){}},20);let r=0;if(i.length!=this.visibleRanges.length)r=12;else for(let s=0;s<i.length&&!(r&8);s++){let o=this.visibleRanges[s],a=i[s];(o.from!=a.from||o.to!=a.to)&&(r|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(r|=8))}return this.visibleRanges=i,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Qc(this.heightMap.lineAt(e,Kt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Qc(this.heightMap.lineAt(this.scaler.fromDOM(e),Kt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Qc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Uf{constructor(e,n){this.from=e,this.to=n}}function mH(t,e,n){let i=[],r=t,s=0;return kt.spans(n,t,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function Yf({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function Gf(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}function gH(t,e){for(let n of t)if(e(n))return n}const Ax={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class jy{constructor(e,n,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=n.lineAt(a,Kt.ByPos,e,0,0).top,u=n.lineAt(l,Kt.ByPos,e,0,0).bottom;return r+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(n.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}eq(e){return e instanceof jy?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,i)=>n.from==e.viewports[i].from&&n.to==e.viewports[i].to):!1}}function Qc(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Xr(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map(r=>Qc(r,e)):t._content)}const Kf=Fe.define({combine:t=>t.join(" ")}),zv=Fe.define({combine:t=>t.indexOf(!0)>-1}),Wv=xo.newName(),YA=xo.newName(),GA=xo.newName(),KA={"&light":"."+YA,"&dark":"."+GA};function qv(t,e,n){return new xo(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return t;if(!n||!n[r])throw new RangeError(`Unsupported selector: ${r}`);return n[r]}):t+" "+i}})}const vH=qv("."+Wv,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},KA),bH={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Km=Ie.ie&&Ie.ie_version<=11;class yH{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new nB,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let i of n)this.queue.push(i);(Ie.ie&&Ie.ie_version<=11||Ie.ios&&e.composing)&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Ie.chrome&&Ie.chrome_version<126)&&(this.editContext=new xH(e),e.state.facet(xs)&&(e.contentDOM.editContext=this.editContext.editContext)),Km&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,i)=>n!=e[i]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(xs)?i.root.activeElement!=this.dom:!Eh(this.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Ie.ie&&Ie.ie_version<=11||Ie.android&&Ie.chrome)&&!i.state.selection.main.empty&&r.focusNode&&su(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=_u(e.root);if(!n)return!1;let i=Ie.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&OH(this.view,n)||n;if(!i||this.selectionRange.eq(i))return!1;let r=Eh(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&rB(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let i=this.dom;i;)if(i.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,bH),Km&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Km&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&vl(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),n==-1?{from:n,to:i}=o:(n=Math.min(o.from,n),i=Math.max(o.to,i)))}return{from:n,to:i,typeOver:r}}readChange(){let{from:e,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Eh(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new IB(this.view,e,n,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let i=this.view.state,r=BA(this.view,n);return this.view.state==i&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let i=kx(n,e.previousSibling||e.target.previousSibling,-1),r=kx(n,e.nextSibling||e.target.nextSibling,1);return{from:i?n.posAfter(i):n.posAtStart,to:r?n.posBefore(r):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(xs)!=e.state.facet(xs)&&(e.view.contentDOM.editContext=e.state.facet(xs)?this.editContext.editContext:null))}destroy(){var e,n,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function kx(t,e,n){for(;e;){let i=Qt.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function Ex(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return su(o.node,o.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function OH(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return Ex(t,r)}let n=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",i,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),n?Ex(t,n):null}class xH{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let r=e.state.selection.main,{anchor:s,head:o}=r,a=this.toEditorPos(i.updateRangeStart),l=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:St.of(i.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let u=fe.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));u.main.eq(r)||e.dispatch({selection:u,userEvent:"select"});return}if((Ie.mac||Ie.android)&&c.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:St.of([i.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);By(e,c,fe.single(this.toEditorPos(i.selectionStart,u),this.toEditorPos(i.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=i=>{let r=[],s=null;for(let o=this.toEditorPos(i.rangeStart),a=this.toEditorPos(i.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,r.push(s)}n.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let s of i.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;r.push(Ue.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:PA.of(Ue.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)n.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=_u(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(i)return;let u=c.length-(o-s);if(r&&o>=r.to)if(r.from==s&&r.to==o&&r.insert.eq(c)){r=this.pendingContextChange=null,n+=u,this.to+=u;return}else r=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}n+=u}),r&&!i&&this.revertPending(e.state),!i}update(e){let n=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),r=this.toContextPos(n.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Me{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(r=>r.forEach(s=>i(s,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||iB(e.parent)||document,this.viewState=new Tx(e.state||_t.create(e)),e.scrollTo&&e.scrollTo.is(Wf)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Hc).map(r=>new Xm(r));for(let r of this.plugins)r.update(this);this.observer=new yH(this),this.inputState=new VB(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ax(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof un?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,i=!1,r,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(WA))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=qA(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(_t.phrases)!=this.state.facet(_t.phrases))return this.setState(s);r=ud.create(this,s,e),r.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:m}=d.state.selection;f=new bl(m.empty?m:fe.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of d.effects)m.is(Wf)&&(f=m.value.clip(this.state))}this.viewState.update(r,f),this.bidiCache=hd.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),n=this.docView.update(r),this.state.facet(jc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Kf)!=r.state.facet(Kf)&&(this.viewState.mustMeasureContent=!0),(n||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!r.empty)for(let d of this.state.facet(Hv))try{d(r)}catch(m){li(this.state,m,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!BA(this,u)&&c.force&&vl(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Tx(e),this.plugins=e.facet(Hc).map(i=>new Xm(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new ax(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Hc),i=e.state.facet(Hc);if(n!=i){let r=[];for(let s of i){let o=n.indexOf(s);if(o<0)r.push(new Xm(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);n!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(i){li(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(oA(i))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(r);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(m=>{try{return m.read(this)}catch(g){return li(this.state,g),Dx}}),f=ud.create(this,this.state,[]),d=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),d=this.docView.update(f),d&&this.docViewUpdate());for(let m=0;m<c.length;m++)if(u[m]!=Dx)try{let g=c[m];g.write&&g.write(u[m],this)}catch(g){li(this.state,g)}if(d&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){r=r+g,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(Hv))a(n)}get themeClasses(){return Wv+" "+(this.state.facet(zv)?GA:YA)+" "+this.state.facet(Kf)}updateAttrs(){let e=Rx(this,$A,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(xs)?"true":"false",class:"cm-content",style:`${Ie.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Rx(this,Ny,n);let i=this.observer.ignore(()=>{let r=Lv(this.contentDOM,this.contentAttrs,n),s=Lv(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=n,i}showAnnouncements(e){let n=!0;for(let i of e)for(let r of i.effects)if(r.is(Me.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(jc);let e=this.state.facet(Me.cspNonce);xo.mount(this.root,this.styleModules.concat(vH).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(i=>i.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,i){return Ym(this,e,hx(this,e,n,i))}moveByGroup(e,n){return Ym(this,e,hx(this,e,n,i=>$B(this,e.head,i)))}visualLineSide(e,n){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[n?i.length-1:0];return fe.cursor(s.side(n,r)+e.from,s.forward(!n,r)?1:-1)}moveToLineBoundary(e,n,i=!0){return PB(this,e,n,i)}moveVertically(e,n,i){return Ym(this,e,MB(this,e,n,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),FA(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let i=this.docView.coordsAt(e,n);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[lo.find(s,e-r.from,-1,n)];return wp(i,o.dir==Jt.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(EA)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>wH)return xA(e.length);let n=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||OA(s.isolates,i=ox(this,e))))return s.order;i||(i=ox(this,e));let r=gB(e.text,n,i);return this.bidiCache.push(new hd(e.from,e.to,n,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ie.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{rA(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Wf.of(new bl(typeof e=="number"?fe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Wf.of(new bl(fe.cursor(i.from),"start","start",i.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return on.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return on.define(()=>({}),{eventObservers:e})}static theme(e,n){let i=xo.newName(),r=[Kf.of(i),jc.of(qv(`.${i}`,e))];return n&&n.dark&&r.push(zv.of(!0)),r}static baseTheme(e){return $o.lowest(jc.of(qv("."+Wv,e,KA)))}static findFromDOM(e){var n;let i=e.querySelector(".cm-content"),r=i&&Qt.get(i)||Qt.get(e);return((n=r==null?void 0:r.rootView)===null||n===void 0?void 0:n.view)||null}}Me.styleModule=jc;Me.inputHandler=AA;Me.clipboardInputFilter=My;Me.clipboardOutputFilter=Ly;Me.scrollHandler=RA;Me.focusChangeEffect=kA;Me.perLineTextDirection=EA;Me.exceptionSink=TA;Me.updateListener=Hv;Me.editable=xs;Me.mouseSelectionStyle=CA;Me.dragMovesSelection=SA;Me.clickAddsSelectionRange=_A;Me.decorations=Cu;Me.outerDecorations=MA;Me.atomicRanges=Iy;Me.bidiIsolatedRanges=LA;Me.scrollMargins=NA;Me.darkTheme=zv;Me.cspNonce=Fe.define({combine:t=>t.length?t[0]:""});Me.contentAttributes=Ny;Me.editorAttributes=$A;Me.lineWrapping=Me.contentAttributes.of({class:"cm-lineWrapping"});Me.announce=st.define();const wH=4096,Dx={};class hd{constructor(e,n,i,r,s,o){this.from=e,this.to=n,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:Jt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!n.touchesRange(o.from,o.to)&&i.push(new hd(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function Rx(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(t):s;o&&Mv(o,n)}return n}const _H=Ie.mac?"mac":Ie.windows?"win":Ie.linux?"linux":"key";function SH(t,e){const n=t.split(/-(?!$)/);let i=n[n.length-1];i=="Space"&&(i=" ");let r,s,o,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Jf(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const CH=$o.default(Me.domEventHandlers({keydown(t,e){return ZA(JA(e.state),t,e,"editor")}})),Cp=Fe.define({enables:CH}),Px=new WeakMap;function JA(t){let e=t.facet(Cp),n=Px.get(e);return n||Px.set(e,n=kH(e.reduce((i,r)=>i.concat(r),[]))),n}function TH(t,e,n){return ZA(JA(t.state),e,t,n)}let io=null;const AH=4e3;function kH(t,e=_H){let n=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var f,d;let m=n[o]||(n[o]=Object.create(null)),g=a.split(/ (?!$)/).map(_=>SH(_,e));for(let _=1;_<g.length;_++){let A=g.slice(0,_).join(" ");r(A,!0),m[A]||(m[A]={preventDefault:!0,stopPropagation:!1,run:[P=>{let T=io={view:P,prefix:A,scope:o};return setTimeout(()=>{io==T&&(io=null)},AH),!0}]})}let y=g.join(" ");r(y,!1);let O=m[y]||(m[y]={preventDefault:!1,stopPropagation:!1,run:((d=(f=m._any)===null||f===void 0?void 0:f.run)===null||d===void 0?void 0:d.slice())||[]});l&&O.run.push(l),c&&(O.preventDefault=!0),u&&(O.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let d in u)u[d].run.push(m=>f(m,Xv))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let Xv=null;function ZA(t,e,n,i){Xv=e;let r=JF(e),s=bi(r,0),o=qr(s)==r.length&&r!=" ",a="",l=!1,c=!1,u=!1;io&&io.view==n&&io.scope==i&&(a=io.prefix+" ",jA.indexOf(e.keyCode)<0&&(c=!0,io=null));let f=new Set,d=O=>{if(O){for(let _ of O.run)if(!f.has(_)&&(f.add(_),_(n)))return O.stopPropagation&&(u=!0),!0;O.preventDefault&&(O.stopPropagation&&(u=!0),c=!0)}return!1},m=t[i],g,y;return m&&(d(m[a+Jf(r,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ie.windows&&e.ctrlKey&&e.altKey)&&(g=wo[e.keyCode])&&g!=r?(d(m[a+Jf(g,e,!0)])||e.shiftKey&&(y=wu[e.keyCode])!=r&&y!=g&&d(m[a+Jf(y,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(m[a+Jf(r,e,!0)])&&(l=!0),!l&&d(m._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),Xv=null,l}class ff{constructor(e,n,i,r,s){this.className=e,this.left=n,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=ek(e);return[new ff(n,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return EH(e,n,i)}}function ek(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Jt.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function $x(t,e,n,i){let r=t.coordsAtPos(e,n*2);if(!r)return i;let s=t.dom.getBoundingClientRect(),o=(r.top+r.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?i:{from:Math.max(i.from,Math.min(a,l)),to:Math.min(i.to,Math.max(a,l))}}function EH(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let i=Math.max(n.from,t.viewport.from),r=Math.min(n.to,t.viewport.to),s=t.textDirection==Jt.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=ek(t),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=a.right-(u?parseInt(u.paddingRight):0),m=Vv(t,i),g=Vv(t,r),y=m.type==fi.Text?m:null,O=g.type==fi.Text?g:null;if(y&&(t.lineWrapping||m.widgetLineBreaks)&&(y=$x(t,i,1,y)),O&&(t.lineWrapping||g.widgetLineBreaks)&&(O=$x(t,r,-1,O)),y&&O&&y.from==O.from&&y.to==O.to)return A(P(n.from,n.to,y));{let B=y?P(n.from,null,y):T(m,!1),I=O?P(null,n.to,O):T(g,!0),v=[];return(y||m).to<(O||g).from-(y&&O?1:0)||m.widgetLineBreaks>1&&B.bottom+t.defaultLineHeight/2<I.top?v.push(_(f,B.bottom,d,I.top)):B.bottom<I.top&&t.elementAtHeight((B.bottom+I.top)/2).type==fi.Text&&(B.bottom=I.top=(B.bottom+I.top)/2),A(B).concat(v).concat(A(I))}function _(B,I,v,Q){return new ff(e,B-l.left,I-l.top,v-B,Q-I)}function A({top:B,bottom:I,horizontal:v}){let Q=[];for(let Y=0;Y<v.length;Y+=2)Q.push(_(v[Y],B,v[Y+1],I));return Q}function P(B,I,v){let Q=1e9,Y=-1e9,te=[];function ve(le,ae,me,ue,Re){let Ge=t.coordsAtPos(le,le==v.to?-2:2),ft=t.coordsAtPos(me,me==v.from?2:-2);!Ge||!ft||(Q=Math.min(Ge.top,ft.top,Q),Y=Math.max(Ge.bottom,ft.bottom,Y),Re==Jt.LTR?te.push(s&&ae?f:Ge.left,s&&ue?d:ft.right):te.push(!s&&ue?f:ft.left,!s&&ae?d:Ge.right))}let J=B??v.from,X=I??v.to;for(let le of t.visibleRanges)if(le.to>J&&le.from<X)for(let ae=Math.max(le.from,J),me=Math.min(le.to,X);;){let ue=t.state.doc.lineAt(ae);for(let Re of t.bidiSpans(ue)){let Ge=Re.from+ue.from,ft=Re.to+ue.from;if(Ge>=me)break;ft>ae&&ve(Math.max(Ge,ae),B==null&&Ge<=J,Math.min(ft,me),I==null&&ft>=X,Re.dir)}if(ae=ue.to+1,ae>=me)break}return te.length==0&&ve(J,B==null,X,I==null,t.textDirection),{top:Q,bottom:Y,horizontal:te}}function T(B,I){let v=a.top+(I?B.top:B.bottom);return{top:v,bottom:v,horizontal:[]}}}function DH(t,e){return t.constructor==e.constructor&&t.eq(e)}class RH{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet($h)!=e.state.facet($h)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,i=e.facet($h);for(;n<i.length&&i[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,i)=>!DH(n,this.drawn[i]))){let n=this.dom.firstChild,i=0;for(let r of e)r.update&&n&&r.constructor&&this.drawn[i].constructor&&r.update(n,this.drawn[i])?(n=n.nextSibling,i++):this.dom.insertBefore(r.draw(),n);for(;n;){let r=n.nextSibling;n.remove(),n=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const $h=Fe.define();function tk(t){return[on.define(e=>new RH(e,t)),$h.of(t)]}const nk=!(Ie.ios&&Ie.webkit&&Ie.webkit_version<534),Tu=Fe.define({combine(t){return as(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function PH(t={}){return[Tu.of(t),$H,MH,LH,DA.of(!0)]}function ik(t){return t.startState.facet(Tu)!=t.state.facet(Tu)}const $H=tk({above:!0,markers(t){let{state:e}=t,n=e.facet(Tu),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||nk:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:fe.cursor(r.head,r.head>r.anchor?-1:1);for(let l of ff.forRange(t,o,a))i.push(l)}}return i},update(t,e){t.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=ik(t);return n&&Mx(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){Mx(e.state,t)},class:"cm-cursorLayer"});function Mx(t,e){e.style.animationDuration=t.facet(Tu).cursorBlinkRate+"ms"}const MH=tk({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:ff.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||ik(t)},class:"cm-selectionLayer"}),Uv={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};nk&&(Uv[".cm-line"].caretColor=Uv[".cm-content"].caretColor="transparent !important");const LH=$o.highest(Me.theme(Uv)),rk=st.define({map(t,e){return t==null?null:e.mapPos(t)}}),zc=An.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,i)=>i.is(rk)?i.value:n,t)}}),NH=on.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(zc);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(zc)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(zc),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let i=t.scrollDOM.getBoundingClientRect();return{left:n.left-i.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-i.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(zc)!=t&&this.view.dispatch({effects:rk.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function IH(){return[zc,NH]}function Lx(t,e,n,i,r){e.lastIndex=0;for(let s=t.iterRange(n,i),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)r(o+a.index,a)}function FH(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let i=[];for(let{from:r,to:s}of n)r=Math.max(t.state.doc.lineAt(r).from,r-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class BH{constructor(e){const{regexp:n,decoration:i,decorate:r,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,r)this.addMatch=(a,l,c,u)=>r(u,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,u)=>{let f=i(a,l,c);f&&u(c,c+a[0].length,f)};else if(i)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new Ds,i=n.add.bind(n);for(let{from:r,to:s}of FH(e,this.maxLength))Lx(e.state.doc,this.regexp,r,s,(o,a)=>this.addMatch(a,e,o,i));return n.finish()}updateDeco(e,n){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(i=Math.min(a,i),r=Math.max(l,r))}),e.viewportMoved||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,n.map(e.changes),i,r):n}updateRange(e,n,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,r);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),f=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let d=[],m,g=(y,O,_)=>d.push(_.range(y,O));if(l==c)for(this.regexp.lastIndex=u-l.from;(m=this.regexp.exec(l.text))&&m.index<f-l.from;)this.addMatch(m,e,m.index+l.from,g);else Lx(e.state.doc,this.regexp,u,f,(y,O)=>this.addMatch(O,e,y,g));n=n.update({filterFrom:u,filterTo:f,filter:(y,O)=>y<u||O>f,add:d})}}return n}}const Yv=/x/.unicode!=null?"gu":"g",HH=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Yv),jH={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Jm=null;function VH(){var t;if(Jm==null&&typeof document<"u"&&document.body){let e=document.body.style;Jm=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return Jm||!1}const Mh=Fe.define({combine(t){let e=as(t,{render:null,specialChars:HH,addSpecialChars:null});return(e.replaceTabs=!VH())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Yv)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Yv)),e}});function QH(t={}){return[Mh.of(t),zH()]}let Nx=null;function zH(){return Nx||(Nx=on.fromClass(class{constructor(t){this.view=t,this.decorations=Ue.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Mh)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new BH({regexp:t.specialChars,decoration:(e,n,i)=>{let{doc:r}=n.state,s=bi(e[0],0);if(s==9){let o=r.lineAt(i),a=n.state.tabSize,l=oc(o.text,a,i-o.from);return Ue.replace({widget:new UH((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Ue.replace({widget:new XH(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Mh);t.startState.facet(Mh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const WH="";function qH(t){return t>=32?WH:t==10?"":String.fromCharCode(9216+t)}class XH extends Bs{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=qH(this.code),i=e.state.phrase("Control character")+" "+(jH[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,n);if(r)return r;let s=document.createElement("span");return s.textContent=n,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class UH extends Bs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function YH(){return KH}const GH=Ue.line({class:"cm-activeLine"}),KH=on.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let i of t.state.selection.ranges){let r=t.lineBlockAt(i.head);r.from>e&&(n.push(GH.range(r.from)),e=r.from)}return Ue.set(n)}},{decorations:t=>t.decorations}),Gv=2e3;function JH(t,e,n){let i=Math.min(e.line,n.line),r=Math.max(e.line,n.line),s=[];if(e.off>Gv||n.off>Gv||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=i;l<=r;l++){let c=t.doc.line(l);c.length<=a&&s.push(fe.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=i;l<=r;l++){let c=t.doc.line(l),u=Av(c.text,o,t.tabSize,!0);if(u<0)s.push(fe.cursor(c.to));else{let f=Av(c.text,a,t.tabSize);s.push(fe.range(c.from+u,c.from+f))}}}return s}function ZH(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function Ix(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.state.doc.lineAt(n),r=n-i.from,s=r>Gv?-1:r==i.length?ZH(t,e.clientX):oc(i.text,t.state.tabSize,n-i.from);return{line:i.number,col:s,off:r}}function e3(t,e){let n=Ix(t,e),i=t.state.selection;return n?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(n.line).from),o=r.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let a=Ix(t,r);if(!a)return i;let l=JH(t.state,n,a);return l.length?o?fe.create(l.concat(i.ranges)):fe.create(l):i}}:null}function t3(t){let e=n=>n.altKey&&n.button==0;return Me.mouseSelectionStyle.of((n,i)=>e(i)?e3(n,i):null)}const n3={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},i3={style:"cursor: crosshair"};function r3(t={}){let[e,n]=n3[t.key||"Alt"],i=on.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||n(r))},keyup(r){(r.keyCode==e||!n(r))&&this.set(!1)},mousemove(r){this.set(n(r))}}});return[i,Me.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?i3:null})]}const Ec="-10000px";class sk{constructor(e,n,i,r){this.facet=n,this.createTooltipView=i,this.removeTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=i(o,s))}update(e,n){var i;let r=e.state.facet(this.facet),s=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let f=0;f<this.tooltips.length;f++){let d=this.tooltips[f];d&&d.create==c.create&&(u=f)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let f=o[l]=this.tooltipViews[u];a&&(a[l]=n[u]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function s3(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Zm=Fe.define({combine:t=>{var e,n,i;return{position:Ie.ios?"absolute":((e=t.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(r=>r.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((i=t.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||s3}}}),Fx=new WeakMap,Vy=on.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Zm);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new sk(t,Qy,(n,i)=>this.createTooltip(n,i),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(Zm);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),i=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.appendChild(r)}return n.dom.style.position=this.position,n.dom.style.top=Ec,n.dom.style.left="0px",this.container.insertBefore(n.dom,i),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(t=i.destroy)===null||t===void 0||t.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Ie.gecko)n=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Ec&&s.style.left=="0px"){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),r=Fy(this.view);return{visible:{left:i.left+r.left,top:i.top+r.top,right:i.right-r.right,bottom:i.bottom-r.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(Zm).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:i,scaleX:r,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,f=t.pos[a],d=t.size[a];if(!f||l.clip!==!1&&(f.bottom<=Math.max(n.top,i.top)||f.top>=Math.min(n.bottom,i.bottom)||f.right<Math.max(n.left,i.left)-.1||f.left>Math.min(n.right,i.right)+.1)){u.style.top=Ec;continue}let m=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,y=d.right-d.left,O=(e=Fx.get(c))!==null&&e!==void 0?e:d.bottom-d.top,_=c.offset||a3,A=this.view.textDirection==Jt.LTR,P=d.width>i.right-i.left?A?i.left:i.right-d.width:A?Math.max(i.left,Math.min(f.left-(m?14:0)+_.x,i.right-y)):Math.min(Math.max(i.left,f.left-y+(m?14:0)-_.x),i.right-y),T=this.above[a];!l.strictSide&&(T?f.top-O-g-_.y<i.top:f.bottom+O+g+_.y>i.bottom)&&T==i.bottom-f.bottom>f.top-i.top&&(T=this.above[a]=!T);let B=(T?f.top-i.top:i.bottom-f.bottom)-g;if(B<O&&c.resize!==!1){if(B<this.view.defaultLineHeight){u.style.top=Ec;continue}Fx.set(c,O),u.style.height=(O=B)/s+"px"}else u.style.height&&(u.style.height="");let I=T?f.top-O-g-_.y:f.bottom+g+_.y,v=P+y;if(c.overlap!==!0)for(let Q of o)Q.left<v&&Q.right>P&&Q.top<I+O&&Q.bottom>I&&(I=T?Q.top-O-2-g:Q.bottom+g+2);if(this.position=="absolute"?(u.style.top=(I-t.parent.top)/s+"px",Bx(u,(P-t.parent.left)/r)):(u.style.top=I/s+"px",Bx(u,P/r)),m){let Q=f.left+(A?_.x:-_.x)-(P+14-7);m.style.left=Q/r+"px"}c.overlap!==!0&&o.push({left:P,top:I,right:v,bottom:I+O}),u.classList.toggle("cm-tooltip-above",T),u.classList.toggle("cm-tooltip-below",!T),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Ec}},{eventObservers:{scroll(){this.maybeMeasure()}}});function Bx(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const o3=Me.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),a3={x:0,y:0},Qy=Fe.define({enables:[Vy,o3]}),dd=Fe.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class Tp{static create(e){return new Tp(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new sk(e,dd,(n,i)=>this.createHostedView(n,i),n=>n.dom.remove())}createHostedView(e,n){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const l3=Qy.compute([dd],t=>{let e=t.facet(dd);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var i;return(i=n.end)!==null&&i!==void 0?i:n.pos})),create:Tp.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class c3{constructor(e,n,i,r,s){this.view=e,this.source=n,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,i=e.docView.nearest(n.target);if(!i)return;let r,s=1;if(i instanceof ao)r=i.posAtStart;else{if(r=e.posAtCoords(n),r==null)return;let a=e.coordsAtPos(r);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(r)).find(u=>u.from<=r&&u.to>=r),c=l&&l.dir==Jt.RTL?-1:1;s=n.x<a.left?-c:c}let o=this.source(e,r,s);if(o!=null&&o.then){let a=this.pending={pos:r};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>li(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(Vy),n=e?e.manager.tooltips.findIndex(i=>i.create==Tp.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:s}=this;if(r.length&&s&&!u3(s.dom,e)||this.pending){let{pos:o}=r[0]||this.pending,a=(i=(n=r[0])===null||n===void 0?void 0:n.end)!==null&&i!==void 0?i:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!f3(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=i=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Zf=4;function u3(t,e){let{left:n,right:i,top:r,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();r=Math.min(a.top,r),s=Math.max(a.bottom,s)}return e.clientX>=n-Zf&&e.clientX<=i+Zf&&e.clientY>=r-Zf&&e.clientY<=s+Zf}function f3(t,e,n,i,r,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>i||o.right<i||o.top>r||Math.min(o.bottom,a)<r)return!1;let l=t.posAtCoords({x:i,y:r},!1);return l>=e&&l<=n}function h3(t,e={}){let n=st.define(),i=An.define({create(){return[]},update(r,s){if(r.length&&(e.hideOnChange&&(s.docChanged||s.selection)?r=[]:e.hideOn&&(r=r.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of r){let l=s.changes.mapPos(a.pos,-1,Ln.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}r=o}for(let o of s.effects)o.is(n)&&(r=o.value),o.is(d3)&&(r=[]);return r},provide:r=>dd.from(r)});return{active:i,extension:[i,on.define(r=>new c3(r,t,i,n,e.hoverTime||300)),l3]}}function ok(t,e){let n=t.plugin(Vy);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}const d3=st.define(),Hx=Fe.define({combine(t){let e,n;for(let i of t)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Au(t,e){let n=t.plugin(ak),i=n?n.specs.indexOf(e):-1;return i>-1?n.panels[i]:null}const ak=on.fromClass(class{constructor(t){this.input=t.state.facet(ku),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(Hx);this.top=new eh(t,!0,e.topContainer),this.bottom=new eh(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(Hx);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new eh(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new eh(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(ku);if(n!=this.input){let i=n.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of i){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),r.push(u),(u.top?s:o).push(u)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Me.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class eh{constructor(e,n,i){this.view=e,this.top=n,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=jx(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=jx(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function jx(t){let e=t.nextSibling;return t.remove(),e}const ku=Fe.define({enables:ak});class Ps extends xa{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ps.prototype.elementClass="";Ps.prototype.toDOM=void 0;Ps.prototype.mapMode=Ln.TrackBefore;Ps.prototype.startSide=Ps.prototype.endSide=-1;Ps.prototype.point=!0;const Lh=Fe.define(),p3=Fe.define(),m3={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>kt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},au=Fe.define();function g3(t){return[lk(),au.of(Object.assign(Object.assign({},m3),t))]}const Vx=Fe.define({combine:t=>t.some(e=>e)});function lk(t){return[v3]}const v3=on.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(au).map(e=>new zx(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Vx),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Vx)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=kt.iter(this.view.state.facet(Lh),this.view.viewport.from),i=[],r=this.gutters.map(s=>new b3(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==fi.Text&&o){Kv(n,i,a.from);for(let l of r)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of r)l.widget(this.view,a)}else if(s.type==fi.Text){Kv(n,i,s.from);for(let o of r)o.line(this.view,s,i)}else if(s.widget)for(let o of r)o.widget(this.view,s);for(let s of r)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(au),n=t.state.facet(au),i=t.docChanged||t.heightChanged||t.viewportChanged||!kt.eq(t.startState.facet(Lh),t.state.facet(Lh),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let r of this.gutters)r.update(t)&&(i=!0);else{i=!0;let r=[];for(let s of n){let o=e.indexOf(s);o<0?r.push(new zx(this.view,s)):(this.gutters[o].update(t),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Me.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Jt.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function Qx(t){return Array.isArray(t)?t:[t]}function Kv(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class b3{constructor(e,n,i){this.gutter=e,this.height=i,this.i=0,this.cursor=kt.iter(e.markers,n.from)}addElement(e,n,i){let{gutter:r}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==r.elements.length){let a=new ck(e,o,s,i);r.elements.push(a),r.dom.appendChild(a.dom)}else r.elements[this.i].update(e,o,s,i);this.height=n.bottom,this.i++}line(e,n,i){let r=[];Kv(this.cursor,r,n.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,n,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,r)}widget(e,n){let i=this.gutter.config.widgetMarker(e,n.widget,n),r=i?[i]:null;for(let s of e.state.facet(p3)){let o=s(e,n.widget,n);o&&(r||(r=[])).push(o)}r&&this.addElement(e,n,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class zx{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in n.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[i](e,a,r)&&r.preventDefault()});this.markers=Qx(n.markers(e)),n.initialSpacer&&(this.spacer=new ck(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=Qx(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!kt.eq(this.markers,n,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class ck{constructor(e,n,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,i,r)}update(e,n,i,r){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),y3(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,n){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(i+=" "+u);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(r);let f=r.nextSibling;r.remove(),r=f}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&o++}this.dom.className=i,this.markers=n}destroy(){this.setMarkers(null,[])}}function y3(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const O3=Fe.define(),x3=Fe.define(),rl=Fe.define({combine(t){return as(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let i=Object.assign({},e);for(let r in n){let s=i[r],o=n[r];i[r]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})}});class eg extends Ps{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function tg(t,e){return t.state.facet(rl).formatNumber(e,t.state)}const w3=au.compute([rl],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(O3)},lineMarker(e,n,i){return i.some(r=>r.toDOM)?null:new eg(tg(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,i)=>{for(let r of e.state.facet(x3)){let s=r(e,n,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(rl)!=e.state.facet(rl),initialSpacer(e){return new eg(tg(e,Wx(e.state.doc.lines)))},updateSpacer(e,n){let i=tg(n.view,Wx(n.view.state.doc.lines));return i==e.number?e:new eg(i)},domEventHandlers:t.facet(rl).domEventHandlers}));function _3(t={}){return[rl.of(t),lk(),w3]}function Wx(t){let e=9;for(;e<t;)e=e*10+9;return e}const S3=new class extends Ps{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},C3=Lh.compute(["selection"],t=>{let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.head).from;r>n&&(n=r,e.push(S3.range(r)))}return kt.of(e)});function T3(){return C3}const uk=1024;let A3=0;class ng{constructor(e,n){this.from=e,this.to=n}}class ut{constructor(e={}){this.id=A3++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ci.match(e)),n=>{let i=e(n);return i===void 0?null:[this,i]}}}ut.closedBy=new ut({deserialize:t=>t.split(" ")});ut.openedBy=new ut({deserialize:t=>t.split(" ")});ut.group=new ut({deserialize:t=>t.split(" ")});ut.isolate=new ut({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});ut.contextHash=new ut({perNode:!0});ut.lookAhead=new ut({perNode:!0});ut.mounted=new ut({perNode:!0});class pd{constructor(e,n,i){this.tree=e,this.overlay=n,this.parser=i}static get(e){return e&&e.props&&e.props[ut.mounted.id]}}const k3=Object.create(null);class Ci{constructor(e,n,i,r=0){this.name=e,this.props=n,this.id=i,this.flags=r}static define(e){let n=e.props&&e.props.length?Object.create(null):k3,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ci(e.name||"",n,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(ut.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let i in e)for(let r of i.split(" "))n[r]=e[i];return i=>{for(let r=i.prop(ut.group),s=-1;s<(r?r.length:0);s++){let o=n[s<0?i.name:r[s]];if(o)return o}}}}Ci.none=new Ci("",Object.create(null),0,8);class zy{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}n.push(r?new Ci(i.name,r,i.id,i.flags):i)}return new zy(n)}}const th=new WeakMap,qx=new WeakMap;var _n;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(_n||(_n={}));class fn{constructor(e,n,i,r,s){if(this.type=e,this.children=n,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=pd.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let i of this.children){let r=i.toString();r&&(n&&(n+=","),n+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Zv(this.topNode,e)}cursorAt(e,n=0,i=0){let r=th.get(this)||this.topNode,s=new Zv(r);return s.moveTo(e,n),th.set(this,s._tree),s}get topNode(){return new ir(this,0,0,null)}resolve(e,n=0){let i=Eu(th.get(this)||this.topNode,e,n,!1);return th.set(this,i),i}resolveInner(e,n=0){let i=Eu(qx.get(this)||this.topNode,e,n,!0);return qx.set(this,i),i}resolveStack(e,n=0){return R3(this,e,n)}iterate(e){let{enter:n,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&_n.IncludeAnonymous)>0;for(let l=this.cursor(o|_n.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Xy(Ci.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,r)=>new fn(this.type,n,i,r,this.propValues),e.makeTree||((n,i,r)=>new fn(Ci.none,n,i,r)))}static build(e){return P3(e)}}fn.empty=new fn(Ci.none,[],[],0);class Wy{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Wy(this.buffer,this.index)}}class So{constructor(e,n,i){this.buffer=e,this.length=n,this.set=i}get type(){return Ci.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],i=this.buffer[e+3],r=this.set.types[n],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(fk(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,n,i){let r=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=r[a++],s[l++]=r[a++]-i;let c=s[l++]=r[a++]-i;s[l++]=r[a++]-e,o=Math.max(o,c)}return new So(s,o,this.set)}}function fk(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function Eu(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!i&&t instanceof ir&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=i?0:_n.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof ir&&o.index<0&&((r=a.enter(e,n,s))===null||r===void 0?void 0:r.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class hk{cursor(e=0){return new Zv(this,e)}getChild(e,n=null,i=null){let r=Xx(this,e,n,i);return r.length?r[0]:null}getChildren(e,n=null,i=null){return Xx(this,e,n,i)}resolve(e,n=0){return Eu(this,e,n,!1)}resolveInner(e,n=0){return Eu(this,e,n,!0)}matchContext(e){return Jv(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),i=this;for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(i=n,n=r.prevSibling):n=r}return i}get node(){return this}get next(){return this.parent}}class ir extends hk{constructor(e,n,i,r){super(),this._tree=e,this.from=n,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],f=l[e]+o.from;if(fk(r,i,f,f+u.length)){if(u instanceof So){if(s&_n.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,n,i-f,r);if(d>-1)return new co(new E3(o,u,e,f),null,d)}else if(s&_n.IncludeAnonymous||!u.type.isAnonymous||qy(u)){let d;if(!(s&_n.IgnoreMounts)&&(d=pd.get(u))&&!d.overlay)return new ir(d.tree,f,e,o);let m=new ir(u,f,e,o);return s&_n.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(n<0?u.children.length-1:0,n,i,r)}}}if(s&_n.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,i=0){let r;if(!(i&_n.IgnoreOverlays)&&(r=pd.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new ir(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Xx(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function Jv(t,e,n=e.length-1){for(let i=t;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class E3{constructor(e,n,i,r){this.parent=e,this.buffer=n,this.index=i,this.start=r}}class co extends hk{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,i){super(),this.context=e,this._parent=n,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,n,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.context.start,i);return s<0?null:new co(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,i=0){if(i&_n.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new co(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new co(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new co(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),n.push(0)}return new fn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function dk(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let i=n instanceof ir&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new D3(r,n)}class D3{constructor(e,n){this.heads=e,this.node=n}get next(){return dk(this.heads)}}function R3(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof ir?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,n)),s=o}else{let o=pd.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new ir(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Eu(a,e,n,!1))}}return r?dk(r):i}class Zv{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ir)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=n||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof ir?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,i=this.mode){return this.buffer?i&_n.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&_n.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&_n.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(n.findChild(r,this.index,-1,0,4))}else{let r=n.buffer[this.index+3];if(r<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:i}=r)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let s=n+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&_n.IncludeAnonymous||a instanceof So||!a.type.isAnonymous||qy(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;n=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)n=new co(this.buffer,n,this.stack[r]);return this.bufferNode=new co(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&n&&n(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return Jv(this.node.parent,e);let{buffer:n}=this.buffer,{types:i}=n.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return Jv(this._tree,e,r);let o=i[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function qy(t){return t.children.some(e=>e instanceof So||!e.type.isAnonymous||qy(e))}function P3(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=uk,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new Wy(n,n.length):n,l=i.types,c=0,u=0;function f(B,I,v,Q,Y,te){let{id:ve,start:J,end:X,size:le}=a,ae=u,me=c;for(;le<0;)if(a.next(),le==-1){let ct=s[ve];v.push(ct),Q.push(J-B);return}else if(le==-3){c=ve;return}else if(le==-4){u=ve;return}else throw new RangeError(`Unrecognized record size: ${le}`);let ue=l[ve],Re,Ge,ft=J-B;if(X-J<=r&&(Ge=O(a.pos-I,Y))){let ct=new Uint16Array(Ge.size-Ge.skip),tt=a.pos-Ge.size,xt=ct.length;for(;a.pos>tt;)xt=_(Ge.start,ct,xt);Re=new So(ct,X-Ge.start,i),ft=Ge.start-B}else{let ct=a.pos-le;a.next();let tt=[],xt=[],$t=ve>=o?ve:-1,Ut=0,Nt=X;for(;a.pos>ct;)$t>=0&&a.id==$t&&a.size>=0?(a.end<=Nt-r&&(g(tt,xt,J,Ut,a.end,Nt,$t,ae,me),Ut=tt.length,Nt=a.end),a.next()):te>2500?d(J,ct,tt,xt):f(J,ct,tt,xt,$t,te+1);if($t>=0&&Ut>0&&Ut<tt.length&&g(tt,xt,J,Ut,J,Nt,$t,ae,me),tt.reverse(),xt.reverse(),$t>-1&&Ut>0){let ne=m(ue,me);Re=Xy(ue,tt,xt,0,tt.length,0,X-J,ne,ne)}else Re=y(ue,tt,xt,X-J,ae-X,me)}v.push(Re),Q.push(ft)}function d(B,I,v,Q){let Y=[],te=0,ve=-1;for(;a.pos>I;){let{id:J,start:X,end:le,size:ae}=a;if(ae>4)a.next();else{if(ve>-1&&X<ve)break;ve<0&&(ve=le-r),Y.push(J,X,le),te++,a.next()}}if(te){let J=new Uint16Array(te*4),X=Y[Y.length-2];for(let le=Y.length-3,ae=0;le>=0;le-=3)J[ae++]=Y[le],J[ae++]=Y[le+1]-X,J[ae++]=Y[le+2]-X,J[ae++]=ae;v.push(new So(J,Y[2]-X,i)),Q.push(X-B)}}function m(B,I){return(v,Q,Y)=>{let te=0,ve=v.length-1,J,X;if(ve>=0&&(J=v[ve])instanceof fn){if(!ve&&J.type==B&&J.length==Y)return J;(X=J.prop(ut.lookAhead))&&(te=Q[ve]+J.length+X)}return y(B,v,Q,Y,te,I)}}function g(B,I,v,Q,Y,te,ve,J,X){let le=[],ae=[];for(;B.length>Q;)le.push(B.pop()),ae.push(I.pop()+v-Y);B.push(y(i.types[ve],le,ae,te-Y,J-te,X)),I.push(Y-v)}function y(B,I,v,Q,Y,te,ve){if(te){let J=[ut.contextHash,te];ve=ve?[J].concat(ve):[J]}if(Y>25){let J=[ut.lookAhead,Y];ve=ve?[J].concat(ve):[J]}return new fn(B,I,v,Q,ve)}function O(B,I){let v=a.fork(),Q=0,Y=0,te=0,ve=v.end-r,J={size:0,start:0,skip:0};e:for(let X=v.pos-B;v.pos>X;){let le=v.size;if(v.id==I&&le>=0){J.size=Q,J.start=Y,J.skip=te,te+=4,Q+=4,v.next();continue}let ae=v.pos-le;if(le<0||ae<X||v.start<ve)break;let me=v.id>=o?4:0,ue=v.start;for(v.next();v.pos>ae;){if(v.size<0)if(v.size==-3)me+=4;else break e;else v.id>=o&&(me+=4);v.next()}Y=ue,Q+=le,te+=me}return(I<0||Q==B)&&(J.size=Q,J.start=Y,J.skip=te),J.size>4?J:void 0}function _(B,I,v){let{id:Q,start:Y,end:te,size:ve}=a;if(a.next(),ve>=0&&Q<o){let J=v;if(ve>4){let X=a.pos-(ve-4);for(;a.pos>X;)v=_(B,I,v)}I[--v]=J,I[--v]=te-B,I[--v]=Y-B,I[--v]=Q}else ve==-3?c=Q:ve==-4&&(u=Q);return v}let A=[],P=[];for(;a.pos>0;)f(t.start||0,t.bufferStart||0,A,P,-1,0);let T=(e=t.length)!==null&&e!==void 0?e:A.length?P[0]+A[0].length:0;return new fn(l[t.topID],A.reverse(),P.reverse(),T)}const Ux=new WeakMap;function Nh(t,e){if(!t.isAnonymous||e instanceof So||e.type!=t)return 1;let n=Ux.get(e);if(n==null){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof fn)){n=1;break}n+=Nh(t,i)}Ux.set(e,n)}return n}function Xy(t,e,n,i,r,s,o,a,l){let c=0;for(let g=i;g<r;g++)c+=Nh(t,e[g]);let u=Math.ceil(c*1.5/8),f=[],d=[];function m(g,y,O,_,A){for(let P=O;P<_;){let T=P,B=y[P],I=Nh(t,g[P]);for(P++;P<_;P++){let v=Nh(t,g[P]);if(I+v>=u)break;I+=v}if(P==T+1){if(I>u){let v=g[T];m(v.children,v.positions,0,v.children.length,y[T]+A);continue}f.push(g[T])}else{let v=y[P-1]+g[P-1].length-B;f.push(Xy(t,g,y,T,P,B,v,null,l))}d.push(B+A-s)}}return m(e,n,i,r,0),(a||l)(f,d,o)}class fa{constructor(e,n,i,r,s=!1,o=!1){this.from=e,this.to=n,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],i=!1){let r=[new fa(0,e.length,e,0,!1,i)];for(let s of n)s.to>e.length&&r.push(s);return r}static applyChanges(e,n,i=128){if(!n.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,f=u?u.fromA:1e9;if(f-l>=i)for(;o&&o.from<f;){let d=o;if(l>=d.from||f<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,f)-c;d=m>=g?null:new fa(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&r.push(d),o.to>f)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return r}}let pk=class{startParse(e,n,i){return typeof e=="string"&&(e=new $3(e)),i=i?i.length?i.map(r=>new ng(r.from,r.to)):[new ng(0,0)]:[new ng(0,e.length)],this.createParse(e,n||[],i)}parse(e,n,i){let r=this.startParse(e,n,i);for(;;){let s=r.advance();if(s)return s}}};class $3{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new ut({perNode:!0});let M3=0,gs=class eb{constructor(e,n,i,r){this.name=e,this.set=n,this.base=i,this.modified=r,this.id=M3++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let i=typeof e=="string"?e:"?";if(e instanceof eb&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let r=new eb(i,[],null,[]);if(r.set.push(r),n)for(let s of n.set)r.set.push(s);return r}static defineModifier(e){let n=new md(e);return i=>i.modified.indexOf(n)>-1?i:md.get(i.base||i,i.modified.concat(n).sort((r,s)=>r.id-s.id))}},L3=0;class md{constructor(e){this.name=e,this.instances=[],this.id=L3++}static get(e,n){if(!n.length)return e;let i=n[0].instances.find(a=>a.base==e&&N3(n,a.modified));if(i)return i;let r=[],s=new gs(e.name,r,e,n);for(let a of n)a.instances.push(s);let o=I3(n);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(md.get(a,l));return s}}function N3(t,e){return t.length==e.length&&t.every((n,i)=>n==e[i])}function I3(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort((n,i)=>i.length-n.length)}function Ap(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let r of n.split(" "))if(r){let s=[],o=2,a=r;for(let f=0;;){if(a=="..."&&f>0&&f+3==r.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+r);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==r.length)break;let m=r[f++];if(f==r.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+r);a=r.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+r);let u=new gd(i,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return mk.add(e)}const mk=new ut;class gd{constructor(e,n,i,r){this.tags=e,this.mode=n,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}gd.empty=new gd([],2,null);function gk(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function F3(t,e){let n=null;for(let i of t){let r=i.style(e);r&&(n=n?n+" "+r:r)}return n}function B3(t,e,n,i=0,r=t.length){let s=new H3(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}class H3{constructor(e,n,i){this.at=e,this.highlighters=n,this.span=i,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=n)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let c=r,u=j3(e)||gd.empty,f=F3(s,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(r+=(r?" ":"")+f)),this.startSpan(Math.max(n,a),c),u.opaque)return;let d=e.tree&&e.tree.prop(ut.mounted);if(d&&d.overlay){let m=e.node.enter(d.overlay[0].from+a,1),g=this.highlighters.filter(O=>!O.scope||O.scope(d.tree.type)),y=e.firstChild();for(let O=0,_=a;;O++){let A=O<d.overlay.length?d.overlay[O]:null,P=A?A.from+a:l,T=Math.max(n,_),B=Math.min(i,P);if(T<B&&y)for(;e.from<B&&(this.highlightRange(e,T,B,r,s),this.startSpan(Math.min(B,e.to),c),!(e.to>=P||!e.nextSibling())););if(!A||P>i)break;_=A.to+a,_>n&&(this.highlightRange(m.cursor(),Math.max(n,A.from+a),Math.min(i,_),"",g),this.startSpan(Math.min(i,_),c))}y&&e.parent()}else if(e.firstChild()){d&&(r="");do if(!(e.to<=n)){if(e.from>=i)break;this.highlightRange(e,n,i,r,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function j3(t){let e=t.type.prop(mk);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Ee=gs.define,nh=Ee(),Zs=Ee(),Yx=Ee(Zs),Gx=Ee(Zs),eo=Ee(),ih=Ee(eo),ig=Ee(eo),jr=Ee(),zo=Ee(jr),Br=Ee(),Hr=Ee(),tb=Ee(),Dc=Ee(tb),rh=Ee(),W={comment:nh,lineComment:Ee(nh),blockComment:Ee(nh),docComment:Ee(nh),name:Zs,variableName:Ee(Zs),typeName:Yx,tagName:Ee(Yx),propertyName:Gx,attributeName:Ee(Gx),className:Ee(Zs),labelName:Ee(Zs),namespace:Ee(Zs),macroName:Ee(Zs),literal:eo,string:ih,docString:Ee(ih),character:Ee(ih),attributeValue:Ee(ih),number:ig,integer:Ee(ig),float:Ee(ig),bool:Ee(eo),regexp:Ee(eo),escape:Ee(eo),color:Ee(eo),url:Ee(eo),keyword:Br,self:Ee(Br),null:Ee(Br),atom:Ee(Br),unit:Ee(Br),modifier:Ee(Br),operatorKeyword:Ee(Br),controlKeyword:Ee(Br),definitionKeyword:Ee(Br),moduleKeyword:Ee(Br),operator:Hr,derefOperator:Ee(Hr),arithmeticOperator:Ee(Hr),logicOperator:Ee(Hr),bitwiseOperator:Ee(Hr),compareOperator:Ee(Hr),updateOperator:Ee(Hr),definitionOperator:Ee(Hr),typeOperator:Ee(Hr),controlOperator:Ee(Hr),punctuation:tb,separator:Ee(tb),bracket:Dc,angleBracket:Ee(Dc),squareBracket:Ee(Dc),paren:Ee(Dc),brace:Ee(Dc),content:jr,heading:zo,heading1:Ee(zo),heading2:Ee(zo),heading3:Ee(zo),heading4:Ee(zo),heading5:Ee(zo),heading6:Ee(zo),contentSeparator:Ee(jr),list:Ee(jr),quote:Ee(jr),emphasis:Ee(jr),strong:Ee(jr),link:Ee(jr),monospace:Ee(jr),strikethrough:Ee(jr),inserted:Ee(),deleted:Ee(),changed:Ee(),invalid:Ee(),meta:rh,documentMeta:Ee(rh),annotation:Ee(rh),processingInstruction:Ee(rh),definition:gs.defineModifier("definition"),constant:gs.defineModifier("constant"),function:gs.defineModifier("function"),standard:gs.defineModifier("standard"),local:gs.defineModifier("local"),special:gs.defineModifier("special")};for(let t in W){let e=W[t];e instanceof gs&&(e.name=t)}gk([{tag:W.link,class:"tok-link"},{tag:W.heading,class:"tok-heading"},{tag:W.emphasis,class:"tok-emphasis"},{tag:W.strong,class:"tok-strong"},{tag:W.keyword,class:"tok-keyword"},{tag:W.atom,class:"tok-atom"},{tag:W.bool,class:"tok-bool"},{tag:W.url,class:"tok-url"},{tag:W.labelName,class:"tok-labelName"},{tag:W.inserted,class:"tok-inserted"},{tag:W.deleted,class:"tok-deleted"},{tag:W.literal,class:"tok-literal"},{tag:W.string,class:"tok-string"},{tag:W.number,class:"tok-number"},{tag:[W.regexp,W.escape,W.special(W.string)],class:"tok-string2"},{tag:W.variableName,class:"tok-variableName"},{tag:W.local(W.variableName),class:"tok-variableName tok-local"},{tag:W.definition(W.variableName),class:"tok-variableName tok-definition"},{tag:W.special(W.variableName),class:"tok-variableName2"},{tag:W.definition(W.propertyName),class:"tok-propertyName tok-definition"},{tag:W.typeName,class:"tok-typeName"},{tag:W.namespace,class:"tok-namespace"},{tag:W.className,class:"tok-className"},{tag:W.macroName,class:"tok-macroName"},{tag:W.propertyName,class:"tok-propertyName"},{tag:W.operator,class:"tok-operator"},{tag:W.comment,class:"tok-comment"},{tag:W.meta,class:"tok-meta"},{tag:W.invalid,class:"tok-invalid"},{tag:W.punctuation,class:"tok-punctuation"}]);var rg;const sl=new ut;function V3(t){return Fe.define({combine:t?e=>e.concat(t):void 0})}const Q3=new ut;class wr{constructor(e,n,i=[],r=""){this.data=e,this.name=r,_t.prototype.hasOwnProperty("tree")||Object.defineProperty(_t.prototype,"tree",{get(){return Tn(this)}}),this.parser=n,this.extension=[Co.of(this),_t.languageData.of((s,o,a)=>{let l=Kx(s,o,a),c=l.type.prop(sl);if(!c)return[];let u=s.facet(c),f=l.type.prop(Q3);if(f){let d=l.resolve(o-l.from,a);for(let m of f)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(i)}isActiveAt(e,n,i=-1){return Kx(e,n,i).type.prop(sl)==this.data}findRegions(e){let n=e.facet(Co);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(sl)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(ut.mounted);if(a){if(a.tree.prop(sl)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof fn&&r(c,s.positions[l]+o)}};return r(Tn(e),0),i}get allowsNesting(){return!0}}wr.setState=st.define();function Kx(t,e,n){let i=t.facet(Co),r=Tn(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,_n.ExcludeBuffers))s.type.isTop&&(r=s);return r}class Vl extends wr{constructor(e,n,i){super(e,n,[],i),this.parser=n}static define(e){let n=V3(e.languageData);return new Vl(n,e.parser.configure({props:[sl.add(i=>i.isTop?n:void 0)]}),e.name)}configure(e,n){return new Vl(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Tn(t){let e=t.field(wr.state,!1);return e?e.tree:fn.empty}class z3{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let i=this.cursorPos-this.string.length;return e<i||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-i,n-i)}}let Rc=null;class vd{constructor(e,n,i=[],r,s,o,a,l){this.parser=e,this.state=n,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,i){return new vd(e,n,[],fn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new z3(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=fn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(fa.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(fa.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Rc;Rc=this;try{return e()}finally{Rc=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=Jx(e,n.from,n.to);return e}changes(e,n){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,f,d)=>l.push({fromA:c,toA:u,fromB:f,toB:d})),i=fa.applyChanges(i,l),r=fn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&a.push({from:u,to:f})}}}return new vd(this.parser,n,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=Jx(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends pk{createParse(n,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=Rc;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new fn(Ci.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Rc}}function Jx(t,e,n){return fa.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Ql{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new Ql(n)}static init(e){let n=Math.min(3e3,e.doc.length),i=vd.create(e.facet(Co).parser,e,{from:0,to:n});return i.work(20,n)||i.takeTree(),new Ql(i)}}wr.state=An.define({create:Ql.init,update(t,e){for(let n of e.effects)if(n.is(wr.setState))return n.value;return e.startState.facet(Co)!=e.state.facet(Co)?Ql.init(e.state):t.apply(e)}});let vk=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(vk=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const sg=typeof navigator<"u"&&(!((rg=navigator.scheduling)===null||rg===void 0)&&rg.isInputPending)?()=>navigator.scheduling.isInputPending():null,W3=on.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(wr.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(wr.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=vk(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(wr.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!sg?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>sg&&sg()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:wr.setState.of(new Ql(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>li(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Co=Fe.define({combine(t){return t.length?t[0]:null},enables:t=>[wr.state,W3,Me.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class bk{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const q3=Fe.define(),kp=Fe.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function bd(t){let e=t.facet(kp);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Du(t,e){let n="",i=t.tabSize,r=t.facet(kp)[0];if(r=="	"){for(;e>=i;)n+="	",e-=i;r=" "}for(let s=0;s<e;s++)n+=r;return n}function Uy(t,e){t instanceof _t&&(t=new Ep(t));for(let i of t.state.facet(q3)){let r=i(t,e);if(r!==void 0)return r}let n=Tn(t.state);return n.length>=e?X3(t,n,e):null}class Ep{constructor(e,n={}){this.state=e,this.options=n,this.unit=bd(e)}lineAt(e,n=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(n<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,n);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,n=e.length){return oc(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Yy=new ut;function X3(t,e,n){let i=e.resolveStack(n),r=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(r!=i.node){let s=[];for(let o=r;o&&!(o.from==i.node.from&&o.type==i.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return yk(i,t,n)}function yk(t,e,n){for(let i=t;i;i=i.next){let r=Y3(i.node);if(r)return r(Gy.create(e,n,i))}return 0}function U3(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Y3(t){let e=t.type.prop(Yy);if(e)return e;let n=t.firstChild,i;if(n&&(i=n.type.prop(ut.closedBy))){let r=t.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>Ok(o,!0,1,void 0,s&&!U3(o)?r.from:void 0)}return t.parent==null?G3:null}function G3(){return 0}class Gy extends Ep{constructor(e,n,i){super(e.state,e.options),this.base=e,this.pos=n,this.context=i}get node(){return this.context.node}static create(e,n,i){return new Gy(e,n,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(n.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(K3(i,e))break;n=this.state.doc.lineAt(i.from)}return this.lineIndent(n.from)}continue(){return yk(this.context.next,this.base,this.pos)}}function K3(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function J3(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function Zx({closing:t,align:e=!0,units:n=1}){return i=>Ok(i,e,n,t)}function Ok(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?J3(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function ew({except:t,units:e=1}={}){return n=>{let i=t&&t.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}const Z3=200;function ej(){return _t.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:i}=t.newSelection.main,r=n.lineAt(i);if(i>r.from+Z3)return t;let s=n.sliceString(r.from,i);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let f=Uy(o,u.from);if(f==null)continue;let d=/^\s*/.exec(u.text)[0],m=Du(o,f);d!=m&&l.push({from:u.from,to:u.from+d.length,insert:m})}return l.length?[t,{changes:l,sequential:!0}]:t})}const tj=Fe.define(),Ky=new ut;function xk(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function nj(t,e,n){let i=Tn(t);if(i.length<n)return null;let r=i.resolveStack(n,1),s=null;for(let o=r;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(Ky);if(l&&(a.to<i.length-50||i.length==t.doc.length||!ij(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(s=c)}}return s}function ij(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function yd(t,e,n){for(let i of t.facet(tj)){let r=i(t,e,n);if(r)return r}return nj(t,e,n)}function wk(t,e){let n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);return n>=i?void 0:{from:n,to:i}}const Dp=st.define({map:wk}),hf=st.define({map:wk});function _k(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(i=>i.from<=n&&i.to>=n)||e.push(t.lineBlockAt(n));return e}const Ca=An.define({create(){return Ue.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Dp)&&!rj(t,n.value.from,n.value.to)){let{preparePlaceholder:i}=e.state.facet(Tk),r=i?Ue.replace({widget:new fj(i(e.state,n.value))}):tw;t=t.update({add:[r.range(n.value.from,n.value.to)]})}else n.is(hf)&&(t=t.update({filter:(i,r)=>n.value.from!=i||n.value.to!=r,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:i}=e.selection.main;t.between(i,i,(r,s)=>{r<i&&s>i&&(n=!0)}),n&&(t=t.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return t},provide:t=>Me.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(i,r)=>{n.push(i,r)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let i=t[n++],r=t[n++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(tw.range(i,r))}return Ue.set(e,!0)}});function Od(t,e,n){var i;let r=null;return(i=t.field(Ca,!1))===null||i===void 0||i.between(e,n,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function rj(t,e,n){let i=!1;return t.between(e,e,(r,s)=>{r==e&&s==n&&(i=!0)}),i}function Sk(t,e){return t.field(Ca,!1)?e:e.concat(st.appendConfig.of(Ak()))}const sj=t=>{for(let e of _k(t)){let n=yd(t.state,e.from,e.to);if(n)return t.dispatch({effects:Sk(t.state,[Dp.of(n),Ck(t,n)])}),!0}return!1},oj=t=>{if(!t.state.field(Ca,!1))return!1;let e=[];for(let n of _k(t)){let i=Od(t.state,n.from,n.to);i&&e.push(hf.of(i),Ck(t,i,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function Ck(t,e,n=!0){let i=t.state.doc.lineAt(e.from).number,r=t.state.doc.lineAt(e.to).number;return Me.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${t.state.phrase("to")} ${r}.`)}const aj=t=>{let{state:e}=t,n=[];for(let i=0;i<e.doc.length;){let r=t.lineBlockAt(i),s=yd(e,r.from,r.to);s&&n.push(Dp.of(s)),i=(s?t.lineBlockAt(s.to):r).to+1}return n.length&&t.dispatch({effects:Sk(t.state,n)}),!!n.length},lj=t=>{let e=t.state.field(Ca,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(i,r)=>{n.push(hf.of({from:i,to:r}))}),t.dispatch({effects:n}),!0},cj=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:sj},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:oj},{key:"Ctrl-Alt-[",run:aj},{key:"Ctrl-Alt-]",run:lj}],uj={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Tk=Fe.define({combine(t){return as(t,uj)}});function Ak(t){return[Ca,pj]}function kk(t,e){let{state:n}=t,i=n.facet(Tk),r=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=Od(t.state,a.from,a.to);l&&t.dispatch({effects:hf.of(l)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(t,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const tw=Ue.replace({widget:new class extends Bs{toDOM(t){return kk(t,null)}}});class fj extends Bs{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return kk(e,this.value)}}const hj={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class og extends Ps{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function dj(t={}){let e=Object.assign(Object.assign({},hj),t),n=new og(e,!0),i=new og(e,!1),r=on.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Co)!=o.state.facet(Co)||o.startState.field(Ca,!1)!=o.state.field(Ca,!1)||Tn(o.startState)!=Tn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Ds;for(let l of o.viewportLineBlocks){let c=Od(o.state,l.from,l.to)?i:yd(o.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[r,g3({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(r))===null||a===void 0?void 0:a.markers)||kt.empty},initialSpacer(){return new og(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=Od(o.state,a.from,a.to);if(c)return o.dispatch({effects:hf.of(c)}),!0;let u=yd(o.state,a.from,a.to);return u?(o.dispatch({effects:Dp.of(u)}),!0):!1}})}),Ak()]}const pj=Me.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class df{constructor(e,n){this.specs=e;let i;function r(a){let l=xo.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?r(n.all):void 0,o=n.scope;this.scope=o instanceof wr?a=>a.prop(sl)==o.data:o?a=>a==o:void 0,this.style=gk(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new xo(i):null,this.themeType=n.themeType}static define(e,n){return new df(e,n||{})}}const nb=Fe.define(),Ek=Fe.define({combine(t){return t.length?[t[0]]:null}});function ag(t){let e=t.facet(nb);return e.length?e:t.facet(Ek)}function Dk(t,e){let n=[gj],i;return t instanceof df&&(t.module&&n.push(Me.styleModule.of(t.module)),i=t.themeType),e!=null&&e.fallback?n.push(Ek.of(t)):i?n.push(nb.computeN([Me.darkTheme],r=>r.facet(Me.darkTheme)==(i=="dark")?[t]:[])):n.push(nb.of(t)),n}class mj{constructor(e){this.markCache=Object.create(null),this.tree=Tn(e.state),this.decorations=this.buildDeco(e,ag(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Tn(e.state),i=ag(e.state),r=i!=ag(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!r&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||r)&&(this.tree=n,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Ue.none;let i=new Ds;for(let{from:r,to:s}of e.visibleRanges)B3(this.tree,n,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=Ue.mark({class:l})))},r,s);return i.finish()}}const gj=$o.high(on.fromClass(mj,{decorations:t=>t.decorations})),vj=df.define([{tag:W.meta,color:"#404740"},{tag:W.link,textDecoration:"underline"},{tag:W.heading,textDecoration:"underline",fontWeight:"bold"},{tag:W.emphasis,fontStyle:"italic"},{tag:W.strong,fontWeight:"bold"},{tag:W.strikethrough,textDecoration:"line-through"},{tag:W.keyword,color:"#708"},{tag:[W.atom,W.bool,W.url,W.contentSeparator,W.labelName],color:"#219"},{tag:[W.literal,W.inserted],color:"#164"},{tag:[W.string,W.deleted],color:"#a11"},{tag:[W.regexp,W.escape,W.special(W.string)],color:"#e40"},{tag:W.definition(W.variableName),color:"#00f"},{tag:W.local(W.variableName),color:"#30a"},{tag:[W.typeName,W.namespace],color:"#085"},{tag:W.className,color:"#167"},{tag:[W.special(W.variableName),W.macroName],color:"#256"},{tag:W.definition(W.propertyName),color:"#00c"},{tag:W.comment,color:"#940"},{tag:W.invalid,color:"#f00"}]),bj=Me.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Rk=1e4,Pk="()[]{}",$k=Fe.define({combine(t){return as(t,{afterCursor:!0,brackets:Pk,maxScanDistance:Rk,renderMatch:xj})}}),yj=Ue.mark({class:"cm-matchingBracket"}),Oj=Ue.mark({class:"cm-nonmatchingBracket"});function xj(t){let e=[],n=t.matched?yj:Oj;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const wj=An.define({create(){return Ue.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet($k);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=Yr(e.state,r.head,-1,i)||r.head>0&&Yr(e.state,r.head-1,1,i)||i.afterCursor&&(Yr(e.state,r.head,1,i)||r.head<e.state.doc.length&&Yr(e.state,r.head+1,-1,i));s&&(n=n.concat(i.renderMatch(s,e.state)))}return Ue.set(n,!0)},provide:t=>Me.decorations.from(t)}),_j=[wj,bj];function Sj(t={}){return[$k.of(t),_j]}const Cj=new ut;function ib(t,e,n){let i=t.prop(e<0?ut.openedBy:ut.closedBy);if(i)return i;if(t.name.length==1){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function rb(t){let e=t.type.prop(Cj);return e?e(t.node):t}function Yr(t,e,n,i={}){let r=i.maxScanDistance||Rk,s=i.brackets||Pk,o=Tn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=ib(l.type,n,s);if(c&&l.from<l.to){let u=rb(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Tj(t,e,n,l,u,c,s)}}return Aj(t,e,n,o,a.type,r,s)}function Tj(t,e,n,i,r,s,o){let a=i.parent,l={from:r.from,to:r.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(i.from):u.childAfter(i.to)))do if(n<0?u.to<=i.from:u.from>=i.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let f=rb(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(ib(u.type,n,o))c++;else if(ib(u.type,-n,o)){if(c==0){let f=rb(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Aj(t,e,n,i,r,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let d=0;!u.next().done&&d<=s;){let m=u.value;n<0&&(d+=m.length);let g=e+d*n;for(let y=n>0?0:m.length-1,O=n>0?m.length:-1;y!=O;y+=n){let _=o.indexOf(m[y]);if(!(_<0||i.resolveInner(g+y,1).type!=r))if(_%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:g+y,to:g+y+1},matched:_>>1==l>>1};f--}}n>0&&(d+=m.length)}return u.done?{start:c,matched:!1}:null}const kj=Object.create(null),nw=[Ci.none],iw=[],rw=Object.create(null),Ej=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Ej[t]=Dj(kj,e);function lg(t,e){iw.indexOf(t)>-1||(iw.push(t),console.warn(e))}function Dj(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||W[c];u?typeof u=="function"?l.length?l=l.map(u):lg(c,`Modifier ${c} used at start of tag`):l.length?lg(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:lg(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map(a=>a.id),s=rw[r];if(s)return s.id;let o=rw[r]=Ci.define({id:nw.length,name:i,props:[Ap({[i]:n})]});return nw.push(o),o.id}Jt.RTL,Jt.LTR;const Rj=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=Zy(t.state,n.from);return i.line?Pj(t):i.block?Mj(t):!1};function Jy(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return r?(i(n.update(r)),!0):!1}}const Pj=Jy(Ij,0),$j=Jy(Mk,0),Mj=Jy((t,e)=>Mk(t,e,Nj(e)),0);function Zy(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Pc=50;function Lj(t,{open:e,close:n},i,r){let s=t.sliceDoc(i-Pc,i),o=t.sliceDoc(r,r+Pc),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let u,f;r-i<=2*Pc?u=f=t.sliceDoc(i,r):(u=t.sliceDoc(i,i+Pc),f=t.sliceDoc(r-Pc,r));let d=/^\s*/.exec(u)[0].length,m=/\s*$/.exec(f)[0].length,g=f.length-m-n.length;return u.slice(d,d+e.length)==e&&f.slice(g,g+n.length)==n?{open:{pos:i+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:r-m-n.length,margin:/\s/.test(f.charAt(g-1))?1:0}}:null}function Nj(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to);r.from>i.from&&r.from==n.to&&(r=n.to==i.to+1?i:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function Mk(t,e,n=e.selection.ranges){let i=n.map(s=>Zy(e,s.from).block);if(!i.every(s=>s))return null;let r=n.map((s,o)=>Lj(e,i[o],s.from,s.to));if(t!=2&&!r.every(s=>s))return{changes:e.changes(n.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(t!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=i[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function Ij(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of n){let a=i.length,l=1e9,c=Zy(e,s).line;if(c){for(let u=s;u<=o;){let f=e.doc.lineAt(u);if(f.from>r&&(s==o||o>f.from)){r=f.from;let d=/^\s*/.exec(f.text)[0].length,m=d==f.length,g=f.text.slice(d,d+c.length)==c?d:-1;d<f.text.length&&d<l&&(l=d),i.push({line:f,comment:g,token:c,indent:d,empty:m,single:!1})}u=f.to+1}if(l<1e9)for(let u=a;u<i.length;u++)i[u].indent<i[u].line.text.length&&(i[u].indent=l);i.length==a+1&&(i[a].single=!0)}}if(t!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:f}of i)(f||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const sb=Fs.define(),Fj=Fs.define(),Bj=Fe.define(),Lk=Fe.define({combine(t){return as(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(i,r)=>e(i,r)||n(i,r)})}}),Nk=An.define({create(){return Gr.empty},update(t,e){let n=e.state.facet(Lk),i=e.annotation(sb);if(i){let l=wi.fromTransaction(e,i.selection),c=i.side,u=c==0?t.undone:t.done;return l?u=xd(u,u.length,n.minDepth,l):u=Bk(u,e.startState.selection),new Gr(c==0?i.rest:u,c==0?u:i.rest)}let r=e.annotation(Fj);if((r=="full"||r=="before")&&(t=t.isolate()),e.annotation(un.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=wi.fromTransaction(e),o=e.annotation(un.time),a=e.annotation(un.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(r=="full"||r=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Gr(t.done.map(wi.fromJSON),t.undone.map(wi.fromJSON))}});function Hj(t={}){return[Nk,Lk.of(t),Me.domEventHandlers({beforeinput(e,n){let i=e.inputType=="historyUndo"?Ik:e.inputType=="historyRedo"?ob:null;return i?(e.preventDefault(),i(n)):!1}})]}function Rp(t,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let r=n.field(Nk,!1);if(!r)return!1;let s=r.pop(t,n,e);return s?(i(s),!0):!1}}const Ik=Rp(0,!1),ob=Rp(1,!1),jj=Rp(0,!0),Vj=Rp(1,!0);class wi{constructor(e,n,i,r,s){this.changes=e,this.effects=n,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new wi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new wi(e.changes&&gn.fromJSON(e.changes),[],e.mapped&&es.fromJSON(e.mapped),e.startSelection&&fe.fromJSON(e.startSelection),e.selectionsAfter.map(fe.fromJSON))}static fromTransaction(e,n){let i=Ki;for(let r of e.startState.facet(Bj)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new wi(e.changes.invert(e.startState.doc),i,void 0,n||e.startState.selection,Ki)}static selection(e){return new wi(void 0,Ki,void 0,void 0,e)}}function xd(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function Qj(t,e){let n=[],i=!1;return t.iterChangedRanges((r,s)=>n.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&o<=u&&(i=!0)}}),i}function zj(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,i)=>n.empty!=e.ranges[i].empty).length===0}function Fk(t,e){return t.length?e.length?t.concat(e):t:e}const Ki=[],Wj=200;function Bk(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Wj));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),xd(t,t.length-1,1e9,n.setSelAfter(i)))}else return[wi.selection([e])]}function qj(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function cg(t,e){if(!t.length)return t;let n=t.length,i=Ki;for(;n;){let r=Xj(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=t.slice(0,n);return s[n-1]=r,s}else e=r.mapped,n--,i=r.selectionsAfter}return i.length?[wi.selection(i)]:Ki}function Xj(t,e,n){let i=Fk(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Ki,n);if(!t.changes)return wi.selection(i);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new wi(r,st.mapEffects(t.effects,e),o,t.startSelection.map(s),i)}const Uj=/^(input\.type|delete)($|\.)/;class Gr{constructor(e,n,i=0,r=void 0){this.done=e,this.undone=n,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new Gr(this.done,this.undone):this}addChanges(e,n,i,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||Uj.test(i))&&(!a.selectionsAfter.length&&n-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,Qj(a.changes,e.changes))||i=="input.type.compose")?o=xd(o,o.length-1,r.minDepth,new wi(e.changes.compose(a.changes),Fk(st.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Ki)):o=xd(o,o.length,r.minDepth,e),new Gr(o,Ki,n,i)}addSelection(e,n,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ki;return s.length>0&&n-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&zj(s[s.length-1],e)?this:new Gr(Bk(this.done,e),this.undone,n,i)}addMapping(e){return new Gr(cg(this.done,e),cg(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],o=s.selectionsAfter[0]||n.selection;if(i&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:sb.of({side:e,rest:qj(r),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=r.length==1?Ki:r.slice(0,r.length-1);return s.mapped&&(a=cg(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:sb.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Gr.empty=new Gr(Ki,Ki);const Yj=[{key:"Mod-z",run:Ik,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ob,preventDefault:!0},{linux:"Ctrl-Shift-z",run:ob,preventDefault:!0},{key:"Mod-u",run:jj,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Vj,preventDefault:!0}];function ac(t,e){return fe.create(t.ranges.map(e),t.mainIndex)}function ls(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function kr({state:t,dispatch:e},n){let i=ac(t.selection,n);return i.eq(t.selection,!0)?!1:(e(ls(t,i)),!0)}function Pp(t,e){return fe.cursor(e?t.to:t.from)}function Hk(t,e){return kr(t,n=>n.empty?t.moveByChar(n,e):Pp(n,e))}function Yn(t){return t.textDirectionAt(t.state.selection.main.head)==Jt.LTR}const jk=t=>Hk(t,!Yn(t)),Vk=t=>Hk(t,Yn(t));function Qk(t,e){return kr(t,n=>n.empty?t.moveByGroup(n,e):Pp(n,e))}const Gj=t=>Qk(t,!Yn(t)),Kj=t=>Qk(t,Yn(t));function Jj(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function $p(t,e,n){let i=Tn(t).resolveInner(e.head),r=n?ut.closedBy:ut.openedBy;for(let l=e.head;;){let c=n?i.childAfter(l):i.childBefore(l);if(!c)break;Jj(t,c,r)?i=c:l=n?c.to:c.from}let s=i.type.prop(r),o,a;return s&&(o=n?Yr(t,i.from,1):Yr(t,i.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?i.to:i.from,fe.cursor(a,n?-1:1)}const Zj=t=>kr(t,e=>$p(t.state,e,!Yn(t))),eV=t=>kr(t,e=>$p(t.state,e,Yn(t)));function zk(t,e){return kr(t,n=>{if(!n.empty)return Pp(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)})}const Wk=t=>zk(t,!1),qk=t=>zk(t,!0);function Xk(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,i=0,r;if(e){for(let s of t.state.facet(Me.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}r=t.scrollDOM.clientHeight-n-i}else r=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:e,height:Math.max(t.defaultLineHeight,r-5)}}function Uk(t,e){let n=Xk(t),{state:i}=t,r=ac(i.selection,o=>o.empty?t.moveVertically(o,e,n.height):Pp(o,e));if(r.eq(i.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(i.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(s=Me.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(ls(i,r),{effects:s}),!0}const sw=t=>Uk(t,!1),ab=t=>Uk(t,!0);function Mo(t,e,n){let i=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let s=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=fe.cursor(i.from+s))}return r}const tV=t=>kr(t,e=>Mo(t,e,!0)),nV=t=>kr(t,e=>Mo(t,e,!1)),iV=t=>kr(t,e=>Mo(t,e,!Yn(t))),rV=t=>kr(t,e=>Mo(t,e,Yn(t))),sV=t=>kr(t,e=>fe.cursor(t.lineBlockAt(e.head).from,1)),oV=t=>kr(t,e=>fe.cursor(t.lineBlockAt(e.head).to,-1));function aV(t,e,n){let i=!1,r=ac(t.selection,s=>{let o=Yr(t,s.head,-1)||Yr(t,s.head,1)||s.head>0&&Yr(t,s.head-1,1)||s.head<t.doc.length&&Yr(t,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return fe.cursor(a)});return i?(e(ls(t,r)),!0):!1}const lV=({state:t,dispatch:e})=>aV(t,e);function ar(t,e){let n=ac(t.state.selection,i=>{let r=e(i);return fe.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ls(t.state,n)),!0)}function Yk(t,e){return ar(t,n=>t.moveByChar(n,e))}const Gk=t=>Yk(t,!Yn(t)),Kk=t=>Yk(t,Yn(t));function Jk(t,e){return ar(t,n=>t.moveByGroup(n,e))}const cV=t=>Jk(t,!Yn(t)),uV=t=>Jk(t,Yn(t)),fV=t=>ar(t,e=>$p(t.state,e,!Yn(t))),hV=t=>ar(t,e=>$p(t.state,e,Yn(t)));function Zk(t,e){return ar(t,n=>t.moveVertically(n,e))}const eE=t=>Zk(t,!1),tE=t=>Zk(t,!0);function nE(t,e){return ar(t,n=>t.moveVertically(n,e,Xk(t).height))}const ow=t=>nE(t,!1),aw=t=>nE(t,!0),dV=t=>ar(t,e=>Mo(t,e,!0)),pV=t=>ar(t,e=>Mo(t,e,!1)),mV=t=>ar(t,e=>Mo(t,e,!Yn(t))),gV=t=>ar(t,e=>Mo(t,e,Yn(t))),vV=t=>ar(t,e=>fe.cursor(t.lineBlockAt(e.head).from)),bV=t=>ar(t,e=>fe.cursor(t.lineBlockAt(e.head).to)),lw=({state:t,dispatch:e})=>(e(ls(t,{anchor:0})),!0),cw=({state:t,dispatch:e})=>(e(ls(t,{anchor:t.doc.length})),!0),uw=({state:t,dispatch:e})=>(e(ls(t,{anchor:t.selection.main.anchor,head:0})),!0),fw=({state:t,dispatch:e})=>(e(ls(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),yV=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),OV=({state:t,dispatch:e})=>{let n=Mp(t).map(({from:i,to:r})=>fe.range(i,Math.min(r+1,t.doc.length)));return e(t.update({selection:fe.create(n),userEvent:"select"})),!0},xV=({state:t,dispatch:e})=>{let n=ac(t.selection,i=>{let r=Tn(t),s=r.resolveStack(i.from,1);if(i.empty){let o=r.resolveStack(i.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&o.next)return fe.range(a.to,a.from)}return i});return n.eq(t.selection)?!1:(e(ls(t,n)),!0)},wV=({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=fe.create([n.main]):n.main.empty||(i=fe.create([fe.cursor(n.main.head)])),i?(e(ls(t,i)),!0):!1};function pf(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,r=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=sh(t,l,!1)):l>o&&(n="delete.forward",l=sh(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=sh(t,o,!1),a=sh(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:fe.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(t.dispatch(i.update(r,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Me.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function sh(t,e,n){if(t instanceof Me)for(let i of t.state.facet(Me.atomicRanges).map(r=>r(t)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=n?s:r)});return e}const iE=(t,e,n)=>pf(t,i=>{let r=i.from,{state:s}=t,o=s.doc.lineAt(r),a,l;if(n&&!e&&r>o.from&&r<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,r-o.from))){if(a[a.length-1]=="	")return r-1;let c=oc(a,s.tabSize),u=c%bd(s)||bd(s);for(let f=0;f<u&&a[a.length-1-f]==" ";f++)r--;l=r}else l=Nn(o.text,r-o.from,e,e)+o.from,l==r&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,r-o.from))&&(l=Nn(o.text,l-o.from,!1,!1)+o.from);return l}),lb=t=>iE(t,!1,!0),rE=t=>iE(t,!0,!1),sE=(t,e)=>pf(t,n=>{let i=n.head,{state:r}=t,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==n.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=Nn(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||i!=n.head)&&(a=u),i=l}return i}),oE=t=>sE(t,!1),_V=t=>sE(t,!0),SV=t=>pf(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),CV=t=>pf(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),TV=t=>pf(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),AV=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:St.of(["",""])},range:fe.cursor(i.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},kV=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>{if(!i.empty||i.from==0||i.from==t.doc.length)return{range:i};let r=i.from,s=t.doc.lineAt(r),o=r==s.from?r-1:Nn(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:Nn(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(r,a).append(t.doc.slice(o,r))},range:fe.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Mp(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=t.doc.lineAt(i.to-1)),n>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function aE(t,e,n){if(t.readOnly)return!1;let i=[],r=[];for(let s of Mp(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)r.push(fe.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)r.push(fe.range(l.anchor-a,l.head-a))}}return i.length?(e(t.update({changes:i,scrollIntoView:!0,selection:fe.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const EV=({state:t,dispatch:e})=>aE(t,e,!1),DV=({state:t,dispatch:e})=>aE(t,e,!0);function lE(t,e,n){if(t.readOnly)return!1;let i=[];for(let r of Mp(t))n?i.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):i.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const RV=({state:t,dispatch:e})=>lE(t,e,!1),PV=({state:t,dispatch:e})=>lE(t,e,!0),$V=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Mp(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=ac(e.selection,r=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(r.head),a=t.coordsAtPos(r.head,r.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(r,!0,s)}).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function MV(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Tn(t).resolveInner(e),i=n.childBefore(e),r=n.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(ut.closedBy))&&s.indexOf(r.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(r.from).from&&!/\S/.test(t.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const hw=cE(!1),LV=cE(!0);function cE(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!t&&s==o&&MV(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Ep(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=Uy(c,s);for(u==null&&(u=oc(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",Du(e,u)];return l&&f.push(Du(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:St.of(f)},range:fe.cursor(s+1+f[1].length)}});return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function e0(t,e){let n=-1;return t.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=t.doc.lineAt(o);a.number>n&&(i.empty||i.to>a.from)&&(e(a,r,i),n=a.number),o=a.to+1}let s=t.changes(r);return{changes:r,range:fe.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const NV=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new Ep(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),r=e0(t,(s,o,a)=>{let l=Uy(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=Du(t,l);(c!=u||a.from<s.from+c.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0},IV=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(e0(t,(n,i)=>{i.push({from:n.from,insert:t.facet(kp)})}),{userEvent:"input.indent"})),!0),FV=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(e0(t,(n,i)=>{let r=/^\s*/.exec(n.text)[0];if(!r)return;let s=oc(r,t.tabSize),o=0,a=Du(t,Math.max(0,s-bd(t)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:n.from+o,to:n.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),BV=t=>(t.setTabFocusMode(),!0),HV=[{key:"Ctrl-b",run:jk,shift:Gk,preventDefault:!0},{key:"Ctrl-f",run:Vk,shift:Kk},{key:"Ctrl-p",run:Wk,shift:eE},{key:"Ctrl-n",run:qk,shift:tE},{key:"Ctrl-a",run:sV,shift:vV},{key:"Ctrl-e",run:oV,shift:bV},{key:"Ctrl-d",run:rE},{key:"Ctrl-h",run:lb},{key:"Ctrl-k",run:SV},{key:"Ctrl-Alt-h",run:oE},{key:"Ctrl-o",run:AV},{key:"Ctrl-t",run:kV},{key:"Ctrl-v",run:ab}],jV=[{key:"ArrowLeft",run:jk,shift:Gk,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Gj,shift:cV,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:iV,shift:mV,preventDefault:!0},{key:"ArrowRight",run:Vk,shift:Kk,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Kj,shift:uV,preventDefault:!0},{mac:"Cmd-ArrowRight",run:rV,shift:gV,preventDefault:!0},{key:"ArrowUp",run:Wk,shift:eE,preventDefault:!0},{mac:"Cmd-ArrowUp",run:lw,shift:uw},{mac:"Ctrl-ArrowUp",run:sw,shift:ow},{key:"ArrowDown",run:qk,shift:tE,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cw,shift:fw},{mac:"Ctrl-ArrowDown",run:ab,shift:aw},{key:"PageUp",run:sw,shift:ow},{key:"PageDown",run:ab,shift:aw},{key:"Home",run:nV,shift:pV,preventDefault:!0},{key:"Mod-Home",run:lw,shift:uw},{key:"End",run:tV,shift:dV,preventDefault:!0},{key:"Mod-End",run:cw,shift:fw},{key:"Enter",run:hw,shift:hw},{key:"Mod-a",run:yV},{key:"Backspace",run:lb,shift:lb},{key:"Delete",run:rE},{key:"Mod-Backspace",mac:"Alt-Backspace",run:oE},{key:"Mod-Delete",mac:"Alt-Delete",run:_V},{mac:"Mod-Backspace",run:CV},{mac:"Mod-Delete",run:TV}].concat(HV.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),VV=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Zj,shift:fV},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:eV,shift:hV},{key:"Alt-ArrowUp",run:EV},{key:"Shift-Alt-ArrowUp",run:RV},{key:"Alt-ArrowDown",run:DV},{key:"Shift-Alt-ArrowDown",run:PV},{key:"Escape",run:wV},{key:"Mod-Enter",run:LV},{key:"Alt-l",mac:"Ctrl-l",run:OV},{key:"Mod-i",run:xV,preventDefault:!0},{key:"Mod-[",run:FV},{key:"Mod-]",run:IV},{key:"Mod-Alt-\\",run:NV},{key:"Shift-Mod-k",run:$V},{key:"Shift-Mod-\\",run:lV},{key:"Mod-/",run:Rj},{key:"Alt-A",run:$j},{key:"Ctrl-m",mac:"Shift-Alt-m",run:BV}].concat(jV);function qt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];typeof r=="string"?t.setAttribute(i,r):r!=null&&(t[i]=r)}e++}for(;e<arguments.length;e++)uE(t,arguments[e]);return t}function uE(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)uE(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const dw=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class zl{constructor(e,n,i=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?a=>s(dw(a)):dw,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return bi(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=ky(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=qr(e);let r=this.normalize(n);if(r.length)for(let s=0,o=i;;s++){let a=r.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==r.length-1){if(l)return this.value=l,this;break}o==i&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,i){let r=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[s+1],to:i}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:i}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(zl.prototype[Symbol.iterator]=function(){return this});const fE={from:-1,to:-1,match:/.*/.exec("")},t0="gm"+(/x/.unicode==null?"":"u");class hE{constructor(e,n,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=fE,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new dE(e,n,i,r,s);this.re=new RegExp(n,t0+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=wd(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let i=this.curLineStart+n.index,r=i+n[0].length;if(this.matchPos=wd(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ug=new WeakMap;class yl{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,i){let r=ug.get(e);if(!r||r.from>=i||r.to<=n){let a=new yl(n,e.sliceString(n,i));return ug.set(e,a),a}if(r.from==n&&r.to==i)return r;let{text:s,from:o}=r;return o>n&&(s=e.sliceString(n,o)+s,o=n),r.to<i&&(s+=e.sliceString(r.to,i)),ug.set(e,new yl(o,s)),new yl(n,s.slice(n-o,i-o))}}class dE{constructor(e,n,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=fE,this.matchPos=wd(e,r),this.re=new RegExp(n,t0+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=yl.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let i=this.flat.from+n.index,r=i+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this.matchPos=wd(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=yl.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(hE.prototype[Symbol.iterator]=dE.prototype[Symbol.iterator]=function(){return this});function QV(t){try{return new RegExp(t,t0),!0}catch{return!1}}function wd(t,e){if(e>=t.length)return e;let n=t.lineAt(e),i;for(;e<n.to&&(i=n.text.charCodeAt(e-n.from))>=56320&&i<57344;)e++;return e}function cb(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=qt("input",{class:"cm-textfield",name:"line",value:e}),i=qt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:_d.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),r())},onsubmit:s=>{s.preventDefault(),r()}},qt("label",t.state.phrase("Go to line"),": ",n)," ",qt("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,f]=s,d=u?+u.slice(1):0,m=c?+c:a.number;if(c&&f){let O=m/100;l&&(O=O*(l=="-"?-1:1)+a.number/o.doc.lines),m=Math.round(o.doc.lines*O)}else c&&l&&(m=m*(l=="-"?-1:1)+a.number);let g=o.doc.line(Math.max(1,Math.min(o.doc.lines,m))),y=fe.cursor(g.from+Math.max(0,Math.min(d,g.length)));t.dispatch({effects:[_d.of(!1),Me.scrollIntoView(y.from,{y:"center"})],selection:y}),t.focus()}return{dom:i}}const _d=st.define(),pw=An.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(_d)&&(t=n.value);return t},provide:t=>ku.from(t,e=>e?cb:null)}),zV=t=>{let e=Au(t,cb);if(!e){let n=[_d.of(!0)];t.state.field(pw,!1)==null&&n.push(st.appendConfig.of([pw,WV])),t.dispatch({effects:n}),e=Au(t,cb)}return e&&e.dom.querySelector("input").select(),!0},WV=Me.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),qV={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},XV=Fe.define({combine(t){return as(t,qV,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function UV(t){return[ZV,JV]}const YV=Ue.mark({class:"cm-selectionMatch"}),GV=Ue.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function mw(t,e,n,i){return(n==0||t(e.sliceDoc(n-1,n))!=en.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=en.Word)}function KV(t,e,n,i){return t(e.sliceDoc(n,n+1))==en.Word&&t(e.sliceDoc(i-1,i))==en.Word}const JV=on.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(XV),{state:n}=t,i=n.selection;if(i.ranges.length>1)return Ue.none;let r=i.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return Ue.none;let l=n.wordAt(r.head);if(!l)return Ue.none;o=n.charCategorizer(r.head),s=n.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return Ue.none;if(e.wholeWords){if(s=n.sliceDoc(r.from,r.to),o=n.charCategorizer(r.head),!(mw(o,n,r.from,r.to)&&KV(o,n,r.from,r.to)))return Ue.none}else if(s=n.sliceDoc(r.from,r.to),!s)return Ue.none}let a=[];for(let l of t.visibleRanges){let c=new zl(n.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!o||mw(o,n,u,f))&&(r.empty&&u<=r.from&&f>=r.to?a.push(GV.range(u,f)):(u>=r.to||f<=r.from)&&a.push(YV.range(u,f)),a.length>e.maxMatches))return Ue.none}}return Ue.set(a)}},{decorations:t=>t.decorations}),ZV=Me.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),eQ=({state:t,dispatch:e})=>{let{selection:n}=t,i=fe.create(n.ranges.map(r=>t.wordAt(r.head)||fe.cursor(r.head)),n.mainIndex);return i.eq(n)?!1:(e(t.update({selection:i})),!0)};function tQ(t,e){let{main:n,ranges:i}=t.selection,r=t.wordAt(n.head),s=r&&r.from==n.from&&r.to==n.to;for(let o=!1,a=new zl(t.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new zl(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const nQ=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return eQ({state:t,dispatch:e});let i=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=i))return!1;let r=tQ(t,i);return r?(e(t.update({selection:t.selection.addRange(fe.range(r.from,r.to),!1),effects:Me.scrollIntoView(r.to)})),!0):!1},lc=Fe.define({combine(t){return as(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new pQ(e),scrollToMatch:e=>Me.scrollIntoView(e)})}});class pE{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||QV(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new oQ(this):new rQ(this)}getCursor(e,n=0,i){let r=e.doc?e:_t.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?Ja(this,r,n,i):Ka(this,r,n,i)}}class mE{constructor(e){this.spec=e}}function Ka(t,e,n,i){return new zl(e.doc,t.unquoted,n,i,t.caseSensitive?void 0:r=>r.toLowerCase(),t.wholeWord?iQ(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function iQ(t,e){return(n,i,r,s)=>((s>n||s+r.length<i)&&(s=Math.max(0,n-2),r=t.sliceString(s,Math.min(t.length,i+2))),(e(Sd(r,n-s))!=en.Word||e(Cd(r,n-s))!=en.Word)&&(e(Cd(r,i-s))!=en.Word||e(Sd(r,i-s))!=en.Word))}class rQ extends mE{constructor(e){super(e)}nextMatch(e,n,i){let r=Ka(this.spec,e,i,e.doc.length).nextOverlapping();if(r.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);r=Ka(this.spec,e,0,s).nextOverlapping()}return r.done||r.value.from==n&&r.value.to==i?null:r.value}prevMatchInRange(e,n,i){for(let r=i;;){let s=Math.max(n,r-1e4-this.spec.unquoted.length),o=Ka(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;r-=1e4}}prevMatch(e,n,i){let r=this.prevMatchInRange(e,0,n);return r||(r=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),r&&(r.from!=n||r.to!=i)?r:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let i=Ka(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=Ka(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function Ja(t,e,n,i){return new hE(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?sQ(e.charCategorizer(e.selection.main.head)):void 0},n,i)}function Sd(t,e){return t.slice(Nn(t,e,!1),e)}function Cd(t,e){return t.slice(e,Nn(t,e))}function sQ(t){return(e,n,i)=>!i[0].length||(t(Sd(i.input,i.index))!=en.Word||t(Cd(i.input,i.index))!=en.Word)&&(t(Cd(i.input,i.index+i[0].length))!=en.Word||t(Sd(i.input,i.index+i[0].length))!=en.Word)}class oQ extends mE{nextMatch(e,n,i){let r=Ja(this.spec,e,i,e.doc.length).next();return r.done&&(r=Ja(this.spec,e,0,n).next()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=1;;r++){let s=Math.max(n,i-r*1e4),o=Ja(this.spec,e,s,i),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let r=i.length;r>0;r--){let s=+i.slice(0,r);if(s>0&&s<e.match.length)return e.match[s]+i.slice(r)}return n})}matchAll(e,n){let i=Ja(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=Ja(this.spec,e,Math.max(0,n-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Ru=st.define(),n0=st.define(),go=An.define({create(t){return new fg(ub(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Ru)?t=new fg(n.value.create(),t.panel):n.is(n0)&&(t=new fg(t.query,n.value?i0:null));return t},provide:t=>ku.from(t,e=>e.panel)});class fg{constructor(e,n){this.query=e,this.panel=n}}const aQ=Ue.mark({class:"cm-searchMatch"}),lQ=Ue.mark({class:"cm-searchMatch cm-searchMatch-selected"}),cQ=on.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(go))}update(t){let e=t.state.field(go);(e!=t.startState.field(go)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Ue.none;let{view:n}=this,i=new Ds;for(let r=0,s=n.visibleRanges,o=s.length;r<o;r++){let{from:a,to:l}=s[r];for(;r<o-1&&l>s[r+1].from-2*250;)l=s[++r].to;t.highlight(n.state,a,l,(c,u)=>{let f=n.state.selection.ranges.some(d=>d.from==c&&d.to==u);i.add(c,u,f?lQ:aQ)})}return i.finish()}},{decorations:t=>t.decorations});function mf(t){return e=>{let n=e.state.field(go,!1);return n&&n.query.spec.valid?t(e,n):bE(e)}}const Td=mf((t,{query:e})=>{let{to:n}=t.state.selection.main,i=e.nextMatch(t.state,n,n);if(!i)return!1;let r=fe.single(i.from,i.to),s=t.state.facet(lc);return t.dispatch({selection:r,effects:[r0(t,i),s.scrollToMatch(r.main,t)],userEvent:"select.search"}),vE(t),!0}),Ad=mf((t,{query:e})=>{let{state:n}=t,{from:i}=n.selection.main,r=e.prevMatch(n,i,i);if(!r)return!1;let s=fe.single(r.from,r.to),o=t.state.facet(lc);return t.dispatch({selection:s,effects:[r0(t,r),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),vE(t),!0}),uQ=mf((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:fe.create(n.map(i=>fe.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),fQ=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:r}=n.main,s=[],o=0;for(let a=new zl(t.doc,t.sliceDoc(i,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==i&&(o=s.length),s.push(fe.range(a.value.from,a.value.to))}return e(t.update({selection:fe.create(s,o),userEvent:"select.search.matches"})),!0},gw=mf((t,{query:e})=>{let{state:n}=t,{from:i,to:r}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,i,i);if(!s)return!1;let o=s,a=[],l,c,u=[];if(o.from==i&&o.to==r&&(c=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(n,o.from,o.to),u.push(Me.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(i).number)+"."))),o){let f=a.length==0||a[0].from>=s.to?0:s.to-s.from-c.length;l=fe.single(o.from-f,o.to-f),u.push(r0(t,o)),u.push(n.facet(lc).scrollToMatch(l.main,t))}return t.dispatch({changes:a,selection:l,effects:u,userEvent:"input.replace"}),!0}),hQ=mf((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!n.length)return!1;let i=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Me.announce.of(i),userEvent:"input.replace.all"}),!0});function i0(t){return t.state.facet(lc).createPanel(t)}function ub(t,e){var n,i,r,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(lc);return new pE({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:c.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function gE(t){let e=Au(t,i0);return e&&e.dom.querySelector("[main-field]")}function vE(t){let e=gE(t);e&&e==t.root.activeElement&&e.select()}const bE=t=>{let e=t.state.field(go,!1);if(e&&e.panel){let n=gE(t);if(n&&n!=t.root.activeElement){let i=ub(t.state,e.query.spec);i.valid&&t.dispatch({effects:Ru.of(i)}),n.focus(),n.select()}}else t.dispatch({effects:[n0.of(!0),e?Ru.of(ub(t.state,e.query.spec)):st.appendConfig.of(gQ)]});return!0},yE=t=>{let e=t.state.field(go,!1);if(!e||!e.panel)return!1;let n=Au(t,i0);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:n0.of(!1)}),!0},dQ=[{key:"Mod-f",run:bE,scope:"editor search-panel"},{key:"F3",run:Td,shift:Ad,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Td,shift:Ad,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:yE,scope:"editor search-panel"},{key:"Mod-Shift-l",run:fQ},{key:"Mod-Alt-g",run:zV},{key:"Mod-d",run:nQ,preventDefault:!0}];class pQ{constructor(e){this.view=e;let n=this.query=e.state.field(go).query.spec;this.commit=this.commit.bind(this),this.searchField=qt("input",{value:n.search,placeholder:Ai(e,"Find"),"aria-label":Ai(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=qt("input",{value:n.replace,placeholder:Ai(e,"Replace"),"aria-label":Ai(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=qt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=qt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=qt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function i(r,s,o){return qt("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=qt("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>Td(e),[Ai(e,"next")]),i("prev",()=>Ad(e),[Ai(e,"previous")]),i("select",()=>uQ(e),[Ai(e,"all")]),qt("label",null,[this.caseField,Ai(e,"match case")]),qt("label",null,[this.reField,Ai(e,"regexp")]),qt("label",null,[this.wordField,Ai(e,"by word")]),...e.state.readOnly?[]:[qt("br"),this.replaceField,i("replace",()=>gw(e),[Ai(e,"replace")]),i("replaceAll",()=>hQ(e),[Ai(e,"replace all")])],qt("button",{name:"close",onclick:()=>yE(e),"aria-label":Ai(e,"close"),type:"button"},[""])])}commit(){let e=new pE({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Ru.of(e)}))}keydown(e){TH(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Ad:Td)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),gw(this.view))}update(e){for(let n of e.transactions)for(let i of n.effects)i.is(Ru)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(lc).top}}function Ai(t,e){return t.state.phrase(e)}const oh=30,ah=/[\s\.,:;?!]/;function r0(t,{from:e,to:n}){let i=t.state.doc.lineAt(e),r=t.state.doc.lineAt(n).to,s=Math.max(i.from,e-oh),o=Math.min(r,n+oh),a=t.state.sliceDoc(s,o);if(s!=i.from){for(let l=0;l<oh;l++)if(!ah.test(a[l+1])&&ah.test(a[l])){a=a.slice(l);break}}if(o!=r){for(let l=a.length-1;l>a.length-oh;l--)if(!ah.test(a[l-1])&&ah.test(a[l])){a=a.slice(0,l);break}}return Me.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${i.number}.`)}const mQ=Me.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),gQ=[go,$o.low(cQ),mQ];class OE{constructor(e,n,i,r){this.state=e,this.pos=n,this.explicit=i,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Tn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),r=n.text.slice(i-n.from,this.pos-n.from),s=r.search(xE(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function vw(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function vQ(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let s=1;s<r.length;s++)n[r[s]]=!0}let i=vw(e)+vw(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function bQ(t){let e=t.map(r=>typeof r=="string"?{label:r}:r),[n,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:vQ(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:n}:null}}let bw=class{constructor(e,n,i,r){this.completion=e,this.source=n,this.match=i,this.score=r}};function ha(t){return t.selection.main.from}function xE(t,e){var n;let{source:i}=t,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?t:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const s0=Fs.define();function yQ(t,e,n,i){let{main:r}=t.selection,s=n-r.from,o=i-r.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=r&&n!=i&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,i))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:i==r.from?a.to:a.from+o,insert:l},range:fe.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const yw=new WeakMap;function OQ(t){if(!Array.isArray(t))return t;let e=yw.get(t);return e||yw.set(t,e=bQ(t)),e}const kd=st.define(),Pu=st.define();class xQ{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let i=bi(e,n),r=qr(i);this.chars.push(i);let s=e.slice(n,n+r),o=s.toUpperCase();this.folded.push(bi(o==s?s.toLowerCase():o,0)),n+=r}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:i,any:r,precise:s,byWord:o}=this;if(n.length==1){let A=bi(e,0),P=qr(A),T=P==e.length?0:-100;if(A!=n[0])if(A==i[0])T+=-200;else return null;return this.ret(T,[0,P])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let A=0,P=Math.min(e.length,200);A<P&&c<l;){let T=bi(e,A);(T==n[c]||T==i[c])&&(r[c++]=A),A+=qr(T)}if(c<l)return null}let u=0,f=0,d=!1,m=0,g=-1,y=-1,O=/[a-z]/.test(e),_=!0;for(let A=0,P=Math.min(e.length,200),T=0;A<P&&f<l;){let B=bi(e,A);a<0&&(u<l&&B==n[u]&&(s[u++]=A),m<l&&(B==n[m]||B==i[m]?(m==0&&(g=A),y=A+1,m++):m=0));let I,v=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(I=ky(B))!=I.toLowerCase()?1:I!=I.toUpperCase()?2:0;(!A||v==1&&O||T==0&&v!=0)&&(n[f]==B||i[f]==B&&(d=!0)?o[f++]=A:o.length&&(_=!1)),T=v,A+=qr(B)}return f==l&&o[0]==0&&_?this.result(-100+(d?-200:0),o,e):m==l&&g==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[g,y]):f==l?this.result(-100+(d?-200:0)+-700+(_?0:-1100),o,e):n.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,n,i){let r=[],s=0;for(let o of n){let a=o+(this.astral?qr(bi(i,o)):1);s&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return this.ret(e-i.length,r)}}class wQ{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),i=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,n.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const Cn=Fe.define({combine(t){return as(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:_Q,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>i=>Ow(e(i),n(i)),optionClass:(e,n)=>i=>Ow(e(i),n(i)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function Ow(t,e){return t?e?t+" "+e:t:e}function _Q(t,e,n,i,r,s){let o=t.textDirection==Jt.RTL,a=o,l=!1,c="top",u,f,d=e.left-r.left,m=r.right-e.right,g=i.right-i.left,y=i.bottom-i.top;if(a&&d<Math.min(g,m)?a=!1:!a&&m<Math.min(g,d)&&(a=!0),g<=(a?d:m))u=Math.max(r.top,Math.min(n.top,r.bottom-y))-e.top,f=Math.min(400,a?d:m);else{l=!0,f=Math.min(400,(o?e.right:r.right-e.left)-30);let A=r.bottom-e.bottom;A>=y||A>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let O=(e.bottom-e.top)/s.offsetHeight,_=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/O}px; max-width: ${f/_}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function SQ(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),n.type&&i.classList.add(...n.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(n,i,r,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<s.length;){let u=s[c++],f=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(u,f))),d.className="cm-completionMatchedText",l=f}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=n.detail,i},position:80}),e.sort((n,i)=>n.position-i.position).map(n=>n.render)}function hg(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class CQ{constructor(e,n,i){this.view=e,this.stateField=n,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:s,selected:o}=r.open,a=e.state.facet(Cn);this.optionContent=SQ(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=hg(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,f;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(f=/-(\d+)$/.exec(u.id))&&+f[1]<c.length){this.applyCompletion(e,c[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Cn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Pu.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:o,disabled:a}=i.open;(!r.open||r.open.options!=s)&&(this.range=hg(s.length,o,e.state.facet(Cn).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),a!=((n=r.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of n.split(" "))i&&this.dom.classList.add(i);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=hg(n.options.length,n.selected,this.view.state.facet(Cn).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>li(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,n){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),n=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return n&&AQ(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return r.top>Math.min(s.bottom,n.bottom)-10||r.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(Cn).positionInfo(this.view,n,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,i){const r=document.createElement("ul");r.id=n,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",o=>{o.target==r&&o.preventDefault()});let s=null;for(let o=i.from;o<i.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let d=typeof c=="string"?c:c.name;if(d!=s&&(o>i.from||i.from==0))if(s=d,typeof c!="string"&&c.header)r.appendChild(c.header(c));else{let m=r.appendChild(document.createElement("completion-section"));m.textContent=d}}const u=r.appendChild(document.createElement("li"));u.id=n+"-"+o,u.setAttribute("role","option");let f=this.optionClass(a);f&&(u.className=f);for(let d of this.optionContent){let m=d(a,this.view.state,this.view,l);m&&u.appendChild(m)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function TQ(t,e){return n=>new CQ(n,t,e)}function AQ(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.height/t.offsetHeight;i.top<n.top?t.scrollTop-=(n.top-i.top)/r:i.bottom>n.bottom&&(t.scrollTop+=(i.bottom-n.bottom)/r)}function xw(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function kQ(t,e){let n=[],i=null,r=c=>{n.push(c);let{section:u}=c.completion;if(u){i||(i=[]);let f=typeof u=="string"?u:u.name;i.some(d=>d.name==f)||i.push(typeof u=="string"?{name:f}:u)}},s=e.facet(Cn);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let f of c.result.options)r(new bw(f,c.source,u?u(f):[],1e9-n.length));else{let f=e.sliceDoc(c.from,c.to),d,m=s.filterStrict?new wQ(f):new xQ(f);for(let g of c.result.options)if(d=m.match(g.label)){let y=g.displayLabel?u?u(g,d.matched):[]:d.matched;r(new bw(g,c.source,y,d.score+(g.boost||0)))}}}if(i){let c=Object.create(null),u=0,f=(d,m)=>{var g,y;return((g=d.rank)!==null&&g!==void 0?g:1e9)-((y=m.rank)!==null&&y!==void 0?y:1e9)||(d.name<m.name?-1:1)};for(let d of i.sort(f))u-=1e5,c[d.name]=u;for(let d of n){let{section:m}=d.completion;m&&(d.score+=c[typeof m=="string"?m:m.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of n.sort((u,f)=>f.score-u.score||l(u.completion,f.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):xw(c.completion)>xw(a)&&(o[o.length-1]=c),a=c.completion}return o}class ol{constructor(e,n,i,r,s,o){this.options=e,this.attrs=n,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new ol(this.options,ww(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,i,r,s,o){if(r&&!o&&e.some(c=>c.isPending))return r.setDisabled();let a=kQ(e,n);if(!a.length)return r&&e.some(c=>c.isPending)?r.setDisabled():null;let l=n.facet(Cn).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let c=r.options[r.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new ol(a,ww(i,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:MQ,above:s.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(e){return new ol(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new ol(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Ed{constructor(e,n,i){this.active=e,this.id=n,this.open=i}static start(){return new Ed(PQ,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,i=n.facet(Cn),s=(i.override||n.languageDataAt("autocomplete",ha(n)).map(OQ)).map(l=>(this.active.find(u=>u.source==l)||new Ji(l,this.active.some(u=>u.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(o0));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!EQ(s,this.active)||a?o=ol.build(s,n,this.id,o,i,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new Ji(l.source,0):l));for(let l of e.effects)l.is(_E)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new Ed(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?DQ:RQ}}function EQ(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;i<e.length&&!e[i].hasResult();)i++;let r=n==t.length,s=i==e.length;if(r||s)return r==s;if(t[n++].result!=e[i++].result)return!1}}const DQ={"aria-autocomplete":"list"},RQ={};function ww(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const PQ=[];function wE(t,e){if(t.isUserEvent("input.complete")){let i=t.annotation(s0);if(i&&e.activateOnCompletion(i))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Ji{constructor(e,n,i=!1){this.source=e,this.state=n,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let i=wE(e,n),r=this;(i&8||i&16&&this.touches(e))&&(r=new Ji(r.source,0)),i&4&&r.state==0&&(r=new Ji(this.source,1)),r=r.updateFor(e,i);for(let s of e.effects)if(s.is(kd))r=new Ji(r.source,1,s.value);else if(s.is(Pu))r=new Ji(r.source,0);else if(s.is(o0))for(let o of s.value)o.source==r.source&&(r=o);return r}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ha(e.state))}}class Ol extends Ji{constructor(e,n,i,r,s,o){super(e,3,n),this.limit=i,this.result=r,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var i;if(!(n&3))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=ha(e.state);if(a>o||!r||n&2&&(ha(e.startState)==this.from||a<this.limit))return new Ji(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return $Q(r.validFor,e.state,s,o)?new Ol(this.source,this.explicit,l,r,s,o):r.update&&(r=r.update(r,s,o,new OE(e.state,a,!1)))?new Ol(this.source,this.explicit,l,r,r.from,(i=r.to)!==null&&i!==void 0?i:ha(e.state)):new Ji(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Ol(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ji(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function $Q(t,e,n,i){if(!t)return!1;let r=e.sliceDoc(n,i);return typeof t=="function"?t(r,n,i,e):xE(t,!0).test(r)}const o0=st.define({map(t,e){return t.map(n=>n.map(e))}}),_E=st.define(),Oi=An.define({create(){return Ed.start()},update(t,e){return t.update(e)},provide:t=>[Qy.from(t,e=>e.tooltip),Me.contentAttributes.from(t,e=>e.attrs)]});function a0(t,e){const n=e.completion.apply||e.completion.label;let i=t.state.field(Oi).active.find(r=>r.source==e.source);return i instanceof Ol?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},yQ(t.state,n,i.from,i.to)),{annotations:s0.of(e.completion)})):n(t,e.completion,i.from,i.to),!0):!1}const MQ=TQ(Oi,a0);function lh(t,e="option"){return n=>{let i=n.state.field(Oi,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(Cn).interactionDelay)return!1;let r=1,s;e=="page"&&(s=ok(n,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+r*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:_E.of(a)}),!0}}const LQ=t=>{let e=t.state.field(Oi,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Cn).interactionDelay?!1:a0(t,e.open.options[e.open.selected])},_w=t=>t.state.field(Oi,!1)?(t.dispatch({effects:kd.of(!0)}),!0):!1,NQ=t=>{let e=t.state.field(Oi,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Pu.of(null)}),!0)};class IQ{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const FQ=50,BQ=1e3,HQ=on.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Oi).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Oi),n=t.state.facet(Cn);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Oi)==e)return;let i=t.transactions.some(s=>{let o=wE(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(i||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>FQ&&Date.now()-o.time>BQ){for(let a of o.context.abortListeners)try{a()}catch(l){li(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(kd)))&&(this.pendingStart=!0);let r=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Oi);for(let n of e.active)n.isPending&&!this.running.some(i=>i.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cn).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=ha(e),i=new OE(e,n,t.explicit,this.view),r=new IQ(t,i);this.running.push(r),Promise.resolve(t.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Pu.of(null)}),li(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cn).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Cn),i=this.view.state.field(Oi);for(let r=0;r<this.running.length;r++){let s=this.running[r];if(s.done===void 0)continue;if(this.running.splice(r--,1),s.done){let a=ha(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new Ol(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let u of s.updates)c=c.update(u,n);if(c.hasResult()){e.push(c);continue}}let o=i.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new Ji(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:o0.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Oi,!1);if(e&&e.tooltip&&this.view.state.facet(Cn).closeOnBlur){let n=e.open&&ok(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Pu.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:kd.of(!1)}),20),this.composing=0}}}),jQ=typeof navigator=="object"&&/Win/.test(navigator.platform),VQ=$o.highest(Me.domEventHandlers({keydown(t,e){let n=e.state.field(Oi,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(jQ&&t.altKey)||t.metaKey)return!1;let i=n.open.options[n.open.selected],r=n.active.find(o=>o.source==i.source),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&a0(e,i),!1}})),SE=Me.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class QQ{constructor(e,n,i,r){this.field=e,this.line=n,this.from=i,this.to=r}}class l0{constructor(e,n,i){this.field=e,this.from=n,this.to=i}map(e){let n=e.mapPos(this.from,-1,Ln.TrackDel),i=e.mapPos(this.to,1,Ln.TrackDel);return n==null||i==null?null:new l0(this.field,n,i)}}class c0{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let i=[],r=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let f=0;f<u;f++)c+=e.facet(kp);r.push(n+c.length-u),l=c+l.slice(u)}i.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new l0(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let n=[],i=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<n.length;f++)(a!=null?n[f].seq==a:u&&n[f].name==u)&&(c=f);if(c<0){let f=0;for(;f<n.length&&(a==null||n[f].seq!=null&&n[f].seq<a);)f++;n.splice(f,0,{seq:a,name:u}),c=f;for(let d of r)d.field>=c&&d.field++}r.push(new QQ(c,i.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of r)u.line==i.length&&u.from>c&&(u.from--,u.to--);return l}),i.push(o)}return new c0(i,r)}}let zQ=Ue.widget({widget:new class extends Bs{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),WQ=Ue.mark({class:"cm-snippetField"});class cc{constructor(e,n){this.ranges=e,this.active=n,this.deco=Ue.set(e.map(i=>(i.from==i.to?zQ:WQ).range(i.from,i.to)))}map(e){let n=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;n.push(r)}return new cc(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(i=>i.field==this.active&&i.from<=n.from&&i.to>=n.to))}}const gf=st.define({map(t,e){return t&&t.map(e)}}),qQ=st.define(),$u=An.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(gf))return n.value;if(n.is(qQ)&&t)return new cc(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Me.decorations.from(t,e=>e?e.deco:Ue.none)});function u0(t,e){return fe.create(t.filter(n=>n.field==e).map(n=>fe.range(n.from,n.to)))}function Va(t){let e=c0.parse(t);return(n,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,r),{main:l}=n.state.selection,c={changes:{from:r,to:s==l.from?l.to:s,insert:St.of(o)},scrollIntoView:!0,annotations:i?[s0.of(i),un.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=u0(a,0)),a.some(u=>u.field>0)){let u=new cc(a,0),f=c.effects=[gf.of(u)];n.state.field($u,!1)===void 0&&f.push(st.appendConfig.of([$u,KQ,JQ,SE]))}n.dispatch(n.state.update(c))}}function CE(t){return({state:e,dispatch:n})=>{let i=e.field($u,!1);if(!i||t<0&&i.active==0)return!1;let r=i.active+t,s=t>0&&!i.ranges.some(o=>o.field==r+t);return n(e.update({selection:u0(i.ranges,r),effects:gf.of(s?null:new cc(i.ranges,r)),scrollIntoView:!0})),!0}}const XQ=({state:t,dispatch:e})=>t.field($u,!1)?(e(t.update({effects:gf.of(null)})),!0):!1,UQ=CE(1),YQ=CE(-1),GQ=[{key:"Tab",run:UQ,shift:YQ},{key:"Escape",run:XQ}],Sw=Fe.define({combine(t){return t.length?t[0]:GQ}}),KQ=$o.highest(Cp.compute([Sw],t=>t.facet(Sw))),JQ=Me.domEventHandlers({mousedown(t,e){let n=e.state.field($u,!1),i;if(!n||(i=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let r=n.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==n.active?!1:(e.dispatch({selection:u0(n.ranges,r.field),effects:gf.of(n.ranges.some(s=>s.field>r.field)?new cc(n.ranges,r.field):null),scrollIntoView:!0}),!0)}}),Mu={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ea=st.define({map(t,e){let n=e.mapPos(t,-1,Ln.TrackAfter);return n??void 0}}),f0=new class extends xa{};f0.startSide=1;f0.endSide=-1;const TE=An.define({create(){return kt.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:i=>i>=n.from&&i<=n.to})}for(let n of e.effects)n.is(ea)&&(t=t.update({add:[f0.range(n.value,n.value+1)]}));return t}});function ZQ(){return[tz,TE]}const dg="()[]{}<>";function AE(t){for(let e=0;e<dg.length;e+=2)if(dg.charCodeAt(e)==t)return dg.charAt(e+1);return ky(t<128?t:t+1)}function kE(t,e){return t.languageDataAt("closeBrackets",e)[0]||Mu}const ez=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),tz=Me.inputHandler.of((t,e,n,i)=>{if((ez?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let r=t.state.selection.main;if(i.length>2||i.length==2&&qr(bi(i,0))==1||e!=r.from||n!=r.to)return!1;let s=rz(t.state,i);return s?(t.dispatch(s),!0):!1}),nz=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=kE(t,t.selection.main.head).brackets||Mu.brackets,r=null,s=t.changeByRange(o=>{if(o.empty){let a=sz(t.doc,o.head);for(let l of i)if(l==a&&Lp(t.doc,o.head)==AE(bi(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:fe.cursor(o.head-l.length)}}return{range:r=o}});return r||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},iz=[{key:"Backspace",run:nz}];function rz(t,e){let n=kE(t,t.selection.main.head),i=n.brackets||Mu.brackets;for(let r of i){let s=AE(bi(r,0));if(e==r)return s==r?lz(t,r,i.indexOf(r+r+r)>-1,n):oz(t,r,s,n.before||Mu.before);if(e==s&&EE(t,t.selection.main.from))return az(t,r,s)}return null}function EE(t,e){let n=!1;return t.field(TE).between(0,t.doc.length,i=>{i==e&&(n=!0)}),n}function Lp(t,e){let n=t.sliceString(e,e+2);return n.slice(0,qr(bi(n,0)))}function sz(t,e){let n=t.sliceString(e-2,e);return qr(bi(n,0))==n.length?n:n.slice(1)}function oz(t,e,n,i){let r=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:ea.of(o.to+e.length),range:fe.range(o.anchor+e.length,o.head+e.length)};let a=Lp(t.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:ea.of(o.head+e.length),range:fe.cursor(o.head+e.length)}:{range:r=o}});return r?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function az(t,e,n){let i=null,r=t.changeByRange(s=>s.empty&&Lp(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:fe.cursor(s.head+n.length)}:i={range:s});return i?null:t.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function lz(t,e,n,i){let r=i.stringPrefixes||Mu.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:ea.of(a.to+e.length),range:fe.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Lp(t.doc,l),u;if(c==e){if(Cw(t,l))return{changes:{insert:e+e,from:l},effects:ea.of(l+e.length),range:fe.cursor(l+e.length)};if(EE(t,l)){let d=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:fe.cursor(l+d.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=Tw(t,l-2*e.length,r))>-1&&Cw(t,u))return{changes:{insert:e+e+e+e,from:l},effects:ea.of(l+e.length),range:fe.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=en.Word&&Tw(t,l,r)>-1&&!cz(t,l,e,r))return{changes:{insert:e+e,from:l},effects:ea.of(l+e.length),range:fe.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Cw(t,e){let n=Tn(t).resolveInner(e+1);return n.parent&&n.from==e}function cz(t,e,n,i){let r=Tn(t).resolveInner(e,-1),s=i.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(r.from,Math.min(r.to,r.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&i.indexOf(a.slice(0,l))>-1){let u=r.firstChild;for(;u&&u.from==r.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function Tw(t,e,n){let i=t.charCategorizer(e);if(i(t.sliceDoc(e-1,e))!=en.Word)return e;for(let r of n){let s=e-r.length;if(t.sliceDoc(s,e)==r&&i(t.sliceDoc(s-1,s))!=en.Word)return s}return-1}function uz(t={}){return[VQ,Oi,Cn.of(t),HQ,fz,SE]}const DE=[{key:"Ctrl-Space",run:_w},{mac:"Alt-`",run:_w},{key:"Escape",run:NQ},{key:"ArrowDown",run:lh(!0)},{key:"ArrowUp",run:lh(!1)},{key:"PageDown",run:lh(!0,"page")},{key:"PageUp",run:lh(!1,"page")},{key:"Enter",run:LQ}],fz=$o.highest(Cp.computeN([Cn],t=>t.facet(Cn).defaultKeymap?[DE]:[]));class Aw{constructor(e,n,i){this.from=e,this.to=n,this.diagnostic=i}}class Yo{constructor(e,n,i){this.diagnostics=e,this.panel=n,this.selected=i}static init(e,n,i){let r=e,s=i.facet(Kr).markerFilter;s&&(r=s(r,i));let o=e.slice().sort((f,d)=>f.from-d.from||f.to-d.to),a=new Ds,l=[],c=0;for(let f=0;;){let d=f==o.length?null:o[f];if(!d&&!l.length)break;let m,g;for(l.length?(m=c,g=l.reduce((O,_)=>Math.min(O,_.to),d&&d.from>m?d.from:1e8)):(m=d.from,g=d.to,l.push(d),f++);f<o.length;){let O=o[f];if(O.from==m&&(O.to>O.from||O.to==m))l.push(O),f++,g=Math.min(O.to,g);else{g=Math.min(O.from,g);break}}let y=Az(l);if(l.some(O=>O.from==O.to||O.from==O.to-1&&i.doc.lineAt(O.from).to==O.from))a.add(m,m,Ue.widget({widget:new _z(y),diagnostics:l.slice()}));else{let O=l.reduce((_,A)=>A.markClass?_+" "+A.markClass:_,"");a.add(m,g,Ue.mark({class:"cm-lintRange cm-lintRange-"+y+O,diagnostics:l.slice(),inclusiveEnd:l.some(_=>_.to>g)}))}c=g;for(let O=0;O<l.length;O++)l[O].to<=c&&l.splice(O--,1)}let u=a.finish();return new Yo(u,n,Wl(u))}}function Wl(t,e=null,n=0){let i=null;return t.between(n,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!i)i=new Aw(r,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new Aw(i.from,s,i.diagnostic)}}),i}function hz(t,e){let n=e.pos,i=e.end||n,r=t.state.facet(Kr).hideOn(t,n,i);if(r!=null)return r;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(h0))||t.changes.touchesRange(s.from,Math.max(s.to,i)))}function RE(t,e){return t.field(Fi,!1)?e:e.concat(st.appendConfig.of(LE))}function dz(t,e){return{effects:RE(t,[h0.of(e)])}}const h0=st.define(),d0=st.define(),PE=st.define(),Fi=An.define({create(){return new Yo(Ue.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),i=null,r=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);i=Wl(n,t.selected.diagnostic,s)||Wl(n,null,s)}!n.size&&r&&e.state.facet(Kr).autoPanel&&(r=null),t=new Yo(n,r,i)}for(let n of e.effects)if(n.is(h0)){let i=e.state.facet(Kr).autoPanel?n.value.length?Lu.open:null:t.panel;t=Yo.init(n.value,i,e.state)}else n.is(d0)?t=new Yo(t.diagnostics,n.value?Lu.open:null,t.selected):n.is(PE)&&(t=new Yo(t.diagnostics,t.panel,n.value));return t},provide:t=>[ku.from(t,e=>e.panel),Me.decorations.from(t,e=>e.diagnostics)]}),pz=Ue.mark({class:"cm-lintRange cm-lintRange-active"});function mz(t,e,n){let{diagnostics:i}=t.state.field(Fi),r,s=-1,o=-1;i.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0)))return r=u.diagnostics,s=l,o=c,!1});let a=t.state.facet(Kr).tooltipFilter;return r&&a&&(r=a(r,t.state)),r?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:gz(t,r)}}}:null}function gz(t,e){return qt("ul",{class:"cm-tooltip-lint"},e.map(n=>ME(t,n,!1)))}const vz=t=>{let e=t.state.field(Fi,!1);(!e||!e.panel)&&t.dispatch({effects:RE(t.state,[d0.of(!0)])});let n=Au(t,Lu.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},kw=t=>{let e=t.state.field(Fi,!1);return!e||!e.panel?!1:(t.dispatch({effects:d0.of(!1)}),!0)},bz=t=>{let e=t.state.field(Fi,!1);if(!e)return!1;let n=t.state.selection.main,i=e.diagnostics.iter(n.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to)?!1:(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},yz=[{key:"Mod-Shift-m",run:vz,preventDefault:!0},{key:"F8",run:bz}],Oz=on.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(Kr);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(Kr);n.length&&xz(n.map(i=>Promise.resolve(i(this.view))),i=>{this.view.state.doc==e.doc&&this.view.dispatch(dz(this.view.state,i.reduce((r,s)=>r.concat(s))))},i=>{li(this.view.state,i)})}}update(t){let e=t.state.facet(Kr);(t.docChanged||e!=t.startState.facet(Kr)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function xz(t,e,n){let i=[],r=-1;for(let s of t)s.then(o=>{i.push(o),clearTimeout(r),i.length==t.length?e(i):r=setTimeout(()=>e(i),200)},n)}const Kr=Fe.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},as(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?i=>e(i)||n(i):e:n}))}});function wz(t,e={}){return[Kr.of({source:t,config:e}),Oz,LE]}function $E(t){let e=[];if(t)e:for(let{name:n}of t){for(let i=0;i<n.length;i++){let r=n[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function ME(t,e,n){var i;let r=n?$E(e.actions):[];return qt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},qt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let m=Wl(t.state.field(Fi).diagnostics,e);m&&s.apply(t,m.from,m.to)},{name:c}=s,u=r[o]?c.indexOf(r[o]):-1,f=u<0?c:[c.slice(0,u),qt("u",c.slice(u,u+1)),c.slice(u+1)];return qt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${r[o]})"`}.`},f)}),e.source&&qt("div",{class:"cm-diagnosticSource"},e.source))}class _z extends Bs{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return qt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Ew{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=ME(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Lu{constructor(e){this.view=e,this.items=[];let n=r=>{if(r.keyCode==27)kw(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=$E(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=Wl(this.view.state.field(Fi).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=qt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:i}),this.dom=qt("div",{class:"cm-panel-lint"},this.list,qt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>kw(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Fi).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Fi),i=0,r=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let f=-1,d;for(let m=i;m<this.items.length;m++)if(this.items[m].diagnostic==u){f=m;break}f<0?(d=new Ew(this.view,u),this.items.splice(i,0,d),r=!0):(d=this.items[f],f>i&&(this.items.splice(i,f-i),r=!0)),n&&d.diagnostic==n.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),s=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new Ew(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function n(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)n();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Fi),i=Wl(n.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:PE.of(i)})}static open(e){return new Lu(e)}}function Sz(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function ch(t){return Sz(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Cz=Me.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:ch("#d11")},".cm-lintRange-warning":{backgroundImage:ch("orange")},".cm-lintRange-info":{backgroundImage:ch("#999")},".cm-lintRange-hint":{backgroundImage:ch("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Tz(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function Az(t){let e="hint",n=1;for(let i of t){let r=Tz(i.severity);r>n&&(n=r,e=i.severity)}return e}const LE=[Fi,Me.decorations.compute([Fi],t=>{let{selected:e,panel:n}=t.field(Fi);return!e||!n||e.from==e.to?Ue.none:Ue.set([pz.range(e.from,e.to)])}),h3(mz,{hideOn:hz}),Cz],NE=[_3(),T3(),QH(),Hj(),dj(),PH(),IH(),_t.allowMultipleSelections.of(!0),ej(),Dk(vj,{fallback:!0}),Sj(),ZQ(),uz(),t3(),r3(),YH(),UV(),Cp.of([...iz,...VV,...dQ,...Yj,...cj,...DE,...yz])];var Dw={};let kz=class fb{constructor(e,n,i,r,s,o,a,l,c,u=0,f){this.p=e,this.stack=n,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,i=0){let r=e.parser.context;return new fb(e,[],n,i,i,0,[],0,r?new Rw(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let i=e>>19,r=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(r);if(a&&(this.score+=a),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[r])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let f=l?this.stack[l-1]:0,d=this.bufferBase+this.buffer.length-f;if(r<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,c,m,d+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=s.getGoto(m,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,c)}storeNode(e,n,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==i)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,n,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,n,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||n<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(n,i),n<=o.maxNode&&this.buffer.push(n,i,r,4)}}apply(e,n,i,r){e&65536?this.reduce(e):this.shift(e,n,i,r)}useNode(e,n){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(n,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let i=e.buffer.slice(n),r=e.bufferBase+n;for(;e&&r==e.bufferBase;)e=e.parent;return new fb(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,i?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new Ez(this);;){let i=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(i==0)return!1;if(!(i&65536))return!0;n.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(n[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<n.length;s+=2){let o=n[s+1];r.some((a,l)=>l&1&&a==o)||r.push(n[s],o)}n=r}let i=[];for(let r=0;r<n.length&&i.length<4;r+=2){let s=n[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[r],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let i=n>>19,r=n&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],i=(r,s)=>{if(!n.includes(r))return n.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new Rw(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class Rw{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class Ez{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=r}}class Dd{constructor(e,n,i){this.stack=e,this.pos=n,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Dd(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Dd(this.stack,this.pos,this.index)}}function uh(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let i=0,r=0;i<t.length;){let s=0;for(;;){let o=t.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[r++]=s:n=new e(s)}return n}class Ih{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Pw=new Ih;class Dz{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Pw,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;n<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,i,r;if(n>=0&&n<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,n=0){let i=n?this.resolveOffset(n,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=Pw,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let i="";for(let r of this.ranges){if(r.from>=n)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,n)))}return i}}class xl{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:i}=n.p;Rz(this.data,e,n,this.id,i.data,i.tokenPrecTable)}}xl.prototype.contextual=xl.prototype.fallback=xl.prototype.extend=!1;xl.prototype.fallback=xl.prototype.extend=!1;class Np{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function Rz(t,e,n,i,r,s){let o=0,a=1<<i,{dialect:l}=n.p.parser;e:for(;a&t[o];){let c=t[o+1];for(let m=o+3;m<c;m+=2)if((t[m+1]&a)>0){let g=t[m];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||Pz(g,e.token.value,r,s))){e.acceptToken(g);break}}let u=e.next,f=0,d=t[o+2];if(e.next<0&&d>f&&t[c+d*3-3]==65535){o=t[c+d*3-1];continue e}for(;f<d;){let m=f+d>>1,g=c+m+(m<<1),y=t[g],O=t[g+1]||65536;if(u<y)d=m;else if(u>=O)f=m+1;else{o=t[g+2],e.advance();continue e}}break}}function $w(t,e,n){for(let i=e,r;(r=t[i])!=65535;i++)if(r==n)return i-e;return-1}function Pz(t,e,n,i){let r=$w(n,i,e);return r<0||$w(n,i,t)<r}const ki=typeof process<"u"&&Dw&&/\bparse\b/.test(Dw.LOG);let pg=null;function Mw(t,e,n){let i=t.cursor(_n.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}class $z{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Mw(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Mw(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let i=this.trees[n],r=this.index[n];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[n]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof fn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(ut.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class Mz{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Ih)}getActions(e){let n=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],f=this.tokens[c];if(!(i&&!u.fallback)&&((u.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,u,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let d=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!u.extend&&(i=f,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Ih,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,n=this.addActions(e,i.value,i.end,n)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Ih,{pos:i,p:r}=e;return n.start=i,n.end=Math.min(i+1,r.stream.end),n.value=i==r.stream.end?r.parser.eofTerm:0,n}updateCachedToken(e,n,i){let r=this.stream.clipPos(i.pos);if(n.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,n,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=n,this.actions[r++]=i,r}addActions(e,n,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=vs(a,c+2);else{r==0&&a[c+1]==2&&(r=this.putAction(vs(a,c+2),n,i,r));break}a[c]==n&&(r=this.putAction(vs(a,c+1),n,i,r))}return r}}class Lz{constructor(e,n,i,r){this.parser=e,this.input=n,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Dz(n,r),this.tokens=new Mz(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[kz.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new $z(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&Fz(r);if(o)return ki&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw ki&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return ki&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>n)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,i){let r=e.pos,{parser:s}=this,o=ki?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(r);f;){let d=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(d>-1&&f.length&&(!c||(f.prop(ut.contextHash)||0)==u))return e.useNode(f,d),ki&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof fn)||f.children.length==0||f.positions[0]>0)break;let m=f.children[0];if(m instanceof fn&&f.positions[0]==0)f=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),ki&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],f=l[c++],d=l[c++],m=c==l.length||!i,g=m?e:e.split(),y=this.tokens.mainToken;if(g.apply(u,f,y?y.start:g.pos,d),ki&&console.log(o+this.stackID(g)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(f)} @ ${r}${g==e?"":", split"})`),m)return!0;g.pos>r?n.push(g):i.push(g)}return!1}advanceFully(e,n){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Lw(e,n),!0}}runRecovery(e,n,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],c=n[(o<<1)+1],u=ki?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),ki&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let f=a.split(),d=u;for(let m=0;f.forceReduce()&&m<10&&(ki&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));m++)ki&&(d=this.stackID(f)+" -> ");for(let m of a.recoverByInsert(l))ki&&console.log(u+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),ki&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Lw(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),fn.build({buffer:Dd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(pg||(pg=new WeakMap)).get(e);return n||pg.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function Lw(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class Nz{constructor(e,n,i){this.source=e,this.flags=n,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const mg=t=>t;class Iz{constructor(e){this.start=e.start,this.shift=e.shift||mg,this.reduce=e.reduce||mg,this.reuse=e.reuse||mg,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class ql extends pk{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<n.length;a++)r.push([]);function s(a,l,c){r[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=ut[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let f=a[c+-u];for(let d=-u;d>0;d--)s(a[c++],l,f);c++}}}this.nodeSet=new zy(n.map((a,l)=>Ci.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=uk;let o=uh(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Nw),this.states=uh(e.states,Uint32Array),this.data=uh(e.stateData),this.goto=uh(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new xl(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,i){let r=new Lz(this,e,n,i);for(let s of this.wrappers)r=s(r,e,n,i);return r}getGoto(e,n,i=!1){let r=this.goto;if(n>=r[0])return-1;for(let s=r[n+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,n){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=vs(i,s+2)];else{if(i[s+1]==2)return vs(i,s+2);break}if(o==n||o==0)return vs(i,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,i=>i==n?!0:null)}allActions(e,n){let i=this.stateSlot(e,4),r=i?n(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=vs(this.data,s+2);else break;r=n(vs(this.data,s+1))}return r}nextStates(e){let n=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=vs(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];n.some((s,o)=>o&1&&s==r)||n.push(this.data[i],r)}}return n}configure(e){let n=Object.assign(Object.create(ql.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=i}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return n.specializers[r]=Nw(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),i=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<n.length;s++)if(!i[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new Nz(e,i,r)}static deserialize(e){return new ql(e)}}function vs(t,e){return t[e]|t[e+1]<<16}function Fz(t){let e=null;for(let n of t){let i=n.p.stoppedAt;(n.pos==n.p.stream.end||i!=null&&n.pos>i)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function Nw(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}const Bz=Ap({String:W.string,Number:W.number,"True False":W.bool,PropertyName:W.propertyName,Null:W.null,", :":W.separator,"[ ]":W.squareBracket,"{ }":W.brace}),Hz=ql.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[Bz],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),jz=Vl.define({name:"json",parser:Hz.configure({props:[Yy.add({Object:ew({except:/^\s*\}/}),Array:ew({except:/^\s*\]/})}),Ky.add({"Object Array":xk})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Vz(){return new bk(jz)}const Za=63,Iw=64,Qz=1,zz=2,IE=3,Wz=4,FE=5,qz=6,Xz=7,BE=65,Uz=66,Yz=8,Gz=9,Kz=10,Jz=11,Zz=12,HE=13,e5=19,t5=20,n5=29,i5=33,r5=34,s5=47,o5=0,p0=1,hb=2,Nu=3,db=4;class Go{constructor(e,n,i){this.parent=e,this.depth=n,this.type=i,this.hash=(e?e.hash+e.hash<<8:0)+n+(n<<4)+i}}Go.top=new Go(null,-1,o5);function lu(t,e){for(let n=0,i=e-t.pos-1;;i--,n++){let r=t.peek(i);if($s(r)||r==-1)return n}}function pb(t){return t==32||t==9}function $s(t){return t==10||t==13}function jE(t){return pb(t)||$s(t)}function ta(t){return t<0||jE(t)}const a5=new Iz({start:Go.top,reduce(t,e){return t.type==Nu&&(e==t5||e==r5)?t.parent:t},shift(t,e,n,i){if(e==IE)return new Go(t,lu(i,i.pos),p0);if(e==BE||e==FE)return new Go(t,lu(i,i.pos),hb);if(e==Za)return t.parent;if(e==e5||e==i5)return new Go(t,0,Nu);if(e==HE&&t.type==db)return t.parent;if(e==s5){let r=/[1-9]/.exec(i.read(i.pos,n.pos));if(r)return new Go(t,t.depth+ +r[0],db)}return t},hash(t){return t.hash}});function Xl(t,e,n=0){return t.peek(n)==e&&t.peek(n+1)==e&&t.peek(n+2)==e&&ta(t.peek(n+3))}const l5=new Np((t,e)=>{if(t.next==-1&&e.canShift(Iw))return t.acceptToken(Iw);let n=t.peek(-1);if(($s(n)||n<0)&&e.context.type!=Nu){if(Xl(t,45))if(e.canShift(Za))t.acceptToken(Za);else return t.acceptToken(Qz,3);if(Xl(t,46))if(e.canShift(Za))t.acceptToken(Za);else return t.acceptToken(zz,3);let i=0;for(;t.next==32;)i++,t.advance();(i<e.context.depth||i==e.context.depth&&e.context.type==p0&&(t.next!=45||!ta(t.peek(1))))&&t.next!=-1&&!$s(t.next)&&t.next!=35&&t.acceptToken(Za,-i)}},{contextual:!0}),c5=new Np((t,e)=>{if(e.context.type==Nu){t.next==63&&(t.advance(),ta(t.next)&&t.acceptToken(Xz));return}if(t.next==45)t.advance(),ta(t.next)&&t.acceptToken(e.context.type==p0&&e.context.depth==lu(t,t.pos-1)?Wz:IE);else if(t.next==63)t.advance(),ta(t.next)&&t.acceptToken(e.context.type==hb&&e.context.depth==lu(t,t.pos-1)?qz:FE);else{let n=t.pos;for(;;)if(pb(t.next)){if(t.pos==n)return;t.advance()}else if(t.next==33)VE(t);else if(t.next==38)mb(t);else if(t.next==42){mb(t);break}else if(t.next==39||t.next==34){if(m0(t,!0))break;return}else if(t.next==91||t.next==123){if(!f5(t))return;break}else{QE(t,!0,!1,0);break}for(;pb(t.next);)t.advance();if(t.next==58){if(t.pos==n&&e.canShift(n5))return;let i=t.peek(1);ta(i)&&t.acceptTokenTo(e.context.type==hb&&e.context.depth==lu(t,n)?Uz:BE,n)}}},{contextual:!0});function u5(t){return t>32&&t<127&&t!=34&&t!=37&&t!=44&&t!=60&&t!=62&&t!=92&&t!=94&&t!=96&&t!=123&&t!=124&&t!=125}function Fw(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function Bw(t,e){return t.next==37?(t.advance(),Fw(t.next)&&t.advance(),Fw(t.next)&&t.advance(),!0):u5(t.next)||e&&t.next==44?(t.advance(),!0):!1}function VE(t){if(t.advance(),t.next==60){for(t.advance();;)if(!Bw(t,!0)){t.next==62&&t.advance();break}}else for(;Bw(t,!1););}function mb(t){for(t.advance();!ta(t.next)&&Rd(t.tag)!="f";)t.advance()}function m0(t,e){let n=t.next,i=!1,r=t.pos;for(t.advance();;){let s=t.next;if(s<0)break;if(t.advance(),s==n)if(s==39)if(t.next==39)t.advance();else break;else break;else if(s==92&&n==34)t.next>=0&&t.advance();else if($s(s)){if(e)return!1;i=!0}else if(e&&t.pos>=r+1024)return!1}return!i}function f5(t){for(let e=[],n=t.pos+1024;;)if(t.next==91||t.next==123)e.push(t.next),t.advance();else if(t.next==39||t.next==34){if(!m0(t,!0))return!1}else if(t.next==93||t.next==125){if(e[e.length-1]!=t.next-2)return!1;if(e.pop(),t.advance(),!e.length)return!0}else{if(t.next<0||t.pos>n||$s(t.next))return!1;t.advance()}}const h5="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function Rd(t){return t<33?"u":t>125?"s":h5[t-33]}function gg(t,e){let n=Rd(t);return n!="u"&&!(e&&n=="f")}function QE(t,e,n,i){if(Rd(t.next)=="s"||(t.next==63||t.next==58||t.next==45)&&gg(t.peek(1),n))t.advance();else return!1;let r=t.pos;for(;;){let s=t.next,o=0,a=i+1;for(;jE(s);){if($s(s)){if(e)return!1;a=0}else a++;s=t.peek(++o)}if(!(s>=0&&(s==58?gg(t.peek(o+1),n):s==35?t.peek(o-1)!=32:gg(s,n)))||!n&&a<=i||a==0&&!n&&(Xl(t,45,o)||Xl(t,46,o)))break;if(e&&Rd(s)=="f")return!1;for(let c=o;c>=0;c--)t.advance();if(e&&t.pos>r+1024)return!1}return!0}const d5=new Np((t,e)=>{if(t.next==33)VE(t),t.acceptToken(Zz);else if(t.next==38||t.next==42){let n=t.next==38?Kz:Jz;mb(t),t.acceptToken(n)}else t.next==39||t.next==34?(m0(t,!1),t.acceptToken(Gz)):QE(t,!1,e.context.type==Nu,e.context.depth)&&t.acceptToken(Yz)}),p5=new Np((t,e)=>{let n=e.context.type==db?e.context.depth:-1,i=t.pos;e:for(;;){let r=0,s=t.next;for(;s==32;)s=t.peek(++r);if(!r&&(Xl(t,45,r)||Xl(t,46,r))||!$s(s)&&(n<0&&(n=Math.max(e.context.depth+1,r)),r<n))break;for(;;){if(t.next<0)break e;let o=$s(t.next);if(t.advance(),o)continue e;i=t.pos}}t.acceptTokenTo(HE,i)}),m5=Ap({DirectiveName:W.keyword,DirectiveContent:W.attributeValue,"DirectiveEnd DocEnd":W.meta,QuotedLiteral:W.string,BlockLiteralHeader:W.special(W.string),BlockLiteralContent:W.content,Literal:W.content,"Key/Literal Key/QuotedLiteral":W.definition(W.propertyName),"Anchor Alias":W.labelName,Tag:W.typeName,Comment:W.lineComment,": , -":W.separator,"?":W.punctuation,"[ ]":W.squareBracket,"{ }":W.brace}),g5=ql.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:a5,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[m5],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[l5,c5,d5,p5,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),v5=Vl.define({name:"yaml",parser:g5.configure({props:[Yy.add({Stream:t=>{for(let e=t.node.resolve(t.pos,-1);e&&e.to>=t.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return t.baseIndentFor(e);if(e.name=="BlockLiteral")return t.baseIndentFor(e)+t.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return t.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let n=t.column(e.from,1);if(n==t.lineIndent(e.from,1))return n;if(e.to>t.pos)return null}}return null},FlowMapping:Zx({closing:"}"}),FlowSequence:Zx({closing:"]"})}),Ky.add({"FlowMapping FlowSequence":xk,"Item Pair BlockLiteral":(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function b5(){return new bk(v5)}const y5="#e5c07b",Hw="#e06c75",O5="#56b6c2",x5="#ffffff",Fh="#abb2bf",gb="#7d8799",w5="#61afef",_5="#98c379",jw="#d19a66",S5="#c678dd",C5="#21252b",Vw="#2c313a",Qw="#282c34",vg="#353a42",T5="#3E4451",zw="#528bff",A5=Me.theme({"&":{color:Fh,backgroundColor:Qw},".cm-content":{caretColor:zw},".cm-cursor, .cm-dropCursor":{borderLeftColor:zw},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:T5},".cm-panels":{backgroundColor:C5,color:Fh},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Qw,color:gb,border:"none"},".cm-activeLineGutter":{backgroundColor:Vw},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:vg},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:vg,borderBottomColor:vg},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Vw,color:Fh}}},{dark:!0}),k5=df.define([{tag:W.keyword,color:S5},{tag:[W.name,W.deleted,W.character,W.propertyName,W.macroName],color:Hw},{tag:[W.function(W.variableName),W.labelName],color:w5},{tag:[W.color,W.constant(W.name),W.standard(W.name)],color:jw},{tag:[W.definition(W.name),W.separator],color:Fh},{tag:[W.typeName,W.className,W.number,W.changed,W.annotation,W.modifier,W.self,W.namespace],color:y5},{tag:[W.operator,W.operatorKeyword,W.url,W.escape,W.regexp,W.link,W.special(W.string)],color:O5},{tag:[W.meta,W.comment],color:gb},{tag:W.strong,fontWeight:"bold"},{tag:W.emphasis,fontStyle:"italic"},{tag:W.strikethrough,textDecoration:"line-through"},{tag:W.link,color:gb,textDecoration:"underline"},{tag:W.heading,fontWeight:"bold",color:Hw},{tag:[W.atom,W.bool,W.special(W.variableName)],color:jw},{tag:[W.processingInstruction,W.string,W.inserted],color:_5},{tag:W.invalid,color:x5}]),E5=[A5,Dk(k5)];/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function zE(t){return typeof t>"u"||t===null}function D5(t){return typeof t=="object"&&t!==null}function R5(t){return Array.isArray(t)?t:zE(t)?[]:[t]}function P5(t,e){var n,i,r,s;if(e)for(s=Object.keys(e),n=0,i=s.length;n<i;n+=1)r=s[n],t[r]=e[r];return t}function $5(t,e){var n="",i;for(i=0;i<e;i+=1)n+=t;return n}function M5(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var L5=zE,N5=D5,I5=R5,F5=$5,B5=M5,H5=P5,vn={isNothing:L5,isObject:N5,toArray:I5,repeat:F5,isNegativeZero:B5,extend:H5};function WE(t,e){var n="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),i+" "+n):i}function Iu(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=WE(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Iu.prototype=Object.create(Error.prototype);Iu.prototype.constructor=Iu;Iu.prototype.toString=function(e){return this.name+": "+WE(this,e)};var ai=Iu;function bg(t,e,n,i,r){var s="",o="",a=Math.floor(r/2)-1;return i-e>a&&(s=" ... ",e=i-a+s.length),n-i>a&&(o=" ...",n=i+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"")+o,pos:i-e+s.length}}function yg(t,e){return vn.repeat(" ",e-t.length)+t}function j5(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],s,o=-1;s=n.exec(t.buffer);)r.push(s.index),i.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a="",l,c,u=Math.min(t.line+e.linesAfter,r.length).toString().length,f=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=bg(t.buffer,i[o-l],r[o-l],t.position-(i[o]-i[o-l]),f),a=vn.repeat(" ",e.indent)+yg((t.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=bg(t.buffer,i[o],r[o],t.position,f),a+=vn.repeat(" ",e.indent)+yg((t.line+1).toString(),u)+" | "+c.str+`
`,a+=vn.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=r.length);l++)c=bg(t.buffer,i[o+l],r[o+l],t.position-(i[o]-i[o+l]),f),a+=vn.repeat(" ",e.indent)+yg((t.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var V5=j5,Q5=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],z5=["scalar","sequence","mapping"];function W5(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(i){e[String(i)]=n})}),e}function q5(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(Q5.indexOf(n)===-1)throw new ai('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=W5(e.styleAliases||null),z5.indexOf(this.kind)===-1)throw new ai('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var In=q5;function Ww(t,e){var n=[];return t[e].forEach(function(i){var r=n.length;n.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(r=o)}),n[r]=i}),n}function X5(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function i(r){r.multi?(t.multi[r.kind].push(r),t.multi.fallback.push(r)):t[r.kind][r.tag]=t.fallback[r.tag]=r}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(i);return t}function vb(t){return this.extend(t)}vb.prototype.extend=function(e){var n=[],i=[];if(e instanceof In)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new ai("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof In))throw new ai("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ai("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ai("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof In))throw new ai("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(vb.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=Ww(r,"implicit"),r.compiledExplicit=Ww(r,"explicit"),r.compiledTypeMap=X5(r.compiledImplicit,r.compiledExplicit),r};var qE=vb,XE=new In("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),UE=new In("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),YE=new In("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),GE=new qE({explicit:[XE,UE,YE]});function U5(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function Y5(){return null}function G5(t){return t===null}var KE=new In("tag:yaml.org,2002:null",{kind:"scalar",resolve:U5,construct:Y5,predicate:G5,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function K5(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function J5(t){return t==="true"||t==="True"||t==="TRUE"}function Z5(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var JE=new In("tag:yaml.org,2002:bool",{kind:"scalar",resolve:K5,construct:J5,predicate:Z5,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function eW(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function tW(t){return 48<=t&&t<=55}function nW(t){return 48<=t&&t<=57}function iW(t){if(t===null)return!1;var e=t.length,n=0,i=!1,r;if(!e)return!1;if(r=t[n],(r==="-"||r==="+")&&(r=t[++n]),r==="0"){if(n+1===e)return!0;if(r=t[++n],r==="b"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(!eW(t.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(!tW(t.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<e;n++)if(r=t[n],r!=="_"){if(!nW(t.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function rW(t){var e=t,n=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function sW(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!vn.isNegativeZero(t)}var ZE=new In("tag:yaml.org,2002:int",{kind:"scalar",resolve:iW,construct:rW,predicate:sW,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),oW=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function aW(t){return!(t===null||!oW.test(t)||t[t.length-1]==="_")}function lW(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var cW=/^[-+]?[0-9]+e/;function uW(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(vn.isNegativeZero(t))return"-0.0";return n=t.toString(10),cW.test(n)?n.replace("e",".e"):n}function fW(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||vn.isNegativeZero(t))}var eD=new In("tag:yaml.org,2002:float",{kind:"scalar",resolve:aW,construct:lW,predicate:fW,represent:uW,defaultStyle:"lowercase"}),tD=GE.extend({implicit:[KE,JE,ZE,eD]}),nD=tD,iD=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),rD=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function hW(t){return t===null?!1:iD.exec(t)!==null||rD.exec(t)!==null}function dW(t){var e,n,i,r,s,o,a,l=0,c=null,u,f,d;if(e=iD.exec(t),e===null&&(e=rD.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(n,i,r));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],f=+(e[11]||0),c=(u*60+f)*6e4,e[9]==="-"&&(c=-c)),d=new Date(Date.UTC(n,i,r,s,o,a,l)),c&&d.setTime(d.getTime()-c),d}function pW(t){return t.toISOString()}var sD=new In("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:hW,construct:dW,instanceOf:Date,represent:pW});function mW(t){return t==="<<"||t===null}var oD=new In("tag:yaml.org,2002:merge",{kind:"scalar",resolve:mW}),g0=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function gW(t){if(t===null)return!1;var e,n,i=0,r=t.length,s=g0;for(n=0;n<r;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function vW(t){var e,n,i=t.replace(/[\r\n=]/g,""),r=i.length,s=g0,o=0,a=[];for(e=0;e<r;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(i.charAt(e));return n=r%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}function bW(t){var e="",n=0,i,r,s=t.length,o=g0;for(i=0;i<s;i++)i%3===0&&i&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[i];return r=s%3,r===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):r===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):r===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}function yW(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var aD=new In("tag:yaml.org,2002:binary",{kind:"scalar",resolve:gW,construct:vW,predicate:yW,represent:bW}),OW=Object.prototype.hasOwnProperty,xW=Object.prototype.toString;function wW(t){if(t===null)return!0;var e=[],n,i,r,s,o,a=t;for(n=0,i=a.length;n<i;n+=1){if(r=a[n],o=!1,xW.call(r)!=="[object Object]")return!1;for(s in r)if(OW.call(r,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function _W(t){return t!==null?t:[]}var lD=new In("tag:yaml.org,2002:omap",{kind:"sequence",resolve:wW,construct:_W}),SW=Object.prototype.toString;function CW(t){if(t===null)return!0;var e,n,i,r,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(i=o[e],SW.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;s[e]=[r[0],i[r[0]]]}return!0}function TW(t){if(t===null)return[];var e,n,i,r,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)i=o[e],r=Object.keys(i),s[e]=[r[0],i[r[0]]];return s}var cD=new In("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:CW,construct:TW}),AW=Object.prototype.hasOwnProperty;function kW(t){if(t===null)return!0;var e,n=t;for(e in n)if(AW.call(n,e)&&n[e]!==null)return!1;return!0}function EW(t){return t!==null?t:{}}var uD=new In("tag:yaml.org,2002:set",{kind:"mapping",resolve:kW,construct:EW}),v0=nD.extend({implicit:[sD,oD],explicit:[aD,lD,cD,uD]}),To=Object.prototype.hasOwnProperty,Pd=1,fD=2,hD=3,$d=4,Og=1,DW=2,qw=3,RW=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PW=/[\x85\u2028\u2029]/,$W=/[,\[\]\{\}]/,dD=/^(?:!|!!|![a-z\-]+!)$/i,pD=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Xw(t){return Object.prototype.toString.call(t)}function ts(t){return t===10||t===13}function da(t){return t===9||t===32}function _i(t){return t===9||t===32||t===10||t===13}function al(t){return t===44||t===91||t===93||t===123||t===125}function MW(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function LW(t){return t===120?2:t===117?4:t===85?8:0}function NW(t){return 48<=t&&t<=57?t-48:-1}function Uw(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}function IW(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var mD=new Array(256),gD=new Array(256);for(var Qa=0;Qa<256;Qa++)mD[Qa]=Uw(Qa)?1:0,gD[Qa]=Uw(Qa);function FW(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||v0,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function vD(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=V5(n),new ai(e,n)}function qe(t,e){throw vD(t,e)}function Md(t,e){t.onWarning&&t.onWarning.call(null,vD(t,e))}var Yw={YAML:function(e,n,i){var r,s,o;e.version!==null&&qe(e,"duplication of %YAML directive"),i.length!==1&&qe(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&qe(e,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),o=parseInt(r[2],10),s!==1&&qe(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Md(e,"unsupported YAML version of the document")},TAG:function(e,n,i){var r,s;i.length!==2&&qe(e,"TAG directive accepts exactly two arguments"),r=i[0],s=i[1],dD.test(r)||qe(e,"ill-formed tag handle (first argument) of the TAG directive"),To.call(e.tagMap,r)&&qe(e,'there is a previously declared suffix for "'+r+'" tag handle'),pD.test(s)||qe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{qe(e,"tag prefix is malformed: "+s)}e.tagMap[r]=s}};function vo(t,e,n,i){var r,s,o,a;if(e<n){if(a=t.input.slice(e,n),i)for(r=0,s=a.length;r<s;r+=1)o=a.charCodeAt(r),o===9||32<=o&&o<=1114111||qe(t,"expected valid JSON character");else RW.test(a)&&qe(t,"the stream contains non-printable characters");t.result+=a}}function Gw(t,e,n,i){var r,s,o,a;for(vn.isObject(n)||qe(t,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),o=0,a=r.length;o<a;o+=1)s=r[o],To.call(e,s)||(e[s]=n[s],i[s]=!0)}function ll(t,e,n,i,r,s,o,a,l){var c,u;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,u=r.length;c<u;c+=1)Array.isArray(r[c])&&qe(t,"nested arrays are not supported inside keys"),typeof r=="object"&&Xw(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&Xw(r)==="[object Object]"&&(r="[object Object]"),r=String(r),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)Gw(t,e,s[c],n);else Gw(t,e,s,n);else!t.json&&!To.call(n,r)&&To.call(e,r)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,qe(t,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[r]=s,delete n[r];return e}function b0(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):qe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function cn(t,e,n){for(var i=0,r=t.input.charCodeAt(t.position);r!==0;){for(;da(r);)r===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),r=t.input.charCodeAt(++t.position);if(e&&r===35)do r=t.input.charCodeAt(++t.position);while(r!==10&&r!==13&&r!==0);if(ts(r))for(b0(t),r=t.input.charCodeAt(t.position),i++,t.lineIndent=0;r===32;)t.lineIndent++,r=t.input.charCodeAt(++t.position);else break}return n!==-1&&i!==0&&t.lineIndent<n&&Md(t,"deficient indentation"),i}function Ip(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||_i(n)))}function y0(t,e){e===1?t.result+=" ":e>1&&(t.result+=vn.repeat(`
`,e-1))}function BW(t,e,n){var i,r,s,o,a,l,c,u,f=t.kind,d=t.result,m;if(m=t.input.charCodeAt(t.position),_i(m)||al(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(r=t.input.charCodeAt(t.position+1),_i(r)||n&&al(r)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;m!==0;){if(m===58){if(r=t.input.charCodeAt(t.position+1),_i(r)||n&&al(r))break}else if(m===35){if(i=t.input.charCodeAt(t.position-1),_i(i))break}else{if(t.position===t.lineStart&&Ip(t)||n&&al(m))break;if(ts(m))if(l=t.line,c=t.lineStart,u=t.lineIndent,cn(t,!1,-1),t.lineIndent>=e){a=!0,m=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=c,t.lineIndent=u;break}}a&&(vo(t,s,o,!1),y0(t,t.line-l),s=o=t.position,a=!1),da(m)||(o=t.position+1),m=t.input.charCodeAt(++t.position)}return vo(t,s,o,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function HW(t,e){var n,i,r;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(vo(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)i=t.position,t.position++,r=t.position;else return!0;else ts(n)?(vo(t,i,r,!0),y0(t,cn(t,!1,e)),i=r=t.position):t.position===t.lineStart&&Ip(t)?qe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,r=t.position);qe(t,"unexpected end of the stream within a single quoted scalar")}function jW(t,e){var n,i,r,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return vo(t,n,t.position,!0),t.position++,!0;if(a===92){if(vo(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),ts(a))cn(t,!1,e);else if(a<256&&mD[a])t.result+=gD[a],t.position++;else if((o=LW(a))>0){for(r=o,s=0;r>0;r--)a=t.input.charCodeAt(++t.position),(o=MW(a))>=0?s=(s<<4)+o:qe(t,"expected hexadecimal character");t.result+=IW(s),t.position++}else qe(t,"unknown escape sequence");n=i=t.position}else ts(a)?(vo(t,n,i,!0),y0(t,cn(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Ip(t)?qe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}qe(t,"unexpected end of the stream within a double quoted scalar")}function VW(t,e){var n=!0,i,r,s,o=t.tag,a,l=t.anchor,c,u,f,d,m,g=Object.create(null),y,O,_,A;if(A=t.input.charCodeAt(t.position),A===91)u=93,m=!1,a=[];else if(A===123)u=125,m=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),A=t.input.charCodeAt(++t.position);A!==0;){if(cn(t,!0,e),A=t.input.charCodeAt(t.position),A===u)return t.position++,t.tag=o,t.anchor=l,t.kind=m?"mapping":"sequence",t.result=a,!0;n?A===44&&qe(t,"expected the node content, but found ','"):qe(t,"missed comma between flow collection entries"),O=y=_=null,f=d=!1,A===63&&(c=t.input.charCodeAt(t.position+1),_i(c)&&(f=d=!0,t.position++,cn(t,!0,e))),i=t.line,r=t.lineStart,s=t.position,Ul(t,e,Pd,!1,!0),O=t.tag,y=t.result,cn(t,!0,e),A=t.input.charCodeAt(t.position),(d||t.line===i)&&A===58&&(f=!0,A=t.input.charCodeAt(++t.position),cn(t,!0,e),Ul(t,e,Pd,!1,!0),_=t.result),m?ll(t,a,g,O,y,_,i,r,s):f?a.push(ll(t,null,g,O,y,_,i,r,s)):a.push(y),cn(t,!0,e),A=t.input.charCodeAt(t.position),A===44?(n=!0,A=t.input.charCodeAt(++t.position)):n=!1}qe(t,"unexpected end of the stream within a flow collection")}function QW(t,e){var n,i,r=Og,s=!1,o=!1,a=e,l=0,c=!1,u,f;if(f=t.input.charCodeAt(t.position),f===124)i=!1;else if(f===62)i=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)Og===r?r=f===43?qw:DW:qe(t,"repeat of a chomping mode identifier");else if((u=NW(f))>=0)u===0?qe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?qe(t,"repeat of an indentation width identifier"):(a=e+u-1,o=!0);else break;if(da(f)){do f=t.input.charCodeAt(++t.position);while(da(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!ts(f)&&f!==0)}for(;f!==0;){for(b0(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),ts(f)){l++;continue}if(t.lineIndent<a){r===qw?t.result+=vn.repeat(`
`,s?1+l:l):r===Og&&s&&(t.result+=`
`);break}for(i?da(f)?(c=!0,t.result+=vn.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=vn.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=vn.repeat(`
`,l):t.result+=vn.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!ts(f)&&f!==0;)f=t.input.charCodeAt(++t.position);vo(t,n,t.position,!1)}return!0}function Kw(t,e){var n,i=t.tag,r=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,qe(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!_i(o))));){if(a=!0,t.position++,cn(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,Ul(t,e,hD,!1,!0),s.push(t.result),cn(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)qe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=i,t.anchor=r,t.kind="sequence",t.result=s,!0):!1}function zW(t,e,n){var i,r,s,o,a,l,c=t.tag,u=t.anchor,f={},d=Object.create(null),m=null,g=null,y=null,O=!1,_=!1,A;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),A=t.input.charCodeAt(t.position);A!==0;){if(!O&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,qe(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),s=t.line,(A===63||A===58)&&_i(i))A===63?(O&&(ll(t,f,d,m,g,null,o,a,l),m=g=y=null),_=!0,O=!0,r=!0):O?(O=!1,r=!0):qe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,A=i;else{if(o=t.line,a=t.lineStart,l=t.position,!Ul(t,n,fD,!1,!0))break;if(t.line===s){for(A=t.input.charCodeAt(t.position);da(A);)A=t.input.charCodeAt(++t.position);if(A===58)A=t.input.charCodeAt(++t.position),_i(A)||qe(t,"a whitespace character is expected after the key-value separator within a block mapping"),O&&(ll(t,f,d,m,g,null,o,a,l),m=g=y=null),_=!0,O=!1,r=!1,m=t.tag,g=t.result;else if(_)qe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(_)qe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===s||t.lineIndent>e)&&(O&&(o=t.line,a=t.lineStart,l=t.position),Ul(t,e,$d,!0,r)&&(O?g=t.result:y=t.result),O||(ll(t,f,d,m,g,y,o,a,l),m=g=y=null),cn(t,!0,-1),A=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&A!==0)qe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return O&&ll(t,f,d,m,g,null,o,a,l),_&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=f),_}function WW(t){var e,n=!1,i=!1,r,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&qe(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(i=!0,r="!!",o=t.input.charCodeAt(++t.position)):r="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):qe(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!_i(o);)o===33&&(i?qe(t,"tag suffix cannot contain exclamation marks"):(r=t.input.slice(e-1,t.position+1),dD.test(r)||qe(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),$W.test(s)&&qe(t,"tag suffix cannot contain flow indicator characters")}s&&!pD.test(s)&&qe(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{qe(t,"tag name is malformed: "+s)}return n?t.tag=s:To.call(t.tagMap,r)?t.tag=t.tagMap[r]+s:r==="!"?t.tag="!"+s:r==="!!"?t.tag="tag:yaml.org,2002:"+s:qe(t,'undeclared tag handle "'+r+'"'),!0}function qW(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&qe(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!_i(n)&&!al(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&qe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function XW(t){var e,n,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!_i(i)&&!al(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&qe(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),To.call(t.anchorMap,n)||qe(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],cn(t,!0,-1),!0}function Ul(t,e,n,i,r){var s,o,a,l=1,c=!1,u=!1,f,d,m,g,y,O;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=$d===n||hD===n,i&&cn(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;WW(t)||qW(t);)cn(t,!0,-1)?(c=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||r),(l===1||$d===n)&&(Pd===n||fD===n?y=e:y=e+1,O=t.position-t.lineStart,l===1?a&&(Kw(t,O)||zW(t,O,y))||VW(t,y)?u=!0:(o&&QW(t,y)||HW(t,y)||jW(t,y)?u=!0:XW(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&qe(t,"alias node should not have any properties")):BW(t,y,Pd===n)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=a&&Kw(t,O))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&qe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(g=t.implicitTypes[f],g.resolve(t.result)){t.result=g.construct(t.result),t.tag=g.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(To.call(t.typeMap[t.kind||"fallback"],t.tag))g=t.typeMap[t.kind||"fallback"][t.tag];else for(g=null,m=t.typeMap.multi[t.kind||"fallback"],f=0,d=m.length;f<d;f+=1)if(t.tag.slice(0,m[f].tag.length)===m[f].tag){g=m[f];break}g||qe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&g.kind!==t.kind&&qe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+g.kind+'", not "'+t.kind+'"'),g.resolve(t.result,t.tag)?(t.result=g.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):qe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function UW(t){var e=t.position,n,i,r,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(cn(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!_i(o);)o=t.input.charCodeAt(++t.position);for(i=t.input.slice(n,t.position),r=[],i.length<1&&qe(t,"directive name must not be less than one character in length");o!==0;){for(;da(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!ts(o));break}if(ts(o))break;for(n=t.position;o!==0&&!_i(o);)o=t.input.charCodeAt(++t.position);r.push(t.input.slice(n,t.position))}o!==0&&b0(t),To.call(Yw,i)?Yw[i](t,i,r):Md(t,'unknown document directive "'+i+'"')}if(cn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,cn(t,!0,-1)):s&&qe(t,"directives end mark is expected"),Ul(t,t.lineIndent-1,$d,!1,!0),cn(t,!0,-1),t.checkLineBreaks&&PW.test(t.input.slice(e,t.position))&&Md(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Ip(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,cn(t,!0,-1));return}if(t.position<t.length-1)qe(t,"end of the stream or a document separator is expected");else return}function bD(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new FW(t,e),i=t.indexOf("\0");for(i!==-1&&(n.position=i,qe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)UW(n);return n.documents}function YW(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var i=bD(t,n);if(typeof e!="function")return i;for(var r=0,s=i.length;r<s;r+=1)e(i[r])}function GW(t,e){var n=bD(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new ai("expected a single document in the stream, but found more")}}var KW=YW,JW=GW,yD={loadAll:KW,load:JW},OD=Object.prototype.toString,xD=Object.prototype.hasOwnProperty,O0=65279,ZW=9,Fu=10,eq=13,tq=32,nq=33,iq=34,bb=35,rq=37,sq=38,oq=39,aq=42,wD=44,lq=45,Ld=58,cq=61,uq=62,fq=63,hq=64,_D=91,SD=93,dq=96,CD=123,pq=124,TD=125,Gn={};Gn[0]="\\0";Gn[7]="\\a";Gn[8]="\\b";Gn[9]="\\t";Gn[10]="\\n";Gn[11]="\\v";Gn[12]="\\f";Gn[13]="\\r";Gn[27]="\\e";Gn[34]='\\"';Gn[92]="\\\\";Gn[133]="\\N";Gn[160]="\\_";Gn[8232]="\\L";Gn[8233]="\\P";var mq=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],gq=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function vq(t,e){var n,i,r,s,o,a,l;if(e===null)return{};for(n={},i=Object.keys(e),r=0,s=i.length;r<s;r+=1)o=i[r],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&xD.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[o]=a;return n}function bq(t){var e,n,i;if(e=t.toString(16).toUpperCase(),t<=255)n="x",i=2;else if(t<=65535)n="u",i=4;else if(t<=4294967295)n="U",i=8;else throw new ai("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+vn.repeat("0",i-e.length)+e}var yq=1,Bu=2;function Oq(t){this.schema=t.schema||v0,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=vn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=vq(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Bu:yq,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Jw(t,e){for(var n=vn.repeat(" ",e),i=0,r=-1,s="",o,a=t.length;i<a;)r=t.indexOf(`
`,i),r===-1?(o=t.slice(i),i=a):(o=t.slice(i,r+1),i=r+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}function yb(t,e){return`
`+vn.repeat(" ",t.indent*e)}function xq(t,e){var n,i,r;for(n=0,i=t.implicitTypes.length;n<i;n+=1)if(r=t.implicitTypes[n],r.resolve(e))return!0;return!1}function Nd(t){return t===tq||t===ZW}function Hu(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==O0||65536<=t&&t<=1114111}function Zw(t){return Hu(t)&&t!==O0&&t!==eq&&t!==Fu}function e_(t,e,n){var i=Zw(t),r=i&&!Nd(t);return(n?i:i&&t!==wD&&t!==_D&&t!==SD&&t!==CD&&t!==TD)&&t!==bb&&!(e===Ld&&!r)||Zw(e)&&!Nd(e)&&t===bb||e===Ld&&r}function wq(t){return Hu(t)&&t!==O0&&!Nd(t)&&t!==lq&&t!==fq&&t!==Ld&&t!==wD&&t!==_D&&t!==SD&&t!==CD&&t!==TD&&t!==bb&&t!==sq&&t!==aq&&t!==nq&&t!==pq&&t!==cq&&t!==uq&&t!==oq&&t!==iq&&t!==rq&&t!==hq&&t!==dq}function _q(t){return!Nd(t)&&t!==Ld}function Wc(t,e){var n=t.charCodeAt(e),i;return n>=55296&&n<=56319&&e+1<t.length&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function AD(t){var e=/^\n* /;return e.test(t)}var kD=1,Ob=2,ED=3,DD=4,el=5;function Sq(t,e,n,i,r,s,o,a){var l,c=0,u=null,f=!1,d=!1,m=i!==-1,g=-1,y=wq(Wc(t,0))&&_q(Wc(t,t.length-1));if(e||o)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Wc(t,l),!Hu(c))return el;y=y&&e_(c,u,a),u=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Wc(t,l),c===Fu)f=!0,m&&(d=d||l-g-1>i&&t[g+1]!==" ",g=l);else if(!Hu(c))return el;y=y&&e_(c,u,a),u=c}d=d||m&&l-g-1>i&&t[g+1]!==" "}return!f&&!d?y&&!o&&!r(t)?kD:s===Bu?el:Ob:n>9&&AD(t)?el:o?s===Bu?el:Ob:d?DD:ED}function Cq(t,e,n,i,r){t.dump=function(){if(e.length===0)return t.quotingType===Bu?'""':"''";if(!t.noCompatMode&&(mq.indexOf(e)!==-1||gq.test(e)))return t.quotingType===Bu?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=i||t.flowLevel>-1&&n>=t.flowLevel;function l(c){return xq(t,c)}switch(Sq(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!i,r)){case kD:return e;case Ob:return"'"+e.replace(/'/g,"''")+"'";case ED:return"|"+t_(e,t.indent)+n_(Jw(e,s));case DD:return">"+t_(e,t.indent)+n_(Jw(Tq(e,o),s));case el:return'"'+Aq(e)+'"';default:throw new ai("impossible error: invalid scalar style")}}()}function t_(t,e){var n=AD(t)?String(e):"",i=t[t.length-1]===`
`,r=i&&(t[t.length-2]===`
`||t===`
`),s=r?"+":i?"":"-";return n+s+`
`}function n_(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function Tq(t,e){for(var n=/(\n+)([^\n]*)/g,i=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,n.lastIndex=c,i_(t.slice(0,c),e)}(),r=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",i+=a+(!r&&!s&&l!==""?`
`:"")+i_(l,e),r=s}return i}function i_(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,i,r=0,s,o=0,a=0,l="";i=n.exec(t);)a=i.index,a-r>e&&(s=o>r?o:a,l+=`
`+t.slice(r,s),r=s+1),o=a;return l+=`
`,t.length-r>e&&o>r?l+=t.slice(r,o)+`
`+t.slice(o+1):l+=t.slice(r),l.slice(1)}function Aq(t){for(var e="",n=0,i,r=0;r<t.length;n>=65536?r+=2:r++)n=Wc(t,r),i=Gn[n],!i&&Hu(n)?(e+=t[r],n>=65536&&(e+=t[r+1])):e+=i||bq(n);return e}function kq(t,e,n){var i="",r=t.tag,s,o,a;for(s=0,o=n.length;s<o;s+=1)a=n[s],t.replacer&&(a=t.replacer.call(n,String(s),a)),(Ms(t,e,a,!1,!1)||typeof a>"u"&&Ms(t,e,null,!1,!1))&&(i!==""&&(i+=","+(t.condenseFlow?"":" ")),i+=t.dump);t.tag=r,t.dump="["+i+"]"}function r_(t,e,n,i){var r="",s=t.tag,o,a,l;for(o=0,a=n.length;o<a;o+=1)l=n[o],t.replacer&&(l=t.replacer.call(n,String(o),l)),(Ms(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Ms(t,e+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=yb(t,e)),t.dump&&Fu===t.dump.charCodeAt(0)?r+="-":r+="- ",r+=t.dump);t.tag=s,t.dump=r||"[]"}function Eq(t,e,n){var i="",r=t.tag,s=Object.keys(n),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",i!==""&&(u+=", "),t.condenseFlow&&(u+='"'),l=s[o],c=n[l],t.replacer&&(c=t.replacer.call(n,l,c)),Ms(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Ms(t,e,c,!1,!1)&&(u+=t.dump,i+=u));t.tag=r,t.dump="{"+i+"}"}function Dq(t,e,n,i){var r="",s=t.tag,o=Object.keys(n),a,l,c,u,f,d;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new ai("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!i||r!=="")&&(d+=yb(t,e)),c=o[a],u=n[c],t.replacer&&(u=t.replacer.call(n,c,u)),Ms(t,e+1,c,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&Fu===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=yb(t,e)),Ms(t,e+1,u,!0,f)&&(t.dump&&Fu===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,r+=d));t.tag=s,t.dump=r||"{}"}function s_(t,e,n){var i,r,s,o,a,l;for(r=n?t.explicitTypes:t.implicitTypes,s=0,o=r.length;s<o;s+=1)if(a=r[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,OD.call(a.represent)==="[object Function]")i=a.represent(e,l);else if(xD.call(a.represent,l))i=a.represent[l](e,l);else throw new ai("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=i}return!0}return!1}function Ms(t,e,n,i,r,s,o){t.tag=null,t.dump=n,s_(t,n,!1)||s_(t,n,!0);var a=OD.call(t.dump),l=i,c;i&&(i=t.flowLevel<0||t.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",f,d;if(u&&(f=t.duplicates.indexOf(n),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(r=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(u&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),a==="[object Object]")i&&Object.keys(t.dump).length!==0?(Dq(t,e,t.dump,r),d&&(t.dump="&ref_"+f+t.dump)):(Eq(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object Array]")i&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?r_(t,e-1,t.dump,r):r_(t,e,t.dump,r),d&&(t.dump="&ref_"+f+t.dump)):(kq(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&Cq(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new ai("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}function Rq(t,e){var n=[],i=[],r,s;for(xb(t,n,i),r=0,s=i.length;r<s;r+=1)e.duplicates.push(n[i[r]]);e.usedDuplicates=new Array(s)}function xb(t,e,n){var i,r,s;if(t!==null&&typeof t=="object")if(r=e.indexOf(t),r!==-1)n.indexOf(r)===-1&&n.push(r);else if(e.push(t),Array.isArray(t))for(r=0,s=t.length;r<s;r+=1)xb(t[r],e,n);else for(i=Object.keys(t),r=0,s=i.length;r<s;r+=1)xb(t[i[r]],e,n)}function Pq(t,e){e=e||{};var n=new Oq(e);n.noRefs||Rq(t,n);var i=t;return n.replacer&&(i=n.replacer.call({"":i},"",i)),Ms(n,0,i,!0,!0)?n.dump+`
`:""}var $q=Pq,Mq={dump:$q};function x0(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Lq=In,Nq=qE,Iq=GE,Fq=tD,Bq=nD,Hq=v0,jq=yD.load,Vq=yD.loadAll,Qq=Mq.dump,zq=ai,Wq={binary:aD,float:eD,map:YE,null:KE,pairs:cD,set:uD,timestamp:sD,bool:JE,int:ZE,merge:oD,omap:lD,seq:UE,str:XE},qq=x0("safeLoad","load"),Xq=x0("safeLoadAll","loadAll"),Uq=x0("safeDump","dump"),pa={Type:Lq,Schema:Nq,FAILSAFE_SCHEMA:Iq,JSON_SCHEMA:Fq,CORE_SCHEMA:Bq,DEFAULT_SCHEMA:Hq,load:jq,loadAll:Vq,dump:Qq,YAMLException:zq,types:Wq,safeLoad:qq,safeLoadAll:Xq,safeDump:Uq};const RD=di({__name:"CodeMirrorEditor",props:{Content:{type:String,required:!0},ContentType:{type:String,required:!0,validator:t=>["JSON","YAML"].includes(t)},editorHeight:{type:String,required:!0}},emits:["update:Content","toast"],setup(t,{emit:e}){const n=t,i=e,r=Bt(null);let s=null;const o=Me.theme({"&":{height:n.editorHeight+"px"},".cm-scroller":{overflow:"auto"}}),a=(f,d)=>{const m=d==="JSON"?Vz():b5();return _t.create({doc:f,extensions:[NE,m,E5,o,Me.updateListener.of(g=>{g.docChanged&&i("update:Content",s==null?void 0:s.state.doc.toString())})]})},l=f=>{u(f)},c=f=>{try{return JSON.parse(f),"JSON"}catch{try{return pa.load(f),"YAML"}catch(m){return console.log("Not a valid content",m),null}}},u=f=>{let d="";if(s){if(f==="JSON"){const m=c(s.state.doc.toString());if(m==="JSON"){d=s.state.doc.toString(),n.editorHeight!=="300"&&i("toast",{message:`Error: Already in ${m} Mode, no conversion needed`,toastClass:"bg-warning"});return}else try{d=JSON.stringify(pa.load(s.state.doc.toString()),null,2)}catch(g){g instanceof Error?i("toast",{message:g.message,toastClass:"bg-danger"}):(console.error("An unknown error occurred",g),i("toast",{message:"An unknown error occurred",toastClass:"bg-danger"}));return}}else if(f==="YAML"){const m=c(s.state.doc.toString());if(m==="YAML"){if(d=s.state.doc.toString(),n.editorHeight!=="300"){i("toast",{message:`Error: Already in ${m} Mode, no conversion needed`,toastClass:"bg-warning"});return}}else try{d=pa.dump(JSON.parse(s.state.doc.toString()))}catch(g){g instanceof Error?i("toast",{message:g.message,toastClass:"bg-danger"}):(console.error("An unknown error occurred",g),i("toast",{message:"An unknown error occurred",toastClass:"bg-danger"}));return}}}s==null||s.setState(a(d,f))};return Ea(()=>{r.value&&(s=new Me({state:a(n.Content,n.ContentType),parent:r.value}))}),Ss(()=>n.Content,f=>{f!==(s==null?void 0:s.state.doc.toString())&&(s==null||s.dispatch({changes:{from:0,to:s.state.doc.length,insert:f}}))}),Ss([()=>n.ContentType],([f])=>{u(f)}),(f,d)=>(Oe(),xe(Ot,null,[t.editorHeight!=="300"?(Oe(),xe("button",{key:0,type:"button",onClick:d[0]||(d[0]=Or(m=>l("JSON"),["prevent"])),class:"btn btn-primary btn-sm"},"JSON View")):nn("",!0),d[2]||(d[2]=Vt(" ")),t.editorHeight!=="300"?(Oe(),xe("button",{key:1,type:"button",onClick:d[1]||(d[1]=Or(m=>l("YAML"),["prevent"])),class:"btn btn-warning btn-sm"},"YAML View")):nn("",!0),w("div",{ref_key:"editorContainer",ref:r,class:"editor-container"},null,512)],64))}}),Yq=["data-bs-target"],Gq=["data-bs-target"],Kq=["id"],Jq={class:"modal-dialog modal-xl",role:"document"},Zq={class:"modal-content"},e4={class:"modal-body"},t4={class:"row"},n4={class:"col mb-12"},i4={for:"configuration",class:"form-label"},r4={style:{"text-transform":"lowercase",color:"#007bff !important"}},s4={class:"modal-footer"},PD=di({__name:"EditConfig",props:{configType:{type:String,required:!0},rulesFile:{type:String,required:!0},save_configuration:{type:Function,required:!0},Content:{type:String,required:!0},ContentType:{type:String,required:!0}},emits:["toast"],setup(t,{emit:e}){const n=t,i=Bt(n.Content),r=s=>{i.value=s};return(s,o)=>(Oe(),xe(Ot,null,[w("button",{type:"button",class:"btn btn-primary btn-sm",id:"add_rule","data-bs-toggle":"modal","data-bs-target":`#rule_modal_${n.configType}_0`},"Add Alert Rule",8,Yq),o[6]||(o[6]=Vt("  ")),w("button",{type:"button",class:"btn btn-warning btn-sm",id:"edit_configuration","data-bs-toggle":"modal","data-bs-target":`#edit_${n.configType}_config`},"Edit Configuration",8,Gq),w("div",{class:"modal fade",id:`edit_${n.configType}_config`,tabindex:"-1","aria-hidden":"true"},[w("div",Jq,[w("div",Zq,[o[5]||(o[5]=w("div",{class:"modal-header"},[w("h5",{class:"modal-title",id:"exampleModalLabel4"},"Edit Configuration"),w("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),w("div",e4,[w("div",t4,[w("div",n4,[w("label",i4,[o[2]||(o[2]=Vt("Configuration File: ")),w("span",r4,$e(t.rulesFile),1)]),o[3]||(o[3]=Vt("  ")),Et(RD,{"onUpdate:Content":r,ref:"codeMirrorRef",editorHeight:"600",Content:t.Content,ContentType:t.ContentType,onToast:o[0]||(o[0]=a=>s.$emit("toast",a))},null,8,["Content","ContentType"])])])]),w("div",s4,[o[4]||(o[4]=w("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Close",-1)),w("button",{type:"button",onClick:o[1]||(o[1]=Or(a=>t.save_configuration(n.configType,i.value,`edit_${n.configType}_config`),["prevent"])),class:"btn btn-primary"},"Save changes")])])])],8,Kq)],64))}}),o4=158,a4=159,l4=1,c4=2,u4=3,f4=4,h4=5,d4=6,p4=7,m4=8,g4=9,v4=10,b4=11,y4=12,O4=13,x4=14,w4=15,_4=16,S4=17,C4=18,T4=19,A4=20,k4=21,E4=22,D4=23,R4=24,P4=25,$4=26,M4=27,L4=28,N4={inf:o4,nan:a4,bool:l4,ignoring:c4,on:u4,group_left:f4,group_right:h4,offset:d4},o_=(t,e)=>N4[t.toLowerCase()]||-1,I4={avg:m4,atan2:p4,bottomk:g4,count:v4,count_values:b4,group:y4,max:O4,min:x4,quantile:w4,limitk:_4,limit_ratio:S4,stddev:C4,stdvar:T4,sum:A4,topk:k4,by:E4,without:D4,and:R4,or:P4,unless:$4,start:M4,end:L4},a_=(t,e)=>I4[t.toLowerCase()]||-1,F4=Ap({LineComment:W.comment,LabelName:W.labelName,StringLiteral:W.string,NumberDurationLiteral:W.number,NumberDurationLiteralInDurationContext:W.number,Identifier:W.variableName,"Abs Absent AbsentOverTime Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramAvg HistogramCount HistogramFraction HistogramQuantile HistogramSum DoubleExponentialSmoothing Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc SortByLabel SortByLabelDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Time Timestamp Vector Year":W.function(W.variableName),"Avg Bottomk Count Count_values Group LimitK LimitRatio Max Min Quantile Stddev Stdvar Sum Topk":W.operatorKeyword,"By Without Bool On Ignoring GroupLeft GroupRight Offset Start End":W.modifier,"And Unless Or":W.logicOperator,"Sub Add Mul Mod Div Atan2 Eql Neq Lte Lss Gte Gtr EqlRegex EqlSingle NeqRegex Pow At":W.operator,UnaryOp:W.arithmeticOperator,"( )":W.paren,"[ ]":W.squareBracket,"{ }":W.brace,"":W.invalid}),B4={__proto__:null,absent_over_time:335,absent:337,abs:339,acos:341,acosh:343,asin:345,asinh:347,atan:349,atanh:351,avg_over_time:353,ceil:355,changes:357,clamp:359,clamp_max:361,clamp_min:363,cos:365,cosh:367,count_over_time:369,days_in_month:371,day_of_month:373,day_of_week:375,day_of_year:377,deg:379,delta:381,deriv:383,exp:385,floor:387,histogram_count:389,histogram_fraction:391,histogram_quantile:393,histogram_stddev:395,histogram_stdvar:397,histogram_sum:399,histogram_avg:401,double_exponential_smoothing:403,hour:405,idelta:407,increase:409,info:411,irate:413,label_replace:415,label_join:417,last_over_time:419,ln:421,log10:423,log2:425,mad_over_time:427,max_over_time:429,min_over_time:431,minute:433,month:435,pi:437,predict_linear:439,present_over_time:441,quantile_over_time:443,rad:445,rate:447,resets:449,round:451,scalar:453,sgn:455,sin:457,sinh:459,sort:461,sort_desc:463,sort_by_label:465,sort_by_label_desc:467,sqrt:469,stddev_over_time:471,stdvar_over_time:473,sum_over_time:475,tan:477,tanh:479,timestamp:481,time:483,vector:485,year:487},H4=ql.deserialize({version:14,states:"9bOYQPOOO'tQPOOOOQO'#C|'#C|O'yQPO'#C{Q(UQQOOOOQO'#De'#DeO(PQPO'#DdOOQO'#FY'#FYO)cQPO'#F_OYQPO'#F[OYQPO'#F^O0WQSO'#FaO0cQQO'#F`OOQO'#F`'#F`OOQO'#Ft'#FtOOQO'#Df'#DfOOQO'#Dh'#DhOOQO'#Di'#DiOOQO'#Dj'#DjOOQO'#Dk'#DkOOQO'#Dl'#DlOOQO'#Dm'#DmOOQO'#Dn'#DnOOQO'#Do'#DoOOQO'#Dp'#DpOOQO'#Dq'#DqOOQO'#Dr'#DrOOQO'#Ds'#DsOOQO'#Dt'#DtOOQO'#Du'#DuOOQO'#Dv'#DvOOQO'#Dw'#DwOOQO'#Dx'#DxOOQO'#Dy'#DyOOQO'#Dz'#DzOOQO'#D{'#D{OOQO'#D|'#D|OOQO'#D}'#D}OOQO'#EO'#EOOOQO'#EP'#EPOOQO'#EQ'#EQOOQO'#ER'#EROOQO'#ES'#ESOOQO'#ET'#ETOOQO'#EU'#EUOOQO'#EV'#EVOOQO'#EW'#EWOOQO'#EX'#EXOOQO'#EY'#EYOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#E]'#E]OOQO'#E^'#E^OOQO'#E_'#E_OOQO'#E`'#E`OOQO'#Ea'#EaOOQO'#Eb'#EbOOQO'#Ec'#EcOOQO'#Ed'#EdOOQO'#Ee'#EeOOQO'#Ef'#EfOOQO'#Eg'#EgOOQO'#Eh'#EhOOQO'#Ei'#EiOOQO'#Ej'#EjOOQO'#Ek'#EkOOQO'#El'#ElOOQO'#Em'#EmOOQO'#En'#EnOOQO'#Eo'#EoOOQO'#Ep'#EpOOQO'#Eq'#EqOOQO'#Er'#ErOOQO'#Es'#EsOOQO'#Et'#EtOOQO'#Eu'#EuOOQO'#Ev'#EvOOQO'#Ew'#EwOOQO'#Ex'#ExOOQO'#Ey'#EyOOQO'#Ez'#EzOOQO'#E{'#E{OOQO'#E|'#E|OOQO'#E}'#E}OOQO'#FO'#FOOOQO'#FP'#FPOOQO'#FQ'#FQOOQO'#FR'#FROOQO'#FS'#FSOOQO'#FT'#FTOOQO'#FU'#FUOOQO'#FV'#FVQOQPOOO1|QPO'#C}O2RQPO'#DSO(PQPO,59gO2YQQO,59gO3vQPO,59oO3vQPO,59oO3vQPO,59oO3vQPO,59oO3vQPO,59oO:kQPO,5;rO:kQPO,5;uO:|QPO,5<SOOQO,5:O,5:OOOQO,5;t,5;tO;eQQO,5;vO;lQQO,5;xOOQO'#DQ'#DQO=SQPO'#FbO=bQPO,5;{OOQO,5;{,5;{O=nQPO,5;{OOQO,5;z,5;zO=vQSO'#DOOOQO,59i,59iOOQO,59n,59nO>RQQO,59nOOQO1G/R1G/ROOQO'#DV'#DVO1|QPO'#DWOOQO'#Fx'#FxO>]QPO'#FxOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOOQO'#FX'#FXOD}QPO'#FXOEYQSO1G1^OOQO1G1a1G1aOEbQPO'#FYOOQO'#Fj'#FjOOQO1G1n1G1nOEmQPO1G1nOOQO1G1b1G1bOOQO'#Fc'#FcOErQPO,5;|OEwQPO,5<ROE|QSO1G1gOFXQPO1G1gOOQO1G1g1G1gOOQO,59j,59jOFaQPO,59jOYQPO'#FmOFiQPO1G/YOOQO1G/Y1G/YOFqQPO,59rOOQO,5<d,5<dONmQQO7+$uON}QQO7+$uO!!cQQO7+$uO!!yQQO7+$uO!$bQQO7+$uOOQO,5;s,5;sOOQO7+&x7+&xO!${QPO7+&}O!%SQPO7+'YOOQO1G1h1G1hOOQO1G1m1G1mO!%XQPO,5<YOOQO,5<Y,5<YOOQO7+'R7+'RO!%mQSO7+'ROOQO-E9l-E9lO!%xQSO1G/UO!&TQPO1G/UOOQO1G/U1G/UO!&]QQO,5<XOOQO-E9k-E9kOOQO7+$t7+$tO!&gQPO1G/^OOQO<<Ji<<JiO!-RQPO<<JiOOQO<<Jt<<JtOOQO<<Jm<<JmP!-WQSO'#FnOOQO,5<W,5<WOOQO7+$p7+$pO!-`QSO7+$pOOQO-E9j-E9jOOQO7+$x7+$xOOQOAN@TAN@TOOQO<<H[<<H[P!-kQSO'#Fl",stateData:"!-s~O$gOSmOS~OWQOXQOYQOZQO[QO]QO^QO_QO`QOaQObQOcQOdQOeQOu^O!Z[O$dVO$eVO$iXO$m_O$n`O$oaO$pbO$qcO$rdO$seO$tfO$ugO$vhO$wiO$xjO$ykO$zlO${mO$|nO$}oO%OpO%PqO%QrO%RsO%StO%TuO%UvO%VwO%WxO%XyO%YzO%Z{O%[|O%]}O%^!OO%_!PO%`!QO%a!RO%b!SO%c!TO%d!UO%e!VO%f!WO%g!XO%h!YO%i!ZO%j![O%k!]O%l!^O%m!_O%n!`O%o!aO%p!bO%q!cO%r!dO%s!eO%t!fO%u!gO%v!hO%w!iO%x!jO%y!kO%z!lO%{!mO%|!nO%}!oO&O!pO&P!qO&Q!rO&R!sO&S!tO&T!uO&U!vO&V!wO&W!xO&X!yO&Y!zO&Z!{O&[!|O&]!}O&_WO&`WO&aVO&dZO~O!Z#OO~Of#POg#PO$i#QO~OU#ZOV#TOh#WOi#XOj#WOx#TO{#TO|#TO}#TO!O#UO!P#UO!Q#VO!R#VO!S#VO!T#VO!U#VO!V#VO$]#[O&^#YO~O$d#^O$e#^O&a#^OW$RXX$RXY$RXZ$RX[$RX]$RX^$RX_$RX`$RXa$RXb$RXc$RXd$RXe$RXu$RX!Z$RX$d$RX$e$RX$i$RX$m$RX$n$RX$o$RX$p$RX$q$RX$r$RX$s$RX$t$RX$u$RX$v$RX$w$RX$x$RX$y$RX$z$RX${$RX$|$RX$}$RX%O$RX%P$RX%Q$RX%R$RX%S$RX%T$RX%U$RX%V$RX%W$RX%X$RX%Y$RX%Z$RX%[$RX%]$RX%^$RX%_$RX%`$RX%a$RX%b$RX%c$RX%d$RX%e$RX%f$RX%g$RX%h$RX%i$RX%j$RX%k$RX%l$RX%m$RX%n$RX%o$RX%p$RX%q$RX%r$RX%s$RX%t$RX%u$RX%v$RX%w$RX%x$RX%y$RX%z$RX%{$RX%|$RX%}$RX&O$RX&P$RX&Q$RX&R$RX&S$RX&T$RX&U$RX&V$RX&W$RX&X$RX&Y$RX&Z$RX&[$RX&]$RX&_$RX&`$RX&a$RX&d$RX~Os#bOu#aO&e#dO~O&dZOU$SXV$SXh$SXi$SXj$SXx$SX{$SX|$SX}$SX!O$SX!P$SX!Q$SX!R$SX!S$SX!T$SX!U$SX!V$SX$]$SX$c$SX&^$SX$k$SX$j$SX~O$i#gO~O$k#iO~PYOf#POg#POUoaVoahoaioajoaxoa{oa|oa}oa!Ooa!Poa!Qoa!Roa!Soa!Toa!Uoa!Voa$]oa$coa&^oa$koa$joa~OP#lOQ#mOR#mOW$lPX$lPY$lPZ$lP[$lP]$lP^$lP_$lP`$lPa$lPb$lPc$lPd$lPe$lPu$lP!Z$lP$d$lP$e$lP$i$lP$m$lP$n$lP$o$lP$p$lP$q$lP$r$lP$s$lP$t$lP$u$lP$v$lP$w$lP$x$lP$y$lP$z$lP${$lP$|$lP$}$lP%O$lP%P$lP%Q$lP%R$lP%S$lP%T$lP%U$lP%V$lP%W$lP%X$lP%Y$lP%Z$lP%[$lP%]$lP%^$lP%_$lP%`$lP%a$lP%b$lP%c$lP%d$lP%e$lP%f$lP%g$lP%h$lP%i$lP%j$lP%k$lP%l$lP%m$lP%n$lP%o$lP%p$lP%q$lP%r$lP%s$lP%t$lP%u$lP%v$lP%w$lP%x$lP%y$lP%z$lP%{$lP%|$lP%}$lP&O$lP&P$lP&Q$lP&R$lP&S$lP&T$lP&U$lP&V$lP&W$lP&X$lP&Y$lP&Z$lP&[$lP&]$lP&_$lP&`$lP&a$lP&d$lP~O$d#uO$e#uO&_#vO&`#vO&a#uO~Ok#zOl#zO$dVO$eVO&_#yO&`#yO&aVO~O$k#}O~P(UOx#TOU$QaV$Qah$Qai$Qaj$Qa{$Qa|$Qa}$Qa!O$Qa!P$Qa!Q$Qa!R$Qa!S$Qa!T$Qa!U$Qa!V$Qa$]$Qa$c$Qa&^$Qa$k$Qa$j$Qa~O!V$OO$W$OO$X$OO$Y$OO~O!V$OO$W$OO$X$OO$Y$OO$j$RO&e$TO~Os$VOu#aO$k$UO~O$j$WO$k$YO~P(UOQ#mOR#mOW$lXX$lXY$lXZ$lX[$lX]$lX^$lX_$lX`$lXa$lXb$lXc$lXd$lXe$lXu$lX!Z$lX$d$lX$e$lX$i$lX$m$lX$n$lX$o$lX$p$lX$q$lX$r$lX$s$lX$t$lX$u$lX$v$lX$w$lX$x$lX$y$lX$z$lX${$lX$|$lX$}$lX%O$lX%P$lX%Q$lX%R$lX%S$lX%T$lX%U$lX%V$lX%W$lX%X$lX%Y$lX%Z$lX%[$lX%]$lX%^$lX%_$lX%`$lX%a$lX%b$lX%c$lX%d$lX%e$lX%f$lX%g$lX%h$lX%i$lX%j$lX%k$lX%l$lX%m$lX%n$lX%o$lX%p$lX%q$lX%r$lX%s$lX%t$lX%u$lX%v$lX%w$lX%x$lX%y$lX%z$lX%{$lX%|$lX%}$lX&O$lX&P$lX&Q$lX&R$lX&S$lX&T$lX&U$lX&V$lX&W$lX&X$lX&Y$lX&Z$lX&[$lX&]$lX&_$lX&`$lX&a$lX&d$lX~O$d$bO$e$bO&a$bO~O&b$cO&c$dO~O$d#^O$e#^O&a#^O~O$i$eO~Ou$fO~Ou$gO~Os#bOu#aO&e$jO~O$j$kO&e$jO~O$j$mO$k$oO~O$j$WO$k$rO~OS$sOT$sOWzaXzaYzaZza[za]za^za_za`zaazabzaczadzaezauza!Zza$dza$eza$iza$mza$nza$oza$pza$qza$rza$sza$tza$uza$vza$wza$xza$yza$zza${za$|za$}za%Oza%Pza%Qza%Rza%Sza%Tza%Uza%Vza%Wza%Xza%Yza%Zza%[za%]za%^za%_za%`za%aza%bza%cza%dza%eza%fza%gza%hza%iza%jza%kza%lza%mza%nza%oza%pza%qza%rza%sza%tza%uza%vza%wza%xza%yza%zza%{za%|za%}za&Oza&Pza&Qza&Rza&Sza&Tza&Uza&Vza&Wza&Xza&Yza&Zza&[za&]za&_za&`za&aza&dza~Ox#TOUwqhwqiwqjwq!Owq!Pwq!Qwq!Rwq!Swq!Twq!Uwq!Vwq$]wq$cwq&^wq$kwq$jwq~OVwq{wq|wq}wq~PMcOV#TO{#TO|#TO}#TO~PMcOV#TOx#TO{#TO|#TO}#TO!O#UO!P#UOUwqhwqiwqjwq$]wq$cwq&^wq$kwq$jwq~O!Qwq!Rwq!Swq!Twq!Uwq!Vwq~P! _O!Q#VO!R#VO!S#VO!T#VO!U#VO!V#VO~P! _OV#TOh#WOj#WOx#TO{#TO|#TO}#TO!O#UO!P#UO!Q#VO!R#VO!S#VO!T#VO!U#VO!V#VO~OUwqiwq$]wq$cwq&^wq$kwq$jwq~P!#aO&b$tO~P:kO$k$vO~O!V$OO$W$OO$X$OO$Y$OO$j$ba&e$ba~Os#bOu#aO&e$wO~Os$yOu#aO$k$zO~O$j${O$k$zO~O$j$aa$k$aa~P(UO$i#gOWziXziYziZzi[zi]zi^zi_zi`ziazibziczidzieziuzi!Zzi$dzi$ezi$mzi$nzi$ozi$pzi$qzi$rzi$szi$tzi$uzi$vzi$wzi$xzi$yzi$zzi${zi$|zi$}zi%Ozi%Pzi%Qzi%Rzi%Szi%Tzi%Uzi%Vzi%Wzi%Xzi%Yzi%Zzi%[zi%]zi%^zi%_zi%`zi%azi%bzi%czi%dzi%ezi%fzi%gzi%hzi%izi%jzi%kzi%lzi%mzi%nzi%ozi%pzi%qzi%rzi%szi%tzi%uzi%vzi%wzi%xzi%yzi%zzi%{zi%|zi%}zi&Ozi&Pzi&Qzi&Rzi&Szi&Tzi&Uzi&Vzi&Wzi&Xzi&Yzi&Zzi&[zi&]zi&_zi&`zi&azi&dzi~O&b%OO~Os#bOu#aO~Os$yOu#aO$k%PO~Os$yOu#aO~O",goto:")v$mPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP$n$z%W%^P%gP%w$nP&Q&XPPPPPPPPPPP$n&c&oP&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o$n&{'U$n$n$n$n'e$n'q(Q(YPPP(Q$nP(aP(d(j(pPPPPP(wPPP)ge^OXY#Q#p#q#r#s#t$WeROXY#Q#p#q#r#s#t$WQ#RRR#k#SQ#h#PQ$Z#mR$}$sQ#cZQ$V#gU$h$R$k$xV$y$m${%QQ#SRQ#]UR#k#RZ#o#T#U#V#W#XY#n#T#U#V#W#XR$[#oeUOXY#Q#p#q#r#s#t$WeTOXY#Q#p#q#r#s#t$WQ#w#YQ#x#ZR$u$dd^OXY#Q#p#q#r#s#t$WR#{#[eYOXY#Q#p#q#r#s#t$Wd]OXY#Q#p#q#r#s#t$WR#f[Q#eZV$i$R$k$xQ$P#bT$Q#c$hR#|#[Q$n$VR$|$nQ$X#jR$q$XS$S#c#eR$l$SQSOQ#_XQ#`YQ#j#QQ$]#pQ$^#qQ$_#rQ$`#sQ$a#tR$p$WQ#p#TQ#q#UQ#r#VQ#s#WR#t#X",nodeNames:" Bool Ignoring On GroupLeft GroupRight Offset Atan2 Avg Bottomk Count CountValues Group Max Min Quantile LimitK LimitRatio Stddev Stdvar Sum Topk By Without And Or Unless Start End LineComment PromQL AggregateExpr AggregateOp AggregateModifier GroupingLabels LabelName QuotedLabelName StringLiteral FunctionCallBody BinaryExpr Pow BoolModifier MatchingModifierClause Mul Div Mod Add Sub Eql Gte Gtr Lte Lss Neq FunctionCall FunctionIdentifier AbsentOverTime Identifier Absent Abs Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramCount HistogramFraction HistogramQuantile HistogramStdDev HistogramStdVar HistogramSum HistogramAvg DoubleExponentialSmoothing Hour Idelta Increase Info Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MadOverTime MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc SortByLabel SortByLabelDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Timestamp Time Vector Year MatrixSelector NumberDurationLiteralInDurationContext NumberDurationLiteral OffsetExpr ParenExpr SubqueryExpr UnaryExpr UnaryOp VectorSelector LabelMatchers UnquotedLabelMatcher MatchOp EqlSingle EqlRegex NeqRegex QuotedLabelMatcher StepInvariantExpr At AtModifierPreprocessors MetricName",maxTerm:251,nodeProps:[["group",-12,31,37,39,54,134,136,137,138,139,140,142,150,"Expr"]],propSources:[F4],skippedNodes:[0,29],repeatNodeCount:3,tokenData:"4k~RwX^#lpq#lqr$ars$tst&luv'Twx'Yxy({yz)Qz{)V{|)[|})c}!O)h!O!P)o!P!Q*u!Q!R*z!R![+u![!]1O!^!_1z!_!`2X!`!a2n!b!c2{!c!}3Q!}#O3h#P#Q3m#Q#R3r#R#S3Q#S#T3w#T#o3Q#o#p4a#q#r4f#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~#qY$g~X^#lpq#l#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~$dQ!_!`$j#r#s$o~$oO!V~~$tO$Y~~$yWu~OY$tZr$trs%cs#O$t#O#P%h#P;'S$t;'S;=`&f<%lO$t~%hOu~~%kRO;'S$t;'S;=`%t;=`O$t~%yXu~OY$tZr$trs%cs#O$t#O#P%h#P;'S$t;'S;=`&f;=`<%l$t<%lO$t~&iP;=`<%l$t~&qSm~OY&lZ;'S&l;'S;=`&}<%lO&l~'QP;=`<%l&l~'YO}~~'_Wu~OY'YZw'Ywx%cx#O'Y#O#P'w#P;'S'Y;'S;=`(u<%lO'Y~'zRO;'S'Y;'S;=`(T;=`O'Y~(YXu~OY'YZw'Ywx%cx#O'Y#O#P'w#P;'S'Y;'S;=`(u;=`<%l'Y<%lO'Y~(xP;=`<%l'Y~)QO$i~~)VO$k~~)[O{~R)cO&`P!OQ~)hO$j~R)oO&_P!PQ~)rP!Q![)u~)zS&a~!Q![)u!g!h*W#R#S)o#X#Y*W~*ZR{|*d}!O*d!Q![*j~*gP!Q![*j~*oQ&a~!Q![*j#R#S*d~*zO|~~+P[&a~!O!P)o!Q![+u!g!h*W#R#S,m#W#X-X#X#Y*W#[#]-p#a#b.U#g#h.x#k#l/Z#l#m0d#m#n/u~+zZ&a~!O!P)o!Q![+u!g!h*W#R#S,m#W#X-X#X#Y*W#[#]-p#a#b.U#g#h.x#k#l/Z#m#n/u~,pP!Q![,s~,xT&a~!O!P)o!Q![,s!g!h*W#R#S,m#X#Y*W~-^P&a~!Q![-a~-dS!Q![-a#[#]-p#a#b.U#g#h.x~-uP&a~!Q![-x~-{R!Q![-x#a#b.U#g#h.x~.ZQ&a~!Q![.a#g#h.s~.dR!Q![.a#a#b.m#g#h.x~.pP#g#h.s~.xO&a~~.}P&a~!Q![/Q~/TQ!Q![/Q#a#b.m~/`P&a~!Q![/c~/fT!Q![/c#W#X-X#[#]-p#a#b.U#g#h.x~/zP&a~!Q![/}~0QU!Q![/}#W#X-X#[#]-p#a#b.U#g#h.x#k#l/Z~0gR!Q![0p!c!i0p#T#Z0p~0uR&a~!Q![0p!c!i0p#T#Z0pV1VT&cS!ZR!Q![1f![!]1f!c!}1f#R#S1f#T#o1fR1kT!ZR!Q![1f![!]1f!c!}1f#R#S1f#T#o1f~2PP!U~!_!`2S~2XO!T~~2^Q$WP!_!`2d#r#s2iQ2iO!QQ~2nO$X~~2sP!S~!_!`2v~2{O!R~~3QO$]~V3XT!ZRsS!Q![3Q![!]1f!c!}3Q#R#S3Q#T#o3Q~3mO&^~~3rO&b~~3wOx~~3zTO#S3w#S#T%c#T;'S3w;'S;=`4Z<%lO3w~4^P;=`<%l3w~4fO&d~~4kO&e~",tokenizers:[0,1,2],topRules:{PromQL:[0,30],MetricName:[1,153]},specialized:[{term:57,get:(t,e)=>o_(t)<<1,external:o_},{term:57,get:(t,e)=>a_(t)<<1|1,external:a_,extend:!0},{term:57,get:t=>B4[t]||-1}],tokenPrec:0}),j4=3,V4=4,Q4=5,$D=9,MD=11,z4=15,LD=16,ND=17,ID=21,w0=24,_0=25,S0=26,W4=30,Fp=31,q4=32,cu=34,ju=35,Vu=36,Qu=37,ma=38,wl=39,X4=40,FD=41,U4=42,Y4=43,G4=44,K4=45,J4=46,Z4=47,wb=48,_b=49,Sb=50,Cb=51,Tb=52,zu=53,BD=54,eX=56,Id=57,tX=58,nX=59,iX=60,rX=61,sX=62,oX=63,aX=64,lX=65,cX=66,uX=67,fX=68,hX=69,dX=70,pX=71,mX=72,gX=73,vX=74,bX=75,yX=76,OX=77,xX=78,wX=79,_X=80,SX=81,CX=82,TX=83,AX=84,kX=85,EX=86,DX=87,RX=88,PX=89,$X=90,MX=91,LX=92,NX=93,IX=94,FX=95,BX=96,HX=97,jX=98,VX=99,QX=100,zX=101,WX=102,qX=103,XX=104,UX=105,YX=106,GX=107,KX=108,JX=109,ZX=110,eU=111,tU=112,nU=113,iU=114,rU=115,sU=116,oU=117,aU=118,lU=119,cU=120,uU=121,fU=122,hU=123,dU=124,pU=125,mU=126,gU=127,vU=128,bU=129,yU=130,OU=131,xU=132,wU=133,Wu=134,Fd=135,C0=136,qu=137,HD=138,Yl=139,jD=140,vf=142,uu=143,na=144,Bd=145,bf=146,VD=147,QD=148,_l=149,T0=150;var H;(function(t){t.none="none",t.vector="vector",t.scalar="scalar",t.matrix="matrix",t.string="string"})(H||(H={}));const _U={[nX]:{name:"abs",argTypes:[H.vector],variadic:0,returnType:H.vector},[tX]:{name:"absent",argTypes:[H.vector],variadic:0,returnType:H.vector},[eX]:{name:"absent_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[iX]:{name:"acos",argTypes:[H.vector],variadic:0,returnType:H.vector},[rX]:{name:"acosh",argTypes:[H.vector],variadic:0,returnType:H.vector},[sX]:{name:"asin",argTypes:[H.vector],variadic:0,returnType:H.vector},[oX]:{name:"asinh",argTypes:[H.vector],variadic:0,returnType:H.vector},[aX]:{name:"atan",argTypes:[H.vector],variadic:0,returnType:H.vector},[lX]:{name:"atanh",argTypes:[H.vector],variadic:0,returnType:H.vector},[cX]:{name:"avg_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[uX]:{name:"ceil",argTypes:[H.vector],variadic:0,returnType:H.vector},[fX]:{name:"changes",argTypes:[H.matrix],variadic:0,returnType:H.vector},[hX]:{name:"clamp",argTypes:[H.vector,H.scalar,H.scalar],variadic:0,returnType:H.vector},[dX]:{name:"clamp_max",argTypes:[H.vector,H.scalar],variadic:0,returnType:H.vector},[pX]:{name:"clamp_min",argTypes:[H.vector,H.scalar],variadic:0,returnType:H.vector},[mX]:{name:"cos",argTypes:[H.vector],variadic:0,returnType:H.vector},[gX]:{name:"Cosh",argTypes:[H.vector],variadic:0,returnType:H.vector},[vX]:{name:"count_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[bX]:{name:"days_in_month",argTypes:[H.vector],variadic:1,returnType:H.vector},[yX]:{name:"day_of_month",argTypes:[H.vector],variadic:1,returnType:H.vector},[OX]:{name:"day_of_week",argTypes:[H.vector],variadic:1,returnType:H.vector},[xX]:{name:"day_of_year",argTypes:[H.vector],variadic:1,returnType:H.vector},[wX]:{name:"deg",argTypes:[H.vector],variadic:0,returnType:H.vector},[_X]:{name:"delta",argTypes:[H.matrix],variadic:0,returnType:H.vector},[SX]:{name:"deriv",argTypes:[H.matrix],variadic:0,returnType:H.vector},[CX]:{name:"exp",argTypes:[H.vector],variadic:0,returnType:H.vector},[TX]:{name:"floor",argTypes:[H.vector],variadic:0,returnType:H.vector},[$X]:{name:"histogram_avg",argTypes:[H.vector],variadic:0,returnType:H.vector},[AX]:{name:"histogram_count",argTypes:[H.vector],variadic:0,returnType:H.vector},[kX]:{name:"histogram_fraction",argTypes:[H.scalar,H.scalar,H.vector],variadic:0,returnType:H.vector},[EX]:{name:"histogram_quantile",argTypes:[H.scalar,H.vector],variadic:0,returnType:H.vector},[DX]:{name:"histogram_stddev",argTypes:[H.vector],variadic:0,returnType:H.vector},[RX]:{name:"histogram_stdvar",argTypes:[H.vector],variadic:0,returnType:H.vector},[PX]:{name:"histogram_sum",argTypes:[H.vector],variadic:0,returnType:H.vector},[MX]:{name:"double_exponential_smoothing",argTypes:[H.matrix,H.scalar,H.scalar],variadic:0,returnType:H.vector},[LX]:{name:"hour",argTypes:[H.vector],variadic:1,returnType:H.vector},[NX]:{name:"idelta",argTypes:[H.matrix],variadic:0,returnType:H.vector},[IX]:{name:"increase",argTypes:[H.matrix],variadic:0,returnType:H.vector},[FX]:{name:"info",argTypes:[H.vector,H.vector],variadic:1,returnType:H.vector},[BX]:{name:"irate",argTypes:[H.matrix],variadic:0,returnType:H.vector},[HX]:{name:"label_replace",argTypes:[H.vector,H.string,H.string,H.string,H.string],variadic:0,returnType:H.vector},[jX]:{name:"label_join",argTypes:[H.vector,H.string,H.string,H.string],variadic:-1,returnType:H.vector},[VX]:{name:"last_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[QX]:{name:"ln",argTypes:[H.vector],variadic:0,returnType:H.vector},[zX]:{name:"log10",argTypes:[H.vector],variadic:0,returnType:H.vector},[WX]:{name:"log2",argTypes:[H.vector],variadic:0,returnType:H.vector},[qX]:{name:"mad_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[XX]:{name:"max_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[UX]:{name:"min_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[YX]:{name:"minute",argTypes:[H.vector],variadic:1,returnType:H.vector},[GX]:{name:"month",argTypes:[H.vector],variadic:1,returnType:H.vector},[KX]:{name:"pi",argTypes:[],variadic:0,returnType:H.vector},[JX]:{name:"predict_linear",argTypes:[H.matrix,H.scalar],variadic:0,returnType:H.vector},[ZX]:{name:"present_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[eU]:{name:"quantile_over_time",argTypes:[H.scalar,H.matrix],variadic:0,returnType:H.vector},[tU]:{name:"rad",argTypes:[H.vector],variadic:0,returnType:H.vector},[nU]:{name:"rate",argTypes:[H.matrix],variadic:0,returnType:H.vector},[iU]:{name:"resets",argTypes:[H.matrix],variadic:0,returnType:H.vector},[rU]:{name:"round",argTypes:[H.vector,H.scalar],variadic:1,returnType:H.vector},[sU]:{name:"scalar",argTypes:[H.vector],variadic:0,returnType:H.scalar},[oU]:{name:"sgn",argTypes:[H.vector],variadic:0,returnType:H.vector},[aU]:{name:"sin",argTypes:[H.vector],variadic:0,returnType:H.vector},[lU]:{name:"Sinh",argTypes:[H.vector],variadic:0,returnType:H.vector},[cU]:{name:"sort",argTypes:[H.vector],variadic:0,returnType:H.vector},[uU]:{name:"sort_desc",argTypes:[H.vector],variadic:0,returnType:H.vector},[fU]:{name:"sort_by_label",argTypes:[H.vector,H.string],variadic:-1,returnType:H.vector},[hU]:{name:"sort_by_label_desc",argTypes:[H.vector,H.string],variadic:-1,returnType:H.vector},[dU]:{name:"sqrt",argTypes:[H.vector],variadic:0,returnType:H.vector},[pU]:{name:"stddev_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[mU]:{name:"stdvar_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[gU]:{name:"sum_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[vU]:{name:"tan",argTypes:[H.vector],variadic:0,returnType:H.vector},[bU]:{name:"tanh",argTypes:[H.vector],variadic:0,returnType:H.vector},[OU]:{name:"time",argTypes:[],variadic:0,returnType:H.scalar},[yU]:{name:"timestamp",argTypes:[H.vector],variadic:0,returnType:H.vector},[xU]:{name:"vector",argTypes:[H.scalar],variadic:0,returnType:H.vector},[wU]:{name:"year",argTypes:[H.vector],variadic:1,returnType:H.vector}};function zD(t){return _U[t]}class WD{constructor(e,n,i){this.type=e,this.name=n,this.value=i}matchesEmpty(){switch(this.type){case bf:return this.value==="";case zu:return this.value!=="";default:return!1}}}var Ur;(function(t){t.CardOneToOne="one-to-one",t.CardManyToOne="many-to-one",t.CardOneToMany="one-to-many",t.CardManyToMany="many-to-many"})(Ur||(Ur={}));function SU(t,e){const n=new WD(0,"",""),i=t.cursor();switch(i.type.id){case _l:if(!i.next())return n;do switch(i.type.id){case Vu:n.name=e.sliceDoc(i.from,i.to).slice(1,-1);break;case Bd:const r=i.node.firstChild;r&&(n.type=r.type.id);break;case Qu:n.value=e.sliceDoc(i.from,i.to).slice(1,-1);break}while(i.nextSibling());break;case na:if(!i.next())return n;do switch(i.type.id){case ju:n.name=e.sliceDoc(i.from,i.to);break;case Bd:const r=i.node.firstChild;r&&(n.type=r.type.id);break;case Qu:n.value=e.sliceDoc(i.from,i.to).slice(1,-1);break}while(i.nextSibling());break;case Vu:n.name="__name__",n.value=e.sliceDoc(i.from,i.to).slice(1,-1),n.type=bf;break}return n}function qD(t,e){const n=[];return t.forEach(i=>{n.push(SU(i,e))}),n}function CU(t,e,n){if(!e||e.length===0)return t;let i="";for(const r of e){if(r.name===n||r.value==="")continue;let s="";switch(r.type){case bf:s="=";break;case zu:s="!=";break;case QD:s="!~";break;case VD:s="=~";break;default:s="="}const o=`${r.name}${s}"${r.value}"`;i===""?i=o:i=`${i},${o}`}return`${t}{${i}}`}function A0(t,e){for(;;){if(!t||t.type.id===e)return t;t=t.parent}return null}function uo(t,...e){const n=t.cursor();if(!n.next())return!1;let i=!1;do i=e.some(r=>n.type.id===r||n.type.name===r);while(!i&&n.nextSibling());return i}function l_(t,...e){const n=t.cursor();if(!n.next())return!1;let i=0;do n.type.is(e[i])&&i++;while(i<e.length&&n.nextSibling());return i>=e.length}function Xo(t){var e;if(!t)return H.none;switch(t.type.id){case Fp:return H.vector;case vf:return H.vector;case qu:return Xo(t.firstChild);case Qu:return H.string;case C0:return H.scalar;case Wu:return H.matrix;case Yl:return H.matrix;case HD:return Xo(t.getChild("Expr"));case jD:return Xo(t.getChild("Expr"));case wl:const n=Xo(t.firstChild),i=Xo(t.lastChild);return n===H.scalar&&i===H.scalar?H.scalar:H.vector;case BD:const r=(e=t.firstChild)===null||e===void 0?void 0:e.firstChild;return r?zD(r.type.id).returnType:H.none;case T0:return Xo(t.getChild("Expr"));default:return H.none}}function TU(t,e){if(!e||e.type.id!==wl)return null;const n={card:Ur.CardOneToOne,matchingLabels:[],on:!1,include:[]},i=e.getChild(U4);if(i){n.on=i.getChild(j4)!==null;const s=i.getChild(cu),o=s?s.getChildren(ju):[];for(const u of o)n.matchingLabels.push(t.sliceDoc(u.from,u.to));const a=i.getChild(V4),l=i.getChild(Q4),c=a||l;if(c){n.card=a?Ur.CardManyToOne:Ur.CardOneToMany;const u=c.nextSibling,f=(u==null?void 0:u.getChildren(ju))||[];for(const d of f)n.include.push(t.sliceDoc(d.from,d.to))}}return uo(e,w0,_0,S0)&&n.card===Ur.CardOneToOne&&(n.card=Ur.CardManyToMany),n}class AU{constructor(e){this.tree=Tn(e),this.state=e,this.diagnostics=[]}getDiagnostics(){return this.diagnostics.sort((e,n)=>e.from-n.from)}analyze(){this.checkAST(this.tree.topNode.firstChild),this.diagnoseAllErrorNodes()}diagnoseAllErrorNodes(){const e=this.tree.cursor();for(;e.next();)if(e.type.id===0&&e.to!==this.tree.topNode.to){const n=e.node.parent;this.diagnostics.push({severity:"error",message:"unexpected expression",from:n?n.from:e.from,to:n?n.to:e.to})}}checkAST(e){if(!e)return H.none;switch(e.type.id){case Fp:this.checkAggregationExpr(e);break;case wl:this.checkBinaryExpr(e);break;case BD:this.checkCallFunction(e);break;case HD:this.checkAST(e.getChild("Expr"));break;case jD:const n=this.checkAST(e.getChild("Expr"));n!==H.scalar&&n!==H.vector&&this.addDiagnostic(e,`unary expression only allowed on expressions of type scalar or instant vector, got ${n}`);break;case Yl:const i=this.checkAST(e.getChild("Expr"));i!==H.vector&&this.addDiagnostic(e,`subquery is only allowed on instant vector, got ${i} in ${e.name} instead`);break;case Wu:this.checkAST(e.getChild("Expr"));break;case vf:this.checkVectorSelector(e);break;case T0:const r=this.checkAST(e.getChild("Expr"));r!==H.vector&&r!==H.matrix&&this.addDiagnostic(e,"@ modifier must be preceded by an instant selector vector or range vector selector or a subquery");break}return Xo(e)}checkAggregationExpr(e){var n;const i=(n=e.firstChild)===null||n===void 0?void 0:n.firstChild;if(!i){this.addDiagnostic(e,"aggregation operator expected in aggregation expression but got nothing");return}const r=e.getChild(ma),s=r?r.getChildren("Expr"):[];if(!s.length){this.addDiagnostic(e,"unable to find the parameter for the expression");return}this.expectType(s[s.length-1],H.vector,"aggregation expression"),(i.type.id===ID||i.type.id===$D||i.type.id===LD||i.type.id===ND||i.type.id===z4)&&this.expectType(s[0],H.scalar,"aggregation parameter"),i.type.id===MD&&this.expectType(s[0],H.string,"aggregation parameter")}checkBinaryExpr(e){const n=e.firstChild,i=e.lastChild;if(!n||!i){this.addDiagnostic(e,"left or right expression is missing in binary expression");return}const r=this.checkAST(n),s=this.checkAST(i),o=e.getChild(FD),a=uo(e,wb,zu,Cb,Tb,_b,Sb),l=uo(e,w0,_0,S0);o?a||this.addDiagnostic(e,"bool modifier can only be used on comparison operators"):a&&r===H.scalar&&s===H.scalar&&this.addDiagnostic(e,"comparisons between scalars must use BOOL modifier");const c=TU(this.state,e);if(c!==null&&c.on)for(const u of c.matchingLabels)for(const f of c.include)u===f&&this.addDiagnostic(e,`label "${u}" must not occur in ON and GROUP clause at once`);r!==H.scalar&&r!==H.vector&&this.addDiagnostic(n,"binary expression must contain only scalar and instant vector types"),s!==H.scalar&&s!==H.vector&&this.addDiagnostic(i,"binary expression must contain only scalar and instant vector types"),(r!==H.vector||s!==H.vector)&&c!==null?c.matchingLabels.length>0&&this.addDiagnostic(e,"vector matching only allowed between instant vectors"):l&&(((c==null?void 0:c.card)===Ur.CardOneToMany||(c==null?void 0:c.card)===Ur.CardManyToOne)&&this.addDiagnostic(e,"no grouping allowed for set operations"),(c==null?void 0:c.card)!==Ur.CardManyToMany&&this.addDiagnostic(e,"set operations must always be many-to-many")),(r===H.scalar||s===H.scalar)&&l&&this.addDiagnostic(e,"set operator not allowed in binary scalar expression")}checkCallFunction(e){var n;const i=(n=e.firstChild)===null||n===void 0?void 0:n.firstChild;if(!i){this.addDiagnostic(e,"function not defined");return}const r=e.getChild(ma),s=r?r.getChildren("Expr"):[],o=zD(i.type.id),a=o.argTypes.length;if(o.variadic===0)s.length!==a&&this.addDiagnostic(e,`expected ${a} argument(s) in call to "${o.name}", got ${s.length}`);else{const c=a-1;if(c>s.length)this.addDiagnostic(e,`expected at least ${c} argument(s) in call to "${o.name}", got ${s.length}`);else{const u=c+o.variadic;o.variadic>0&&u<s.length&&this.addDiagnostic(e,`expected at most ${u} argument(s) in call to "${o.name}", got ${s.length}`)}}o.name==="info"&&s.length>1&&s[1].getChild(Id)&&this.addDiagnostic(e,`expected label selectors as the second argument to "info" function, got ${s[1].type}`);let l=0;for(let c=0;c<s.length;c++){if(l=c,l>=o.argTypes.length){if(o.variadic===0)break;l=o.argTypes.length-1}this.expectType(s[c],o.argTypes[l],`call to function "${o.name}"`)}}checkVectorSelector(e){const n=e.getChild(uu),i=[Vu,_l,na];let r=[];for(const l of i)r=r.concat(qD(n?n.getChildren(l):[],this.state));let s="";const o=e.getChild(Id);if(o&&(s=this.state.sliceDoc(o.from,o.to)),s!==""){const l=r.find(c=>c.name==="__name__");l&&this.addDiagnostic(e,`metric name must not be set twice: ${s} or ${l.value}`),r.push(new WD(bf,"__name__",s))}else{const l=r.filter(c=>c.name==="__name__");l.length>1&&this.addDiagnostic(e,`metric name must not be set twice: ${l[0].value} or ${l[1].value}`)}r.every(l=>l.matchesEmpty())&&this.addDiagnostic(e,"vector selector must contain at least one non-empty matcher")}expectType(e,n,i){const r=this.checkAST(e);r!==n&&this.addDiagnostic(e,`expected type ${n} in ${i}, got ${r}`)}addDiagnostic(e,n){this.diagnostics.push({severity:"error",message:n,from:e.from,to:e.to})}}const XD=[{label:"y"},{label:"w"},{label:"d"},{label:"h"},{label:"m"},{label:"s"},{label:"ms"}],kU=[{label:"="},{label:"!="},{label:"=~"},{label:"!~"}],UD=[{label:"^"},{label:"*"},{label:"/"},{label:"%"},{label:"+"},{label:"-"},{label:"=="},{label:">="},{label:">"},{label:"<"},{label:"<="},{label:"!="},{label:"atan2"},{label:"and"},{label:"or"},{label:"unless"}],EU=[{label:"on",info:"Match only on specified labels",type:"keyword"},{label:"ignoring",info:"Ignore specified labels for matching",type:"keyword"},{label:"group_left",info:"Allow many-to-one matching",type:"keyword"},{label:"group_right",info:"Allow one-to-many matching",type:"keyword"}],DU=[{label:"start()",info:"resolve to the start of the query",type:"keyword"},{label:"end()",info:"resolve to the end of the query",type:"keyword"}],RU=[{label:"abs",detail:"function",info:"Return absolute values of input series",type:"function"},{label:"absent",detail:"function",info:"Determine whether input vector is empty",type:"function"},{label:"absent_over_time",detail:"function",info:"Determine whether input range vector is empty",type:"function"},{label:"acos",detail:"function",info:"Calculate the arccosine, in radians, for input series",type:"function"},{label:"acosh",detail:"function",info:"Calculate the inverse hyperbolic cosine, in radians, for input series",type:"function"},{label:"asin",detail:"function",info:"Calculate the arcsine, in radians, for input series",type:"function"},{label:"asinh",detail:"function",info:"Calculate the inverse hyperbolic sine, in radians, for input series",type:"function"},{label:"atan",detail:"function",info:"Calculate the arctangent, in radians, for input series",type:"function"},{label:"atanh",detail:"function",info:"Calculate the inverse hyperbolic tangent, in radians, for input series",type:"function"},{label:"avg_over_time",detail:"function",info:"Average series values over time",type:"function"},{label:"ceil",detail:"function",info:"Round up values of input series to nearest integer",type:"function"},{label:"changes",detail:"function",info:"Return number of value changes in input series over time",type:"function"},{label:"clamp",detail:"function",info:"Limit the value of input series between a minimum and a maximum",type:"function"},{label:"clamp_max",detail:"function",info:"Limit the value of input series to a maximum",type:"function"},{label:"clamp_min",detail:"function",info:"Limit the value of input series to a minimum",type:"function"},{label:"cos",detail:"function",info:"Calculate the cosine, in radians, for input series",type:"function",boost:-1},{label:"cosh",detail:"function",info:"Calculate the hyperbolic cosine, in radians, for input series",type:"function",boost:-1},{label:"count_over_time",detail:"function",info:"Count the number of values for each input series",type:"function"},{label:"days_in_month",detail:"function",info:"Return the number of days in current month for provided timestamps",type:"function"},{label:"day_of_month",detail:"function",info:"Return the day of the month for provided timestamps",type:"function"},{label:"day_of_week",detail:"function",info:"Return the day of the week for provided timestamps",type:"function"},{label:"day_of_year",detail:"function",info:"Return the day of the year for provided timestamps",type:"function"},{label:"deg",detail:"function",info:"Convert radians to degrees for input series",type:"function",boost:-1},{label:"delta",detail:"function",info:"Calculate the difference between beginning and end of a range vector (for gauges)",type:"function"},{label:"deriv",detail:"function",info:"Calculate the per-second derivative over series in a range vector (for gauges)",type:"function"},{label:"exp",detail:"function",info:"Calculate exponential function for input vector values",type:"function"},{label:"floor",detail:"function",info:"Round down values of input series to nearest integer",type:"function"},{label:"histogram_avg",detail:"function",info:"Return the average of observations from a native histogram (experimental feature)",type:"function"},{label:"histogram_count",detail:"function",info:"Return the count of observations from a native histogram (experimental feature)",type:"function"},{label:"histogram_fraction",detail:"function",info:"Calculate fractions of observations within an interval from a native histogram (experimental feature)",type:"function"},{label:"histogram_quantile",detail:"function",info:"Calculate quantiles from native histograms (experimental) and from conventional histogram buckets",type:"function"},{label:"histogram_sum",detail:"function",info:"Return the sum of observations from a native histogram (experimental feature)",type:"function"},{label:"histogram_stddev",detail:"function",info:"Estimate the standard deviation of observations from a native histogram (experimental feature)",type:"function"},{label:"histogram_stdvar",detail:"function",info:"Estimate the standard variance of observations from a native histogram (experimental feature)",type:"function"},{label:"double_exponential_smoothing",detail:"function",info:"Calculate smoothed value of input series",type:"function"},{label:"hour",detail:"function",info:"Return the hour of the day for provided timestamps",type:"function"},{label:"idelta",detail:"function",info:"Calculate the difference between the last two samples of a range vector (for counters)",type:"function"},{label:"increase",detail:"function",info:"Calculate the increase in value over a range of time (for counters)",type:"function"},{label:"info",detail:"function",info:"Add data labels from corresponding info metrics",type:"function"},{label:"irate",detail:"function",info:"Calculate the per-second increase over the last two samples of a range vector (for counters)",type:"function"},{label:"label_replace",detail:"function",info:"Set or replace label values",type:"function"},{label:"label_join",detail:"function",info:"Join together label values into new label",type:"function"},{label:"last_over_time",detail:"function",info:"The most recent point value in specified interval.",type:"function"},{label:"ln",detail:"function",info:"Calculate natural logarithm of input series",type:"function"},{label:"log10",detail:"function",info:"Calulcate base-10 logarithm of input series",type:"function"},{label:"log2",detail:"function",info:"Calculate base-2 logarithm of input series",type:"function"},{label:"mad_over_time",detail:"function",info:"Return the median absolute deviation over time for input series",type:"function"},{label:"max_over_time",detail:"function",info:"Return the maximum value over time for input series",type:"function"},{label:"min_over_time",detail:"function",info:"Return the minimum value over time for input series",type:"function"},{label:"minute",detail:"function",info:"Return the minute of the hour for provided timestamps",type:"function"},{label:"month",detail:"function",info:"Return the month for provided timestamps",type:"function"},{label:"pi",detail:"function",info:"Return pi",type:"function"},{label:"predict_linear",detail:"function",info:"Predict the value of a gauge into the future",type:"function"},{label:"present_over_time",detail:"function",info:"the value 1 for any series in the specified interval",type:"function"},{label:"quantile_over_time",detail:"function",info:"Calculate value quantiles over time for input series",type:"function"},{label:"rad",detail:"function",info:"Convert degrees to radians for input series",type:"function",boost:-1},{label:"rate",detail:"function",info:"Calculate per-second increase over a range vector (for counters)",type:"function"},{label:"resets",detail:"function",info:"Return number of value decreases (resets) in input series of time",type:"function"},{label:"round",detail:"function",info:"Round values of input series to nearest integer",type:"function"},{label:"scalar",detail:"function",info:"Convert single-element series vector into scalar value",type:"function"},{label:"sgn",detail:"function",info:"Returns the sign of the instant vector",type:"function"},{label:"sin",detail:"function",info:"Calculate the sine, in radians, for input series",type:"function"},{label:"sinh",detail:"function",info:"Calculate the hyperbolic sine, in radians, for input series",type:"function"},{label:"sort",detail:"function",info:"Sort input series ascendingly by value",type:"function"},{label:"sort_desc",detail:"function",info:"Sort input series descendingly by value",type:"function"},{label:"sort_by_label",detail:"function",info:"Sort input series ascendingly by label value",type:"function"},{label:"sort_by_label_desc",detail:"function",info:"Sort input series descendingly by value value",type:"function"},{label:"sqrt",detail:"function",info:"Return the square root for input series",type:"function"},{label:"stddev_over_time",detail:"function",info:"Calculate the standard deviation within input series over time",type:"function"},{label:"stdvar_over_time",detail:"function",info:"Calculate the standard variance within input series over time",type:"function"},{label:"sum_over_time",detail:"function",info:"Calculate the sum over the values of input series over time",type:"function"},{label:"tan",detail:"function",info:"Calculate the tangent, in radians, for input series",type:"function"},{label:"tanh",detail:"function",info:"Calculate the hyperbolic tangent, in radians, for input series",type:"function"},{label:"time",detail:"function",info:"Return the Unix timestamp at the current evaluation time",type:"function"},{label:"timestamp",detail:"function",info:"Return the Unix timestamp for the samples in the input vector",type:"function"},{label:"vector",detail:"function",info:"Convert a scalar value into a single-element series vector",type:"function"},{label:"year",detail:"function",info:"Return the year for provided timestamps",type:"function"}],YD=[{label:"avg",detail:"aggregation",info:"Calculate the average over dimensions",type:"keyword"},{label:"bottomk",detail:"aggregation",info:"Smallest k elements by sample value",type:"keyword"},{label:"count",detail:"aggregation",info:"Count number of elements in the vector",type:"keyword"},{label:"count_values",detail:"aggregation",info:"Count number of elements with the same value",type:"keyword"},{label:"group",detail:"aggregation",info:"Group series, while setting the sample value to 1",type:"keyword"},{label:"limitk",detail:"aggregation",info:"Sample k elements",type:"keyword"},{label:"limit_ratio",detail:"aggregation",info:"Sample given ratio of elements",type:"keyword"},{label:"max",detail:"aggregation",info:"Select maximum over dimensions",type:"keyword"},{label:"min",detail:"aggregation",info:"Select minimum over dimensions",type:"keyword"},{label:"quantile",detail:"aggregation",info:"Calculate -quantile (0    1) over dimensions",type:"keyword"},{label:"stddev",detail:"aggregation",info:"Calculate population standard deviation over dimensions",type:"keyword"},{label:"stdvar",detail:"aggregation",info:"Calculate population standard variance over dimensions",type:"keyword"},{label:"sum",detail:"aggregation",info:"Calculate sum over dimensions",type:"keyword"},{label:"topk",detail:"aggregation",info:"Largest k elements by sample value",type:"keyword"}],PU=[{label:"by",info:"Keep the listed labels, remove all others.",type:"keyword"},{label:"without",info:"Remove the listed labels, preserve all others.",type:"keyword"}],$U=[{label:"nan",info:"Floating-point NaN value",type:"constant"},{label:"inf",info:"Floating-point infinity",type:"constant"}],MU=[{label:"sum(rate(__input_vector__[5m]))",type:"function",detail:"snippet",info:"Sum over rates of increase",apply:Va("sum(rate(${__input_vector__}[5m]))")},{label:"histogram_quantile(__quantile__, sum by(le) (rate(__histogram_metric__[5m])))",type:"function",detail:"snippet",info:"Approximate a quantile value from an aggregated histogram",apply:Va("histogram_quantile(${__quantile__}, sum by(le) (rate(${__histogram_metric__}[5m])))")},{label:'label_replace(__input_vector__, "__dst__", "__replacement__", "__src__", "__regex__")',type:"function",detail:"snippet",info:"Set or replace a label value in an input vector",apply:Va('label_replace(${__input_vector__}, "${__dst__}", "${__replacement__}", "${__src__}", "${__regex__}")')},{label:"topk(__rank_number__, __input_vector__)",type:"function",detail:"snippet",info:"Largest k elements by sample value",apply:Va("topk(${__rank_number__}, ${__input_vector__})")},{label:"bottomk(__rank_number__, __input_vector__)",type:"function",detail:"snippet",info:"Smallest k elements by sample value",apply:Va("bottomk(${__rank_number__}, ${__input_vector__})")},{label:'count_values("__label_name__", __input_vector__)',type:"function",detail:"snippet",info:"Count the number of series per distinct sample value",apply:Va('count_values("${__label_name__}", ${__metric__})')}],hs={matchOp:kU,binOp:UD,duration:XD,binOpModifier:EU,atModifier:DU,functionIdentifier:RU,aggregateOp:YD,aggregateOpModifier:PU,number:$U};var je;(function(t){t[t.MetricName=0]="MetricName",t[t.LabelName=1]="LabelName",t[t.LabelValue=2]="LabelValue",t[t.Function=3]="Function",t[t.Aggregation=4]="Aggregation",t[t.BinOpModifier=5]="BinOpModifier",t[t.BinOp=6]="BinOp",t[t.MatchOp=7]="MatchOp",t[t.AggregateOpModifier=8]="AggregateOpModifier",t[t.Duration=9]="Duration",t[t.Offset=10]="Offset",t[t.Bool=11]="Bool",t[t.AtModifiers=12]="AtModifiers",t[t.Number=13]="Number"})(je||(je={}));function LU(t,e){const n=A0(t,Fp);if(!n)return"";let i="";return n.cursor().iterate(r=>{if(r.type.id===vf&&(i=qc(r.node,e),i))return!1}),i}function qc(t,e){let n=A0(t,vf);return!n||(n=n.getChild(Id),!n)?"":e.sliceDoc(n.from,n.to)}function NU(t,e,n,i=!1,r=!0){const s=t;return i&&s.push(...MU),{from:e,to:n,options:s,validFor:r?/^[a-zA-Z0-9_:]+$/:void 0}}function IU(t,e){let n=t.from+1;return t.firstChild!==null&&(n=e),n}function FU(t,e,n){var i,r,s,o,a,l,c;const u=t.doc.slice(e.from,n).toString();let f=e.from;return e.type.id===uu||e.type.id===cu?f=IU(e,n):e.type.id===ma&&e.firstChild===null||e.type.id===Qu&&(((i=e.parent)===null||i===void 0?void 0:i.type.id)===na||((r=e.parent)===null||r===void 0?void 0:r.type.id)===_l)?f++:(e.type.id===qu||e.type.id===Fd&&!XD.map(d=>d.label).includes(u[u.length-1])||e.type.id===C0&&((s=e.parent)===null||s===void 0?void 0:s.type.id)===0&&((o=e.parent.parent)===null||o===void 0?void 0:o.type.id)===Yl||e.type.id===ma&&GD(e)&&e.firstChild!==null||e.type.id===0&&(((a=e.parent)===null||a===void 0?void 0:a.type.id)===qu||((l=e.parent)===null||l===void 0?void 0:l.type.id)===Wu||((c=e.parent)===null||c===void 0?void 0:c.type.id)===Yl&&uo(e.parent,Fd)))&&(f=n),f}function GD(t){var e;const n=t.parent;if(n!==null&&((e=n.firstChild)===null||e===void 0?void 0:e.type.id)===q4){const i=n.firstChild.firstChild;if(i!==null&&[ID,$D,LD,ND,MD].includes(i.type.id))return!0}return!1}function BU(t,e,n){var i,r,s,o,a,l,c,u,f,d,m,g,y,O,_,A,P,T,B,I,v;const Q=[];switch(e.type.id){case 0:if(((i=e.parent)===null||i===void 0?void 0:i.type.id)===qu){Q.push({kind:je.Duration});break}if(((r=e.parent)===null||r===void 0?void 0:r.type.id)===na||((s=e.parent)===null||s===void 0?void 0:s.type.id)===_l){Q.push({kind:je.MatchOp});break}if(((o=e.parent)===null||o===void 0?void 0:o.type.id)===Wu){Q.push({kind:je.Duration});break}if(((a=e.parent)===null||a===void 0?void 0:a.type.id)===Yl&&uo(e.parent,Fd)){Q.push({kind:je.Duration});break}const Y=t.sliceDoc(e.from,e.to);UD.filter(J=>J.label.includes(Y)).length>0&&Q.push({kind:je.BinOp});break;case Id:if(((l=e.parent)===null||l===void 0?void 0:l.type.id)===0){const J=e.parent.parent;if((J==null?void 0:J.type.id)===T0){Q.push({kind:je.AtModifiers});break}if((J==null?void 0:J.type.id)===Fp){Q.push({kind:je.AggregateOpModifier},{kind:je.BinOp});break}if((J==null?void 0:J.type.id)===vf){const X=qc(e,t);YD.filter(le=>le.label===X).length>0&&Q.push({kind:je.AggregateOpModifier}),Q.push({kind:je.BinOp},{kind:je.Offset});break}if(J&&l_(J,"Expr")){Q.push({kind:je.BinOp},{kind:je.Offset});break}}const te=(c=e.parent)===null||c===void 0?void 0:c.parent;if(!te){Q.push({kind:je.MetricName,metricName:t.sliceDoc(e.from,e.to)});break}l_(te,"Expr","Expr")&&te.type.id!==ma?te.type.id===wl&&!uo(te,0)&&(Q.push({kind:je.MetricName,metricName:t.sliceDoc(e.from,e.to)},{kind:je.Function},{kind:je.Aggregation},{kind:je.BinOpModifier},{kind:je.Number}),uo(te,wb,_b,Sb,Cb,Tb,zu)&&!uo(te,FD)&&Q.push({kind:je.Bool})):(Q.push({kind:je.MetricName,metricName:t.sliceDoc(e.from,e.to)},{kind:je.Function},{kind:je.Aggregation}),te.type.id!==ma&&te.type.id!==Wu&&Q.push({kind:je.Number}));break;case W4:e.firstChild!==null&&e.firstChild.type.id===0&&Q.push({kind:je.MetricName,metricName:""},{kind:je.Function},{kind:je.Aggregation},{kind:je.Number});break;case cu:Q.push({kind:je.LabelName,metricName:LU(e,t)});break;case uu:Q.push({kind:je.LabelName,metricName:qc(e,t)});break;case ju:((u=e.parent)===null||u===void 0?void 0:u.type.id)===cu?Q.push({kind:je.LabelName}):((f=e.parent)===null||f===void 0?void 0:f.type.id)===na&&Q.push({kind:je.LabelName,metricName:qc(e,t)});break;case Qu:if(((d=e.parent)===null||d===void 0?void 0:d.type.id)===na||((m=e.parent)===null||m===void 0?void 0:m.type.id)===_l){let J="";((g=e.parent.firstChild)===null||g===void 0?void 0:g.type.id)===ju?J=t.sliceDoc(e.parent.firstChild.from,e.parent.firstChild.to):((y=e.parent.firstChild)===null||y===void 0?void 0:y.type.id)===Vu&&(J=t.sliceDoc(e.parent.firstChild.from,e.parent.firstChild.to).slice(1,-1));const X=qc(e,t),le=A0(e,uu),ae=[Vu,_l,na];let me=[];for(const ue of ae)me=me.concat(qD(le?le.getChildren(ue):[],t));Q.push({kind:je.LabelValue,metricName:X,labelName:J,matchers:me})}else((_=(O=e.parent)===null||O===void 0?void 0:O.parent)===null||_===void 0?void 0:_.type.id)===cu?Q.push({kind:je.LabelName}):((P=(A=e.parent)===null||A===void 0?void 0:A.parent)===null||P===void 0?void 0:P.type.id)===uu&&Q.push({kind:je.MetricName,metricName:t.sliceDoc(e.from,e.to).slice(1,-1)});break;case C0:((T=e.parent)===null||T===void 0?void 0:T.type.id)===0&&((B=e.parent.parent)===null||B===void 0?void 0:B.type.id)===Yl?Q.push({kind:je.Duration}):Q.push({kind:je.Number});break;case Fd:case qu:Q.push({kind:je.Duration});break;case ma:if(GD(e)){if(e.firstChild===null||e.firstChild.from<=n&&e.firstChild.to>=n){Q.push({kind:je.Number});break}Q.push({kind:je.MetricName,metricName:""},{kind:je.Function},{kind:je.Aggregation});break}Q.push({kind:je.MetricName,metricName:""},{kind:je.Function},{kind:je.Aggregation});break;case zu:((I=e.parent)===null||I===void 0?void 0:I.type.id)===Bd?Q.push({kind:je.MatchOp}):((v=e.parent)===null||v===void 0?void 0:v.type.id)===wl&&Q.push({kind:je.BinOp});break;case bf:case VD:case QD:case Bd:Q.push({kind:je.MatchOp});break;case X4:case Y4:case G4:case K4:case J4:case Z4:case wb:case _b:case Sb:case Cb:case Tb:case w0:case S0:case _0:case wl:Q.push({kind:je.BinOp});break}return Q}class xg{constructor(e,n=1e4){this.prometheusClient=e,this.maxMetricsMetadata=n}getPrometheusClient(){return this.prometheusClient}promQL(e){const{state:n,pos:i}=e,r=Tn(n).resolve(i,-1),s=BU(n,r,i);let o=Promise.resolve([]),a=!1,l=!0;for(const c of s)switch(c.kind){case je.Aggregation:a=!0,o=o.then(u=>u.concat(hs.aggregateOp));break;case je.Function:a=!0,o=o.then(u=>u.concat(hs.functionIdentifier));break;case je.BinOpModifier:o=o.then(u=>u.concat(hs.binOpModifier));break;case je.BinOp:o=o.then(u=>u.concat(hs.binOp));break;case je.MatchOp:o=o.then(u=>u.concat(hs.matchOp));break;case je.AggregateOpModifier:o=o.then(u=>u.concat(hs.aggregateOpModifier));break;case je.Duration:l=!1,o=o.then(u=>u.concat(hs.duration));break;case je.Offset:o=o.then(u=>u.concat([{label:"offset"}]));break;case je.Bool:o=o.then(u=>u.concat([{label:"bool"}]));break;case je.AtModifiers:o=o.then(u=>u.concat(hs.atModifier));break;case je.Number:o=o.then(u=>u.concat(hs.number));break;case je.MetricName:o=o.then(u=>this.autocompleteMetricName(u,c));break;case je.LabelName:o=o.then(u=>this.autocompleteLabelName(u,c));break;case je.LabelValue:o=o.then(u=>this.autocompleteLabelValue(u,c))}return o.then(c=>NU(c,FU(n,r,i),i,a,l))}autocompleteMetricName(e,n){if(!this.prometheusClient)return e;const i=new Map;return this.prometheusClient.metricNames(n.metricName).then(r=>{var s;for(const o of r)i.set(o,{label:o,type:"constant"});if(r.length<=this.maxMetricsMetadata)return(s=this.prometheusClient)===null||s===void 0?void 0:s.metricMetadata()}).then(r=>{if(r)for(const[s,o]of i){const a=r[s.replace(/(_count|_sum|_bucket)$/,"")];if(a){if(a.length>1)for(const l of a)o.detail===""?o.detail=l.type:o.detail!==l.type&&(o.detail="unknown",o.info="multiple different definitions for this metric"),o.info===""?o.info=l.help:o.info!==l.help&&(o.info="multiple different definitions for this metric");else if(a.length===1){let{type:l,help:c}=a[0];(l==="histogram"||l==="summary")&&(s.endsWith("_count")&&(l="counter",c=`The total number of observations for: ${c}`),s.endsWith("_sum")&&(l="counter",c=`The total sum of observations for: ${c}`),s.endsWith("_bucket")&&(l="counter",c=`The total count of observations for a bucket in the histogram: ${c}`)),o.detail=l,o.info=c}}}return e.concat(Array.from(i.values()))})}autocompleteLabelName(e,n){return this.prometheusClient?this.prometheusClient.labelNames(n.metricName).then(i=>e.concat(i.map(r=>({label:r,type:"constant"})))):e}autocompleteLabelValue(e,n){return!this.prometheusClient||!n.labelName?e:this.prometheusClient.labelValues(n.labelName,n.metricName,n.matchers).then(i=>e.concat(i.map(r=>({label:r,type:"text"}))))}}const za=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,KD=new Set,Ab=typeof process=="object"&&process?process:{},JD=(t,e,n,i)=>{typeof Ab.emitWarning=="function"?Ab.emitWarning(t,e,n,i):console.error(`[${n}] ${e}: ${t}`)};let Hd=globalThis.AbortController,c_=globalThis.AbortSignal;var xS;if(typeof Hd>"u"){c_=class{constructor(){Zt(this,"onabort");Zt(this,"_onabort",[]);Zt(this,"reason");Zt(this,"aborted",!1)}addEventListener(i,r){this._onabort.push(r)}},Hd=class{constructor(){Zt(this,"signal",new c_);e()}abort(i){var r,s;if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const o of this.signal._onabort)o(i);(s=(r=this.signal).onabort)==null||s.call(r,i)}}};let t=((xS=Ab.env)==null?void 0:xS.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,JD("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const HU=t=>!KD.has(t),Xs=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),ZD=t=>Xs(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Bh:null:null;class Bh extends Array{constructor(e){super(e),this.fill(0)}}var Tl;const Ko=class Ko{constructor(e,n){Zt(this,"heap");Zt(this,"length");if(!R(Ko,Tl))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}static create(e){const n=ZD(e);if(!n)return[];Je(Ko,Tl,!0);const i=new Ko(e,n);return Je(Ko,Tl,!1),i}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};Tl=new WeakMap,At(Ko,Tl,!1);let kb=Ko;var wS,_S,hr,Di,dr,pr,Al,kl,mn,mr,an,Gt,rt,ni,Ri,Bn,On,gr,xn,vr,br,Pi,yr,so,ii,De,Eb,oa,bs,Ju,$i,eR,aa,El,Zu,Us,Ys,Db,Hh,jh,Yt,Rb,Xc,Gs,Pb;const t1=class t1{constructor(e){At(this,De);At(this,hr);At(this,Di);At(this,dr);At(this,pr);At(this,Al);At(this,kl);Zt(this,"ttl");Zt(this,"ttlResolution");Zt(this,"ttlAutopurge");Zt(this,"updateAgeOnGet");Zt(this,"updateAgeOnHas");Zt(this,"allowStale");Zt(this,"noDisposeOnSet");Zt(this,"noUpdateTTL");Zt(this,"maxEntrySize");Zt(this,"sizeCalculation");Zt(this,"noDeleteOnFetchRejection");Zt(this,"noDeleteOnStaleGet");Zt(this,"allowStaleOnFetchAbort");Zt(this,"allowStaleOnFetchRejection");Zt(this,"ignoreFetchAbort");At(this,mn);At(this,mr);At(this,an);At(this,Gt);At(this,rt);At(this,ni);At(this,Ri);At(this,Bn);At(this,On);At(this,gr);At(this,xn);At(this,vr);At(this,br);At(this,Pi);At(this,yr);At(this,so);At(this,ii);At(this,oa,()=>{});At(this,bs,()=>{});At(this,Ju,()=>{});At(this,$i,()=>!1);At(this,aa,e=>{});At(this,El,(e,n,i)=>{});At(this,Zu,(e,n,i,r)=>{if(i||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Zt(this,wS,"LRUCache");const{max:n=0,ttl:i,ttlResolution:r=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:f,noUpdateTTL:d,maxSize:m=0,maxEntrySize:g=0,sizeCalculation:y,fetchMethod:O,memoMethod:_,noDeleteOnFetchRejection:A,noDeleteOnStaleGet:P,allowStaleOnFetchRejection:T,allowStaleOnFetchAbort:B,ignoreFetchAbort:I}=e;if(n!==0&&!Xs(n))throw new TypeError("max option must be a nonnegative integer");const v=n?ZD(n):Array;if(!v)throw new Error("invalid max value: "+n);if(Je(this,hr,n),Je(this,Di,m),this.maxEntrySize=g||R(this,Di),this.sizeCalculation=y,this.sizeCalculation){if(!R(this,Di)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(_!==void 0&&typeof _!="function")throw new TypeError("memoMethod must be a function if defined");if(Je(this,kl,_),O!==void 0&&typeof O!="function")throw new TypeError("fetchMethod must be a function if specified");if(Je(this,Al,O),Je(this,so,!!O),Je(this,an,new Map),Je(this,Gt,new Array(n).fill(void 0)),Je(this,rt,new Array(n).fill(void 0)),Je(this,ni,new v(n)),Je(this,Ri,new v(n)),Je(this,Bn,0),Je(this,On,0),Je(this,gr,kb.create(n)),Je(this,mn,0),Je(this,mr,0),typeof c=="function"&&Je(this,dr,c),typeof u=="function"?(Je(this,pr,u),Je(this,xn,[])):(Je(this,pr,void 0),Je(this,xn,void 0)),Je(this,yr,!!R(this,dr)),Je(this,ii,!!R(this,pr)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!A,this.allowStaleOnFetchRejection=!!T,this.allowStaleOnFetchAbort=!!B,this.ignoreFetchAbort=!!I,this.maxEntrySize!==0){if(R(this,Di)!==0&&!Xs(R(this,Di)))throw new TypeError("maxSize must be a positive integer if specified");if(!Xs(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");He(this,De,eR).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Xs(r)||r===0?r:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!Xs(this.ttl))throw new TypeError("ttl must be a positive integer if specified");He(this,De,Eb).call(this)}if(R(this,hr)===0&&this.ttl===0&&R(this,Di)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!R(this,hr)&&!R(this,Di)){const Q="LRU_CACHE_UNBOUNDED";HU(Q)&&(KD.add(Q),JD("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Q,t1))}}static unsafeExposeInternals(e){return{starts:R(e,br),ttls:R(e,Pi),sizes:R(e,vr),keyMap:R(e,an),keyList:R(e,Gt),valList:R(e,rt),next:R(e,ni),prev:R(e,Ri),get head(){return R(e,Bn)},get tail(){return R(e,On)},free:R(e,gr),isBackgroundFetch:n=>{var i;return He(i=e,De,Yt).call(i,n)},backgroundFetch:(n,i,r,s)=>{var o;return He(o=e,De,jh).call(o,n,i,r,s)},moveToTail:n=>{var i;return He(i=e,De,Xc).call(i,n)},indexes:n=>{var i;return He(i=e,De,Us).call(i,n)},rindexes:n=>{var i;return He(i=e,De,Ys).call(i,n)},isStale:n=>{var i;return R(i=e,$i).call(i,n)}}}get max(){return R(this,hr)}get maxSize(){return R(this,Di)}get calculatedSize(){return R(this,mr)}get size(){return R(this,mn)}get fetchMethod(){return R(this,Al)}get memoMethod(){return R(this,kl)}get dispose(){return R(this,dr)}get disposeAfter(){return R(this,pr)}getRemainingTTL(e){return R(this,an).has(e)?1/0:0}*entries(){for(const e of He(this,De,Us).call(this))R(this,rt)[e]!==void 0&&R(this,Gt)[e]!==void 0&&!He(this,De,Yt).call(this,R(this,rt)[e])&&(yield[R(this,Gt)[e],R(this,rt)[e]])}*rentries(){for(const e of He(this,De,Ys).call(this))R(this,rt)[e]!==void 0&&R(this,Gt)[e]!==void 0&&!He(this,De,Yt).call(this,R(this,rt)[e])&&(yield[R(this,Gt)[e],R(this,rt)[e]])}*keys(){for(const e of He(this,De,Us).call(this)){const n=R(this,Gt)[e];n!==void 0&&!He(this,De,Yt).call(this,R(this,rt)[e])&&(yield n)}}*rkeys(){for(const e of He(this,De,Ys).call(this)){const n=R(this,Gt)[e];n!==void 0&&!He(this,De,Yt).call(this,R(this,rt)[e])&&(yield n)}}*values(){for(const e of He(this,De,Us).call(this))R(this,rt)[e]!==void 0&&!He(this,De,Yt).call(this,R(this,rt)[e])&&(yield R(this,rt)[e])}*rvalues(){for(const e of He(this,De,Ys).call(this))R(this,rt)[e]!==void 0&&!He(this,De,Yt).call(this,R(this,rt)[e])&&(yield R(this,rt)[e])}[(_S=Symbol.iterator,wS=Symbol.toStringTag,_S)](){return this.entries()}find(e,n={}){for(const i of He(this,De,Us).call(this)){const r=R(this,rt)[i],s=He(this,De,Yt).call(this,r)?r.__staleWhileFetching:r;if(s!==void 0&&e(s,R(this,Gt)[i],this))return this.get(R(this,Gt)[i],n)}}forEach(e,n=this){for(const i of He(this,De,Us).call(this)){const r=R(this,rt)[i],s=He(this,De,Yt).call(this,r)?r.__staleWhileFetching:r;s!==void 0&&e.call(n,s,R(this,Gt)[i],this)}}rforEach(e,n=this){for(const i of He(this,De,Ys).call(this)){const r=R(this,rt)[i],s=He(this,De,Yt).call(this,r)?r.__staleWhileFetching:r;s!==void 0&&e.call(n,s,R(this,Gt)[i],this)}}purgeStale(){let e=!1;for(const n of He(this,De,Ys).call(this,{allowStale:!0}))R(this,$i).call(this,n)&&(He(this,De,Gs).call(this,R(this,Gt)[n],"expire"),e=!0);return e}info(e){const n=R(this,an).get(e);if(n===void 0)return;const i=R(this,rt)[n],r=He(this,De,Yt).call(this,i)?i.__staleWhileFetching:i;if(r===void 0)return;const s={value:r};if(R(this,Pi)&&R(this,br)){const o=R(this,Pi)[n],a=R(this,br)[n];if(o&&a){const l=o-(za.now()-a);s.ttl=l,s.start=Date.now()}}return R(this,vr)&&(s.size=R(this,vr)[n]),s}dump(){const e=[];for(const n of He(this,De,Us).call(this,{allowStale:!0})){const i=R(this,Gt)[n],r=R(this,rt)[n],s=He(this,De,Yt).call(this,r)?r.__staleWhileFetching:r;if(s===void 0||i===void 0)continue;const o={value:s};if(R(this,Pi)&&R(this,br)){o.ttl=R(this,Pi)[n];const a=za.now()-R(this,br)[n];o.start=Math.floor(Date.now()-a)}R(this,vr)&&(o.size=R(this,vr)[n]),e.unshift([i,o])}return e}load(e){this.clear();for(const[n,i]of e){if(i.start){const r=Date.now()-i.start;i.start=za.now()-r}this.set(n,i.value,i)}}set(e,n,i={}){var d,m,g,y,O;if(n===void 0)return this.delete(e),this;const{ttl:r=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i;let{noUpdateTTL:c=this.noUpdateTTL}=i;const u=R(this,Zu).call(this,e,n,i.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),He(this,De,Gs).call(this,e,"set"),this;let f=R(this,mn)===0?void 0:R(this,an).get(e);if(f===void 0)f=R(this,mn)===0?R(this,On):R(this,gr).length!==0?R(this,gr).pop():R(this,mn)===R(this,hr)?He(this,De,Hh).call(this,!1):R(this,mn),R(this,Gt)[f]=e,R(this,rt)[f]=n,R(this,an).set(e,f),R(this,ni)[R(this,On)]=f,R(this,Ri)[f]=R(this,On),Je(this,On,f),Mf(this,mn)._++,R(this,El).call(this,f,u,l),l&&(l.set="add"),c=!1;else{He(this,De,Xc).call(this,f);const _=R(this,rt)[f];if(n!==_){if(R(this,so)&&He(this,De,Yt).call(this,_)){_.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:A}=_;A!==void 0&&!o&&(R(this,yr)&&((d=R(this,dr))==null||d.call(this,A,e,"set")),R(this,ii)&&((m=R(this,xn))==null||m.push([A,e,"set"])))}else o||(R(this,yr)&&((g=R(this,dr))==null||g.call(this,_,e,"set")),R(this,ii)&&((y=R(this,xn))==null||y.push([_,e,"set"])));if(R(this,aa).call(this,f),R(this,El).call(this,f,u,l),R(this,rt)[f]=n,l){l.set="replace";const A=_&&He(this,De,Yt).call(this,_)?_.__staleWhileFetching:_;A!==void 0&&(l.oldValue=A)}}else l&&(l.set="update")}if(r!==0&&!R(this,Pi)&&He(this,De,Eb).call(this),R(this,Pi)&&(c||R(this,Ju).call(this,f,r,s),l&&R(this,bs).call(this,l,f)),!o&&R(this,ii)&&R(this,xn)){const _=R(this,xn);let A;for(;A=_==null?void 0:_.shift();)(O=R(this,pr))==null||O.call(this,...A)}return this}pop(){var e;try{for(;R(this,mn);){const n=R(this,rt)[R(this,Bn)];if(He(this,De,Hh).call(this,!0),He(this,De,Yt).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(R(this,ii)&&R(this,xn)){const n=R(this,xn);let i;for(;i=n==null?void 0:n.shift();)(e=R(this,pr))==null||e.call(this,...i)}}}has(e,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=n,s=R(this,an).get(e);if(s!==void 0){const o=R(this,rt)[s];if(He(this,De,Yt).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(R(this,$i).call(this,s))r&&(r.has="stale",R(this,bs).call(this,r,s));else return i&&R(this,oa).call(this,s),r&&(r.has="hit",R(this,bs).call(this,r,s)),!0}else r&&(r.has="miss");return!1}peek(e,n={}){const{allowStale:i=this.allowStale}=n,r=R(this,an).get(e);if(r===void 0||!i&&R(this,$i).call(this,r))return;const s=R(this,rt)[r];return He(this,De,Yt).call(this,s)?s.__staleWhileFetching:s}async fetch(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:O=!1,status:_,signal:A}=n;if(!R(this,so))return _&&(_.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,status:_});const P={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:g,ignoreFetchAbort:m,status:_,signal:A};let T=R(this,an).get(e);if(T===void 0){_&&(_.fetch="miss");const B=He(this,De,jh).call(this,e,T,P,y);return B.__returned=B}else{const B=R(this,rt)[T];if(He(this,De,Yt).call(this,B)){const te=i&&B.__staleWhileFetching!==void 0;return _&&(_.fetch="inflight",te&&(_.returnedStale=!0)),te?B.__staleWhileFetching:B.__returned=B}const I=R(this,$i).call(this,T);if(!O&&!I)return _&&(_.fetch="hit"),He(this,De,Xc).call(this,T),r&&R(this,oa).call(this,T),_&&R(this,bs).call(this,_,T),B;const v=He(this,De,jh).call(this,e,T,P,y),Y=v.__staleWhileFetching!==void 0&&i;return _&&(_.fetch=I?"stale":"refresh",Y&&I&&(_.returnedStale=!0)),Y?v.__staleWhileFetching:v.__returned=v}}async forceFetch(e,n={}){const i=await this.fetch(e,n);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(e,n={}){const i=R(this,kl);if(!i)throw new Error("no memoMethod provided to constructor");const{context:r,forceRefresh:s,...o}=n,a=this.get(e,o);if(!s&&a!==void 0)return a;const l=i(e,a,{options:o,context:r});return this.set(e,l,o),l}get(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=n,a=R(this,an).get(e);if(a!==void 0){const l=R(this,rt)[a],c=He(this,De,Yt).call(this,l);return o&&R(this,bs).call(this,o,a),R(this,$i).call(this,a)?(o&&(o.get="stale"),c?(o&&i&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),i?l.__staleWhileFetching:void 0):(s||He(this,De,Gs).call(this,e,"expire"),o&&i&&(o.returnedStale=!0),i?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(He(this,De,Xc).call(this,a),r&&R(this,oa).call(this,a),l))}else o&&(o.get="miss")}delete(e){return He(this,De,Gs).call(this,e,"delete")}clear(){return He(this,De,Pb).call(this,"delete")}};hr=new WeakMap,Di=new WeakMap,dr=new WeakMap,pr=new WeakMap,Al=new WeakMap,kl=new WeakMap,mn=new WeakMap,mr=new WeakMap,an=new WeakMap,Gt=new WeakMap,rt=new WeakMap,ni=new WeakMap,Ri=new WeakMap,Bn=new WeakMap,On=new WeakMap,gr=new WeakMap,xn=new WeakMap,vr=new WeakMap,br=new WeakMap,Pi=new WeakMap,yr=new WeakMap,so=new WeakMap,ii=new WeakMap,De=new WeakSet,Eb=function(){const e=new Bh(R(this,hr)),n=new Bh(R(this,hr));Je(this,Pi,e),Je(this,br,n),Je(this,Ju,(s,o,a=za.now())=>{if(n[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{R(this,$i).call(this,s)&&He(this,De,Gs).call(this,R(this,Gt)[s],"expire")},o+1);l.unref&&l.unref()}}),Je(this,oa,s=>{n[s]=e[s]!==0?za.now():0}),Je(this,bs,(s,o)=>{if(e[o]){const a=e[o],l=n[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=i||r();const c=s.now-l;s.remainingTTL=a-c}});let i=0;const r=()=>{const s=za.now();if(this.ttlResolution>0){i=s;const o=setTimeout(()=>i=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=R(this,an).get(s);if(o===void 0)return 0;const a=e[o],l=n[o];if(!a||!l)return 1/0;const c=(i||r())-l;return a-c},Je(this,$i,s=>{const o=n[s],a=e[s];return!!a&&!!o&&(i||r())-o>a})},oa=new WeakMap,bs=new WeakMap,Ju=new WeakMap,$i=new WeakMap,eR=function(){const e=new Bh(R(this,hr));Je(this,mr,0),Je(this,vr,e),Je(this,aa,n=>{Je(this,mr,R(this,mr)-e[n]),e[n]=0}),Je(this,Zu,(n,i,r,s)=>{if(He(this,De,Yt).call(this,i))return 0;if(!Xs(r))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(r=s(i,n),!Xs(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r}),Je(this,El,(n,i,r)=>{if(e[n]=i,R(this,Di)){const s=R(this,Di)-e[n];for(;R(this,mr)>s;)He(this,De,Hh).call(this,!0)}Je(this,mr,R(this,mr)+e[n]),r&&(r.entrySize=i,r.totalCalculatedSize=R(this,mr))})},aa=new WeakMap,El=new WeakMap,Zu=new WeakMap,Us=function*({allowStale:e=this.allowStale}={}){if(R(this,mn))for(let n=R(this,On);!(!He(this,De,Db).call(this,n)||((e||!R(this,$i).call(this,n))&&(yield n),n===R(this,Bn)));)n=R(this,Ri)[n]},Ys=function*({allowStale:e=this.allowStale}={}){if(R(this,mn))for(let n=R(this,Bn);!(!He(this,De,Db).call(this,n)||((e||!R(this,$i).call(this,n))&&(yield n),n===R(this,On)));)n=R(this,ni)[n]},Db=function(e){return e!==void 0&&R(this,an).get(R(this,Gt)[e])===e},Hh=function(e){var s,o;const n=R(this,Bn),i=R(this,Gt)[n],r=R(this,rt)[n];return R(this,so)&&He(this,De,Yt).call(this,r)?r.__abortController.abort(new Error("evicted")):(R(this,yr)||R(this,ii))&&(R(this,yr)&&((s=R(this,dr))==null||s.call(this,r,i,"evict")),R(this,ii)&&((o=R(this,xn))==null||o.push([r,i,"evict"]))),R(this,aa).call(this,n),e&&(R(this,Gt)[n]=void 0,R(this,rt)[n]=void 0,R(this,gr).push(n)),R(this,mn)===1?(Je(this,Bn,Je(this,On,0)),R(this,gr).length=0):Je(this,Bn,R(this,ni)[n]),R(this,an).delete(i),Mf(this,mn)._--,n},jh=function(e,n,i,r){const s=n===void 0?void 0:R(this,rt)[n];if(He(this,De,Yt).call(this,s))return s;const o=new Hd,{signal:a}=i;a==null||a.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});const l={signal:o.signal,options:i,context:r},c=(y,O=!1)=>{const{aborted:_}=o.signal,A=i.ignoreFetchAbort&&y!==void 0;if(i.status&&(_&&!O?(i.status.fetchAborted=!0,i.status.fetchError=o.signal.reason,A&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),_&&!A&&!O)return f(o.signal.reason);const P=m;return R(this,rt)[n]===m&&(y===void 0?P.__staleWhileFetching?R(this,rt)[n]=P.__staleWhileFetching:He(this,De,Gs).call(this,e,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(e,y,l.options))),y},u=y=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=y),f(y)),f=y=>{const{aborted:O}=o.signal,_=O&&i.allowStaleOnFetchAbort,A=_||i.allowStaleOnFetchRejection,P=A||i.noDeleteOnFetchRejection,T=m;if(R(this,rt)[n]===m&&(!P||T.__staleWhileFetching===void 0?He(this,De,Gs).call(this,e,"fetch"):_||(R(this,rt)[n]=T.__staleWhileFetching)),A)return i.status&&T.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw y},d=(y,O)=>{var A;const _=(A=R(this,Al))==null?void 0:A.call(this,e,s,l);_&&_ instanceof Promise&&_.then(P=>y(P===void 0?void 0:P),O),o.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(y(void 0),i.allowStaleOnFetchAbort&&(y=P=>c(P,!0)))})};i.status&&(i.status.fetchDispatched=!0);const m=new Promise(d).then(c,u),g=Object.assign(m,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return n===void 0?(this.set(e,g,{...l.options,status:void 0}),n=R(this,an).get(e)):R(this,rt)[n]=g,g},Yt=function(e){if(!R(this,so))return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Hd},Rb=function(e,n){R(this,Ri)[n]=e,R(this,ni)[e]=n},Xc=function(e){e!==R(this,On)&&(e===R(this,Bn)?Je(this,Bn,R(this,ni)[e]):He(this,De,Rb).call(this,R(this,Ri)[e],R(this,ni)[e]),He(this,De,Rb).call(this,R(this,On),e),Je(this,On,e))},Gs=function(e,n){var r,s,o,a;let i=!1;if(R(this,mn)!==0){const l=R(this,an).get(e);if(l!==void 0)if(i=!0,R(this,mn)===1)He(this,De,Pb).call(this,n);else{R(this,aa).call(this,l);const c=R(this,rt)[l];if(He(this,De,Yt).call(this,c)?c.__abortController.abort(new Error("deleted")):(R(this,yr)||R(this,ii))&&(R(this,yr)&&((r=R(this,dr))==null||r.call(this,c,e,n)),R(this,ii)&&((s=R(this,xn))==null||s.push([c,e,n]))),R(this,an).delete(e),R(this,Gt)[l]=void 0,R(this,rt)[l]=void 0,l===R(this,On))Je(this,On,R(this,Ri)[l]);else if(l===R(this,Bn))Je(this,Bn,R(this,ni)[l]);else{const u=R(this,Ri)[l];R(this,ni)[u]=R(this,ni)[l];const f=R(this,ni)[l];R(this,Ri)[f]=R(this,Ri)[l]}Mf(this,mn)._--,R(this,gr).push(l)}}if(R(this,ii)&&((o=R(this,xn))!=null&&o.length)){const l=R(this,xn);let c;for(;c=l==null?void 0:l.shift();)(a=R(this,pr))==null||a.call(this,...c)}return i},Pb=function(e){var n,i,r;for(const s of He(this,De,Ys).call(this,{allowStale:!0})){const o=R(this,rt)[s];if(He(this,De,Yt).call(this,o))o.__abortController.abort(new Error("deleted"));else{const a=R(this,Gt)[s];R(this,yr)&&((n=R(this,dr))==null||n.call(this,o,a,e)),R(this,ii)&&((i=R(this,xn))==null||i.push([o,a,e]))}}if(R(this,an).clear(),R(this,rt).fill(void 0),R(this,Gt).fill(void 0),R(this,Pi)&&R(this,br)&&(R(this,Pi).fill(0),R(this,br).fill(0)),R(this,vr)&&R(this,vr).fill(0),Je(this,Bn,0),Je(this,On,0),R(this,gr).length=0,Je(this,mr,0),Je(this,mn,0),R(this,ii)&&R(this,xn)){const s=R(this,xn);let o;for(;o=s==null?void 0:s.shift();)(r=R(this,pr))==null||r.call(this,...o)}};let jd=t1;const jU=400,VU=422,QU=503;class zU{constructor(e){this.lookbackInterval=60*60*1e3*12,this.httpMethod="POST",this.apiPrefix="/api/v1",this.fetchFn=(n,i)=>fetch(n,i),this.requestHeaders=new Headers,this.url=e.url?e.url:"",this.errorHandler=e.httpErrorHandler,e.lookbackInterval&&(this.lookbackInterval=e.lookbackInterval),e.fetchFn&&(this.fetchFn=e.fetchFn),e.httpMethod&&(this.httpMethod=e.httpMethod),e.apiPrefix&&(this.apiPrefix=e.apiPrefix),e.requestHeaders&&(this.requestHeaders=e.requestHeaders)}labelNames(e){const n=new Date,i=new Date(n.getTime()-this.lookbackInterval);if(e===void 0||e===""){const r=this.buildRequest(this.labelsEndpoint(),new URLSearchParams({start:i.toISOString(),end:n.toISOString()}));return this.fetchAPI(r.uri,{method:this.httpMethod,body:r.body}).catch(s=>(this.errorHandler&&this.errorHandler(s),[]))}return this.series(e).then(r=>{const s=new Set;for(const o of r)for(const[a]of Object.entries(o))a!=="__name__"&&s.add(a);return Array.from(s)})}labelValues(e,n,i){const r=new Date,s=new Date(r.getTime()-this.lookbackInterval);if(!n||n.length===0){const o=new URLSearchParams({start:s.toISOString(),end:r.toISOString()});return this.fetchAPI(`${this.labelValuesEndpoint().replace(/:name/gi,e)}?${o}`).catch(a=>(this.errorHandler&&this.errorHandler(a),[]))}return this.series(n,i,e).then(o=>{const a=new Set;for(const l of o)for(const[c,u]of Object.entries(l))c!=="__name__"&&c===e&&a.add(u);return Array.from(a)})}metricMetadata(){return this.fetchAPI(this.metricMetadataEndpoint()).catch(e=>(this.errorHandler&&this.errorHandler(e),{}))}series(e,n,i){const r=new Date,s=new Date(r.getTime()-this.lookbackInterval),o=this.buildRequest(this.seriesEndpoint(),new URLSearchParams({start:s.toISOString(),end:r.toISOString(),"match[]":CU(e,n,i)}));return this.fetchAPI(o.uri,{method:this.httpMethod,body:o.body}).catch(a=>(this.errorHandler&&this.errorHandler(a),[]))}metricNames(){return this.labelValues("__name__")}flags(){return this.fetchAPI(this.flagsEndpoint()).catch(e=>(this.errorHandler&&this.errorHandler(e),{}))}fetchAPI(e,n){return n?n.headers=this.requestHeaders:n={headers:this.requestHeaders},this.fetchFn(this.url+e,n).then(i=>{if(!i.ok&&![jU,VU,QU].includes(i.status))throw new Error(i.statusText);return i}).then(i=>i.json()).then(i=>{if(i.status==="error")throw new Error(i.error!==void 0?i.error:'missing "error" field in response JSON');if(i.data===void 0)throw new Error('missing "data" field in response JSON');return i.data})}buildRequest(e,n){let i=e,r=n;return this.httpMethod==="GET"&&(i=`${i}?${n}`,r=null),{uri:i,body:r}}labelsEndpoint(){return`${this.apiPrefix}/labels`}labelValuesEndpoint(){return`${this.apiPrefix}/label/:name/values`}seriesEndpoint(){return`${this.apiPrefix}/series`}metricMetadataEndpoint(){return`${this.apiPrefix}/metadata`}flagsEndpoint(){return`${this.apiPrefix}/status/flags`}}class WU{constructor(e){const n={ttl:e&&e.maxAge?e.maxAge:3e5,ttlAutopurge:!1};this.completeAssociation=new jd(n),this.metricMetadata={},this.labelValues=new jd(n),this.labelNames=[],this.flags={},e!=null&&e.initialMetricList&&this.setLabelValues("__name__",e.initialMetricList)}setAssociations(e,n){n.forEach(i=>{let r=this.completeAssociation.get(e);r||(r=new Map,this.completeAssociation.set(e,r));for(const[s,o]of Object.entries(i)){if(s==="__name__")continue;const a=r.get(s);a===void 0?r.set(s,new Set([o])):a.add(o)}})}setFlags(e){this.flags=e}getFlags(){return this.flags}setMetricMetadata(e){this.metricMetadata=e}getMetricMetadata(){return this.metricMetadata}setLabelNames(e){this.labelNames=e}getLabelNames(e){if(!e||e.length===0)return this.labelNames;const n=this.completeAssociation.get(e);return n?Array.from(n.keys()):[]}setLabelValues(e,n){this.labelValues.set(e,n)}getLabelValues(e,n){if(!n||n.length===0){const r=this.labelValues.get(e);return r||[]}const i=this.completeAssociation.get(n);if(i){const r=i.get(e);return r?Array.from(r):[]}return[]}}class qU{constructor(e,n){this.client=e,this.cache=new WU(n)}labelNames(e){const n=this.cache.getLabelNames(e);return n&&n.length>0?Promise.resolve(n):e===void 0||e===""?this.client.labelNames().then(i=>(this.cache.setLabelNames(i),i)):this.series(e).then(()=>this.cache.getLabelNames(e))}labelValues(e,n){const i=this.cache.getLabelValues(e,n);return i&&i.length>0?Promise.resolve(i):n===void 0||n===""?this.client.labelValues(e).then(r=>(this.cache.setLabelValues(e,r),r)):this.series(n).then(()=>this.cache.getLabelValues(e,n))}metricMetadata(){const e=this.cache.getMetricMetadata();return e&&Object.keys(e).length>0?Promise.resolve(e):this.client.metricMetadata().then(n=>(this.cache.setMetricMetadata(n),n))}series(e){return this.client.series(e).then(n=>(this.cache.setAssociations(e,n),n))}metricNames(){return this.labelValues("__name__")}flags(){const e=this.cache.getFlags();return e&&Object.keys(e).length>0?Promise.resolve(e):this.client.flags().then(n=>(this.cache.setFlags(n),n))}}function XU(t){const e=t;return typeof e.labelNames=="function"&&typeof e.labelValues=="function"&&typeof e.metricMetadata=="function"&&typeof e.series=="function"&&typeof e.metricNames=="function"}function u_(t){return t!=null&&t.completeStrategy?t.completeStrategy:t!=null&&t.remote?XU(t.remote)?new xg(t.remote,t.maxMetricsMetadata):new xg(new qU(new zU(t.remote),t.remote.cache),t.maxMetricsMetadata):new xg}class UU{promQL(){return e=>{const n=new AU(e.state);return n.analyze(),n.getDiagnostics()}}}function YU(){return new UU}function GU(t,e){return wz(t.call(e))}var $b;(function(t){t.PromQL="PromQL",t.MetricName="MetricName"})($b||($b={}));function KU(t){return Vl.define({parser:H4.configure({top:t}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"#"}}})}class JU{constructor(){this.complete=u_(),this.lint=YU(),this.enableLinter=!0,this.enableCompletion=!0}setComplete(e){return this.complete=u_(e),this}getComplete(){return this.complete}activateCompletion(e){return this.enableCompletion=e,this}setLinter(e){return this.lint=e,this}getLinter(){return this.lint}activateLinter(e){return this.enableLinter=e,this}asExtension(e=$b.PromQL){const n=KU(e);let i=[n];if(this.enableCompletion){const r=n.data.of({autocomplete:s=>this.complete.promQL(s)});i=i.concat(r)}return this.enableLinter&&(i=i.concat(GU(this.lint.promQL,this.lint))),i}}const ZU=["id"],e8=di({__name:"PromQLEditor",props:{url:{type:String,required:!0},promQLurl:{type:String,required:!0},editorId:{type:String,required:!0},editorRule:{type:String,required:!0}},emits:["update:editorRule"],setup(t,{emit:e}){const n=t,i=e,r=Bt(null);return Ea(()=>{try{const s=document.getElementById(n.editorId);if(!s){console.error(`Element with ID '${n.editorId}' not found.`);return}const o=new JU;o.setComplete({maxMetricsMetadata:1e4,remote:{httpErrorHandler:a=>console.error(a),httpMethod:"GET",url:`${n.url}/proxy?url=${n.promQLurl}`}}),r.value=new Me({state:_t.create({doc:n.editorRule,extensions:[NE,o.asExtension(),Me.updateListener.of(a=>{var l;a.docChanged&&i("update:editorRule",((l=r.value)==null?void 0:l.state.doc.toString())||"")})]}),parent:s})}catch(s){console.error("Error initializing the editor:",s)}}),Ss(()=>n.editorRule,s=>{r.value&&r.value.state.doc.toString()!==s&&r.value.dispatch({changes:{from:0,to:r.value.state.doc.length,insert:s}})}),(s,o)=>(Oe(),xe("div",{id:t.editorId,class:"promql-container"},o[0]||(o[0]=[w("div",{class:"promql"},null,-1)]),8,ZU))}}),t8=["id"],n8={class:"modal-dialog modal-xl",role:"document"},i8={class:"modal-content"},r8={class:"modal-header"},s8={class:"modal-title",id:"exampleModalLabel4"},o8={class:"modal-body"},a8={class:"row"},l8={class:"col mb-12"},c8=["id"],u8={class:"row g-6"},f8={class:"col mb-0"},h8=["for"],d8=["id"],p8={class:"row"},m8={class:"col mb-6"},g8=["for"],v8=["id"],b8={class:"row"},y8={class:"col mb-0"},O8=["for"],x8=["id"],w8={class:"row"},_8={class:"col mb-6"},S8=["for"],C8=["id"],T8={class:"row"},A8={class:"col mb-6"},k8=["for"],E8=["id"],D8=["selected"],R8=["selected"],P8=["selected"],$8={class:"col mb-0"},M8=["for"],L8={class:"form-check form-switch"},N8=["id"],I8=["id","for"],F8={class:"col mb-6"},B8=["for"],H8={class:"form-check form-switch"},j8=["id"],V8=["id","for"],Q8={class:"col mb-6"},z8=["for"],W8=["id"],q8=["selected"],X8=["selected"],U8=["selected"],Y8=["selected"],G8={class:"modal-footer"},Vd=di({__name:"RuleModals",props:{configType:{type:String,required:!0},url:{type:String,required:!0},promQLurl:{type:String,required:!0},configuration:Object,save_configuration:{type:Function,required:!0},updateClass:Function,ruleRow:Function,row:{type:Object,required:!0},index:{type:Number,required:!0},selectedClass:String},emits:["toast"],setup(t,{emit:e}){const n=t,i=n.configuration,r=ws({alert:n.row.alert,annotations:{description:n.row.annotations.description},expr:n.row.expr,for:n.row.for||"",labels:{category:n.configType==="generic"?"generic":"service",disabled:n.row.labels.disabled||!1,nhc:n.row.labels.nhc,severity:n.row.labels.severity}});Ss(()=>n.row,g=>{r.alert=g.alert,r.annotations.description=g.annotations.description,r.expr=g.expr,r.for=g.for||"",r.labels.disabled=g.labels.disabled||!1,r.labels.nhc=g.labels.nhc,r.labels.category=g.labels.category||n.index===0?n.configType==="generic"?"generic":"service":n.row.labels.category,r.labels.severity=g.labels.severity},{deep:!0,immediate:!0});const s=Bt("HTML"),o=()=>{},a=e,l=g=>{try{s.value==="JSON"?Object.assign(r,JSON.parse(g)):s.value==="YAML"&&Object.assign(r,pa.load(g))}catch(y){y instanceof Error?a("toast",{message:y.message,toastClass:"bg-danger"}):a("toast",{message:"An unknown error occurred",toastClass:"bg-danger"})}},c=g=>{g===s.value?a("toast",{message:`Error: Already in ${g} Mode, no conversion needed`,toastClass:"bg-warning"}):s.value=g},u=Qn(()=>s.value==="JSON"?JSON.stringify(r,null,2):s.value==="YAML"?pa.dump(r):""),f=(g,y)=>{var O,_;(_=(O=i==null?void 0:i.groups)==null?void 0:O[0])!=null&&_.rules&&y>=0&&y<i.groups[0].rules.length?i.groups[0].rules[y]=g:console.error("Invalid index or rules array not found")};function d(g){var O,_;let y=!1;if(r.alert===""&&(a("toast",{message:"Alert Name is required.",toastClass:"bg-danger"}),y=!0),r.annotations.description===""&&(a("toast",{message:"Alert Description is required.",toastClass:"bg-danger"}),y=!0),r.expr===""&&(a("toast",{message:"Alert Expression is required.",toastClass:"bg-danger"}),y=!0),y===!1){r.for===""&&(r.for="null");const A=Dt(r);if(g===0){const P=JSON.parse(JSON.stringify(n.configuration));(_=(O=P==null?void 0:P.groups)==null?void 0:O[0])!=null&&_.rules?P.groups[0].rules.push(A):console.error("Cannot add row: Invalid configuration structure"),n.save_configuration(n.configType,P,`rule_modal_${n.configType}_${g}`)}else f(A,g-1),n.save_configuration(n.configType,i,`rule_modal_${n.configType}_${g}`)}}const m=g=>Qn({get:()=>g!==!0,set:y=>{y?(g=!1,r.labels.disabled=!1):(g=!0,r.labels.disabled=!0)}});return(g,y)=>(Oe(),xe("div",{class:"modal fade",id:`rule_modal_${n.configType}_${t.index}`,tabindex:"-1","aria-hidden":"true"},[w("div",n8,[w("div",i8,[w("div",r8,[w("h5",s8,"RULE: "+$e(t.index===0?"Add a new Rule":t.row.alert),1),y[14]||(y[14]=w("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),w("div",o8,[w("div",a8,[w("div",l8,[w("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:y[0]||(y[0]=Or(O=>c("HTML"),["prevent"]))},"HTML View"),y[15]||(y[15]=Vt(" ")),w("button",{type:"button",class:"btn btn-primary btn-sm",onClick:y[1]||(y[1]=Or(O=>c("JSON"),["prevent"]))},"JSON View"),y[16]||(y[16]=Vt(" ")),w("button",{type:"button",class:"btn btn-warning btn-sm",onClick:y[2]||(y[2]=Or(O=>c("YAML"),["prevent"]))},"YAML View"),y[17]||(y[17]=w("br",null,null,-1))])]),s.value!=="HTML"?(Oe(),TC(RD,{key:0,"onUpdate:Content":l,ref:"codeMirrorRef",editorHeight:"300",Content:u.value,ContentType:s.value,onToast:y[3]||(y[3]=O=>g.$emit("toast",O))},null,8,["Content","ContentType"])):nn("",!0),s.value==="HTML"?(Oe(),xe("form",{key:1,onInput:o},[w("div",{id:`model-form_${t.index}`},[w("div",u8,[w("div",f8,[w("label",{for:`${n.configType}_rule_name_${t.index}`,class:"form-label"},"Rule Name",8,h8),$n(w("input",{type:"text","onUpdate:modelValue":y[4]||(y[4]=O=>r.alert=O),id:`${n.configType}_rule_name_${t.index}`,class:"form-control",placeholder:"Enter Rule Name",required:""},null,8,d8),[[Bc,r.alert]])])]),w("div",p8,[w("div",m8,[w("label",{for:`${n.configType}_rule_description_${t.index}`,class:"form-label"},"Rule Description",8,g8),$n(w("input",{type:"text","onUpdate:modelValue":y[5]||(y[5]=O=>r.annotations.description=O),id:`${n.configType}_rule_description_${t.index}`,class:"form-control",required:"",placeholder:"Enter Rule Description"},null,8,v8),[[Bc,r.annotations.description]])])]),w("div",b8,[w("div",y8,[w("label",{for:`${n.configType}_rule_for_${t.index}`,class:"form-label"},"Rule For",8,O8),$n(w("input",{type:"text","onUpdate:modelValue":y[6]||(y[6]=O=>r.for=O),id:`${n.configType}_rule_for_${t.index}`,class:"form-control",placeholder:"Enter Rule For"},null,8,x8),[[Bc,r.for]])])]),w("div",w8,[w("div",_8,[w("label",{for:`${n.configType}_exprInput_${t.index}`,class:"form-label"},"Rule Expr",8,S8),Et(e8,{url:t.url,promQLurl:t.promQLurl,"editor-id":`${n.configType}_editor_${n.configType}_${t.index}`,editorRule:r.expr,"onUpdate:editorRule":y[7]||(y[7]=O=>r.expr=O)},{default:iC(()=>y[18]||(y[18]=[w("div",{class:"promql"},null,-1)])),_:1},8,["url","promQLurl","editor-id","editorRule"]),$n(w("input",{type:"hidden","onUpdate:modelValue":y[8]||(y[8]=O=>r.expr=O),id:`${n.configType}_rule_editor__${t.index}`,required:"",class:"form-control"},null,8,C8),[[Bc,r.expr]])])]),w("div",T8,[w("div",A8,[w("label",{for:`${n.configType}_rule_category_${t.index}`,class:"form-label"},"Rule Category",8,k8),$n(w("select",{"onUpdate:modelValue":y[9]||(y[9]=O=>r.labels.category=O),disabled:"",id:`${n.configType}_rule_category_${t.index}`,class:Sn(["form-select","form-select-sm",r.labels.category==="generic"?"btn-info":r.labels.category==="service"?"btn-warning":r.labels.category==="hardware"?"btn-dark":"btn-primary"])},[y[19]||(y[19]=w("option",{class:"btn-primary",value:""},"Set Category",-1)),w("option",{class:"btn-info",value:"generic",selected:r.labels.category==="generic"},"Generic",8,D8),w("option",{class:"btn-warning",value:"service",selected:r.labels.category==="service"},"Service",8,R8),w("option",{class:"btn-dark",value:"hardware",selected:r.labels.category==="hardware"},"Hardware",8,P8)],10,E8),[[td,r.labels.category]])]),w("div",$8,[w("label",{for:`${n.configType}_rule_status_${t.index}`,class:"form-label"},"Enable",8,M8),w("div",L8,[$n(w("input",{"onUpdate:modelValue":y[10]||(y[10]=O=>m(r.labels.disabled).value=O),type:"checkbox",id:`${n.configType}_rule_status_${t.index}`,class:"form-check-input"},null,8,N8),[[Oo,m(r.labels.disabled).value]]),w("label",{id:`${n.configType}_rule_status_label_${t.index}`,for:`${n.configType}_rule_status_${t.index}`,class:"form-check-label"},$e(r.labels.disabled!==!0?"ON":"OFF"),9,I8)])]),w("div",F8,[w("label",{for:`${n.configType}_rule_nhc_${t.index}`,class:"form-label"},"Rule NHC",8,B8),w("div",H8,[$n(w("input",{type:"checkbox","onUpdate:modelValue":y[11]||(y[11]=O=>r.labels.nhc=O),id:`${n.configType}_rule_nhc_${t.index}`,class:"form-check-input","data-toggle":"switch","true-value":!0,"false-value":!1},null,8,j8),[[Oo,r.labels.nhc]]),w("label",{id:`${n.configType}_rule_nhc_label_${t.index}`,for:`${n.configType}_rule_nhc_${t.index}`,class:"form-check-label"},$e(r.labels.nhc===!0?"ON":"OFF"),9,V8)])]),w("div",Q8,[w("label",{for:`${n.configType}_rule_severity_${t.index}`,class:"form-label"},"Set Severity",8,z8),$n(w("select",{"onUpdate:modelValue":y[12]||(y[12]=O=>r.labels.severity=O),id:`${n.configType}_rule_severity_${t.index}`,class:Sn(["form-select","form-select-sm",r.labels.severity==="critical"?"btn-dark":r.labels.severity?"btn-"+r.labels.severity:"btn-primary"])},[y[20]||(y[20]=w("option",{class:"btn-primary",value:""},"Set Severity",-1)),w("option",{class:"btn-dark",value:"critical",selected:r.labels.severity==="critical"},"Critical",8,q8),w("option",{class:"btn-danger",value:"danger",selected:r.labels.severity==="danger"},"Danger",8,X8),w("option",{class:"btn-warning",value:"warning",selected:r.labels.severity==="warning"},"Warning",8,U8),w("option",{class:"btn-info",value:"info",selected:r.labels.severity==="info"},"Informational",8,Y8)],10,W8),[[td,r.labels.severity]])])])],8,c8)],32)):nn("",!0)]),w("div",G8,[y[21]||(y[21]=w("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Close",-1)),w("button",{type:"button",onClick:y[13]||(y[13]=Or(O=>{d(t.index)},["prevent"])),class:"btn btn-primary"},"Save Rule")])])])],8,t8))}});/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ws=new Map,wg={set(t,e,n){Ws.has(t)||Ws.set(t,new Map);const i=Ws.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,n)},get(t,e){return Ws.has(t)&&Ws.get(t).get(e)||null},remove(t,e){if(!Ws.has(t))return;const n=Ws.get(t);n.delete(e),n.size===0&&Ws.delete(t)}},K8=1e6,J8=1e3,Mb="transitionend",tR=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),Z8=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),e9=t=>{do t+=Math.floor(Math.random()*K8);while(document.getElementById(t));return t},t9=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),r=Number.parseFloat(n);return!i&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*J8)},nR=t=>{t.dispatchEvent(new Event(Mb))},As=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Ao=t=>As(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(tR(t)):null,uc=t=>{if(!As(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const i=t.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return e},ko=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",iR=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?iR(t.parentNode):null},Qd=()=>{},yf=t=>{t.offsetHeight},rR=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_g=[],n9=t=>{document.readyState==="loading"?(_g.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of _g)e()}),_g.push(t)):t()},sr=()=>document.documentElement.dir==="rtl",lr=t=>{n9(()=>{const e=rR();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}})},xi=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,sR=(t,e,n=!0)=>{if(!n){xi(t);return}const r=t9(e)+5;let s=!1;const o=({target:a})=>{a===e&&(s=!0,e.removeEventListener(Mb,o),xi(t))};e.addEventListener(Mb,o),setTimeout(()=>{s||nR(e)},r)},k0=(t,e,n,i)=>{const r=t.length;let s=t.indexOf(e);return s===-1?!n&&i?t[r-1]:t[0]:(s+=n?1:-1,i&&(s=(s+r)%r),t[Math.max(0,Math.min(s,r-1))])},i9=/[^.]*(?=\..*)\.|.*/,r9=/\..*/,s9=/::\d+$/,Sg={};let f_=1;const oR={mouseenter:"mouseover",mouseleave:"mouseout"},o9=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function aR(t,e){return e&&`${e}::${f_++}`||t.uidEvent||f_++}function lR(t){const e=aR(t);return t.uidEvent=e,Sg[e]=Sg[e]||{},Sg[e]}function a9(t,e){return function n(i){return E0(i,{delegateTarget:t}),n.oneOff&&ge.off(t,i.type,e),e.apply(t,[i])}}function l9(t,e,n){return function i(r){const s=t.querySelectorAll(e);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return E0(r,{delegateTarget:o}),i.oneOff&&ge.off(t,r.type,e,n),n.apply(o,[r])}}function cR(t,e,n=null){return Object.values(t).find(i=>i.callable===e&&i.delegationSelector===n)}function uR(t,e,n){const i=typeof e=="string",r=i?n:e||n;let s=fR(t);return o9.has(s)||(s=t),[i,r,s]}function h_(t,e,n,i,r){if(typeof e!="string"||!t)return;let[s,o,a]=uR(e,n,i);e in oR&&(o=(g=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return g.call(this,y)})(o));const l=lR(t),c=l[a]||(l[a]={}),u=cR(c,o,s?n:null);if(u){u.oneOff=u.oneOff&&r;return}const f=aR(o,e.replace(i9,"")),d=s?l9(t,n,o):a9(t,o);d.delegationSelector=s?n:null,d.callable=o,d.oneOff=r,d.uidEvent=f,c[f]=d,t.addEventListener(a,d,s)}function Lb(t,e,n,i,r){const s=cR(e[n],i,r);s&&(t.removeEventListener(n,s,!!r),delete e[n][s.uidEvent])}function c9(t,e,n,i){const r=e[n]||{};for(const[s,o]of Object.entries(r))s.includes(i)&&Lb(t,e,n,o.callable,o.delegationSelector)}function fR(t){return t=t.replace(r9,""),oR[t]||t}const ge={on(t,e,n,i){h_(t,e,n,i,!1)},one(t,e,n,i){h_(t,e,n,i,!0)},off(t,e,n,i){if(typeof e!="string"||!t)return;const[r,s,o]=uR(e,n,i),a=o!==e,l=lR(t),c=l[o]||{},u=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;Lb(t,l,o,s,r?n:null);return}if(u)for(const f of Object.keys(l))c9(t,l,f,e.slice(1));for(const[f,d]of Object.entries(c)){const m=f.replace(s9,"");(!a||e.includes(m))&&Lb(t,l,o,d.callable,d.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const i=rR(),r=fR(e),s=e!==r;let o=null,a=!0,l=!0,c=!1;s&&i&&(o=i.Event(e,n),i(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const u=E0(new Event(e,{bubbles:a,cancelable:!0}),n);return c&&u.preventDefault(),l&&t.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function E0(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch{Object.defineProperty(t,n,{configurable:!0,get(){return i}})}return t}function d_(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Cg(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ks={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Cg(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Cg(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=d_(t.dataset[i])}return e},getDataAttribute(t,e){return d_(t.getAttribute(`data-bs-${Cg(e)}`))}};class Of{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const i=As(n)?ks.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...As(n)?ks.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[i,r]of Object.entries(n)){const s=e[i],o=As(s)?"element":Z8(s);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${r}".`)}}}const u9="5.3.3";class Er extends Of{constructor(e,n){super(),e=Ao(e),e&&(this._element=e,this._config=this._getConfig(n),wg.set(this._element,this.constructor.DATA_KEY,this))}dispose(){wg.remove(this._element,this.constructor.DATA_KEY),ge.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){sR(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return wg.get(Ao(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return u9}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Tg=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>tR(n)).join(","):null},Ye={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!ko(n)&&uc(n))},getSelectorFromElement(t){const e=Tg(t);return e&&Ye.findOne(e)?e:null},getElementFromSelector(t){const e=Tg(t);return e?Ye.findOne(e):null},getMultipleElementsFromSelector(t){const e=Tg(t);return e?Ye.find(e):[]}},Bp=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;ge.on(document,n,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),ko(this))return;const s=Ye.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(s)[e]()})},f9="alert",h9="bs.alert",hR=`.${h9}`,d9=`close${hR}`,p9=`closed${hR}`,m9="fade",g9="show";class Hp extends Er{static get NAME(){return f9}close(){if(ge.trigger(this._element,d9).defaultPrevented)return;this._element.classList.remove(g9);const n=this._element.classList.contains(m9);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),ge.trigger(this._element,p9),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Hp.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Bp(Hp,"close");lr(Hp);const v9="button",b9="bs.button",y9=`.${b9}`,O9=".data-api",x9="active",p_='[data-bs-toggle="button"]',w9=`click${y9}${O9}`;class jp extends Er{static get NAME(){return v9}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(x9))}static jQueryInterface(e){return this.each(function(){const n=jp.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}ge.on(document,w9,p_,t=>{t.preventDefault();const e=t.target.closest(p_);jp.getOrCreateInstance(e).toggle()});lr(jp);const _9="swipe",fc=".bs.swipe",S9=`touchstart${fc}`,C9=`touchmove${fc}`,T9=`touchend${fc}`,A9=`pointerdown${fc}`,k9=`pointerup${fc}`,E9="touch",D9="pen",R9="pointer-event",P9=40,$9={endCallback:null,leftCallback:null,rightCallback:null},M9={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class zd extends Of{constructor(e,n){super(),this._element=e,!(!e||!zd.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return $9}static get DefaultType(){return M9}static get NAME(){return _9}dispose(){ge.off(this._element,fc)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),xi(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=P9)return;const n=e/this._deltaX;this._deltaX=0,n&&xi(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ge.on(this._element,A9,e=>this._start(e)),ge.on(this._element,k9,e=>this._end(e)),this._element.classList.add(R9)):(ge.on(this._element,S9,e=>this._start(e)),ge.on(this._element,C9,e=>this._move(e)),ge.on(this._element,T9,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===D9||e.pointerType===E9)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const L9="carousel",N9="bs.carousel",Lo=`.${N9}`,dR=".data-api",I9="ArrowLeft",F9="ArrowRight",B9=500,$c="next",Wa="prev",tl="left",Vh="right",H9=`slide${Lo}`,Ag=`slid${Lo}`,j9=`keydown${Lo}`,V9=`mouseenter${Lo}`,Q9=`mouseleave${Lo}`,z9=`dragstart${Lo}`,W9=`load${Lo}${dR}`,q9=`click${Lo}${dR}`,pR="carousel",fh="active",X9="slide",U9="carousel-item-end",Y9="carousel-item-start",G9="carousel-item-next",K9="carousel-item-prev",mR=".active",gR=".carousel-item",J9=mR+gR,Z9=".carousel-item img",e6=".carousel-indicators",t6="[data-bs-slide], [data-bs-slide-to]",n6='[data-bs-ride="carousel"]',i6={[I9]:Vh,[F9]:tl},r6={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},s6={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xf extends Er{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ye.findOne(e6,this._element),this._addEventListeners(),this._config.ride===pR&&this.cycle()}static get Default(){return r6}static get DefaultType(){return s6}static get NAME(){return L9}next(){this._slide($c)}nextWhenVisible(){!document.hidden&&uc(this._element)&&this.next()}prev(){this._slide(Wa)}pause(){this._isSliding&&nR(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ge.one(this._element,Ag,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){ge.one(this._element,Ag,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const r=e>i?$c:Wa;this._slide(r,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ge.on(this._element,j9,e=>this._keydown(e)),this._config.pause==="hover"&&(ge.on(this._element,V9,()=>this.pause()),ge.on(this._element,Q9,()=>this._maybeEnableCycle())),this._config.touch&&zd.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Ye.find(Z9,this._element))ge.on(i,z9,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(tl)),rightCallback:()=>this._slide(this._directionToOrder(Vh)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),B9+this._config.interval))}};this._swipeHelper=new zd(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=i6[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Ye.findOne(mR,this._indicatorsElement);n.classList.remove(fh),n.removeAttribute("aria-current");const i=Ye.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(fh),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const i=this._getActive(),r=e===$c,s=n||k0(this._getItems(),i,r,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),a=m=>ge.trigger(this._element,m,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(a(H9).defaultPrevented||!i||!s)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const u=r?Y9:U9,f=r?G9:K9;s.classList.add(f),yf(s),i.classList.add(u),s.classList.add(u);const d=()=>{s.classList.remove(u,f),s.classList.add(fh),i.classList.remove(fh,f,u),this._isSliding=!1,a(Ag)};this._queueCallback(d,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(X9)}_getActive(){return Ye.findOne(J9,this._element)}_getItems(){return Ye.find(gR,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return sr()?e===tl?Wa:$c:e===tl?$c:Wa}_orderToDirection(e){return sr()?e===Wa?tl:Vh:e===Wa?Vh:tl}static jQueryInterface(e){return this.each(function(){const n=xf.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ge.on(document,q9,t6,function(t){const e=Ye.getElementFromSelector(this);if(!e||!e.classList.contains(pR))return;t.preventDefault();const n=xf.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(ks.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});ge.on(window,W9,()=>{const t=Ye.find(n6);for(const e of t)xf.getOrCreateInstance(e)});lr(xf);const o6="collapse",a6="bs.collapse",wf=`.${a6}`,l6=".data-api",c6=`show${wf}`,u6=`shown${wf}`,f6=`hide${wf}`,h6=`hidden${wf}`,d6=`click${wf}${l6}`,kg="show",cl="collapse",hh="collapsing",p6="collapsed",m6=`:scope .${cl} .${cl}`,g6="collapse-horizontal",v6="width",b6="height",y6=".collapse.show, .collapse.collapsing",Nb='[data-bs-toggle="collapse"]',O6={parent:null,toggle:!0},x6={parent:"(null|element)",toggle:"boolean"};class Xu extends Er{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const i=Ye.find(Nb);for(const r of i){const s=Ye.getSelectorFromElement(r),o=Ye.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return O6}static get DefaultType(){return x6}static get NAME(){return o6}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(y6).filter(a=>a!==this._element).map(a=>Xu.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||ge.trigger(this._element,c6).defaultPrevented)return;for(const a of e)a.hide();const i=this._getDimension();this._element.classList.remove(cl),this._element.classList.add(hh),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(hh),this._element.classList.add(cl,kg),this._element.style[i]="",ge.trigger(this._element,u6)},o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||ge.trigger(this._element,f6).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,yf(this._element),this._element.classList.add(hh),this._element.classList.remove(cl,kg);for(const r of this._triggerArray){const s=Ye.getElementFromSelector(r);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(hh),this._element.classList.add(cl),ge.trigger(this._element,h6)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(kg)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ao(e.parent),e}_getDimension(){return this._element.classList.contains(g6)?v6:b6}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Nb);for(const n of e){const i=Ye.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(e){const n=Ye.find(m6,this._config.parent);return Ye.find(e,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const i of e)i.classList.toggle(p6,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const i=Xu.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}ge.on(document,d6,Nb,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Ye.getMultipleElementsFromSelector(this))Xu.getOrCreateInstance(e,{toggle:!1}).toggle()});lr(Xu);const m_="dropdown",w6="bs.dropdown",Da=`.${w6}`,D0=".data-api",_6="Escape",g_="Tab",S6="ArrowUp",v_="ArrowDown",C6=2,T6=`hide${Da}`,A6=`hidden${Da}`,k6=`show${Da}`,E6=`shown${Da}`,vR=`click${Da}${D0}`,bR=`keydown${Da}${D0}`,D6=`keyup${Da}${D0}`,nl="show",R6="dropup",P6="dropend",$6="dropstart",M6="dropup-center",L6="dropdown-center",ia='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',N6=`${ia}.${nl}`,Qh=".dropdown-menu",I6=".navbar",F6=".navbar-nav",B6=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",H6=sr()?"top-end":"top-start",j6=sr()?"top-start":"top-end",V6=sr()?"bottom-end":"bottom-start",Q6=sr()?"bottom-start":"bottom-end",z6=sr()?"left-start":"right-start",W6=sr()?"right-start":"left-start",q6="top",X6="bottom",U6={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Y6={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ns extends Er{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Ye.next(this._element,Qh)[0]||Ye.prev(this._element,Qh)[0]||Ye.findOne(Qh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return U6}static get DefaultType(){return Y6}static get NAME(){return m_}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ko(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ge.trigger(this._element,k6,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(F6))for(const i of[].concat(...document.body.children))ge.on(i,"mouseover",Qd);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(nl),this._element.classList.add(nl),ge.trigger(this._element,E6,e)}}hide(){if(ko(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ge.trigger(this._element,T6,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ge.off(i,"mouseover",Qd);this._popper&&this._popper.destroy(),this._menu.classList.remove(nl),this._element.classList.remove(nl),this._element.setAttribute("aria-expanded","false"),ks.removeDataAttribute(this._menu,"popper"),ge.trigger(this._element,A6,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!As(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${m_.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof ET>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:As(this._config.reference)?e=Ao(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=yp(e,this._menu,n)}_isShown(){return this._menu.classList.contains(nl)}_getPlacement(){const e=this._parent;if(e.classList.contains(P6))return z6;if(e.classList.contains($6))return W6;if(e.classList.contains(M6))return q6;if(e.classList.contains(L6))return X6;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(R6)?n?j6:H6:n?Q6:V6}_detectNavbar(){return this._element.closest(I6)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ks.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...xi(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const i=Ye.find(B6,this._menu).filter(r=>uc(r));i.length&&k0(i,n,e===v_,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=ns.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===C6||e.type==="keyup"&&e.key!==g_)return;const n=Ye.find(N6);for(const i of n){const r=ns.getInstance(i);if(!r||r._config.autoClose===!1)continue;const s=e.composedPath(),o=s.includes(r._menu);if(s.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===g_||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:r._element};e.type==="click"&&(a.clickEvent=e),r._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),i=e.key===_6,r=[S6,v_].includes(e.key);if(!r&&!i||n&&!i)return;e.preventDefault();const s=this.matches(ia)?this:Ye.prev(this,ia)[0]||Ye.next(this,ia)[0]||Ye.findOne(ia,e.delegateTarget.parentNode),o=ns.getOrCreateInstance(s);if(r){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}}ge.on(document,bR,ia,ns.dataApiKeydownHandler);ge.on(document,bR,Qh,ns.dataApiKeydownHandler);ge.on(document,vR,ns.clearMenus);ge.on(document,D6,ns.clearMenus);ge.on(document,vR,ia,function(t){t.preventDefault(),ns.getOrCreateInstance(this).toggle()});lr(ns);const yR="backdrop",G6="fade",b_="show",y_=`mousedown.bs.${yR}`,K6={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},J6={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class OR extends Of{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return K6}static get DefaultType(){return J6}static get NAME(){return yR}show(e){if(!this._config.isVisible){xi(e);return}this._append();const n=this._getElement();this._config.isAnimated&&yf(n),n.classList.add(b_),this._emulateAnimation(()=>{xi(e)})}hide(e){if(!this._config.isVisible){xi(e);return}this._getElement().classList.remove(b_),this._emulateAnimation(()=>{this.dispose(),xi(e)})}dispose(){this._isAppended&&(ge.off(this._element,y_),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(G6),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ao(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ge.on(e,y_,()=>{xi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){sR(e,this._getElement(),this._config.isAnimated)}}const Z6="focustrap",eY="bs.focustrap",Wd=`.${eY}`,tY=`focusin${Wd}`,nY=`keydown.tab${Wd}`,iY="Tab",rY="forward",O_="backward",sY={autofocus:!0,trapElement:null},oY={autofocus:"boolean",trapElement:"element"};class xR extends Of{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return sY}static get DefaultType(){return oY}static get NAME(){return Z6}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ge.off(document,Wd),ge.on(document,tY,e=>this._handleFocusin(e)),ge.on(document,nY,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ge.off(document,Wd))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const i=Ye.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===O_?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===iY&&(this._lastTabNavDirection=e.shiftKey?O_:rY)}}const x_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",w_=".sticky-top",dh="padding-right",__="margin-right";class Ib{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,dh,n=>n+e),this._setElementAttributes(x_,dh,n=>n+e),this._setElementAttributes(w_,__,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,dh),this._resetElementAttributes(x_,dh),this._resetElementAttributes(w_,__)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,i){const r=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&ks.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){const i=r=>{const s=ks.getDataAttribute(r,n);if(s===null){r.style.removeProperty(n);return}ks.removeDataAttribute(r,n),r.style.setProperty(n,s)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,n){if(As(e)){n(e);return}for(const i of Ye.find(e,this._element))n(i)}}const aY="modal",lY="bs.modal",or=`.${lY}`,cY=".data-api",uY="Escape",fY=`hide${or}`,hY=`hidePrevented${or}`,wR=`hidden${or}`,_R=`show${or}`,dY=`shown${or}`,pY=`resize${or}`,mY=`click.dismiss${or}`,gY=`mousedown.dismiss${or}`,vY=`keydown.dismiss${or}`,bY=`click${or}${cY}`,S_="modal-open",yY="fade",C_="show",Eg="modal-static",OY=".modal.show",xY=".modal-dialog",wY=".modal-body",_Y='[data-bs-toggle="modal"]',SY={backdrop:!0,focus:!0,keyboard:!0},CY={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ls extends Er{constructor(e,n){super(e,n),this._dialog=Ye.findOne(xY,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ib,this._addEventListeners()}static get Default(){return SY}static get DefaultType(){return CY}static get NAME(){return aY}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ge.trigger(this._element,_R,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(S_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ge.trigger(this._element,fY).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(C_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ge.off(window,or),ge.off(this._dialog,or),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new OR({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new xR({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Ye.findOne(wY,this._dialog);n&&(n.scrollTop=0),yf(this._element),this._element.classList.add(C_);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ge.trigger(this._element,dY,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){ge.on(this._element,vY,e=>{if(e.key===uY){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ge.on(window,pY,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ge.on(this._element,gY,e=>{ge.one(this._element,mY,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(S_),this._resetAdjustments(),this._scrollBar.reset(),ge.trigger(this._element,wR)})}_isAnimated(){return this._element.classList.contains(yY)}_triggerBackdropTransition(){if(ge.trigger(this._element,hY).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Eg)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Eg),this._queueCallback(()=>{this._element.classList.remove(Eg),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!e){const r=sr()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!i&&e){const r=sr()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const i=Ls.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](n)}})}}ge.on(document,bY,_Y,function(t){const e=Ye.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),ge.one(e,_R,r=>{r.defaultPrevented||ge.one(e,wR,()=>{uc(this)&&this.focus()})});const n=Ye.findOne(OY);n&&Ls.getInstance(n).hide(),Ls.getOrCreateInstance(e).toggle(this)});Bp(Ls);lr(Ls);const TY="offcanvas",AY="bs.offcanvas",Hs=`.${AY}`,SR=".data-api",kY=`load${Hs}${SR}`,EY="Escape",T_="show",A_="showing",k_="hiding",DY="offcanvas-backdrop",CR=".offcanvas.show",RY=`show${Hs}`,PY=`shown${Hs}`,$Y=`hide${Hs}`,E_=`hidePrevented${Hs}`,TR=`hidden${Hs}`,MY=`resize${Hs}`,LY=`click${Hs}${SR}`,NY=`keydown.dismiss${Hs}`,IY='[data-bs-toggle="offcanvas"]',FY={backdrop:!0,keyboard:!0,scroll:!1},BY={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Eo extends Er{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return FY}static get DefaultType(){return BY}static get NAME(){return TY}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ge.trigger(this._element,RY,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ib().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(A_);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(T_),this._element.classList.remove(A_),ge.trigger(this._element,PY,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||ge.trigger(this._element,$Y).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(k_),this._backdrop.hide();const n=()=>{this._element.classList.remove(T_,k_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ib().reset(),ge.trigger(this._element,TR)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ge.trigger(this._element,E_);return}this.hide()},n=!!this._config.backdrop;return new OR({className:DY,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new xR({trapElement:this._element})}_addEventListeners(){ge.on(this._element,NY,e=>{if(e.key===EY){if(this._config.keyboard){this.hide();return}ge.trigger(this._element,E_)}})}static jQueryInterface(e){return this.each(function(){const n=Eo.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}ge.on(document,LY,IY,function(t){const e=Ye.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),ko(this))return;ge.one(e,TR,()=>{uc(this)&&this.focus()});const n=Ye.findOne(CR);n&&n!==e&&Eo.getInstance(n).hide(),Eo.getOrCreateInstance(e).toggle(this)});ge.on(window,kY,()=>{for(const t of Ye.find(CR))Eo.getOrCreateInstance(t).show()});ge.on(window,MY,()=>{for(const t of Ye.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Eo.getOrCreateInstance(t).hide()});Bp(Eo);lr(Eo);const HY=/^aria-[\w-]*$/i,AR={"*":["class","dir","id","lang","role",HY],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},jY=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),VY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,QY=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?jY.has(n)?!!VY.test(t.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function zY(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...r.body.querySelectorAll("*"));for(const o of s){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const u of l)QY(u,c)||o.removeAttribute(u.nodeName)}return r.body.innerHTML}const WY="TemplateFactory",qY={allowList:AR,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},XY={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},UY={entry:"(string|element|function|null)",selector:"(string|element)"};class YY extends Of{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return qY}static get DefaultType(){return XY}static get NAME(){return WY}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,s]of Object.entries(this._config.content))this._setContent(e,s,r);const n=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,i]of Object.entries(e))super._typeCheckConfig({selector:n,entry:i},UY)}_setContent(e,n,i){const r=Ye.findOne(i,e);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(As(n)){this._putElementInTemplate(Ao(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(e){return this._config.sanitize?zY(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return xi(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const GY="tooltip",KY=new Set(["sanitize","allowList","sanitizeFn"]),Dg="fade",JY="modal",ph="show",ZY=".tooltip-inner",D_=`.${JY}`,R_="hide.bs.modal",Mc="hover",Rg="focus",e7="click",t7="manual",n7="hide",i7="hidden",r7="show",s7="shown",o7="inserted",a7="click",l7="focusin",c7="focusout",u7="mouseenter",f7="mouseleave",h7={AUTO:"auto",TOP:"top",RIGHT:sr()?"left":"right",BOTTOM:"bottom",LEFT:sr()?"right":"left"},d7={allowList:AR,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},p7={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class hc extends Er{constructor(e,n){if(typeof ET>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return d7}static get DefaultType(){return p7}static get NAME(){return GY}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ge.off(this._element.closest(D_),R_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ge.trigger(this._element,this.constructor.eventName(r7)),i=(iR(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(r),ge.trigger(this._element,this.constructor.eventName(o7))),this._popper=this._createPopper(r),r.classList.add(ph),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))ge.on(a,"mouseover",Qd);const o=()=>{ge.trigger(this._element,this.constructor.eventName(s7)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ge.trigger(this._element,this.constructor.eventName(n7)).defaultPrevented)return;if(this._getTipElement().classList.remove(ph),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ge.off(r,"mouseover",Qd);this._activeTrigger[e7]=!1,this._activeTrigger[Rg]=!1,this._activeTrigger[Mc]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ge.trigger(this._element,this.constructor.eventName(i7)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Dg,ph),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=e9(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(Dg),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new YY({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ZY]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Dg)}_isShown(){return this.tip&&this.tip.classList.contains(ph)}_createPopper(e){const n=xi(this._config.placement,[this,e,this._element]),i=h7[n.toUpperCase()];return yp(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return xi(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...xi(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")ge.on(this._element,this.constructor.eventName(a7),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==t7){const i=n===Mc?this.constructor.eventName(u7):this.constructor.eventName(l7),r=n===Mc?this.constructor.eventName(f7):this.constructor.eventName(c7);ge.on(this._element,i,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?Rg:Mc]=!0,o._enter()}),ge.on(this._element,r,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?Rg:Mc]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ge.on(this._element.closest(D_),R_,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=ks.getDataAttributes(this._element);for(const i of Object.keys(n))KY.has(i)&&delete n[i];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ao(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(e[n]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=hc.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}lr(hc);const m7="popover",g7=".popover-header",v7=".popover-body",b7={...hc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},y7={...hc.DefaultType,content:"(null|string|element|function)"};class R0 extends hc{static get Default(){return b7}static get DefaultType(){return y7}static get NAME(){return m7}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[g7]:this._getTitle(),[v7]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=R0.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}lr(R0);const O7="scrollspy",x7="bs.scrollspy",P0=`.${x7}`,w7=".data-api",_7=`activate${P0}`,P_=`click${P0}`,S7=`load${P0}${w7}`,C7="dropdown-item",qa="active",T7='[data-bs-spy="scroll"]',Pg="[href]",A7=".nav, .list-group",$_=".nav-link",k7=".nav-item",E7=".list-group-item",D7=`${$_}, ${k7} > ${$_}, ${E7}`,R7=".dropdown",P7=".dropdown-toggle",$7={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},M7={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vp extends Er{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return $7}static get DefaultType(){return M7}static get NAME(){return O7}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ao(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ge.off(this._config.target,P_),ge.on(this._config.target,P_,Pg,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const i=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},r=(this._rootElement||document.documentElement).scrollTop,s=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(i(o),!r)return;continue}!s&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ye.find(Pg,this._config.target);for(const n of e){if(!n.hash||ko(n))continue;const i=Ye.findOne(decodeURI(n.hash),this._element);uc(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(qa),this._activateParents(e),ge.trigger(this._element,_7,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(C7)){Ye.findOne(P7,e.closest(R7)).classList.add(qa);return}for(const n of Ye.parents(e,A7))for(const i of Ye.prev(n,D7))i.classList.add(qa)}_clearActiveClass(e){e.classList.remove(qa);const n=Ye.find(`${Pg}.${qa}`,e);for(const i of n)i.classList.remove(qa)}static jQueryInterface(e){return this.each(function(){const n=Vp.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ge.on(window,S7,()=>{for(const t of Ye.find(T7))Vp.getOrCreateInstance(t)});lr(Vp);const L7="tab",N7="bs.tab",Ra=`.${N7}`,I7=`hide${Ra}`,F7=`hidden${Ra}`,B7=`show${Ra}`,H7=`shown${Ra}`,j7=`click${Ra}`,V7=`keydown${Ra}`,Q7=`load${Ra}`,z7="ArrowLeft",M_="ArrowRight",W7="ArrowUp",L_="ArrowDown",$g="Home",N_="End",ra="active",I_="fade",Mg="show",q7="dropdown",kR=".dropdown-toggle",X7=".dropdown-menu",Lg=`:not(${kR})`,U7='.list-group, .nav, [role="tablist"]',Y7=".nav-item, .list-group-item",G7=`.nav-link${Lg}, .list-group-item${Lg}, [role="tab"]${Lg}`,ER='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ng=`${G7}, ${ER}`,K7=`.${ra}[data-bs-toggle="tab"], .${ra}[data-bs-toggle="pill"], .${ra}[data-bs-toggle="list"]`;class Gl extends Er{constructor(e){super(e),this._parent=this._element.closest(U7),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ge.on(this._element,V7,n=>this._keydown(n)))}static get NAME(){return L7}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),i=n?ge.trigger(n,I7,{relatedTarget:e}):null;ge.trigger(e,B7,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(ra),this._activate(Ye.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Mg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ge.trigger(e,H7,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(I_))}_deactivate(e,n){if(!e)return;e.classList.remove(ra),e.blur(),this._deactivate(Ye.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Mg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ge.trigger(e,F7,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(I_))}_keydown(e){if(![z7,M_,W7,L_,$g,N_].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(r=>!ko(r));let i;if([$g,N_].includes(e.key))i=n[e.key===$g?0:n.length-1];else{const r=[M_,L_].includes(e.key);i=k0(n,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),Gl.getOrCreateInstance(i).show())}_getChildren(){return Ye.find(Ng,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",n),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Ye.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const i=this._getOuterElement(e);if(!i.classList.contains(q7))return;const r=(s,o)=>{const a=Ye.findOne(s,i);a&&a.classList.toggle(o,n)};r(kR,ra),r(X7,Mg),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,i){e.hasAttribute(n)||e.setAttribute(n,i)}_elemIsActive(e){return e.classList.contains(ra)}_getInnerElement(e){return e.matches(Ng)?e:Ye.findOne(Ng,e)}_getOuterElement(e){return e.closest(Y7)||e}static jQueryInterface(e){return this.each(function(){const n=Gl.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ge.on(document,j7,ER,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!ko(this)&&Gl.getOrCreateInstance(this).show()});ge.on(window,Q7,()=>{for(const t of Ye.find(K7))Gl.getOrCreateInstance(t)});lr(Gl);const J7="toast",Z7="bs.toast",No=`.${Z7}`,eG=`mouseover${No}`,tG=`mouseout${No}`,nG=`focusin${No}`,iG=`focusout${No}`,rG=`hide${No}`,sG=`hidden${No}`,oG=`show${No}`,aG=`shown${No}`,lG="fade",F_="hide",mh="show",gh="showing",cG={animation:"boolean",autohide:"boolean",delay:"number"},uG={animation:!0,autohide:!0,delay:5e3};class Qp extends Er{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return uG}static get DefaultType(){return cG}static get NAME(){return J7}show(){if(ge.trigger(this._element,oG).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(lG);const n=()=>{this._element.classList.remove(gh),ge.trigger(this._element,aG),this._maybeScheduleHide()};this._element.classList.remove(F_),yf(this._element),this._element.classList.add(mh,gh),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||ge.trigger(this._element,rG).defaultPrevented)return;const n=()=>{this._element.classList.add(F_),this._element.classList.remove(gh,mh),ge.trigger(this._element,sG)};this._element.classList.add(gh),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(mh),super.dispose()}isShown(){return this._element.classList.contains(mh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){ge.on(this._element,eG,e=>this._onInteraction(e,!0)),ge.on(this._element,tG,e=>this._onInteraction(e,!1)),ge.on(this._element,nG,e=>this._onInteraction(e,!0)),ge.on(this._element,iG,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Qp.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Bp(Qp);lr(Qp);const fG={class:"container-xxl flex-grow-1 container-p-y",style:{"max-width":"none"}},hG={style:{float:"right"}},dG={class:"card"},pG={class:"card-body"},mG={class:"table-responsive text-nowrap"},gG={id:"alert-table",class:"table table-bordered table-striped table-hover table-responsive"},vG={scope:"row"},bG=["onClick"],yG=["id","value"],OG=["id","value"],xG=["id","value"],wG=["id","value"],_G=["id","value"],SG=["id","value"],CG={class:"form-check form-switch mb-2"},TG=["onUpdate:modelValue","onClick","id"],AG=["for"],kG={class:"form-check form-switch mb-2"},EG=["onUpdate:modelValue","onClick","id"],DG=["for"],RG=["id","onChange","onUpdate:modelValue"],PG=["selected"],$G=["selected"],MG=["selected"],LG=["selected"],NG={style:{display:"inline-block"},class:"tooltip-wrapper","data-bs-toggle":"tooltip","data-bs-html":"true","data-bs-original-title":"<i class='bx bxs-arrow-from-left bx-xs'></i> <span>Edit This Rule</span>"},IG=["data-bs-target"],FG=["onClick"],BG={key:1},HG={key:1},jG=di({__name:"TabConfiguration",props:{rulesFile:{type:String,required:!0},save_configuration:{type:Function,required:!0},Content:{type:String,required:!0},ContentType:{type:String,required:!0},update_configuration:{type:Function,required:!0},url:{type:String,required:!0},promQLurl:{type:String,required:!0},configuration:Object,updateClass:Function,ruleRow:Function,selectedClass:String},emits:["toast"],setup(t,{emit:e}){const n=t,i=Bt(null),r=a=>{const l=document.getElementById(`rule_modal_generic_${a}`);l?(i.value=new Ls(l,{backdrop:!0}),i.value.show()):console.error(`Modal with ID rule_modal_${a} not found`)};function s(a){var l,c;if(window.confirm("Are you sure you want to delete this rule?")){const u=JSON.parse(JSON.stringify(n.configuration));(c=(l=u==null?void 0:u.groups)==null?void 0:l[0])!=null&&c.rules&&(u.groups[0].rules.splice(a,1),n.save_configuration("generic",u,"On Page"))}}const o=a=>Qn({get:()=>a!==!0,set:l=>{l===!0?a=!1:a=!0}});return(a,l)=>{var c,u,f;return Oe(),xe("div",fG,[w("span",hG,[Et(PD,{configType:"generic",rulesFile:t.rulesFile,save_configuration:t.save_configuration,Content:t.Content,ContentType:t.ContentType,onToast:l[0]||(l[0]=d=>a.$emit("toast",d))},null,8,["rulesFile","save_configuration","Content","ContentType"])]),l[10]||(l[10]=w("h4",{class:"fw-bold py-3 mb-4"},[w("span",{class:"text-muted fw-light"}," Monitoring /"),Vt(" Generic Rules ")],-1)),w("div",dG,[l[9]||(l[9]=w("h5",{class:"card-header"},"Rules",-1)),w("div",pG,[w("div",mG,[Et(Vd,{configType:"generic",url:t.url,promQLurl:t.promQLurl,configuration:t.configuration,save_configuration:t.save_configuration,updateClass:t.updateClass,ruleRow:t.ruleRow,row:{alert:"",annotations:{description:""},for:"",expr:"",labels:{category:"",disabled:!1,nhc:!1,severity:"info"}},index:0,selectedClass:t.selectedClass,onToast:l[1]||(l[1]=d=>a.$emit("toast",d))},null,8,["url","promQLurl","configuration","save_configuration","updateClass","ruleRow","selectedClass"]),w("table",gG,[l[8]||(l[8]=w("thead",null,[w("tr",null,[w("th",{scope:"col"},"#"),w("th",{scope:"col"},"Group"),w("th",{scope:"col"},"Rule"),w("th",{scope:"col"},"Time"),w("th",{scope:"col"},"Enable"),w("th",{scope:"col"},"NHC"),w("th",{scope:"col"},"Severity"),w("th",{scope:"col"},"Actions")])],-1)),(c=n.configuration)!=null&&c.groups&&((u=n.configuration)==null?void 0:u.groups.length)>0?(Oe(!0),xe(Ot,{key:0},Gi((f=n.configuration)==null?void 0:f.groups,(d,m)=>(Oe(),xe("tbody",{key:d.name},[d.rules&&d.rules.length>0?(Oe(!0),xe(Ot,{key:0},Gi(d.rules,(g,y)=>(Oe(),xe("tr",{key:y},[w("th",vG,$e(y+1),1),w("td",null,$e(d.name),1),w("td",null,[w("a",{href:"#",onClick:Or(O=>r(y+1),["prevent"])},$e(g.alert),9,bG),w("input",{type:"hidden",id:`generic_group_name_${m+1}`,value:`${d.name}`},null,8,yG),w("input",{type:"hidden",id:`generic_rule_name_${y+1}`,value:`${g.alert}`},null,8,OG),w("input",{type:"hidden",id:`generic_rule_description_${y+1}`,value:`${g.annotations.description}`},null,8,xG),w("input",{type:"hidden",id:`generic_rule_for_${y+1}`,value:`${g.for}`},null,8,wG),w("input",{type:"hidden",id:`generic_rule_editor_${y+1}`,value:`${g.expr}`},null,8,_G),w("input",{type:"hidden",id:`generic_rule_category_${y+1}`,value:`${g.labels.category}`},null,8,SG)]),w("td",null,$e(g.for),1),w("td",null,[w("div",CG,[$n(w("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":O=>o(g.labels.disabled).value=O,onClick:O=>{n.update_configuration("generic",y+1)},id:`generic_rule_status_${y+1}`,"data-toggle":"switch"},null,8,TG),[[Oo,o(g.labels.disabled).value]]),w("label",{class:"form-check-label",for:`generic_rule_status_${y+1}`},$e(g.labels.disabled!==!0?"ON":"OFF"),9,AG)])]),w("td",null,[w("div",kG,[$n(w("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":O=>g.labels.nhc=O,onClick:O=>{n.update_configuration("generic",y+1)},id:`generic_rule_nhc_${y+1}`,"data-toggle":"switch","true-value":!0,"false-value":!1},null,8,EG),[[Oo,g.labels.nhc]]),w("label",{class:"form-check-label",for:`generic_rule_nhc_${y+1}`},$e(g.labels.nhc===!0?"ON":"OFF"),9,DG)])]),w("td",null,[$n(w("select",{id:`generic_severity_${y+1}`,onChange:O=>{n.update_configuration("generic",y+1)},"onUpdate:modelValue":O=>g.labels.severity=O,class:Sn(["form-select","form-select-sm",g.labels.severity==="critical"?"btn-dark":"btn-"+g.labels.severity])},[l[3]||(l[3]=w("option",{class:"btn-primary",value:""},"Set Priority",-1)),w("option",{class:"btn-dark",value:"critical",selected:g.labels.severity==="critical"},"Critical",8,PG),w("option",{class:"btn-danger",value:"danger",selected:g.labels.severity==="danger"},"Danger",8,$G),w("option",{class:"btn-warning",value:"warning",selected:g.labels.severity==="warning"},"Warning",8,MG),w("option",{class:"btn-info",value:"info",selected:g.labels.severity==="info"},"Informational",8,LG)],42,RG),[[td,g.labels.severity]])]),w("td",null,[w("div",NG,[w("button",{class:"tooltip-modal-link",id:"actions","data-bs-target":`#rule_modal_generic_${y+1}`,"data-bs-toggle":"modal"},l[4]||(l[4]=[w("box-icon",{name:"edit",color:"#696cff",size:"md"},null,-1)]),8,IG)]),w("button",{style:{display:"inline-block"},class:"tooltip-modal-link",onClick:Or(O=>{s(y)},["prevent"]),id:"actions","data-bs-toggle":"tooltip","data-bs-offset":"0,4","data-bs-placement":"top","data-bs-html":"true","data-bs-original-title":"<i class='bx bxs-arrow-from-left bx-xs'></i> <span>Delete This Rule</span>"},l[5]||(l[5]=[w("box-icon",{name:"trash",color:"red",size:"md"},null,-1)]),8,FG),Et(Vd,{configType:"generic",url:t.url,promQLurl:t.promQLurl,configuration:t.configuration,save_configuration:t.save_configuration,updateClass:t.updateClass,ruleRow:t.ruleRow,row:g,index:y+1,selectedClass:t.selectedClass,onToast:l[2]||(l[2]=O=>a.$emit("toast",O))},null,8,["url","promQLurl","configuration","save_configuration","updateClass","ruleRow","row","index","selectedClass"])])]))),128)):(Oe(),xe("tr",BG,l[6]||(l[6]=[w("td",{colspan:"100%",style:{"text-align":"center"}},[w("span",{style:{color:"red","font-weight":"bold","font-style":"italic"}}," --- No Generic rules available --- ")],-1)])))]))),128)):(Oe(),xe("tbody",HG,l[7]||(l[7]=[w("tr",null,[w("td",{colspan:"100%",style:{"text-align":"center"}},[w("span",{style:{color:"red","font-weight":"bold","font-style":"italic"}}," --- No Generic rules available --- ")])],-1)])))])])])])])}}}),VG={props:{url:{type:String,required:!0},promQLurl:{type:String,required:!0}},setup(t){const e=Bt(!0),n=Bt(!0),i=Bt([]),r=Bt([]),s=Bt([]),o=Bt(""),a=Bt(""),l=Bt([]),c=Bt(""),u=Bt("all"),f=Bt([]),d=Bt(!1),m=Bt(""),g=Bt([]),y=Bt("");function O(X,le){f.value.push({message:X,toastClassName:le}),_()}function _(){if(!d.value&&f.value.length>0){const X=f.value.shift();if(X){const{message:le,toastClassName:ae}=X;m.value=le,y.value=ae,d.value=!0,setTimeout(()=>{d.value=!1,_()},3e3)}}}const A=async()=>{try{const X=await Rt.get(`${t.url}/get_nodes`);X.status===200?i.value=X.data.map(le=>({hostname:le.hostname,status:le.status,message:le.status?"":le.message,rules:le.data?le.data.groups[0].rules:[],class:le.status?"primary":"secondary"})):O(`Error fetching nodes: ${X.status}`,"bg-secondary")}catch(X){O("Failed to fetch nodes.","bg-secondary"),console.error("Error fetching nodes:",X)}},P=Qn(()=>{let X=i.value;if(c.value){const le=c.value.toLowerCase();X=X.filter(ae=>ae.hostname.toLowerCase().includes(le))}return u.value==="secondary"&&(X=X.filter(le=>le.class==="secondary")),X}),T=X=>{const le=l.value.indexOf(X);le===-1?(l.value.push(X),ve(X),J(X)):(l.value.splice(le,1),l.value.length===0?(s.value=[],a.value="",r.value=[],o.value=""):(ve(l.value[l.value.length-1]),J(l.value[l.value.length-1])))},B=()=>{l.value=i.value.map((X,le)=>le)},I=()=>{l.value=[],s.value=[],a.value="",r.value=[],o.value=""},v=()=>{l.value=i.value.map((X,le)=>X.class==="secondary"?le:-1).filter(X=>X!==-1)},Q=async()=>{if(g.value=[],l.value.length===0)O("Please select at least one node.","bg-warning");else{const le=l.value.map(ae=>i.value[ae]).map(ae=>({hostname:ae.hostname,force:!0}));try{const ae=await Rt.post(`${t.url}/save_nodes`,le);ae.status===200&&ae.data.response.forEach(me=>{me.status===!0?O(`SUCCESS[RESET] :: Node ${me.hostname} is Reset.`,"bg-success"):g.value.push(me.message.replace(/(.{200})/g,`$1
`))})}catch(ae){O("Error saving selected nodes.","bg-secondary"),console.error("Error saving nodes:",ae)}I(),A()}},Y=async()=>{try{const X=await Rt.get(`${t.url}/get_global`);X.status===200?(X.data.hw.disabled===!1?e.value=!0:e.value=!1,X.data.hw.nhc===!0?n.value=!0:n.value=!1):O(`ERROR[Global Settings] :: ${X.status}`,"bg-secondary")}catch(X){O("Failed to fetch Global Settings.","bg-secondary"),console.error("Error fetching nodes:",X)}};Y();const te=async X=>{g.value=[];const le=X.target,ae=le.name;let me=le.checked,ue="",Re=!1,Ge="";ae==="disabled"&&me===!0?(me=!1,ue="Enable",Re=!0):ae==="disabled"&&me===!1?(me=!0,ue="Enable",Re=!1):(ue="NHC",Re=me);const ft={hw:{[ae]:me}};try{const ct=await Rt.post(`${t.url}/set_global`,ft);ct.status===200&&(Ge=ct.data.response,ct.data.response.length===0?O(`Global[${ue}] is set to [${Re}] for All Nodes.`,"bg-success"):ct.data.response.forEach(tt=>{let xt="",$t="";tt.status?(xt=`Global[${ue}] for ${tt.hostname} is set to [${Re}].`,$t="bg-success",O(xt,$t)):(xt=`ERROR :: Global[${ue}] for ${tt.hostname} is ${tt.message}.`,$t="bg-secondary",g.value.push(xt))}))}catch(ct){O(`ERROR :: ${Ge} ${ct}`,"bg-secondary"),console.error("Error saving nodes:",ct)}},ve=async X=>{const le=i.value[X].hostname,ae=`${t.url}/proxy?url=${t.promQLurl}/api/v1/query?query=lshw_device%7Bhostname%3D%7E%22${le}%22%2C+id%3D%7E%22cpu%7Cdisplay%7Cnetwork%7Cdisk%7Cbank%3A.*%22%7D`;try{const me=await Rt.get(ae);me.status===200?(s.value=me.data.data.result.map((ue,Re)=>({id:Re+1,luna_group:ue.metric.luna_group?ue.metric.luna_group:"N/A",hostname:ue.metric.hostname?ue.metric.hostname:"N/A",class:ue.metric.class?ue.metric.class:"N/A",vendor:ue.metric.vendor?ue.metric.vendor:"N/A",description:ue.metric.description?ue.metric.description:"N/A",size:ue.metric.size?ue.metric.size:"N/A",clock:ue.metric.clock?ue.metric.clock:"N/A",serial:ue.metric.serial?ue.metric.serial:"N/A",product:ue.metric.product?ue.metric.product:"N/A",handle:ue.metric.handle?ue.metric.handle:"N/A",physid:ue.metric.physid?ue.metric.physid:"N/A",version:ue.metric.version?ue.metric.version:"N/A",slot:ue.metric.slot?ue.metric.slot:"N/A"})),s.value.length===0&&(a.value=`There is no Hardware Configuration is available for ${le}.`)):(O(`Error fetching Hardware: ${me.status}`,"bg-secondary"),a.value=`Error fetching Hardware: ${me.status} `)}catch(me){console.error("Error fetching URL:",me),a.value=`Failed to fetch Hardware Inventory for ${le}: ${me}`}},J=async X=>{const le=i.value[X].hostname,ae=i.value[X].rules;r.value=ae.map((me,ue)=>({id:ue+1,rule:me.alert,severity:me.labels.severity,time:me.for??"",expr:me.expr,description:me.annotations.description,hostname:le})),r.value.length===0&&(o.value=`There is no Rule Configuration is available for ${le}.`)};return Ea(()=>{A()}),{nodes:i,selectedIndices:l,searchTerm:c,toggleSelect:T,selectAllNodes:B,revertSelection:I,selectFailedNodes:v,resetSelectedNodes:Q,filteredNodes:P,showToast:d,toastClass:y,toastMessage:m,processQueue:_,showRules:J,showInventory:ve,nodeStatus:e,nodeNHC:n,inventory:s,hardware_message:a,nodes_rules:r,rule_message:o,fetchGlobalSettings:Y,setGlobalSettings:te,error_message:g}}},QG={key:0},zG={class:"row"},WG={class:"col-md-1 d-flex align-items-center"},qG={class:"form-check form-switch mb-2 ms-5 align-self-center"},XG={class:"form-check-label",for:"rule_status_"},UG={class:"col-md-1 d-flex align-items-center"},YG={class:"form-check form-switch mb-2 ms-5 align-self-center"},GG={class:"form-check-label",for:"rule_nhc_"},KG={class:"row"},JG={class:"col-md-1"},ZG={class:"col-md-1"},eK={class:"col-md-1"},tK={class:"col-md-4"},nK={class:"input-group input-group-sm"},iK={class:"row"},rK={class:"col-md-4 d-flex align-items-center"},sK={class:"form-check form-switch mb-2 ms-5 align-self-center"},oK={class:"row node_pan"},aK=["onClick"],lK={class:"card-body node-body"},cK={class:"card-text"},uK={class:"toast-header"},fK={class:"toast-body"},hK={class:"row"},dK={key:0,class:"table table-bordered table-striped table-hover table-responsive text-nowrap"},pK={class:"table table-bordered table-striped table-hover caption-top"},mK={key:1,class:"alert alert-danger",role:"alert"},gK={class:"row"},vK={key:0,class:"table table-bordered table-striped table-hover table-responsive text-nowrap"},bK={class:"table table-bordered table-striped table-hover caption-top"},yK={key:1,class:"alert alert-danger",role:"alert"};function OK(t,e,n,i,r,s){return Oe(),xe(Ot,null,[e[28]||(e[28]=w("h4",{class:"fw-bold py-3 mb-4"},[w("span",{class:"text-muted fw-light"}," Monitoring /"),Vt(" Node Hardware ")],-1)),i.error_message.length?(Oe(),xe("div",QG,[(Oe(!0),xe(Ot,null,Gi(i.error_message,o=>(Oe(),xe("div",{key:o,class:"alert alert-danger alert-dismissible",role:"alert"},[w("pre",null,$e(o),1),e[10]||(e[10]=w("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))]))),128))])):nn("",!0),w("div",null,[w("div",zG,[e[13]||(e[13]=w("div",{class:"col-md-1"},[w("span",{class:"nav_head"},"Global Settings: ")],-1)),w("div",WG,[e[11]||(e[11]=w("strong",{class:"align-self-center"},"Enable",-1)),w("div",qG,[$n(w("input",{class:"form-check-input",type:"checkbox",checked:"","data-toggle":"switch",name:"disabled",onChange:e[0]||(e[0]=o=>i.setGlobalSettings(o)),"onUpdate:modelValue":e[1]||(e[1]=o=>i.nodeStatus=o)},null,544),[[Oo,i.nodeStatus]]),w("label",XG,$e(i.nodeStatus?"ON":"OFF"),1)])]),e[14]||(e[14]=w("div",{class:"col-md-1"},null,-1)),w("div",UG,[e[12]||(e[12]=w("strong",{class:"align-self-center"},"NHC",-1)),w("div",YG,[$n(w("input",{class:"form-check-input",type:"checkbox",checked:"","data-toggle":"switch",name:"nhc",onChange:e[2]||(e[2]=o=>i.setGlobalSettings(o)),"onUpdate:modelValue":e[3]||(e[3]=o=>i.nodeNHC=o)},null,544),[[Oo,i.nodeNHC]]),w("label",GG,$e(i.nodeNHC?"ON":"OFF"),1)])])]),e[20]||(e[20]=w("br",null,null,-1)),w("div",KG,[e[16]||(e[16]=w("div",{class:"col-md-1"},[w("span",{class:"nav_head"},"Filter:")],-1)),w("div",JG,[w("button",{type:"button",class:"btn btn-sm btn-primary",onClick:e[4]||(e[4]=(...o)=>i.selectAllNodes&&i.selectAllNodes(...o))},"Select All")]),w("div",ZG,[w("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:e[5]||(e[5]=(...o)=>i.selectFailedNodes&&i.selectFailedNodes(...o))},"Select Failed")]),w("div",eK,[w("button",{type:"button",class:"btn btn-sm btn-dark",onClick:e[6]||(e[6]=(...o)=>i.revertSelection&&i.revertSelection(...o))},"Deselect All")]),w("div",tK,[w("div",nK,[e[15]||(e[15]=w("span",{class:"input-group-text"},[w("box-icon",{name:"search",color:"blue",size:"sm"})],-1)),$n(w("input",{type:"text",class:"form-control",placeholder:"Filter By Name","onUpdate:modelValue":e[7]||(e[7]=o=>i.searchTerm=o)},null,512),[[Bc,i.searchTerm]])])])]),e[21]||(e[21]=w("br",null,null,-1)),w("div",iK,[e[19]||(e[19]=w("div",{class:"col-md-1"},[w("span",{class:"nav_head"},"Actions: ")],-1)),w("div",rK,[e[18]||(e[18]=w("strong",{class:"align-self-center"},"Reset Selected Nodes",-1)),w("div",sK,[w("button",{type:"button",class:"btn btn-sm btn-warning",onClick:e[8]||(e[8]=(...o)=>i.resetSelectedNodes&&i.resetSelectedNodes(...o))},e[17]||(e[17]=[w("strong",null,"Reset Nodes",-1)]))])])]),e[22]||(e[22]=w("br",null,null,-1)),w("div",oK,[(Oe(!0),xe(Ot,null,Gi(i.filteredNodes,(o,a)=>(Oe(),xe("div",{key:a,class:Sn(["col-md-1 node-box",{selected:i.selectedIndices.includes(a)}]),onClick:l=>i.toggleSelect(a)},[w("div",{class:Sn(["card text-white",`bg-${o.class}`])},[w("div",lK,[w("p",cK,$e(o.hostname),1)])],2)],10,aK))),128))])]),i.showToast?(Oe(),xe("div",{key:1,class:Sn(`bs-toast toast toast-placement-ex m-2 fade ${i.toastClass} top-0 end-0 show`),role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":"3000"},[w("div",uK,[e[23]||(e[23]=w("i",{class:"bx bx-bell me-2"},null,-1)),e[24]||(e[24]=w("div",{class:"me-auto fw-medium"},"Configuration",-1)),e[25]||(e[25]=w("small",null,"Just now",-1)),w("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close",onClick:e[9]||(e[9]=o=>{i.showToast=!1,i.processQueue()})})]),w("div",fK,$e(i.toastMessage),1)],2)):nn("",!0),e[29]||(e[29]=w("br",null,null,-1)),w("div",hK,[i.nodes_rules.length>0?(Oe(),xe("div",dK,[w("h3",null,"Rules Configurations for "+$e(i.nodes_rules[i.nodes_rules.length-1].hostname),1),w("table",pK,[e[26]||(e[26]=w("thead",null,[w("tr",null,[w("th",null,"#"),w("th",null,"Rule"),w("th",null,"Severity"),w("th",null,"For Time"),w("th",null,"Expr"),w("th",null,"Description")])],-1)),w("tbody",null,[(Oe(!0),xe(Ot,null,Gi(i.nodes_rules,o=>(Oe(),xe("tr",{key:o.id},[w("td",null,$e(o.id),1),w("td",null,$e(o.rule),1),w("td",null,$e(o.severity),1),w("td",null,$e(o.time),1),w("td",null,$e(o.expr),1),w("td",null,$e(o.description),1)]))),128))])])])):i.rule_message?(Oe(),xe("div",mK,$e(i.rule_message),1)):nn("",!0)]),w("div",gK,[i.inventory.length>0?(Oe(),xe("div",vK,[w("h3",null,"Hardware Inventory for "+$e(i.inventory[i.inventory.length-1].hostname),1),w("table",bK,[e[27]||(e[27]=w("thead",null,[w("tr",null,[w("th",null,"#"),w("th",null,"Luna Group"),w("th",null,"Hostname"),w("th",null,"Class"),w("th",null,"Vendor"),w("th",null,"Description"),w("th",null,"Size"),w("th",null,"Clock"),w("th",null,"Serial"),w("th",null,"Product"),w("th",null,"Handle"),w("th",null,"Physid"),w("th",null,"Version"),w("th",null,"Slot")])],-1)),w("tbody",null,[(Oe(!0),xe(Ot,null,Gi(i.inventory,o=>(Oe(),xe("tr",{key:o.id},[w("td",null,$e(o.id),1),w("td",null,$e(o.luna_group),1),w("td",null,$e(o.hostname),1),w("td",null,$e(o.class),1),w("td",null,$e(o.vendor),1),w("td",null,$e(o.description),1),w("td",null,$e(o.size),1),w("td",null,$e(o.clock),1),w("td",null,$e(o.serial),1),w("td",null,$e(o.product),1),w("td",null,$e(o.handle),1),w("td",null,$e(o.physid),1),w("td",null,$e(o.version),1),w("td",null,$e(o.slot),1)]))),128))])])])):i.hardware_message?(Oe(),xe("div",yK,$e(i.hardware_message),1)):nn("",!0)])],64)}const xK=nc(VG,[["render",OK]]),wK={class:"container-xxl flex-grow-1 container-p-y",style:{"max-width":"none"}},_K={style:{float:"right"}},SK={class:"card"},CK={class:"card-body"},TK={class:"table-responsive text-nowrap"},AK={id:"alert-table",class:"table table-bordered table-striped table-hover table-responsive"},kK={scope:"row"},EK=["onClick"],DK=["id","value"],RK=["id","value"],PK=["id","value"],$K=["id","value"],MK=["id","value"],LK=["id","value"],NK={class:"form-check form-switch mb-2"},IK=["onUpdate:modelValue","onClick","id"],FK=["for"],BK={class:"form-check form-switch mb-2"},HK=["onUpdate:modelValue","onClick","id"],jK=["for"],VK=["id","onChange","onUpdate:modelValue"],QK=["selected"],zK=["selected"],WK=["selected"],qK=["selected"],XK={style:{display:"inline-block"},class:"tooltip-wrapper","data-bs-toggle":"tooltip","data-bs-html":"true","data-bs-original-title":"<i class='bx bxs-arrow-from-left bx-xs'></i> <span>Edit This Rule</span>"},UK=["data-bs-target"],YK=["onClick"],GK={key:1},KK={key:1},JK=di({__name:"TabService",props:{rulesFile:{type:String,required:!0},save_configuration:{type:Function,required:!0},Content:{type:String,required:!0},ContentType:{type:String,required:!0},update_configuration:{type:Function,required:!0},url:{type:String,required:!0},promQLurl:{type:String,required:!0},configuration:Object,updateClass:Function,ruleRow:Function,selectedClass:String},emits:["toast"],setup(t,{emit:e}){const n=t,i=Bt(null),r=a=>{const l=document.getElementById(`rule_modal_service_${a}`);l?(i.value=new Ls(l,{backdrop:!0}),i.value.show()):console.error(`Modal with ID rule_modal_${a} not found`)};function s(a){var l,c;if(window.confirm("Are you sure you want to delete this rule?")){const u=JSON.parse(JSON.stringify(n.configuration));(c=(l=u==null?void 0:u.groups)==null?void 0:l[0])!=null&&c.rules&&(u.groups[0].rules.splice(a,1),n.save_configuration("service",u,"On Page"))}}const o=a=>Qn({get:()=>a!==!0,set:l=>{l===!0?a=!1:a=!0}});return(a,l)=>{var c,u,f;return Oe(),xe("div",wK,[w("span",_K,[Et(PD,{configType:"service",rulesFile:t.rulesFile,save_configuration:t.save_configuration,Content:t.Content,ContentType:t.ContentType,onToast:l[0]||(l[0]=d=>a.$emit("toast",d))},null,8,["rulesFile","save_configuration","Content","ContentType"])]),l[10]||(l[10]=w("h4",{class:"fw-bold py-3 mb-4"},[w("span",{class:"text-muted fw-light"}," Monitoring /"),Vt(" Services ")],-1)),w("div",SK,[l[9]||(l[9]=w("h5",{class:"card-header"},"Rules",-1)),w("div",CK,[w("div",TK,[Et(Vd,{configType:"service",url:t.url,promQLurl:t.promQLurl,configuration:t.configuration,save_configuration:t.save_configuration,updateClass:t.updateClass,ruleRow:t.ruleRow,row:{alert:"",annotations:{description:""},for:"",expr:"",labels:{category:"",disabled:!1,nhc:!1,severity:"info"}},index:0,selectedClass:t.selectedClass,onToast:l[1]||(l[1]=d=>a.$emit("toast",d))},null,8,["url","promQLurl","configuration","save_configuration","updateClass","ruleRow","selectedClass"]),w("table",AK,[l[8]||(l[8]=w("thead",null,[w("tr",null,[w("th",{scope:"col"},"#"),w("th",{scope:"col"},"Group"),w("th",{scope:"col"},"Rule"),w("th",{scope:"col"},"Time"),w("th",{scope:"col"},"Enable"),w("th",{scope:"col"},"NHC"),w("th",{scope:"col"},"Severity"),w("th",{scope:"col"},"Actions")])],-1)),(c=n.configuration)!=null&&c.groups&&((u=n.configuration)==null?void 0:u.groups.length)>0?(Oe(!0),xe(Ot,{key:0},Gi((f=n.configuration)==null?void 0:f.groups,(d,m)=>(Oe(),xe("tbody",{key:d.name},[d.rules&&d.rules.length>0?(Oe(!0),xe(Ot,{key:0},Gi(d.rules,(g,y)=>(Oe(),xe("tr",{key:y},[w("th",kK,$e(y+1),1),w("td",null,$e(d.name),1),w("td",null,[w("a",{href:"#",onClick:Or(O=>r(y+1),["prevent"])},$e(g.alert),9,EK),w("input",{type:"hidden",id:`service_group_name_${m+1}`,value:`${d.name}`},null,8,DK),w("input",{type:"hidden",id:`service_rule_name_${y+1}`,value:`${g.alert}`},null,8,RK),w("input",{type:"hidden",id:`service_rule_description_${y+1}`,value:`${g.annotations.description}`},null,8,PK),w("input",{type:"hidden",id:`service_rule_for_${y+1}`,value:`${g.for}`},null,8,$K),w("input",{type:"hidden",id:`service_rule_editor_${y+1}`,value:`${g.expr}`},null,8,MK),w("input",{type:"hidden",id:`service_rule_category_${y+1}`,value:`${g.labels.category}`},null,8,LK)]),w("td",null,$e(g.for),1),w("td",null,[w("div",NK,[$n(w("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":O=>o(g.labels.disabled).value=O,onClick:O=>{n.update_configuration("service",y+1)},id:`service_rule_status_${y+1}`,"data-toggle":"switch"},null,8,IK),[[Oo,o(g.labels.disabled).value]]),w("label",{class:"form-check-label",for:`service_rule_status_${y+1}`},$e(g.labels.disabled!==!0?"ON":"OFF"),9,FK)])]),w("td",null,[w("div",BK,[$n(w("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":O=>g.labels.nhc=O,onClick:O=>{n.update_configuration("service",y+1)},id:`service_rule_nhc_${y+1}`,"data-toggle":"switch","true-value":!0,"false-value":!1},null,8,HK),[[Oo,g.labels.nhc]]),w("label",{class:"form-check-label",for:`service_rule_nhc_${y+1}`},$e(g.labels.nhc===!0?"ON":"OFF"),9,jK)])]),w("td",null,[$n(w("select",{id:`service_severity_${y+1}`,onChange:O=>{n.update_configuration("service",y+1)},"onUpdate:modelValue":O=>g.labels.severity=O,class:Sn(["form-select","form-select-sm",g.labels.severity==="critical"?"btn-dark":"btn-"+g.labels.severity])},[l[3]||(l[3]=w("option",{class:"btn-primary",value:""},"Set Priority",-1)),w("option",{class:"btn-dark",value:"critical",selected:g.labels.severity==="critical"},"Critical",8,QK),w("option",{class:"btn-danger",value:"danger",selected:g.labels.severity==="danger"},"Danger",8,zK),w("option",{class:"btn-warning",value:"warning",selected:g.labels.severity==="warning"},"Warning",8,WK),w("option",{class:"btn-info",value:"info",selected:g.labels.severity==="info"},"Informational",8,qK)],42,VK),[[td,g.labels.severity]])]),w("td",null,[w("div",XK,[w("button",{class:"tooltip-modal-link",id:"actions","data-bs-target":`#rule_modal_service_${y+1}`,"data-bs-toggle":"modal"},l[4]||(l[4]=[w("box-icon",{name:"edit",color:"#696cff",size:"md"},null,-1)]),8,UK)]),w("button",{style:{display:"inline-block"},class:"tooltip-modal-link",onClick:Or(O=>{s(y)},["prevent"]),id:"actions","data-bs-toggle":"tooltip","data-bs-offset":"0,4","data-bs-placement":"top","data-bs-html":"true","data-bs-original-title":"<i class='bx bxs-arrow-from-left bx-xs'></i> <span>Delete This Rule</span>"},l[5]||(l[5]=[w("box-icon",{name:"trash",color:"red",size:"md"},null,-1)]),8,YK),Et(Vd,{configType:"service",url:t.url,promQLurl:t.promQLurl,configuration:t.configuration,save_configuration:t.save_configuration,updateClass:t.updateClass,ruleRow:t.ruleRow,row:g,index:y+1,selectedClass:t.selectedClass,onToast:l[2]||(l[2]=O=>a.$emit("toast",O))},null,8,["url","promQLurl","configuration","save_configuration","updateClass","ruleRow","row","index","selectedClass"])])]))),128)):(Oe(),xe("tr",GK,l[6]||(l[6]=[w("td",{colspan:"100%",style:{"text-align":"center"}},[w("span",{style:{color:"red","font-weight":"bold","font-style":"italic"}}," --- No service rules available --- ")],-1)])))]))),128)):(Oe(),xe("tbody",KK,l[7]||(l[7]=[w("tr",null,[w("td",{colspan:"100%",style:{"text-align":"center"}},[w("span",{style:{color:"red","font-weight":"bold","font-style":"italic"}}," --- No service rules available --- ")])],-1)])))])])])])])}}}),ZK={name:"FooterBar",props:{url:{type:String,required:!0}}},eJ={class:"content-footer footer bg-footer-theme"},tJ={class:"container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column"},nJ=["href"];function iJ(t,e,n,i,r,s){return Oe(),xe(Ot,null,[e[3]||(e[3]=w("hr",{class:"my-5"},null,-1)),w("footer",eJ,[w("div",tJ,[e[2]||(e[2]=w("div",{class:"mb-2 mb-md-0"},[Vt(" 2025, made with  by "),w("a",{href:"https://clustervision.com/",target:"_blank",class:"footer-link fw-bolder"},"ClusterVision")],-1)),w("div",null,[w("a",{href:`${t.$props.url}/license`,class:"footer-link me-4",target:"_blank"},"License",8,nJ),e[0]||(e[0]=w("a",{href:"https://github.com/clustervision/trinityX",target:"_blank",class:"footer-link me-4"},"Documentation",-1)),e[1]||(e[1]=w("a",{href:"https://support.clustervision.com/",target:"_blank",class:"footer-link me-4"},"Support",-1))])])])],64)}const rJ=nc(ZK,[["render",iJ]]),sJ={class:"layout-wrapper layout-content-navbar"},oJ={class:"layout-container"},aJ={class:"content-wrapper"},lJ={key:0,id:"spinner-overlay",class:"spinner-overlay"},cJ={class:"col-xl-12"},uJ={class:"nav-align-top mb-6"},fJ={class:"tab-content"},hJ={class:"tab-pane fade active show",id:"tab-overview",role:"tabpanel"},dJ={class:"tab-pane fade",id:"tab-alerts",role:"tabpanel"},pJ={class:"tab-pane fade",id:"tab-rules",role:"tabpanel"},mJ={class:"tab-pane fade",id:"tab-hardware",role:"tabpanel"},gJ={class:"tab-pane fade",id:"tab-service",role:"tabpanel"},vJ={class:"toast-body"},Fb=Bt("btn-primary"),bJ={critical:"btn-dark",danger:"btn-danger",warning:"btn-warning",info:"btn-info"};function B_(t){const e=t.target;if(e&&e.value){const n=e.value;Fb.value=bJ[n]||"btn-primary"}}const ms=window.APP_URL||"http://localhost:7755";function Bb(t){return Array.isArray(t)?t.map(Bb).filter(e=>e!==null):t!==null&&typeof t=="object"?Object.fromEntries(Object.entries(t).filter(([,e])=>e!==null&&e!=="null").map(([e,n])=>[e,Bb(n)])):t}async function yJ(t){var n,i;const e=Bb(t);try{const r=await Rt.post(ms+"/save_config",e);return{status:r.status,message:r.data.response}}catch(r){return Rt.isAxiosError(r)?(console.log(r),{status:((n=r.response)==null?void 0:n.status)||500,message:((i=r.response)==null?void 0:i.data.response)||"An error occurred during the request."}):{status:500,message:"An unknown error occurred."}}}const H_=(t,e)=>{let n;const i={alert:t.alert,annotations:{description:t.annotations.description},for:t.for,expr:t.expr,labels:{disabled:t.labels.disabled,nhc:t.labels.nhc,severity:t.labels.severity}};return e==="JSON"?n=JSON.stringify(i,null,2):e==="YAML"&&(n=pa.dump(i)),n},Hb="JSON",OJ={data(){return{showToast:!1,toastClass:"",toastMessage:"",configuration:ws({groups:[]}),generic_config:ws({groups:[]}),service_config:ws({groups:[]}),activeButton:1,previousButton:null,Content:JSON.stringify({},null,2),GenericContent:JSON.stringify({},null,2),ServiceContent:JSON.stringify({},null,2),ContentType:Hb,showSpinner:!1}},async created(){await this.fetchRules()},methods:{async fetchRules(){var t;try{const e=await Rt.get(ms+"/get_rules");this.configuration=ws(e.data),this.configuration={...this.configuration},this.generic_config=this.splitConfiguration("generic"),this.service_config=this.splitConfiguration("service"),this.Content=JSON.stringify({...this.configuration},null,2),this.GenericContent=JSON.stringify({...this.generic_config},null,2),this.ServiceContent=JSON.stringify({...this.service_config},null,2)}catch(e){Rt.isAxiosError(e)?this.toastMessage=((t=e.response)==null?void 0:t.data.response)||e.message:this.toastMessage="An unknown error occurred.",this.Toast(`ERROR :: While Getting Rules ${this.toastMessage}`,"bg-danger")}return this.configuration},splitConfiguration(t){return{groups:this.configuration.groups.map(e=>({...e,rules:e.rules.filter(n=>n.labels.category===t)}))}},mergeConfigurations(t,e){return{groups:[{name:"trinityx",rules:[...t.groups[0].rules,...e.groups[0].rules]}]}},Toast(t,e){this.showToast=!0,this.showSpinner=!0,typeof t=="string"?(this.toastMessage=t,this.toastClass=e):typeof t=="object"&&t!==null&&"message"in t&&"toastClass"in t?(this.toastMessage=t.message,this.toastClass=t.toastClass):(this.toastMessage="Unknown message: "+t,this.toastClass="bg-dark"),setTimeout(()=>{this.showToast=!1,this.showSpinner=!1},3e3)},updateShowSpinner(t){this.showSpinner=t},update_configuration(t,e){let n=!1,i=!1,r="info";const o=document.getElementById(`${t}_rule_name_${e}`).value,l=document.getElementById(`${t}_rule_description_${e}`).value,u=document.getElementById(`${t}_rule_for_${e}`).value,d=document.getElementById(`${t}_rule_editor_${e}`).value,g=document.getElementById(`${t}_rule_category_${e}`).value,y=document.getElementById(`${t}_rule_status_${e}`);y&&(y.checked===!0?n=!1:n=!0),i=document.getElementById(`${t}_rule_nhc_${e}`).checked;const _=document.getElementById(`${t}_severity_${e}`);_&&(r=_.value),t==="generic"?(this.generic_config.groups[0].rules[e-1].alert=o,this.generic_config.groups[0].rules[e-1].annotations.description=l,this.generic_config.groups[0].rules[e-1].for=u,this.generic_config.groups[0].rules[e-1].expr=d,this.generic_config.groups[0].rules[e-1].labels.category=g,this.generic_config.groups[0].rules[e-1].labels.disabled=n,this.generic_config.groups[0].rules[e-1].labels.nhc=i,this.generic_config.groups[0].rules[e-1].labels.severity=r,this.save_configuration(t,this.generic_config,"On Page")):(this.service_config.groups[0].rules[e-1].alert=o,this.service_config.groups[0].rules[e-1].annotations.description=l,this.service_config.groups[0].rules[e-1].for=u,this.service_config.groups[0].rules[e-1].expr=d,this.service_config.groups[0].rules[e-1].labels.category=g,this.service_config.groups[0].rules[e-1].labels.disabled=n,this.service_config.groups[0].rules[e-1].labels.nhc=i,this.service_config.groups[0].rules[e-1].labels.severity=r,this.save_configuration(t,this.service_config,"On Page"))},async save_configuration(t,e,n){let i;typeof e=="object"?(e=Dt(e),i=JSON.stringify(e)):i=e;try{i=pa.load(i)}catch(r){r instanceof Error?this.Toast(this.toastMessage=r.message,this.toastClass="bg-danger"):this.Toast(this.toastMessage="An unknown error occurred",this.toastClass="bg-danger");try{i=JSON.parse(i)}catch(s){s instanceof Error?this.Toast(this.toastMessage=s.message,this.toastClass="bg-danger"):this.Toast(this.toastMessage="An unknown error occurred",this.toastClass="bg-danger"),i=!1}}if(i){t==="generic"?i=this.mergeConfigurations(i,JSON.parse(JSON.stringify(this.service_config))):i=this.mergeConfigurations(JSON.parse(JSON.stringify(this.generic_config)),i);const r=await yJ(i);if(this.toastMessage=r.message,r.status===200){this.toastClass="bg-success";const s=document.getElementById(n);if(s){const o=Ls.getInstance(s);o==null||o.hide()}this.fetchRules()}else r.status===400?this.toastClass="bg-warning":this.toastClass="bg-danger";this.Toast(this.toastMessage,this.toastClass)}}}},xJ=di({...OJ,__name:"App",setup(t){const e=Bt(window.PROMQL_URL||"https://localhost:9090"),n=Bt(window.ALERT_URL||"http://localhost:9093"),i=e.value+"/api/v1/rules",r=e.value+"/api/v1/query?query=max+by%28hostname%29+%28up%29",s="/trinity/local/etc/prometheus_server/rules/trix.generic.rules",o="/trinity/local/etc/prometheus_server/rules/trix.service.rules";return Ea(()=>{}),(a,l)=>(Oe(),xe(Ot,null,[w("header",null,[Et(NL,{url:Ni(ms)},null,8,["url"])]),w("div",sJ,[w("div",oJ,[w("div",aJ,[a.showSpinner?(Oe(),xe("div",lJ,l[0]||(l[0]=[w("div",{id:"spinner",class:"d-flex justify-content-center"},[w("div",{class:"spinner-border spinner-border-lg text-success",style:{width:"10rem",height:"10rem"},role:"status"},[w("span",{class:"visually-hidden"},"Saving Configuration...")])],-1)]))):nn("",!0),w("div",cJ,[w("div",uJ,[l[1]||(l[1]=w("ul",{class:"nav nav-pills mb-4 nav-fill tab-bar",role:"tablist"},[w("li",{class:"nav-item mb-1 mb-sm-0",role:"presentation"},[w("button",{type:"button",class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-overview","aria-controls":"tab-overview","aria-selected":"true"},[w("span",{class:"d-none d-sm-block"},[w("box-icon",{name:"detail",class:"align-text-bottom icon-color"}),Vt(" Overview")])])]),w("li",{class:"nav-item mb-1 mb-sm-0",role:"presentation"},[w("button",{type:"button",class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-alerts","aria-controls":"tab-alerts","aria-selected":"true"},[w("span",{class:"d-none d-sm-block"},[w("box-icon",{name:"stats",class:"align-text-bottom icon-color"}),Vt(" Alerts")])])]),w("li",{class:"nav-item mb-1 mb-sm-0",role:"presentation"},[w("button",{type:"button",class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-rules","aria-controls":"tab-rules","aria-selected":"false",tabindex:"-1"},[w("span",{class:"d-none d-sm-block"},[w("box-icon",{name:"bracket",class:"align-text-bottom icon-color"}),Vt(" Generic Rules")])])]),w("li",{class:"nav-item",role:"presentation"},[w("button",{type:"button",class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-service","aria-controls":"tab-service","aria-selected":"false",tabindex:"-1"},[w("span",{class:"d-none d-sm-block"},[w("box-icon",{name:"wrench",class:"align-text-bottom icon-color"}),Vt(" Services")])])]),w("li",{class:"nav-item",role:"presentation"},[w("button",{type:"button",class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-hardware","aria-controls":"tab-hardware","aria-selected":"false",tabindex:"-1"},[w("span",{class:"d-none d-sm-block"},[w("box-icon",{name:"desktop",class:"align-text-bottom icon-color"}),Vt(" Node H/W")])])])],-1)),w("div",fJ,[w("div",hJ,[Et(uF,{url:Ni(ms),alertURL:n.value,statusAPI:i,nodeListAPI:r,"onUpdate:showSpinner":a.updateShowSpinner},null,8,["url","alertURL","onUpdate:showSpinner"])]),w("div",dJ,[Et(EF,{url:Ni(ms),alertURL:n.value,statusAPI:i,"onUpdate:showSpinner":a.updateShowSpinner},null,8,["url","alertURL","onUpdate:showSpinner"])]),w("div",pJ,[Et(jG,{rulesFile:s,save_configuration:a.save_configuration,update_configuration:a.update_configuration,Content:a.GenericContent,ContentType:Hb,onToast:a.Toast,url:Ni(ms),promQLurl:e.value,configuration:a.generic_config,updateClass:B_,ruleRow:H_,selectedClass:Fb.value},null,8,["save_configuration","update_configuration","Content","onToast","url","promQLurl","configuration","selectedClass"])]),w("div",mJ,[Et(xK,{url:Ni(ms),promQLurl:e.value},null,8,["url","promQLurl"])]),w("div",gJ,[Et(JK,{rulesFile:o,save_configuration:a.save_configuration,update_configuration:a.update_configuration,Content:a.ServiceContent,ContentType:Hb,onToast:a.Toast,url:Ni(ms),promQLurl:e.value,configuration:a.service_config,updateClass:B_,ruleRow:H_,selectedClass:Fb.value},null,8,["save_configuration","update_configuration","Content","onToast","url","promQLurl","configuration","selectedClass"])])])])]),Et(rJ,{url:Ni(ms)},null,8,["url"]),l[2]||(l[2]=w("div",{class:"content-backdrop fade"},null,-1))])]),l[3]||(l[3]=w("div",{class:"layout-overlay layout-menu-toggle"},null,-1))]),a.showToast?(Oe(),xe("div",{key:0,class:Sn(`bs-toast toast toast-placement-ex m-2 fade ${a.toastClass} top-0 end-0 show`),role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":"2000"},[l[4]||(l[4]=w("div",{class:"toast-header"},[w("i",{class:"bx bx-bell me-2"}),w("div",{class:"me-auto fw-medium"},"Configuration"),w("small",null,"0 seconds ago"),w("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1)),w("div",vJ,$e(a.toastMessage),1)],2)):nn("",!0)],64))}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const il=typeof document<"u";function DR(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function wJ(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&DR(t.default)}const Mt=Object.assign;function Ig(t,e){const n={};for(const i in e){const r=e[i];n[i]=Tr(r)?r.map(t):t(r)}return n}const fu=()=>{},Tr=Array.isArray,RR=/#/g,_J=/&/g,SJ=/\//g,CJ=/=/g,TJ=/\?/g,PR=/\+/g,AJ=/%5B/g,kJ=/%5D/g,$R=/%5E/g,EJ=/%60/g,MR=/%7B/g,DJ=/%7C/g,LR=/%7D/g,RJ=/%20/g;function $0(t){return encodeURI(""+t).replace(DJ,"|").replace(AJ,"[").replace(kJ,"]")}function PJ(t){return $0(t).replace(MR,"{").replace(LR,"}").replace($R,"^")}function jb(t){return $0(t).replace(PR,"%2B").replace(RJ,"+").replace(RR,"%23").replace(_J,"%26").replace(EJ,"`").replace(MR,"{").replace(LR,"}").replace($R,"^")}function $J(t){return jb(t).replace(CJ,"%3D")}function MJ(t){return $0(t).replace(RR,"%23").replace(TJ,"%3F")}function LJ(t){return t==null?"":MJ(t).replace(SJ,"%2F")}function Uu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const NJ=/\/$/,IJ=t=>t.replace(NJ,"");function Fg(t,e,n="/"){let i,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=jJ(i??e,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:Uu(o)}}function FJ(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function j_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function BJ(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Kl(e.matched[i],n.matched[r])&&NR(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Kl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function NR(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!HJ(t[n],e[n]))return!1;return!0}function HJ(t,e){return Tr(t)?V_(t,e):Tr(e)?V_(e,t):t===e}function V_(t,e){return Tr(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function jJ(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const qs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Yu;(function(t){t.pop="pop",t.push="push"})(Yu||(Yu={}));var hu;(function(t){t.back="back",t.forward="forward",t.unknown=""})(hu||(hu={}));function VJ(t){if(!t)if(il){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),IJ(t)}const QJ=/^[^#]+#/;function zJ(t,e){return t.replace(QJ,"#")+e}function WJ(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const zp=()=>({left:window.scrollX,top:window.scrollY});function qJ(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=WJ(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Q_(t,e){return(history.state?history.state.position-e:-1)+t}const Vb=new Map;function XJ(t,e){Vb.set(t,e)}function UJ(t){const e=Vb.get(t);return Vb.delete(t),e}let YJ=()=>location.protocol+"//"+location.host;function IR(t,e){const{pathname:n,search:i,hash:r}=e,s=t.indexOf("#");if(s>-1){let a=r.includes(t.slice(s))?t.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),j_(l,"")}return j_(n,t)+i+r}function GJ(t,e,n,i){let r=[],s=[],o=null;const a=({state:d})=>{const m=IR(t,location),g=n.value,y=e.value;let O=0;if(d){if(n.value=m,e.value=d,o&&o===g){o=null;return}O=y?d.position-y.position:0}else i(m);r.forEach(_=>{_(n.value,g,{delta:O,type:Yu.pop,direction:O?O>0?hu.forward:hu.back:hu.unknown})})};function l(){o=n.value}function c(d){r.push(d);const m=()=>{const g=r.indexOf(d);g>-1&&r.splice(g,1)};return s.push(m),m}function u(){const{history:d}=window;d.state&&d.replaceState(Mt({},d.state,{scroll:zp()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function z_(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?zp():null}}function KJ(t){const{history:e,location:n}=window,i={value:IR(t,n)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:YJ()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(m){console.error(m),n[u?"replace":"assign"](d)}}function o(l,c){const u=Mt({},e.state,z_(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=Mt({},r.value,e.state,{forward:l,scroll:zp()});s(u.current,u,!0);const f=Mt({},z_(i.value,l,null),{position:u.position+1},c);s(l,f,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function JJ(t){t=VJ(t);const e=KJ(t),n=GJ(t,e.state,e.location,e.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=Mt({location:"",base:t,go:i,createHref:zJ.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function ZJ(t){return typeof t=="string"||t&&typeof t=="object"}function FR(t){return typeof t=="string"||typeof t=="symbol"}const BR=Symbol("");var W_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(W_||(W_={}));function Jl(t,e){return Mt(new Error,{type:t,[BR]:!0},e)}function ds(t,e){return t instanceof Error&&BR in t&&(e==null||!!(t.type&e))}const q_="[^/]+?",eZ={sensitive:!1,strict:!1,start:!0,end:!0},tZ=/[.+*?^${}()[\]/\\]/g;function nZ(t,e){const n=Mt({},eZ,e),i=[];let r=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let m=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(tZ,"\\$&"),m+=40;else if(d.type===1){const{value:g,repeatable:y,optional:O,regexp:_}=d;s.push({name:g,repeatable:y,optional:O});const A=_||q_;if(A!==q_){m+=10;try{new RegExp(`(${A})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+T.message)}}let P=y?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;f||(P=O&&c.length<2?`(?:/${P})`:"/"+P),O&&(P+="?"),r+=P,m+=20,O&&(m+=-8),y&&(m+=-20),A===".*"&&(m+=-50)}u.push(m)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const m=u[d]||"",g=s[d-1];f[g.name]=m&&g.repeatable?m.split("/"):m}return f}function l(c){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const m of d)if(m.type===0)u+=m.value;else if(m.type===1){const{value:g,repeatable:y,optional:O}=m,_=g in c?c[g]:"";if(Tr(_)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=Tr(_)?_.join("/"):_;if(!A)if(O)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);u+=A}}return u||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function iZ(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function HR(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const s=iZ(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(X_(i))return 1;if(X_(r))return-1}return r.length-i.length}function X_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const rZ={type:0,value:""},sZ=/[a-zA-Z0-9_]/;function oZ(t){if(!t)return[[]];if(t==="/")return[[rZ]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",u="";function f(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:sZ.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function aZ(t,e,n){const i=nZ(oZ(t.path),n),r=Mt(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function lZ(t,e){const n=[],i=new Map;e=K_({strict:!1,end:!0,sensitive:!1},e);function r(f){return i.get(f)}function s(f,d,m){const g=!m,y=Y_(f);y.aliasOf=m&&m.record;const O=K_(e,f),_=[y];if("alias"in f){const T=typeof f.alias=="string"?[f.alias]:f.alias;for(const B of T)_.push(Y_(Mt({},y,{components:m?m.record.components:y.components,path:B,aliasOf:m?m.record:y})))}let A,P;for(const T of _){const{path:B}=T;if(d&&B[0]!=="/"){const I=d.record.path,v=I[I.length-1]==="/"?"":"/";T.path=d.record.path+(B&&v+B)}if(A=aZ(T,d,O),m?m.alias.push(A):(P=P||A,P!==A&&P.alias.push(A),g&&f.name&&!G_(A)&&o(f.name)),jR(A)&&l(A),y.children){const I=y.children;for(let v=0;v<I.length;v++)s(I[v],A,m&&m.children[v])}m=m||A}return P?()=>{o(P)}:fu}function o(f){if(FR(f)){const d=i.get(f);d&&(i.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&i.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=fZ(f,n);n.splice(d,0,f),f.record.name&&!G_(f)&&i.set(f.record.name,f)}function c(f,d){let m,g={},y,O;if("name"in f&&f.name){if(m=i.get(f.name),!m)throw Jl(1,{location:f});O=m.record.name,g=Mt(U_(d.params,m.keys.filter(P=>!P.optional).concat(m.parent?m.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),f.params&&U_(f.params,m.keys.map(P=>P.name))),y=m.stringify(g)}else if(f.path!=null)y=f.path,m=n.find(P=>P.re.test(y)),m&&(g=m.parse(y),O=m.record.name);else{if(m=d.name?i.get(d.name):n.find(P=>P.re.test(d.path)),!m)throw Jl(1,{location:f,currentLocation:d});O=m.record.name,g=Mt({},d.params,f.params),y=m.stringify(g)}const _=[];let A=m;for(;A;)_.unshift(A.record),A=A.parent;return{name:O,path:y,params:g,matched:_,meta:uZ(_)}}t.forEach(f=>s(f));function u(){n.length=0,i.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function U_(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function Y_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:cZ(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function cZ(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function G_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function uZ(t){return t.reduce((e,n)=>Mt(e,n.meta),{})}function K_(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function fZ(t,e){let n=0,i=e.length;for(;n!==i;){const s=n+i>>1;HR(t,e[s])<0?i=s:n=s+1}const r=hZ(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function hZ(t){let e=t;for(;e=e.parent;)if(jR(e)&&HR(t,e)===0)return e}function jR({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function dZ(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(PR," "),o=s.indexOf("="),a=Uu(o<0?s:s.slice(0,o)),l=o<0?null:Uu(s.slice(o+1));if(a in e){let c=e[a];Tr(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function J_(t){let e="";for(let n in t){const i=t[n];if(n=$J(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Tr(i)?i.map(s=>s&&jb(s)):[i&&jb(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function pZ(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Tr(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const mZ=Symbol(""),Z_=Symbol(""),M0=Symbol(""),VR=Symbol(""),Qb=Symbol("");function Lc(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function to(t,e,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Jl(4,{from:n,to:e})):d instanceof Error?l(d):ZJ(d)?l(Jl(2,{from:e,to:d})):(o&&i.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>t.call(i&&i.instances[r],e,n,c));let f=Promise.resolve(u);t.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function Bg(t,e,n,i,r=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(DR(l)){const u=(l.__vccOpts||l)[e];u&&s.push(to(u,n,i,o,a,r))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=wJ(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const m=(f.__vccOpts||f)[e];return m&&to(m,n,i,o,a,r)()}))}}return s}function eS(t){const e=_s(M0),n=_s(VR),i=Qn(()=>{const l=Ni(t.to);return e.resolve(l)}),r=Qn(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Kl.bind(null,u));if(d>-1)return d;const m=tS(l[c-2]);return c>1&&tS(u)===m&&f[f.length-1].path!==m?f.findIndex(Kl.bind(null,l[c-2])):d}),s=Qn(()=>r.value>-1&&OZ(n.params,i.value.params)),o=Qn(()=>r.value>-1&&r.value===n.matched.length-1&&NR(n.params,i.value.params));function a(l={}){if(yZ(l)){const c=e[Ni(t.replace)?"replace":"push"](Ni(t.to)).catch(fu);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:Qn(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function gZ(t){return t.length===1?t[0]:t}const vZ=di({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:eS,setup(t,{slots:e}){const n=ws(eS(t)),{options:i}=_s(M0),r=Qn(()=>({[nS(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[nS(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&gZ(e.default(n));return t.custom?s:DC("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),bZ=vZ;function yZ(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function OZ(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Tr(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function tS(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const nS=(t,e,n)=>t??e??n,xZ=di({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=_s(Qb),r=Qn(()=>t.route||i.value),s=_s(Z_,0),o=Qn(()=>{let c=Ni(s);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Qn(()=>r.value.matched[o.value]);Oh(Z_,Qn(()=>o.value+1)),Oh(mZ,a),Oh(Qb,r);const l=Bt();return Ss(()=>[l.value,a.value,t.name],([c,u,f],[d,m,g])=>{u&&(u.instances[f]=c,m&&m!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!Kl(u,m)||!d)&&(u.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return iS(n.default,{Component:d,route:c});const m=f.props[u],g=m?m===!0?c.params:typeof m=="function"?m(c):m:null,O=DC(d,Mt({},g,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return iS(n.default,{Component:O,route:c})||O}}});function iS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const wZ=xZ;function _Z(t){const e=lZ(t.routes,t),n=t.parseQuery||dZ,i=t.stringifyQuery||J_,r=t.history,s=Lc(),o=Lc(),a=Lc(),l=B$(qs);let c=qs;il&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ig.bind(null,ne=>""+ne),f=Ig.bind(null,LJ),d=Ig.bind(null,Uu);function m(ne,ke){let Te,Pe;return FR(ne)?(Te=e.getRecordMatcher(ne),Pe=ke):Pe=ne,e.addRoute(Pe,Te)}function g(ne){const ke=e.getRecordMatcher(ne);ke&&e.removeRoute(ke)}function y(){return e.getRoutes().map(ne=>ne.record)}function O(ne){return!!e.getRecordMatcher(ne)}function _(ne,ke){if(ke=Mt({},ke||l.value),typeof ne=="string"){const z=Fg(n,ne,ke.path),oe=e.resolve({path:z.path},ke),ce=r.createHref(z.fullPath);return Mt(z,oe,{params:d(oe.params),hash:Uu(z.hash),redirectedFrom:void 0,href:ce})}let Te;if(ne.path!=null)Te=Mt({},ne,{path:Fg(n,ne.path,ke.path).path});else{const z=Mt({},ne.params);for(const oe in z)z[oe]==null&&delete z[oe];Te=Mt({},ne,{params:f(z)}),ke.params=f(ke.params)}const Pe=e.resolve(Te,ke),gt=ne.hash||"";Pe.params=u(d(Pe.params));const M=FJ(i,Mt({},ne,{hash:PJ(gt),path:Pe.path})),N=r.createHref(M);return Mt({fullPath:M,hash:gt,query:i===J_?pZ(ne.query):ne.query||{}},Pe,{redirectedFrom:void 0,href:N})}function A(ne){return typeof ne=="string"?Fg(n,ne,l.value.path):Mt({},ne)}function P(ne,ke){if(c!==ne)return Jl(8,{from:ke,to:ne})}function T(ne){return v(ne)}function B(ne){return T(Mt(A(ne),{replace:!0}))}function I(ne){const ke=ne.matched[ne.matched.length-1];if(ke&&ke.redirect){const{redirect:Te}=ke;let Pe=typeof Te=="function"?Te(ne):Te;return typeof Pe=="string"&&(Pe=Pe.includes("?")||Pe.includes("#")?Pe=A(Pe):{path:Pe},Pe.params={}),Mt({query:ne.query,hash:ne.hash,params:Pe.path!=null?{}:ne.params},Pe)}}function v(ne,ke){const Te=c=_(ne),Pe=l.value,gt=ne.state,M=ne.force,N=ne.replace===!0,z=I(Te);if(z)return v(Mt(A(z),{state:typeof z=="object"?Mt({},gt,z.state):gt,force:M,replace:N}),ke||Te);const oe=Te;oe.redirectedFrom=ke;let ce;return!M&&BJ(i,Pe,Te)&&(ce=Jl(16,{to:oe,from:Pe}),ct(Pe,Pe,!0,!1)),(ce?Promise.resolve(ce):te(oe,Pe)).catch(re=>ds(re)?ds(re,2)?re:ft(re):Re(re,oe,Pe)).then(re=>{if(re){if(ds(re,2))return v(Mt({replace:N},A(re.to),{state:typeof re.to=="object"?Mt({},gt,re.to.state):gt,force:M}),ke||oe)}else re=J(oe,Pe,!0,N,gt);return ve(oe,Pe,re),re})}function Q(ne,ke){const Te=P(ne,ke);return Te?Promise.reject(Te):Promise.resolve()}function Y(ne){const ke=$t.values().next().value;return ke&&typeof ke.runWithContext=="function"?ke.runWithContext(ne):ne()}function te(ne,ke){let Te;const[Pe,gt,M]=SZ(ne,ke);Te=Bg(Pe.reverse(),"beforeRouteLeave",ne,ke);for(const z of Pe)z.leaveGuards.forEach(oe=>{Te.push(to(oe,ne,ke))});const N=Q.bind(null,ne,ke);return Te.push(N),Nt(Te).then(()=>{Te=[];for(const z of s.list())Te.push(to(z,ne,ke));return Te.push(N),Nt(Te)}).then(()=>{Te=Bg(gt,"beforeRouteUpdate",ne,ke);for(const z of gt)z.updateGuards.forEach(oe=>{Te.push(to(oe,ne,ke))});return Te.push(N),Nt(Te)}).then(()=>{Te=[];for(const z of M)if(z.beforeEnter)if(Tr(z.beforeEnter))for(const oe of z.beforeEnter)Te.push(to(oe,ne,ke));else Te.push(to(z.beforeEnter,ne,ke));return Te.push(N),Nt(Te)}).then(()=>(ne.matched.forEach(z=>z.enterCallbacks={}),Te=Bg(M,"beforeRouteEnter",ne,ke,Y),Te.push(N),Nt(Te))).then(()=>{Te=[];for(const z of o.list())Te.push(to(z,ne,ke));return Te.push(N),Nt(Te)}).catch(z=>ds(z,8)?z:Promise.reject(z))}function ve(ne,ke,Te){a.list().forEach(Pe=>Y(()=>Pe(ne,ke,Te)))}function J(ne,ke,Te,Pe,gt){const M=P(ne,ke);if(M)return M;const N=ke===qs,z=il?history.state:{};Te&&(Pe||N?r.replace(ne.fullPath,Mt({scroll:N&&z&&z.scroll},gt)):r.push(ne.fullPath,gt)),l.value=ne,ct(ne,ke,Te,N),ft()}let X;function le(){X||(X=r.listen((ne,ke,Te)=>{if(!Ut.listening)return;const Pe=_(ne),gt=I(Pe);if(gt){v(Mt(gt,{replace:!0,force:!0}),Pe).catch(fu);return}c=Pe;const M=l.value;il&&XJ(Q_(M.fullPath,Te.delta),zp()),te(Pe,M).catch(N=>ds(N,12)?N:ds(N,2)?(v(Mt(A(N.to),{force:!0}),Pe).then(z=>{ds(z,20)&&!Te.delta&&Te.type===Yu.pop&&r.go(-1,!1)}).catch(fu),Promise.reject()):(Te.delta&&r.go(-Te.delta,!1),Re(N,Pe,M))).then(N=>{N=N||J(Pe,M,!1),N&&(Te.delta&&!ds(N,8)?r.go(-Te.delta,!1):Te.type===Yu.pop&&ds(N,20)&&r.go(-1,!1)),ve(Pe,M,N)}).catch(fu)}))}let ae=Lc(),me=Lc(),ue;function Re(ne,ke,Te){ft(ne);const Pe=me.list();return Pe.length?Pe.forEach(gt=>gt(ne,ke,Te)):console.error(ne),Promise.reject(ne)}function Ge(){return ue&&l.value!==qs?Promise.resolve():new Promise((ne,ke)=>{ae.add([ne,ke])})}function ft(ne){return ue||(ue=!ne,le(),ae.list().forEach(([ke,Te])=>ne?Te(ne):ke()),ae.reset()),ne}function ct(ne,ke,Te,Pe){const{scrollBehavior:gt}=t;if(!il||!gt)return Promise.resolve();const M=!Te&&UJ(Q_(ne.fullPath,0))||(Pe||!Te)&&history.state&&history.state.scroll||null;return Dl().then(()=>gt(ne,ke,M)).then(N=>N&&qJ(N)).catch(N=>Re(N,ne,ke))}const tt=ne=>r.go(ne);let xt;const $t=new Set,Ut={currentRoute:l,listening:!0,addRoute:m,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:O,getRoutes:y,resolve:_,options:t,push:T,replace:B,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:me.add,isReady:Ge,install(ne){const ke=this;ne.component("RouterLink",bZ),ne.component("RouterView",wZ),ne.config.globalProperties.$router=ke,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>Ni(l)}),il&&!xt&&l.value===qs&&(xt=!0,T(r.location).catch(gt=>{}));const Te={};for(const gt in qs)Object.defineProperty(Te,gt,{get:()=>l.value[gt],enumerable:!0});ne.provide(M0,ke),ne.provide(VR,XS(Te)),ne.provide(Qb,l);const Pe=ne.unmount;$t.add(ne),ne.unmount=function(){$t.delete(ne),$t.size<1&&(c=qs,X&&X(),X=null,l.value=qs,xt=!1,ue=!1),Pe()}}};function Nt(ne){return ne.reduce((ke,Te)=>ke.then(()=>Y(Te)),Promise.resolve())}return Ut}function SZ(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>Kl(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Kl(c,l))||r.push(l))}return[n,i,r]}const CZ={};function TZ(t,e,n,i,r,s){return Oe(),xe("div")}const AZ=nc(CZ,[["render",TZ]]),kZ=_Z({history:JJ("/"),routes:[{path:"/",name:"home",component:AZ}]});var zh={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var EZ=zh.exports,rS;function DZ(){return rS||(rS=1,function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:EZ,function(e,n){var i=[],r=Object.getPrototypeOf,s=i.slice,o=i.flat?function(h){return i.flat.call(h)}:function(h){return i.concat.apply([],h)},a=i.push,l=i.indexOf,c={},u=c.toString,f=c.hasOwnProperty,d=f.toString,m=d.call(Object),g={},y=function(p){return typeof p=="function"&&typeof p.nodeType!="number"&&typeof p.item!="function"},O=function(p){return p!=null&&p===p.window},_=e.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function P(h,p,b){b=b||_;var x,S,C=b.createElement("script");if(C.text=h,p)for(x in A)S=p[x]||p.getAttribute&&p.getAttribute(x),S&&C.setAttribute(x,S);b.head.appendChild(C).parentNode.removeChild(C)}function T(h){return h==null?h+"":typeof h=="object"||typeof h=="function"?c[u.call(h)]||"object":typeof h}var B="3.7.1",I=/HTML$/i,v=function(h,p){return new v.fn.init(h,p)};v.fn=v.prototype={jquery:B,constructor:v,length:0,toArray:function(){return s.call(this)},get:function(h){return h==null?s.call(this):h<0?this[h+this.length]:this[h]},pushStack:function(h){var p=v.merge(this.constructor(),h);return p.prevObject=this,p},each:function(h){return v.each(this,h)},map:function(h){return this.pushStack(v.map(this,function(p,b){return h.call(p,b,p)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(v.grep(this,function(h,p){return(p+1)%2}))},odd:function(){return this.pushStack(v.grep(this,function(h,p){return p%2}))},eq:function(h){var p=this.length,b=+h+(h<0?p:0);return this.pushStack(b>=0&&b<p?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},v.extend=v.fn.extend=function(){var h,p,b,x,S,C,k=arguments[0]||{},F=1,L=arguments.length,V=!1;for(typeof k=="boolean"&&(V=k,k=arguments[F]||{},F++),typeof k!="object"&&!y(k)&&(k={}),F===L&&(k=this,F--);F<L;F++)if((h=arguments[F])!=null)for(p in h)x=h[p],!(p==="__proto__"||k===x)&&(V&&x&&(v.isPlainObject(x)||(S=Array.isArray(x)))?(b=k[p],S&&!Array.isArray(b)?C=[]:!S&&!v.isPlainObject(b)?C={}:C=b,S=!1,k[p]=v.extend(V,C,x)):x!==void 0&&(k[p]=x));return k},v.extend({expando:"jQuery"+(B+Math.random()).replace(/\D/g,""),isReady:!0,error:function(h){throw new Error(h)},noop:function(){},isPlainObject:function(h){var p,b;return!h||u.call(h)!=="[object Object]"?!1:(p=r(h),p?(b=f.call(p,"constructor")&&p.constructor,typeof b=="function"&&d.call(b)===m):!0)},isEmptyObject:function(h){var p;for(p in h)return!1;return!0},globalEval:function(h,p,b){P(h,{nonce:p&&p.nonce},b)},each:function(h,p){var b,x=0;if(Q(h))for(b=h.length;x<b&&p.call(h[x],x,h[x])!==!1;x++);else for(x in h)if(p.call(h[x],x,h[x])===!1)break;return h},text:function(h){var p,b="",x=0,S=h.nodeType;if(!S)for(;p=h[x++];)b+=v.text(p);return S===1||S===11?h.textContent:S===9?h.documentElement.textContent:S===3||S===4?h.nodeValue:b},makeArray:function(h,p){var b=p||[];return h!=null&&(Q(Object(h))?v.merge(b,typeof h=="string"?[h]:h):a.call(b,h)),b},inArray:function(h,p,b){return p==null?-1:l.call(p,h,b)},isXMLDoc:function(h){var p=h&&h.namespaceURI,b=h&&(h.ownerDocument||h).documentElement;return!I.test(p||b&&b.nodeName||"HTML")},merge:function(h,p){for(var b=+p.length,x=0,S=h.length;x<b;x++)h[S++]=p[x];return h.length=S,h},grep:function(h,p,b){for(var x,S=[],C=0,k=h.length,F=!b;C<k;C++)x=!p(h[C],C),x!==F&&S.push(h[C]);return S},map:function(h,p,b){var x,S,C=0,k=[];if(Q(h))for(x=h.length;C<x;C++)S=p(h[C],C,b),S!=null&&k.push(S);else for(C in h)S=p(h[C],C,b),S!=null&&k.push(S);return o(k)},guid:1,support:g}),typeof Symbol=="function"&&(v.fn[Symbol.iterator]=i[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(h,p){c["[object "+p+"]"]=p.toLowerCase()});function Q(h){var p=!!h&&"length"in h&&h.length,b=T(h);return y(h)||O(h)?!1:b==="array"||p===0||typeof p=="number"&&p>0&&p-1 in h}function Y(h,p){return h.nodeName&&h.nodeName.toLowerCase()===p.toLowerCase()}var te=i.pop,ve=i.sort,J=i.splice,X="[\\x20\\t\\r\\n\\f]",le=new RegExp("^"+X+"+|((?:^|[^\\\\])(?:\\\\.)*)"+X+"+$","g");v.contains=function(h,p){var b=p&&p.parentNode;return h===b||!!(b&&b.nodeType===1&&(h.contains?h.contains(b):h.compareDocumentPosition&&h.compareDocumentPosition(b)&16))};var ae=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function me(h,p){return p?h==="\0"?"":h.slice(0,-1)+"\\"+h.charCodeAt(h.length-1).toString(16)+" ":"\\"+h}v.escapeSelector=function(h){return(h+"").replace(ae,me)};var ue=_,Re=a;(function(){var h,p,b,x,S,C=Re,k,F,L,V,K,se=v.expando,U=0,be=0,nt=Df(),wt=Df(),lt=Df(),Rn=Df(),pn=function(E,j){return E===j&&(S=!0),0},Rr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Pr="(?:\\\\[\\da-fA-F]{1,6}"+X+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",yt="\\["+X+"*("+Pr+")(?:"+X+"*([*^$|!~]?=)"+X+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Pr+"))|)"+X+"*\\]",Ho=":("+Pr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+yt+")*)|.*)\\)|)",Tt=new RegExp(X+"+","g"),tn=new RegExp("^"+X+"*,"+X+"*"),xc=new RegExp("^"+X+"*([>+~]|"+X+")"+X+"*"),gm=new RegExp(X+"|>"),$r=new RegExp(Ho),wc=new RegExp("^"+Pr+"$"),Mr={ID:new RegExp("^#("+Pr+")"),CLASS:new RegExp("^\\.("+Pr+")"),TAG:new RegExp("^("+Pr+"|[*])"),ATTR:new RegExp("^"+yt),PSEUDO:new RegExp("^"+Ho),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+X+"*(even|odd|(([+-]|)(\\d*)n|)"+X+"*(?:([+-]|)"+X+"*(\\d+)|))"+X+"*\\)|)","i"),bool:new RegExp("^(?:"+Rr+")$","i"),needsContext:new RegExp("^"+X+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+X+"*((?:-\\d)?\\d*)"+X+"*\\)|)(?=[^-]|$)","i")},Vs=/^(?:input|select|textarea|button)$/i,Qs=/^h\d$/i,qi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vm=/[+~]/,cs=new RegExp("\\\\[\\da-fA-F]{1,6}"+X+"?|\\\\([^\\r\\n\\f])","g"),us=function(E,j){var q="0x"+E.slice(1)-65536;return j||(q<0?String.fromCharCode(q+65536):String.fromCharCode(q>>10|55296,q&1023|56320))},JP=function(){zs()},ZP=Pf(function(E){return E.disabled===!0&&Y(E,"fieldset")},{dir:"parentNode",next:"legend"});function e$(){try{return k.activeElement}catch{}}try{C.apply(i=s.call(ue.childNodes),ue.childNodes),i[ue.childNodes.length].nodeType}catch{C={apply:function(j,q){Re.apply(j,s.call(q))},call:function(j){Re.apply(j,s.call(arguments,1))}}}function It(E,j,q,G){var ie,Ce,Le,ze,Ne,dt,et,it=j&&j.ownerDocument,pt=j?j.nodeType:9;if(q=q||[],typeof E!="string"||!E||pt!==1&&pt!==9&&pt!==11)return q;if(!G&&(zs(j),j=j||k,L)){if(pt!==11&&(Ne=qi.exec(E)))if(ie=Ne[1]){if(pt===9)if(Le=j.getElementById(ie)){if(Le.id===ie)return C.call(q,Le),q}else return q;else if(it&&(Le=it.getElementById(ie))&&It.contains(j,Le)&&Le.id===ie)return C.call(q,Le),q}else{if(Ne[2])return C.apply(q,j.getElementsByTagName(E)),q;if((ie=Ne[3])&&j.getElementsByClassName)return C.apply(q,j.getElementsByClassName(ie)),q}if(!Rn[E+" "]&&(!V||!V.test(E))){if(et=E,it=j,pt===1&&(gm.test(E)||xc.test(E))){for(it=vm.test(E)&&bm(j.parentNode)||j,(it!=j||!g.scope)&&((ze=j.getAttribute("id"))?ze=v.escapeSelector(ze):j.setAttribute("id",ze=se)),dt=_c(E),Ce=dt.length;Ce--;)dt[Ce]=(ze?"#"+ze:":scope")+" "+Rf(dt[Ce]);et=dt.join(",")}try{return C.apply(q,it.querySelectorAll(et)),q}catch{Rn(E,!0)}finally{ze===se&&j.removeAttribute("id")}}}return k1(E.replace(le,"$1"),j,q,G)}function Df(){var E=[];function j(q,G){return E.push(q+" ")>p.cacheLength&&delete j[E.shift()],j[q+" "]=G}return j}function fr(E){return E[se]=!0,E}function Fa(E){var j=k.createElement("fieldset");try{return!!E(j)}catch{return!1}finally{j.parentNode&&j.parentNode.removeChild(j),j=null}}function t$(E){return function(j){return Y(j,"input")&&j.type===E}}function n$(E){return function(j){return(Y(j,"input")||Y(j,"button"))&&j.type===E}}function T1(E){return function(j){return"form"in j?j.parentNode&&j.disabled===!1?"label"in j?"label"in j.parentNode?j.parentNode.disabled===E:j.disabled===E:j.isDisabled===E||j.isDisabled!==!E&&ZP(j)===E:j.disabled===E:"label"in j?j.disabled===E:!1}}function jo(E){return fr(function(j){return j=+j,fr(function(q,G){for(var ie,Ce=E([],q.length,j),Le=Ce.length;Le--;)q[ie=Ce[Le]]&&(q[ie]=!(G[ie]=q[ie]))})})}function bm(E){return E&&typeof E.getElementsByTagName<"u"&&E}function zs(E){var j,q=E?E.ownerDocument||E:ue;return q==k||q.nodeType!==9||!q.documentElement||(k=q,F=k.documentElement,L=!v.isXMLDoc(k),K=F.matches||F.webkitMatchesSelector||F.msMatchesSelector,F.msMatchesSelector&&ue!=k&&(j=k.defaultView)&&j.top!==j&&j.addEventListener("unload",JP),g.getById=Fa(function(G){return F.appendChild(G).id=v.expando,!k.getElementsByName||!k.getElementsByName(v.expando).length}),g.disconnectedMatch=Fa(function(G){return K.call(G,"*")}),g.scope=Fa(function(){return k.querySelectorAll(":scope")}),g.cssHas=Fa(function(){try{return k.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(p.filter.ID=function(G){var ie=G.replace(cs,us);return function(Ce){return Ce.getAttribute("id")===ie}},p.find.ID=function(G,ie){if(typeof ie.getElementById<"u"&&L){var Ce=ie.getElementById(G);return Ce?[Ce]:[]}}):(p.filter.ID=function(G){var ie=G.replace(cs,us);return function(Ce){var Le=typeof Ce.getAttributeNode<"u"&&Ce.getAttributeNode("id");return Le&&Le.value===ie}},p.find.ID=function(G,ie){if(typeof ie.getElementById<"u"&&L){var Ce,Le,ze,Ne=ie.getElementById(G);if(Ne){if(Ce=Ne.getAttributeNode("id"),Ce&&Ce.value===G)return[Ne];for(ze=ie.getElementsByName(G),Le=0;Ne=ze[Le++];)if(Ce=Ne.getAttributeNode("id"),Ce&&Ce.value===G)return[Ne]}return[]}}),p.find.TAG=function(G,ie){return typeof ie.getElementsByTagName<"u"?ie.getElementsByTagName(G):ie.querySelectorAll(G)},p.find.CLASS=function(G,ie){if(typeof ie.getElementsByClassName<"u"&&L)return ie.getElementsByClassName(G)},V=[],Fa(function(G){var ie;F.appendChild(G).innerHTML="<a id='"+se+"' href='' disabled='disabled'></a><select id='"+se+"-\r\\' disabled='disabled'><option selected=''></option></select>",G.querySelectorAll("[selected]").length||V.push("\\["+X+"*(?:value|"+Rr+")"),G.querySelectorAll("[id~="+se+"-]").length||V.push("~="),G.querySelectorAll("a#"+se+"+*").length||V.push(".#.+[+~]"),G.querySelectorAll(":checked").length||V.push(":checked"),ie=k.createElement("input"),ie.setAttribute("type","hidden"),G.appendChild(ie).setAttribute("name","D"),F.appendChild(G).disabled=!0,G.querySelectorAll(":disabled").length!==2&&V.push(":enabled",":disabled"),ie=k.createElement("input"),ie.setAttribute("name",""),G.appendChild(ie),G.querySelectorAll("[name='']").length||V.push("\\["+X+"*name"+X+"*="+X+`*(?:''|"")`)}),g.cssHas||V.push(":has"),V=V.length&&new RegExp(V.join("|")),pn=function(G,ie){if(G===ie)return S=!0,0;var Ce=!G.compareDocumentPosition-!ie.compareDocumentPosition;return Ce||(Ce=(G.ownerDocument||G)==(ie.ownerDocument||ie)?G.compareDocumentPosition(ie):1,Ce&1||!g.sortDetached&&ie.compareDocumentPosition(G)===Ce?G===k||G.ownerDocument==ue&&It.contains(ue,G)?-1:ie===k||ie.ownerDocument==ue&&It.contains(ue,ie)?1:x?l.call(x,G)-l.call(x,ie):0:Ce&4?-1:1)}),k}It.matches=function(E,j){return It(E,null,null,j)},It.matchesSelector=function(E,j){if(zs(E),L&&!Rn[j+" "]&&(!V||!V.test(j)))try{var q=K.call(E,j);if(q||g.disconnectedMatch||E.document&&E.document.nodeType!==11)return q}catch{Rn(j,!0)}return It(j,k,null,[E]).length>0},It.contains=function(E,j){return(E.ownerDocument||E)!=k&&zs(E),v.contains(E,j)},It.attr=function(E,j){(E.ownerDocument||E)!=k&&zs(E);var q=p.attrHandle[j.toLowerCase()],G=q&&f.call(p.attrHandle,j.toLowerCase())?q(E,j,!L):void 0;return G!==void 0?G:E.getAttribute(j)},It.error=function(E){throw new Error("Syntax error, unrecognized expression: "+E)},v.uniqueSort=function(E){var j,q=[],G=0,ie=0;if(S=!g.sortStable,x=!g.sortStable&&s.call(E,0),ve.call(E,pn),S){for(;j=E[ie++];)j===E[ie]&&(G=q.push(ie));for(;G--;)J.call(E,q[G],1)}return x=null,E},v.fn.uniqueSort=function(){return this.pushStack(v.uniqueSort(s.apply(this)))},p=v.expr={cacheLength:50,createPseudo:fr,match:Mr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(E){return E[1]=E[1].replace(cs,us),E[3]=(E[3]||E[4]||E[5]||"").replace(cs,us),E[2]==="~="&&(E[3]=" "+E[3]+" "),E.slice(0,4)},CHILD:function(E){return E[1]=E[1].toLowerCase(),E[1].slice(0,3)==="nth"?(E[3]||It.error(E[0]),E[4]=+(E[4]?E[5]+(E[6]||1):2*(E[3]==="even"||E[3]==="odd")),E[5]=+(E[7]+E[8]||E[3]==="odd")):E[3]&&It.error(E[0]),E},PSEUDO:function(E){var j,q=!E[6]&&E[2];return Mr.CHILD.test(E[0])?null:(E[3]?E[2]=E[4]||E[5]||"":q&&$r.test(q)&&(j=_c(q,!0))&&(j=q.indexOf(")",q.length-j)-q.length)&&(E[0]=E[0].slice(0,j),E[2]=q.slice(0,j)),E.slice(0,3))}},filter:{TAG:function(E){var j=E.replace(cs,us).toLowerCase();return E==="*"?function(){return!0}:function(q){return Y(q,j)}},CLASS:function(E){var j=nt[E+" "];return j||(j=new RegExp("(^|"+X+")"+E+"("+X+"|$)"))&&nt(E,function(q){return j.test(typeof q.className=="string"&&q.className||typeof q.getAttribute<"u"&&q.getAttribute("class")||"")})},ATTR:function(E,j,q){return function(G){var ie=It.attr(G,E);return ie==null?j==="!=":j?(ie+="",j==="="?ie===q:j==="!="?ie!==q:j==="^="?q&&ie.indexOf(q)===0:j==="*="?q&&ie.indexOf(q)>-1:j==="$="?q&&ie.slice(-q.length)===q:j==="~="?(" "+ie.replace(Tt," ")+" ").indexOf(q)>-1:j==="|="?ie===q||ie.slice(0,q.length+1)===q+"-":!1):!0}},CHILD:function(E,j,q,G,ie){var Ce=E.slice(0,3)!=="nth",Le=E.slice(-4)!=="last",ze=j==="of-type";return G===1&&ie===0?function(Ne){return!!Ne.parentNode}:function(Ne,dt,et){var it,pt,Ke,zt,gi,Fn=Ce!==Le?"nextSibling":"previousSibling",Xi=Ne.parentNode,Lr=ze&&Ne.nodeName.toLowerCase(),Ba=!et&&!ze,Jn=!1;if(Xi){if(Ce){for(;Fn;){for(Ke=Ne;Ke=Ke[Fn];)if(ze?Y(Ke,Lr):Ke.nodeType===1)return!1;gi=Fn=E==="only"&&!gi&&"nextSibling"}return!0}if(gi=[Le?Xi.firstChild:Xi.lastChild],Le&&Ba){for(pt=Xi[se]||(Xi[se]={}),it=pt[E]||[],zt=it[0]===U&&it[1],Jn=zt&&it[2],Ke=zt&&Xi.childNodes[zt];Ke=++zt&&Ke&&Ke[Fn]||(Jn=zt=0)||gi.pop();)if(Ke.nodeType===1&&++Jn&&Ke===Ne){pt[E]=[U,zt,Jn];break}}else if(Ba&&(pt=Ne[se]||(Ne[se]={}),it=pt[E]||[],zt=it[0]===U&&it[1],Jn=zt),Jn===!1)for(;(Ke=++zt&&Ke&&Ke[Fn]||(Jn=zt=0)||gi.pop())&&!((ze?Y(Ke,Lr):Ke.nodeType===1)&&++Jn&&(Ba&&(pt=Ke[se]||(Ke[se]={}),pt[E]=[U,Jn]),Ke===Ne)););return Jn-=ie,Jn===G||Jn%G===0&&Jn/G>=0}}},PSEUDO:function(E,j){var q,G=p.pseudos[E]||p.setFilters[E.toLowerCase()]||It.error("unsupported pseudo: "+E);return G[se]?G(j):G.length>1?(q=[E,E,"",j],p.setFilters.hasOwnProperty(E.toLowerCase())?fr(function(ie,Ce){for(var Le,ze=G(ie,j),Ne=ze.length;Ne--;)Le=l.call(ie,ze[Ne]),ie[Le]=!(Ce[Le]=ze[Ne])}):function(ie){return G(ie,0,q)}):G}},pseudos:{not:fr(function(E){var j=[],q=[],G=wm(E.replace(le,"$1"));return G[se]?fr(function(ie,Ce,Le,ze){for(var Ne,dt=G(ie,null,ze,[]),et=ie.length;et--;)(Ne=dt[et])&&(ie[et]=!(Ce[et]=Ne))}):function(ie,Ce,Le){return j[0]=ie,G(j,null,Le,q),j[0]=null,!q.pop()}}),has:fr(function(E){return function(j){return It(E,j).length>0}}),contains:fr(function(E){return E=E.replace(cs,us),function(j){return(j.textContent||v.text(j)).indexOf(E)>-1}}),lang:fr(function(E){return wc.test(E||"")||It.error("unsupported lang: "+E),E=E.replace(cs,us).toLowerCase(),function(j){var q;do if(q=L?j.lang:j.getAttribute("xml:lang")||j.getAttribute("lang"))return q=q.toLowerCase(),q===E||q.indexOf(E+"-")===0;while((j=j.parentNode)&&j.nodeType===1);return!1}}),target:function(E){var j=e.location&&e.location.hash;return j&&j.slice(1)===E.id},root:function(E){return E===F},focus:function(E){return E===e$()&&k.hasFocus()&&!!(E.type||E.href||~E.tabIndex)},enabled:T1(!1),disabled:T1(!0),checked:function(E){return Y(E,"input")&&!!E.checked||Y(E,"option")&&!!E.selected},selected:function(E){return E.parentNode&&E.parentNode.selectedIndex,E.selected===!0},empty:function(E){for(E=E.firstChild;E;E=E.nextSibling)if(E.nodeType<6)return!1;return!0},parent:function(E){return!p.pseudos.empty(E)},header:function(E){return Qs.test(E.nodeName)},input:function(E){return Vs.test(E.nodeName)},button:function(E){return Y(E,"input")&&E.type==="button"||Y(E,"button")},text:function(E){var j;return Y(E,"input")&&E.type==="text"&&((j=E.getAttribute("type"))==null||j.toLowerCase()==="text")},first:jo(function(){return[0]}),last:jo(function(E,j){return[j-1]}),eq:jo(function(E,j,q){return[q<0?q+j:q]}),even:jo(function(E,j){for(var q=0;q<j;q+=2)E.push(q);return E}),odd:jo(function(E,j){for(var q=1;q<j;q+=2)E.push(q);return E}),lt:jo(function(E,j,q){var G;for(q<0?G=q+j:q>j?G=j:G=q;--G>=0;)E.push(G);return E}),gt:jo(function(E,j,q){for(var G=q<0?q+j:q;++G<j;)E.push(G);return E})}},p.pseudos.nth=p.pseudos.eq;for(h in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})p.pseudos[h]=t$(h);for(h in{submit:!0,reset:!0})p.pseudos[h]=n$(h);function A1(){}A1.prototype=p.filters=p.pseudos,p.setFilters=new A1;function _c(E,j){var q,G,ie,Ce,Le,ze,Ne,dt=wt[E+" "];if(dt)return j?0:dt.slice(0);for(Le=E,ze=[],Ne=p.preFilter;Le;){(!q||(G=tn.exec(Le)))&&(G&&(Le=Le.slice(G[0].length)||Le),ze.push(ie=[])),q=!1,(G=xc.exec(Le))&&(q=G.shift(),ie.push({value:q,type:G[0].replace(le," ")}),Le=Le.slice(q.length));for(Ce in p.filter)(G=Mr[Ce].exec(Le))&&(!Ne[Ce]||(G=Ne[Ce](G)))&&(q=G.shift(),ie.push({value:q,type:Ce,matches:G}),Le=Le.slice(q.length));if(!q)break}return j?Le.length:Le?It.error(E):wt(E,ze).slice(0)}function Rf(E){for(var j=0,q=E.length,G="";j<q;j++)G+=E[j].value;return G}function Pf(E,j,q){var G=j.dir,ie=j.next,Ce=ie||G,Le=q&&Ce==="parentNode",ze=be++;return j.first?function(Ne,dt,et){for(;Ne=Ne[G];)if(Ne.nodeType===1||Le)return E(Ne,dt,et);return!1}:function(Ne,dt,et){var it,pt,Ke=[U,ze];if(et){for(;Ne=Ne[G];)if((Ne.nodeType===1||Le)&&E(Ne,dt,et))return!0}else for(;Ne=Ne[G];)if(Ne.nodeType===1||Le)if(pt=Ne[se]||(Ne[se]={}),ie&&Y(Ne,ie))Ne=Ne[G]||Ne;else{if((it=pt[Ce])&&it[0]===U&&it[1]===ze)return Ke[2]=it[2];if(pt[Ce]=Ke,Ke[2]=E(Ne,dt,et))return!0}return!1}}function ym(E){return E.length>1?function(j,q,G){for(var ie=E.length;ie--;)if(!E[ie](j,q,G))return!1;return!0}:E[0]}function i$(E,j,q){for(var G=0,ie=j.length;G<ie;G++)It(E,j[G],q);return q}function $f(E,j,q,G,ie){for(var Ce,Le=[],ze=0,Ne=E.length,dt=j!=null;ze<Ne;ze++)(Ce=E[ze])&&(!q||q(Ce,G,ie))&&(Le.push(Ce),dt&&j.push(ze));return Le}function Om(E,j,q,G,ie,Ce){return G&&!G[se]&&(G=Om(G)),ie&&!ie[se]&&(ie=Om(ie,Ce)),fr(function(Le,ze,Ne,dt){var et,it,pt,Ke,zt=[],gi=[],Fn=ze.length,Xi=Le||i$(j||"*",Ne.nodeType?[Ne]:Ne,[]),Lr=E&&(Le||!j)?$f(Xi,zt,E,Ne,dt):Xi;if(q?(Ke=ie||(Le?E:Fn||G)?[]:ze,q(Lr,Ke,Ne,dt)):Ke=Lr,G)for(et=$f(Ke,gi),G(et,[],Ne,dt),it=et.length;it--;)(pt=et[it])&&(Ke[gi[it]]=!(Lr[gi[it]]=pt));if(Le){if(ie||E){if(ie){for(et=[],it=Ke.length;it--;)(pt=Ke[it])&&et.push(Lr[it]=pt);ie(null,Ke=[],et,dt)}for(it=Ke.length;it--;)(pt=Ke[it])&&(et=ie?l.call(Le,pt):zt[it])>-1&&(Le[et]=!(ze[et]=pt))}}else Ke=$f(Ke===ze?Ke.splice(Fn,Ke.length):Ke),ie?ie(null,ze,Ke,dt):C.apply(ze,Ke)})}function xm(E){for(var j,q,G,ie=E.length,Ce=p.relative[E[0].type],Le=Ce||p.relative[" "],ze=Ce?1:0,Ne=Pf(function(it){return it===j},Le,!0),dt=Pf(function(it){return l.call(j,it)>-1},Le,!0),et=[function(it,pt,Ke){var zt=!Ce&&(Ke||pt!=b)||((j=pt).nodeType?Ne(it,pt,Ke):dt(it,pt,Ke));return j=null,zt}];ze<ie;ze++)if(q=p.relative[E[ze].type])et=[Pf(ym(et),q)];else{if(q=p.filter[E[ze].type].apply(null,E[ze].matches),q[se]){for(G=++ze;G<ie&&!p.relative[E[G].type];G++);return Om(ze>1&&ym(et),ze>1&&Rf(E.slice(0,ze-1).concat({value:E[ze-2].type===" "?"*":""})).replace(le,"$1"),q,ze<G&&xm(E.slice(ze,G)),G<ie&&xm(E=E.slice(G)),G<ie&&Rf(E))}et.push(q)}return ym(et)}function r$(E,j){var q=j.length>0,G=E.length>0,ie=function(Ce,Le,ze,Ne,dt){var et,it,pt,Ke=0,zt="0",gi=Ce&&[],Fn=[],Xi=b,Lr=Ce||G&&p.find.TAG("*",dt),Ba=U+=Xi==null?1:Math.random()||.1,Jn=Lr.length;for(dt&&(b=Le==k||Le||dt);zt!==Jn&&(et=Lr[zt])!=null;zt++){if(G&&et){for(it=0,!Le&&et.ownerDocument!=k&&(zs(et),ze=!L);pt=E[it++];)if(pt(et,Le||k,ze)){C.call(Ne,et);break}dt&&(U=Ba)}q&&((et=!pt&&et)&&Ke--,Ce&&gi.push(et))}if(Ke+=zt,q&&zt!==Ke){for(it=0;pt=j[it++];)pt(gi,Fn,Le,ze);if(Ce){if(Ke>0)for(;zt--;)gi[zt]||Fn[zt]||(Fn[zt]=te.call(Ne));Fn=$f(Fn)}C.apply(Ne,Fn),dt&&!Ce&&Fn.length>0&&Ke+j.length>1&&v.uniqueSort(Ne)}return dt&&(U=Ba,b=Xi),gi};return q?fr(ie):ie}function wm(E,j){var q,G=[],ie=[],Ce=lt[E+" "];if(!Ce){for(j||(j=_c(E)),q=j.length;q--;)Ce=xm(j[q]),Ce[se]?G.push(Ce):ie.push(Ce);Ce=lt(E,r$(ie,G)),Ce.selector=E}return Ce}function k1(E,j,q,G){var ie,Ce,Le,ze,Ne,dt=typeof E=="function"&&E,et=!G&&_c(E=dt.selector||E);if(q=q||[],et.length===1){if(Ce=et[0]=et[0].slice(0),Ce.length>2&&(Le=Ce[0]).type==="ID"&&j.nodeType===9&&L&&p.relative[Ce[1].type]){if(j=(p.find.ID(Le.matches[0].replace(cs,us),j)||[])[0],j)dt&&(j=j.parentNode);else return q;E=E.slice(Ce.shift().value.length)}for(ie=Mr.needsContext.test(E)?0:Ce.length;ie--&&(Le=Ce[ie],!p.relative[ze=Le.type]);)if((Ne=p.find[ze])&&(G=Ne(Le.matches[0].replace(cs,us),vm.test(Ce[0].type)&&bm(j.parentNode)||j))){if(Ce.splice(ie,1),E=G.length&&Rf(Ce),!E)return C.apply(q,G),q;break}}return(dt||wm(E,et))(G,j,!L,q,!j||vm.test(E)&&bm(j.parentNode)||j),q}g.sortStable=se.split("").sort(pn).join("")===se,zs(),g.sortDetached=Fa(function(E){return E.compareDocumentPosition(k.createElement("fieldset"))&1}),v.find=It,v.expr[":"]=v.expr.pseudos,v.unique=v.uniqueSort,It.compile=wm,It.select=k1,It.setDocument=zs,It.tokenize=_c,It.escape=v.escapeSelector,It.getText=v.text,It.isXML=v.isXMLDoc,It.selectors=v.expr,It.support=v.support,It.uniqueSort=v.uniqueSort})();var Ge=function(h,p,b){for(var x=[],S=b!==void 0;(h=h[p])&&h.nodeType!==9;)if(h.nodeType===1){if(S&&v(h).is(b))break;x.push(h)}return x},ft=function(h,p){for(var b=[];h;h=h.nextSibling)h.nodeType===1&&h!==p&&b.push(h);return b},ct=v.expr.match.needsContext,tt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function xt(h,p,b){return y(p)?v.grep(h,function(x,S){return!!p.call(x,S,x)!==b}):p.nodeType?v.grep(h,function(x){return x===p!==b}):typeof p!="string"?v.grep(h,function(x){return l.call(p,x)>-1!==b}):v.filter(p,h,b)}v.filter=function(h,p,b){var x=p[0];return b&&(h=":not("+h+")"),p.length===1&&x.nodeType===1?v.find.matchesSelector(x,h)?[x]:[]:v.find.matches(h,v.grep(p,function(S){return S.nodeType===1}))},v.fn.extend({find:function(h){var p,b,x=this.length,S=this;if(typeof h!="string")return this.pushStack(v(h).filter(function(){for(p=0;p<x;p++)if(v.contains(S[p],this))return!0}));for(b=this.pushStack([]),p=0;p<x;p++)v.find(h,S[p],b);return x>1?v.uniqueSort(b):b},filter:function(h){return this.pushStack(xt(this,h||[],!1))},not:function(h){return this.pushStack(xt(this,h||[],!0))},is:function(h){return!!xt(this,typeof h=="string"&&ct.test(h)?v(h):h||[],!1).length}});var $t,Ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Nt=v.fn.init=function(h,p,b){var x,S;if(!h)return this;if(b=b||$t,typeof h=="string")if(h[0]==="<"&&h[h.length-1]===">"&&h.length>=3?x=[null,h,null]:x=Ut.exec(h),x&&(x[1]||!p))if(x[1]){if(p=p instanceof v?p[0]:p,v.merge(this,v.parseHTML(x[1],p&&p.nodeType?p.ownerDocument||p:_,!0)),tt.test(x[1])&&v.isPlainObject(p))for(x in p)y(this[x])?this[x](p[x]):this.attr(x,p[x]);return this}else return S=_.getElementById(x[2]),S&&(this[0]=S,this.length=1),this;else return!p||p.jquery?(p||b).find(h):this.constructor(p).find(h);else{if(h.nodeType)return this[0]=h,this.length=1,this;if(y(h))return b.ready!==void 0?b.ready(h):h(v)}return v.makeArray(h,this)};Nt.prototype=v.fn,$t=v(_);var ne=/^(?:parents|prev(?:Until|All))/,ke={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(h){var p=v(h,this),b=p.length;return this.filter(function(){for(var x=0;x<b;x++)if(v.contains(this,p[x]))return!0})},closest:function(h,p){var b,x=0,S=this.length,C=[],k=typeof h!="string"&&v(h);if(!ct.test(h)){for(;x<S;x++)for(b=this[x];b&&b!==p;b=b.parentNode)if(b.nodeType<11&&(k?k.index(b)>-1:b.nodeType===1&&v.find.matchesSelector(b,h))){C.push(b);break}}return this.pushStack(C.length>1?v.uniqueSort(C):C)},index:function(h){return h?typeof h=="string"?l.call(v(h),this[0]):l.call(this,h.jquery?h[0]:h):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(h,p){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(h,p))))},addBack:function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}});function Te(h,p){for(;(h=h[p])&&h.nodeType!==1;);return h}v.each({parent:function(h){var p=h.parentNode;return p&&p.nodeType!==11?p:null},parents:function(h){return Ge(h,"parentNode")},parentsUntil:function(h,p,b){return Ge(h,"parentNode",b)},next:function(h){return Te(h,"nextSibling")},prev:function(h){return Te(h,"previousSibling")},nextAll:function(h){return Ge(h,"nextSibling")},prevAll:function(h){return Ge(h,"previousSibling")},nextUntil:function(h,p,b){return Ge(h,"nextSibling",b)},prevUntil:function(h,p,b){return Ge(h,"previousSibling",b)},siblings:function(h){return ft((h.parentNode||{}).firstChild,h)},children:function(h){return ft(h.firstChild)},contents:function(h){return h.contentDocument!=null&&r(h.contentDocument)?h.contentDocument:(Y(h,"template")&&(h=h.content||h),v.merge([],h.childNodes))}},function(h,p){v.fn[h]=function(b,x){var S=v.map(this,p,b);return h.slice(-5)!=="Until"&&(x=b),x&&typeof x=="string"&&(S=v.filter(x,S)),this.length>1&&(ke[h]||v.uniqueSort(S),ne.test(h)&&S.reverse()),this.pushStack(S)}});var Pe=/[^\x20\t\r\n\f]+/g;function gt(h){var p={};return v.each(h.match(Pe)||[],function(b,x){p[x]=!0}),p}v.Callbacks=function(h){h=typeof h=="string"?gt(h):v.extend({},h);var p,b,x,S,C=[],k=[],F=-1,L=function(){for(S=S||h.once,x=p=!0;k.length;F=-1)for(b=k.shift();++F<C.length;)C[F].apply(b[0],b[1])===!1&&h.stopOnFalse&&(F=C.length,b=!1);h.memory||(b=!1),p=!1,S&&(b?C=[]:C="")},V={add:function(){return C&&(b&&!p&&(F=C.length-1,k.push(b)),function K(se){v.each(se,function(U,be){y(be)?(!h.unique||!V.has(be))&&C.push(be):be&&be.length&&T(be)!=="string"&&K(be)})}(arguments),b&&!p&&L()),this},remove:function(){return v.each(arguments,function(K,se){for(var U;(U=v.inArray(se,C,U))>-1;)C.splice(U,1),U<=F&&F--}),this},has:function(K){return K?v.inArray(K,C)>-1:C.length>0},empty:function(){return C&&(C=[]),this},disable:function(){return S=k=[],C=b="",this},disabled:function(){return!C},lock:function(){return S=k=[],!b&&!p&&(C=b=""),this},locked:function(){return!!S},fireWith:function(K,se){return S||(se=se||[],se=[K,se.slice?se.slice():se],k.push(se),p||L()),this},fire:function(){return V.fireWith(this,arguments),this},fired:function(){return!!x}};return V};function M(h){return h}function N(h){throw h}function z(h,p,b,x){var S;try{h&&y(S=h.promise)?S.call(h).done(p).fail(b):h&&y(S=h.then)?S.call(h,p,b):p.apply(void 0,[h].slice(x))}catch(C){b.apply(void 0,[C])}}v.extend({Deferred:function(h){var p=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],b="pending",x={state:function(){return b},always:function(){return S.done(arguments).fail(arguments),this},catch:function(C){return x.then(null,C)},pipe:function(){var C=arguments;return v.Deferred(function(k){v.each(p,function(F,L){var V=y(C[L[4]])&&C[L[4]];S[L[1]](function(){var K=V&&V.apply(this,arguments);K&&y(K.promise)?K.promise().progress(k.notify).done(k.resolve).fail(k.reject):k[L[0]+"With"](this,V?[K]:arguments)})}),C=null}).promise()},then:function(C,k,F){var L=0;function V(K,se,U,be){return function(){var nt=this,wt=arguments,lt=function(){var pn,Rr;if(!(K<L)){if(pn=U.apply(nt,wt),pn===se.promise())throw new TypeError("Thenable self-resolution");Rr=pn&&(typeof pn=="object"||typeof pn=="function")&&pn.then,y(Rr)?be?Rr.call(pn,V(L,se,M,be),V(L,se,N,be)):(L++,Rr.call(pn,V(L,se,M,be),V(L,se,N,be),V(L,se,M,se.notifyWith))):(U!==M&&(nt=void 0,wt=[pn]),(be||se.resolveWith)(nt,wt))}},Rn=be?lt:function(){try{lt()}catch(pn){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(pn,Rn.error),K+1>=L&&(U!==N&&(nt=void 0,wt=[pn]),se.rejectWith(nt,wt))}};K?Rn():(v.Deferred.getErrorHook?Rn.error=v.Deferred.getErrorHook():v.Deferred.getStackHook&&(Rn.error=v.Deferred.getStackHook()),e.setTimeout(Rn))}}return v.Deferred(function(K){p[0][3].add(V(0,K,y(F)?F:M,K.notifyWith)),p[1][3].add(V(0,K,y(C)?C:M)),p[2][3].add(V(0,K,y(k)?k:N))}).promise()},promise:function(C){return C!=null?v.extend(C,x):x}},S={};return v.each(p,function(C,k){var F=k[2],L=k[5];x[k[1]]=F.add,L&&F.add(function(){b=L},p[3-C][2].disable,p[3-C][3].disable,p[0][2].lock,p[0][3].lock),F.add(k[3].fire),S[k[0]]=function(){return S[k[0]+"With"](this===S?void 0:this,arguments),this},S[k[0]+"With"]=F.fireWith}),x.promise(S),h&&h.call(S,S),S},when:function(h){var p=arguments.length,b=p,x=Array(b),S=s.call(arguments),C=v.Deferred(),k=function(F){return function(L){x[F]=this,S[F]=arguments.length>1?s.call(arguments):L,--p||C.resolveWith(x,S)}};if(p<=1&&(z(h,C.done(k(b)).resolve,C.reject,!p),C.state()==="pending"||y(S[b]&&S[b].then)))return C.then();for(;b--;)z(S[b],k(b),C.reject);return C.promise()}});var oe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(h,p){e.console&&e.console.warn&&h&&oe.test(h.name)&&e.console.warn("jQuery.Deferred exception: "+h.message,h.stack,p)},v.readyException=function(h){e.setTimeout(function(){throw h})};var ce=v.Deferred();v.fn.ready=function(h){return ce.then(h).catch(function(p){v.readyException(p)}),this},v.extend({isReady:!1,readyWait:1,ready:function(h){(h===!0?--v.readyWait:v.isReady)||(v.isReady=!0,!(h!==!0&&--v.readyWait>0)&&ce.resolveWith(_,[v]))}}),v.ready.then=ce.then;function re(){_.removeEventListener("DOMContentLoaded",re),e.removeEventListener("load",re),v.ready()}_.readyState==="complete"||_.readyState!=="loading"&&!_.documentElement.doScroll?e.setTimeout(v.ready):(_.addEventListener("DOMContentLoaded",re),e.addEventListener("load",re));var we=function(h,p,b,x,S,C,k){var F=0,L=h.length,V=b==null;if(T(b)==="object"){S=!0;for(F in b)we(h,p,F,b[F],!0,C,k)}else if(x!==void 0&&(S=!0,y(x)||(k=!0),V&&(k?(p.call(h,x),p=null):(V=p,p=function(K,se,U){return V.call(v(K),U)})),p))for(;F<L;F++)p(h[F],b,k?x:x.call(h[F],F,p(h[F],b)));return S?h:V?p.call(h):L?p(h[0],b):C},_e=/^-ms-/,ye=/-([a-z])/g;function pe(h,p){return p.toUpperCase()}function Be(h){return h.replace(_e,"ms-").replace(ye,pe)}var Se=function(h){return h.nodeType===1||h.nodeType===9||!+h.nodeType};function Ve(){this.expando=v.expando+Ve.uid++}Ve.uid=1,Ve.prototype={cache:function(h){var p=h[this.expando];return p||(p={},Se(h)&&(h.nodeType?h[this.expando]=p:Object.defineProperty(h,this.expando,{value:p,configurable:!0}))),p},set:function(h,p,b){var x,S=this.cache(h);if(typeof p=="string")S[Be(p)]=b;else for(x in p)S[Be(x)]=p[x];return S},get:function(h,p){return p===void 0?this.cache(h):h[this.expando]&&h[this.expando][Be(p)]},access:function(h,p,b){return p===void 0||p&&typeof p=="string"&&b===void 0?this.get(h,p):(this.set(h,p,b),b!==void 0?b:p)},remove:function(h,p){var b,x=h[this.expando];if(x!==void 0){if(p!==void 0)for(Array.isArray(p)?p=p.map(Be):(p=Be(p),p=p in x?[p]:p.match(Pe)||[]),b=p.length;b--;)delete x[p[b]];(p===void 0||v.isEmptyObject(x))&&(h.nodeType?h[this.expando]=void 0:delete h[this.expando])}},hasData:function(h){var p=h[this.expando];return p!==void 0&&!v.isEmptyObject(p)}};var de=new Ve,Xe=new Ve,Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,vt=/[A-Z]/g;function kn(h){return h==="true"?!0:h==="false"?!1:h==="null"?null:h===+h+""?+h:Ct.test(h)?JSON.parse(h):h}function dn(h,p,b){var x;if(b===void 0&&h.nodeType===1)if(x="data-"+p.replace(vt,"-$&").toLowerCase(),b=h.getAttribute(x),typeof b=="string"){try{b=kn(b)}catch{}Xe.set(h,p,b)}else b=void 0;return b}v.extend({hasData:function(h){return Xe.hasData(h)||de.hasData(h)},data:function(h,p,b){return Xe.access(h,p,b)},removeData:function(h,p){Xe.remove(h,p)},_data:function(h,p,b){return de.access(h,p,b)},_removeData:function(h,p){de.remove(h,p)}}),v.fn.extend({data:function(h,p){var b,x,S,C=this[0],k=C&&C.attributes;if(h===void 0){if(this.length&&(S=Xe.get(C),C.nodeType===1&&!de.get(C,"hasDataAttrs"))){for(b=k.length;b--;)k[b]&&(x=k[b].name,x.indexOf("data-")===0&&(x=Be(x.slice(5)),dn(C,x,S[x])));de.set(C,"hasDataAttrs",!0)}return S}return typeof h=="object"?this.each(function(){Xe.set(this,h)}):we(this,function(F){var L;if(C&&F===void 0)return L=Xe.get(C,h),L!==void 0||(L=dn(C,h),L!==void 0)?L:void 0;this.each(function(){Xe.set(this,h,F)})},null,p,arguments.length>1,null,!0)},removeData:function(h){return this.each(function(){Xe.remove(this,h)})}}),v.extend({queue:function(h,p,b){var x;if(h)return p=(p||"fx")+"queue",x=de.get(h,p),b&&(!x||Array.isArray(b)?x=de.access(h,p,v.makeArray(b)):x.push(b)),x||[]},dequeue:function(h,p){p=p||"fx";var b=v.queue(h,p),x=b.length,S=b.shift(),C=v._queueHooks(h,p),k=function(){v.dequeue(h,p)};S==="inprogress"&&(S=b.shift(),x--),S&&(p==="fx"&&b.unshift("inprogress"),delete C.stop,S.call(h,k,C)),!x&&C&&C.empty.fire()},_queueHooks:function(h,p){var b=p+"queueHooks";return de.get(h,b)||de.access(h,b,{empty:v.Callbacks("once memory").add(function(){de.remove(h,[p+"queue",b])})})}}),v.fn.extend({queue:function(h,p){var b=2;return typeof h!="string"&&(p=h,h="fx",b--),arguments.length<b?v.queue(this[0],h):p===void 0?this:this.each(function(){var x=v.queue(this,h,p);v._queueHooks(this,h),h==="fx"&&x[0]!=="inprogress"&&v.dequeue(this,h)})},dequeue:function(h){return this.each(function(){v.dequeue(this,h)})},clearQueue:function(h){return this.queue(h||"fx",[])},promise:function(h,p){var b,x=1,S=v.Deferred(),C=this,k=this.length,F=function(){--x||S.resolveWith(C,[C])};for(typeof h!="string"&&(p=h,h=void 0),h=h||"fx";k--;)b=de.get(C[k],h+"queueHooks"),b&&b.empty&&(x++,b.empty.add(F));return F(),S.promise(p)}});var Kn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,bn=new RegExp("^(?:([+-])=|)("+Kn+")([a-z%]*)$","i"),En=["Top","Right","Bottom","Left"],ee=_.documentElement,Ae=function(h){return v.contains(h.ownerDocument,h)},We={composed:!0};ee.getRootNode&&(Ae=function(h){return v.contains(h.ownerDocument,h)||h.getRootNode(We)===h.ownerDocument});var ht=function(h,p){return h=p||h,h.style.display==="none"||h.style.display===""&&Ae(h)&&v.css(h,"display")==="none"};function bt(h,p,b,x){var S,C,k=20,F=x?function(){return x.cur()}:function(){return v.css(h,p,"")},L=F(),V=b&&b[3]||(v.cssNumber[p]?"":"px"),K=h.nodeType&&(v.cssNumber[p]||V!=="px"&&+L)&&bn.exec(v.css(h,p));if(K&&K[3]!==V){for(L=L/2,V=V||K[3],K=+L||1;k--;)v.style(h,p,K+V),(1-C)*(1-(C=F()/L||.5))<=0&&(k=0),K=K/C;K=K*2,v.style(h,p,K+V),b=b||[]}return b&&(K=+K||+L||0,S=b[1]?K+(b[1]+1)*b[2]:+b[2],x&&(x.unit=V,x.start=K,x.end=S)),S}var yn={};function pi(h){var p,b=h.ownerDocument,x=h.nodeName,S=yn[x];return S||(p=b.body.appendChild(b.createElement(x)),S=v.css(p,"display"),p.parentNode.removeChild(p),S==="none"&&(S="block"),yn[x]=S,S)}function Ti(h,p){for(var b,x,S=[],C=0,k=h.length;C<k;C++)x=h[C],x.style&&(b=x.style.display,p?(b==="none"&&(S[C]=de.get(x,"display")||null,S[C]||(x.style.display="")),x.style.display===""&&ht(x)&&(S[C]=pi(x))):b!=="none"&&(S[C]="none",de.set(x,"display",b)));for(C=0;C<k;C++)S[C]!=null&&(h[C].style.display=S[C]);return h}v.fn.extend({show:function(){return Ti(this,!0)},hide:function(){return Ti(this)},toggle:function(h){return typeof h=="boolean"?h?this.show():this.hide():this.each(function(){ht(this)?v(this).show():v(this).hide()})}});var js=/^(?:checkbox|radio)$/i,Dr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,$a=/^$|^module$|\/(?:java|ecma)script/i;(function(){var h=_.createDocumentFragment(),p=h.appendChild(_.createElement("div")),b=_.createElement("input");b.setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","t"),p.appendChild(b),g.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked,p.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!p.cloneNode(!0).lastChild.defaultValue,p.innerHTML="<option></option>",g.option=!!p.lastChild})();var Dn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Dn.tbody=Dn.tfoot=Dn.colgroup=Dn.caption=Dn.thead,Dn.th=Dn.td,g.option||(Dn.optgroup=Dn.option=[1,"<select multiple='multiple'>","</select>"]);function rn(h,p){var b;return typeof h.getElementsByTagName<"u"?b=h.getElementsByTagName(p||"*"):typeof h.querySelectorAll<"u"?b=h.querySelectorAll(p||"*"):b=[],p===void 0||p&&Y(h,p)?v.merge([h],b):b}function mc(h,p){for(var b=0,x=h.length;b<x;b++)de.set(h[b],"globalEval",!p||de.get(p[b],"globalEval"))}var gc=/<|&#?\w+;/;function Io(h,p,b,x,S){for(var C,k,F,L,V,K,se=p.createDocumentFragment(),U=[],be=0,nt=h.length;be<nt;be++)if(C=h[be],C||C===0)if(T(C)==="object")v.merge(U,C.nodeType?[C]:C);else if(!gc.test(C))U.push(p.createTextNode(C));else{for(k=k||se.appendChild(p.createElement("div")),F=(Dr.exec(C)||["",""])[1].toLowerCase(),L=Dn[F]||Dn._default,k.innerHTML=L[1]+v.htmlPrefilter(C)+L[2],K=L[0];K--;)k=k.lastChild;v.merge(U,k.childNodes),k=se.firstChild,k.textContent=""}for(se.textContent="",be=0;C=U[be++];){if(x&&v.inArray(C,x)>-1){S&&S.push(C);continue}if(V=Ae(C),k=rn(se.appendChild(C),"script"),V&&mc(k),b)for(K=0;C=k[K++];)$a.test(C.type||"")&&b.push(C)}return se}var n1=/^([^.]*)(?:\.(.+)|)/;function Ma(){return!0}function La(){return!1}function im(h,p,b,x,S,C){var k,F;if(typeof p=="object"){typeof b!="string"&&(x=x||b,b=void 0);for(F in p)im(h,F,b,x,p[F],C);return h}if(x==null&&S==null?(S=b,x=b=void 0):S==null&&(typeof b=="string"?(S=x,x=void 0):(S=x,x=b,b=void 0)),S===!1)S=La;else if(!S)return h;return C===1&&(k=S,S=function(L){return v().off(L),k.apply(this,arguments)},S.guid=k.guid||(k.guid=v.guid++)),h.each(function(){v.event.add(this,p,S,x,b)})}v.event={global:{},add:function(h,p,b,x,S){var C,k,F,L,V,K,se,U,be,nt,wt,lt=de.get(h);if(Se(h))for(b.handler&&(C=b,b=C.handler,S=C.selector),S&&v.find.matchesSelector(ee,S),b.guid||(b.guid=v.guid++),(L=lt.events)||(L=lt.events=Object.create(null)),(k=lt.handle)||(k=lt.handle=function(Rn){return typeof v<"u"&&v.event.triggered!==Rn.type?v.event.dispatch.apply(h,arguments):void 0}),p=(p||"").match(Pe)||[""],V=p.length;V--;)F=n1.exec(p[V])||[],be=wt=F[1],nt=(F[2]||"").split(".").sort(),be&&(se=v.event.special[be]||{},be=(S?se.delegateType:se.bindType)||be,se=v.event.special[be]||{},K=v.extend({type:be,origType:wt,data:x,handler:b,guid:b.guid,selector:S,needsContext:S&&v.expr.match.needsContext.test(S),namespace:nt.join(".")},C),(U=L[be])||(U=L[be]=[],U.delegateCount=0,(!se.setup||se.setup.call(h,x,nt,k)===!1)&&h.addEventListener&&h.addEventListener(be,k)),se.add&&(se.add.call(h,K),K.handler.guid||(K.handler.guid=b.guid)),S?U.splice(U.delegateCount++,0,K):U.push(K),v.event.global[be]=!0)},remove:function(h,p,b,x,S){var C,k,F,L,V,K,se,U,be,nt,wt,lt=de.hasData(h)&&de.get(h);if(!(!lt||!(L=lt.events))){for(p=(p||"").match(Pe)||[""],V=p.length;V--;){if(F=n1.exec(p[V])||[],be=wt=F[1],nt=(F[2]||"").split(".").sort(),!be){for(be in L)v.event.remove(h,be+p[V],b,x,!0);continue}for(se=v.event.special[be]||{},be=(x?se.delegateType:se.bindType)||be,U=L[be]||[],F=F[2]&&new RegExp("(^|\\.)"+nt.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=C=U.length;C--;)K=U[C],(S||wt===K.origType)&&(!b||b.guid===K.guid)&&(!F||F.test(K.namespace))&&(!x||x===K.selector||x==="**"&&K.selector)&&(U.splice(C,1),K.selector&&U.delegateCount--,se.remove&&se.remove.call(h,K));k&&!U.length&&((!se.teardown||se.teardown.call(h,nt,lt.handle)===!1)&&v.removeEvent(h,be,lt.handle),delete L[be])}v.isEmptyObject(L)&&de.remove(h,"handle events")}},dispatch:function(h){var p,b,x,S,C,k,F=new Array(arguments.length),L=v.event.fix(h),V=(de.get(this,"events")||Object.create(null))[L.type]||[],K=v.event.special[L.type]||{};for(F[0]=L,p=1;p<arguments.length;p++)F[p]=arguments[p];if(L.delegateTarget=this,!(K.preDispatch&&K.preDispatch.call(this,L)===!1)){for(k=v.event.handlers.call(this,L,V),p=0;(S=k[p++])&&!L.isPropagationStopped();)for(L.currentTarget=S.elem,b=0;(C=S.handlers[b++])&&!L.isImmediatePropagationStopped();)(!L.rnamespace||C.namespace===!1||L.rnamespace.test(C.namespace))&&(L.handleObj=C,L.data=C.data,x=((v.event.special[C.origType]||{}).handle||C.handler).apply(S.elem,F),x!==void 0&&(L.result=x)===!1&&(L.preventDefault(),L.stopPropagation()));return K.postDispatch&&K.postDispatch.call(this,L),L.result}},handlers:function(h,p){var b,x,S,C,k,F=[],L=p.delegateCount,V=h.target;if(L&&V.nodeType&&!(h.type==="click"&&h.button>=1)){for(;V!==this;V=V.parentNode||this)if(V.nodeType===1&&!(h.type==="click"&&V.disabled===!0)){for(C=[],k={},b=0;b<L;b++)x=p[b],S=x.selector+" ",k[S]===void 0&&(k[S]=x.needsContext?v(S,this).index(V)>-1:v.find(S,this,null,[V]).length),k[S]&&C.push(x);C.length&&F.push({elem:V,handlers:C})}}return V=this,L<p.length&&F.push({elem:V,handlers:p.slice(L)}),F},addProp:function(h,p){Object.defineProperty(v.Event.prototype,h,{enumerable:!0,configurable:!0,get:y(p)?function(){if(this.originalEvent)return p(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[h]},set:function(b){Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(h){return h[v.expando]?h:new v.Event(h)},special:{load:{noBubble:!0},click:{setup:function(h){var p=this||h;return js.test(p.type)&&p.click&&Y(p,"input")&&Tf(p,"click",!0),!1},trigger:function(h){var p=this||h;return js.test(p.type)&&p.click&&Y(p,"input")&&Tf(p,"click"),!0},_default:function(h){var p=h.target;return js.test(p.type)&&p.click&&Y(p,"input")&&de.get(p,"click")||Y(p,"a")}},beforeunload:{postDispatch:function(h){h.result!==void 0&&h.originalEvent&&(h.originalEvent.returnValue=h.result)}}}};function Tf(h,p,b){if(!b){de.get(h,p)===void 0&&v.event.add(h,p,Ma);return}de.set(h,p,!1),v.event.add(h,p,{namespace:!1,handler:function(x){var S,C=de.get(this,p);if(x.isTrigger&1&&this[p]){if(C)(v.event.special[p]||{}).delegateType&&x.stopPropagation();else if(C=s.call(arguments),de.set(this,p,C),this[p](),S=de.get(this,p),de.set(this,p,!1),C!==S)return x.stopImmediatePropagation(),x.preventDefault(),S}else C&&(de.set(this,p,v.event.trigger(C[0],C.slice(1),this)),x.stopPropagation(),x.isImmediatePropagationStopped=Ma)}})}v.removeEvent=function(h,p,b){h.removeEventListener&&h.removeEventListener(p,b)},v.Event=function(h,p){if(!(this instanceof v.Event))return new v.Event(h,p);h&&h.type?(this.originalEvent=h,this.type=h.type,this.isDefaultPrevented=h.defaultPrevented||h.defaultPrevented===void 0&&h.returnValue===!1?Ma:La,this.target=h.target&&h.target.nodeType===3?h.target.parentNode:h.target,this.currentTarget=h.currentTarget,this.relatedTarget=h.relatedTarget):this.type=h,p&&v.extend(this,p),this.timeStamp=h&&h.timeStamp||Date.now(),this[v.expando]=!0},v.Event.prototype={constructor:v.Event,isDefaultPrevented:La,isPropagationStopped:La,isImmediatePropagationStopped:La,isSimulated:!1,preventDefault:function(){var h=this.originalEvent;this.isDefaultPrevented=Ma,h&&!this.isSimulated&&h.preventDefault()},stopPropagation:function(){var h=this.originalEvent;this.isPropagationStopped=Ma,h&&!this.isSimulated&&h.stopPropagation()},stopImmediatePropagation:function(){var h=this.originalEvent;this.isImmediatePropagationStopped=Ma,h&&!this.isSimulated&&h.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},v.event.addProp),v.each({focus:"focusin",blur:"focusout"},function(h,p){function b(x){if(_.documentMode){var S=de.get(this,"handle"),C=v.event.fix(x);C.type=x.type==="focusin"?"focus":"blur",C.isSimulated=!0,S(x),C.target===C.currentTarget&&S(C)}else v.event.simulate(p,x.target,v.event.fix(x))}v.event.special[h]={setup:function(){var x;if(Tf(this,h,!0),_.documentMode)x=de.get(this,p),x||this.addEventListener(p,b),de.set(this,p,(x||0)+1);else return!1},trigger:function(){return Tf(this,h),!0},teardown:function(){var x;if(_.documentMode)x=de.get(this,p)-1,x?de.set(this,p,x):(this.removeEventListener(p,b),de.remove(this,p));else return!1},_default:function(x){return de.get(x.target,h)},delegateType:p},v.event.special[p]={setup:function(){var x=this.ownerDocument||this.document||this,S=_.documentMode?this:x,C=de.get(S,p);C||(_.documentMode?this.addEventListener(p,b):x.addEventListener(h,b,!0)),de.set(S,p,(C||0)+1)},teardown:function(){var x=this.ownerDocument||this.document||this,S=_.documentMode?this:x,C=de.get(S,p)-1;C?de.set(S,p,C):(_.documentMode?this.removeEventListener(p,b):x.removeEventListener(h,b,!0),de.remove(S,p))}}}),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(h,p){v.event.special[h]={delegateType:p,bindType:p,handle:function(b){var x,S=this,C=b.relatedTarget,k=b.handleObj;return(!C||C!==S&&!v.contains(S,C))&&(b.type=k.origType,x=k.handler.apply(this,arguments),b.type=p),x}}}),v.fn.extend({on:function(h,p,b,x){return im(this,h,p,b,x)},one:function(h,p,b,x){return im(this,h,p,b,x,1)},off:function(h,p,b){var x,S;if(h&&h.preventDefault&&h.handleObj)return x=h.handleObj,v(h.delegateTarget).off(x.namespace?x.origType+"."+x.namespace:x.origType,x.selector,x.handler),this;if(typeof h=="object"){for(S in h)this.off(S,p,h[S]);return this}return(p===!1||typeof p=="function")&&(b=p,p=void 0),b===!1&&(b=La),this.each(function(){v.event.remove(this,h,b,p)})}});var yP=/<script|<style|<link/i,OP=/checked\s*(?:[^=]|=\s*.checked.)/i,xP=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function i1(h,p){return Y(h,"table")&&Y(p.nodeType!==11?p:p.firstChild,"tr")&&v(h).children("tbody")[0]||h}function wP(h){return h.type=(h.getAttribute("type")!==null)+"/"+h.type,h}function _P(h){return(h.type||"").slice(0,5)==="true/"?h.type=h.type.slice(5):h.removeAttribute("type"),h}function r1(h,p){var b,x,S,C,k,F,L;if(p.nodeType===1){if(de.hasData(h)&&(C=de.get(h),L=C.events,L)){de.remove(p,"handle events");for(S in L)for(b=0,x=L[S].length;b<x;b++)v.event.add(p,S,L[S][b])}Xe.hasData(h)&&(k=Xe.access(h),F=v.extend({},k),Xe.set(p,F))}}function SP(h,p){var b=p.nodeName.toLowerCase();b==="input"&&js.test(h.type)?p.checked=h.checked:(b==="input"||b==="textarea")&&(p.defaultValue=h.defaultValue)}function Na(h,p,b,x){p=o(p);var S,C,k,F,L,V,K=0,se=h.length,U=se-1,be=p[0],nt=y(be);if(nt||se>1&&typeof be=="string"&&!g.checkClone&&OP.test(be))return h.each(function(wt){var lt=h.eq(wt);nt&&(p[0]=be.call(this,wt,lt.html())),Na(lt,p,b,x)});if(se&&(S=Io(p,h[0].ownerDocument,!1,h,x),C=S.firstChild,S.childNodes.length===1&&(S=C),C||x)){for(k=v.map(rn(S,"script"),wP),F=k.length;K<se;K++)L=S,K!==U&&(L=v.clone(L,!0,!0),F&&v.merge(k,rn(L,"script"))),b.call(h[K],L,K);if(F)for(V=k[k.length-1].ownerDocument,v.map(k,_P),K=0;K<F;K++)L=k[K],$a.test(L.type||"")&&!de.access(L,"globalEval")&&v.contains(V,L)&&(L.src&&(L.type||"").toLowerCase()!=="module"?v._evalUrl&&!L.noModule&&v._evalUrl(L.src,{nonce:L.nonce||L.getAttribute("nonce")},V):P(L.textContent.replace(xP,""),L,V))}return h}function s1(h,p,b){for(var x,S=p?v.filter(p,h):h,C=0;(x=S[C])!=null;C++)!b&&x.nodeType===1&&v.cleanData(rn(x)),x.parentNode&&(b&&Ae(x)&&mc(rn(x,"script")),x.parentNode.removeChild(x));return h}v.extend({htmlPrefilter:function(h){return h},clone:function(h,p,b){var x,S,C,k,F=h.cloneNode(!0),L=Ae(h);if(!g.noCloneChecked&&(h.nodeType===1||h.nodeType===11)&&!v.isXMLDoc(h))for(k=rn(F),C=rn(h),x=0,S=C.length;x<S;x++)SP(C[x],k[x]);if(p)if(b)for(C=C||rn(h),k=k||rn(F),x=0,S=C.length;x<S;x++)r1(C[x],k[x]);else r1(h,F);return k=rn(F,"script"),k.length>0&&mc(k,!L&&rn(h,"script")),F},cleanData:function(h){for(var p,b,x,S=v.event.special,C=0;(b=h[C])!==void 0;C++)if(Se(b)){if(p=b[de.expando]){if(p.events)for(x in p.events)S[x]?v.event.remove(b,x):v.removeEvent(b,x,p.handle);b[de.expando]=void 0}b[Xe.expando]&&(b[Xe.expando]=void 0)}}}),v.fn.extend({detach:function(h){return s1(this,h,!0)},remove:function(h){return s1(this,h)},text:function(h){return we(this,function(p){return p===void 0?v.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=p)})},null,h,arguments.length)},append:function(){return Na(this,arguments,function(h){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var p=i1(this,h);p.appendChild(h)}})},prepend:function(){return Na(this,arguments,function(h){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var p=i1(this,h);p.insertBefore(h,p.firstChild)}})},before:function(){return Na(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this)})},after:function(){return Na(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this.nextSibling)})},empty:function(){for(var h,p=0;(h=this[p])!=null;p++)h.nodeType===1&&(v.cleanData(rn(h,!1)),h.textContent="");return this},clone:function(h,p){return h=h??!1,p=p??h,this.map(function(){return v.clone(this,h,p)})},html:function(h){return we(this,function(p){var b=this[0]||{},x=0,S=this.length;if(p===void 0&&b.nodeType===1)return b.innerHTML;if(typeof p=="string"&&!yP.test(p)&&!Dn[(Dr.exec(p)||["",""])[1].toLowerCase()]){p=v.htmlPrefilter(p);try{for(;x<S;x++)b=this[x]||{},b.nodeType===1&&(v.cleanData(rn(b,!1)),b.innerHTML=p);b=0}catch{}}b&&this.empty().append(p)},null,h,arguments.length)},replaceWith:function(){var h=[];return Na(this,arguments,function(p){var b=this.parentNode;v.inArray(this,h)<0&&(v.cleanData(rn(this)),b&&b.replaceChild(p,this))},h)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(h,p){v.fn[h]=function(b){for(var x,S=[],C=v(b),k=C.length-1,F=0;F<=k;F++)x=F===k?this:this.clone(!0),v(C[F])[p](x),a.apply(S,x.get());return this.pushStack(S)}});var rm=new RegExp("^("+Kn+")(?!px)[a-z%]+$","i"),sm=/^--/,Af=function(h){var p=h.ownerDocument.defaultView;return(!p||!p.opener)&&(p=e),p.getComputedStyle(h)},o1=function(h,p,b){var x,S,C={};for(S in p)C[S]=h.style[S],h.style[S]=p[S];x=b.call(h);for(S in p)h.style[S]=C[S];return x},CP=new RegExp(En.join("|"),"i");(function(){function h(){if(V){L.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",V.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ee.appendChild(L).appendChild(V);var K=e.getComputedStyle(V);b=K.top!=="1%",F=p(K.marginLeft)===12,V.style.right="60%",C=p(K.right)===36,x=p(K.width)===36,V.style.position="absolute",S=p(V.offsetWidth/3)===12,ee.removeChild(L),V=null}}function p(K){return Math.round(parseFloat(K))}var b,x,S,C,k,F,L=_.createElement("div"),V=_.createElement("div");V.style&&(V.style.backgroundClip="content-box",V.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=V.style.backgroundClip==="content-box",v.extend(g,{boxSizingReliable:function(){return h(),x},pixelBoxStyles:function(){return h(),C},pixelPosition:function(){return h(),b},reliableMarginLeft:function(){return h(),F},scrollboxSize:function(){return h(),S},reliableTrDimensions:function(){var K,se,U,be;return k==null&&(K=_.createElement("table"),se=_.createElement("tr"),U=_.createElement("div"),K.style.cssText="position:absolute;left:-11111px;border-collapse:separate",se.style.cssText="box-sizing:content-box;border:1px solid",se.style.height="1px",U.style.height="9px",U.style.display="block",ee.appendChild(K).appendChild(se).appendChild(U),be=e.getComputedStyle(se),k=parseInt(be.height,10)+parseInt(be.borderTopWidth,10)+parseInt(be.borderBottomWidth,10)===se.offsetHeight,ee.removeChild(K)),k}}))})();function vc(h,p,b){var x,S,C,k,F=sm.test(p),L=h.style;return b=b||Af(h),b&&(k=b.getPropertyValue(p)||b[p],F&&k&&(k=k.replace(le,"$1")||void 0),k===""&&!Ae(h)&&(k=v.style(h,p)),!g.pixelBoxStyles()&&rm.test(k)&&CP.test(p)&&(x=L.width,S=L.minWidth,C=L.maxWidth,L.minWidth=L.maxWidth=L.width=k,k=b.width,L.width=x,L.minWidth=S,L.maxWidth=C)),k!==void 0?k+"":k}function a1(h,p){return{get:function(){if(h()){delete this.get;return}return(this.get=p).apply(this,arguments)}}}var l1=["Webkit","Moz","ms"],c1=_.createElement("div").style,u1={};function TP(h){for(var p=h[0].toUpperCase()+h.slice(1),b=l1.length;b--;)if(h=l1[b]+p,h in c1)return h}function om(h){var p=v.cssProps[h]||u1[h];return p||(h in c1?h:u1[h]=TP(h)||h)}var AP=/^(none|table(?!-c[ea]).+)/,kP={position:"absolute",visibility:"hidden",display:"block"},f1={letterSpacing:"0",fontWeight:"400"};function h1(h,p,b){var x=bn.exec(p);return x?Math.max(0,x[2]-(b||0))+(x[3]||"px"):p}function am(h,p,b,x,S,C){var k=p==="width"?1:0,F=0,L=0,V=0;if(b===(x?"border":"content"))return 0;for(;k<4;k+=2)b==="margin"&&(V+=v.css(h,b+En[k],!0,S)),x?(b==="content"&&(L-=v.css(h,"padding"+En[k],!0,S)),b!=="margin"&&(L-=v.css(h,"border"+En[k]+"Width",!0,S))):(L+=v.css(h,"padding"+En[k],!0,S),b!=="padding"?L+=v.css(h,"border"+En[k]+"Width",!0,S):F+=v.css(h,"border"+En[k]+"Width",!0,S));return!x&&C>=0&&(L+=Math.max(0,Math.ceil(h["offset"+p[0].toUpperCase()+p.slice(1)]-C-L-F-.5))||0),L+V}function d1(h,p,b){var x=Af(h),S=!g.boxSizingReliable()||b,C=S&&v.css(h,"boxSizing",!1,x)==="border-box",k=C,F=vc(h,p,x),L="offset"+p[0].toUpperCase()+p.slice(1);if(rm.test(F)){if(!b)return F;F="auto"}return(!g.boxSizingReliable()&&C||!g.reliableTrDimensions()&&Y(h,"tr")||F==="auto"||!parseFloat(F)&&v.css(h,"display",!1,x)==="inline")&&h.getClientRects().length&&(C=v.css(h,"boxSizing",!1,x)==="border-box",k=L in h,k&&(F=h[L])),F=parseFloat(F)||0,F+am(h,p,b||(C?"border":"content"),k,x,F)+"px"}v.extend({cssHooks:{opacity:{get:function(h,p){if(p){var b=vc(h,"opacity");return b===""?"1":b}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(h,p,b,x){if(!(!h||h.nodeType===3||h.nodeType===8||!h.style)){var S,C,k,F=Be(p),L=sm.test(p),V=h.style;if(L||(p=om(F)),k=v.cssHooks[p]||v.cssHooks[F],b!==void 0){if(C=typeof b,C==="string"&&(S=bn.exec(b))&&S[1]&&(b=bt(h,p,S),C="number"),b==null||b!==b)return;C==="number"&&!L&&(b+=S&&S[3]||(v.cssNumber[F]?"":"px")),!g.clearCloneStyle&&b===""&&p.indexOf("background")===0&&(V[p]="inherit"),(!k||!("set"in k)||(b=k.set(h,b,x))!==void 0)&&(L?V.setProperty(p,b):V[p]=b)}else return k&&"get"in k&&(S=k.get(h,!1,x))!==void 0?S:V[p]}},css:function(h,p,b,x){var S,C,k,F=Be(p),L=sm.test(p);return L||(p=om(F)),k=v.cssHooks[p]||v.cssHooks[F],k&&"get"in k&&(S=k.get(h,!0,b)),S===void 0&&(S=vc(h,p,x)),S==="normal"&&p in f1&&(S=f1[p]),b===""||b?(C=parseFloat(S),b===!0||isFinite(C)?C||0:S):S}}),v.each(["height","width"],function(h,p){v.cssHooks[p]={get:function(b,x,S){if(x)return AP.test(v.css(b,"display"))&&(!b.getClientRects().length||!b.getBoundingClientRect().width)?o1(b,kP,function(){return d1(b,p,S)}):d1(b,p,S)},set:function(b,x,S){var C,k=Af(b),F=!g.scrollboxSize()&&k.position==="absolute",L=F||S,V=L&&v.css(b,"boxSizing",!1,k)==="border-box",K=S?am(b,p,S,V,k):0;return V&&F&&(K-=Math.ceil(b["offset"+p[0].toUpperCase()+p.slice(1)]-parseFloat(k[p])-am(b,p,"border",!1,k)-.5)),K&&(C=bn.exec(x))&&(C[3]||"px")!=="px"&&(b.style[p]=x,x=v.css(b,p)),h1(b,x,K)}}}),v.cssHooks.marginLeft=a1(g.reliableMarginLeft,function(h,p){if(p)return(parseFloat(vc(h,"marginLeft"))||h.getBoundingClientRect().left-o1(h,{marginLeft:0},function(){return h.getBoundingClientRect().left}))+"px"}),v.each({margin:"",padding:"",border:"Width"},function(h,p){v.cssHooks[h+p]={expand:function(b){for(var x=0,S={},C=typeof b=="string"?b.split(" "):[b];x<4;x++)S[h+En[x]+p]=C[x]||C[x-2]||C[0];return S}},h!=="margin"&&(v.cssHooks[h+p].set=h1)}),v.fn.extend({css:function(h,p){return we(this,function(b,x,S){var C,k,F={},L=0;if(Array.isArray(x)){for(C=Af(b),k=x.length;L<k;L++)F[x[L]]=v.css(b,x[L],!1,C);return F}return S!==void 0?v.style(b,x,S):v.css(b,x)},h,p,arguments.length>1)}});function mi(h,p,b,x,S){return new mi.prototype.init(h,p,b,x,S)}v.Tween=mi,mi.prototype={constructor:mi,init:function(h,p,b,x,S,C){this.elem=h,this.prop=b,this.easing=S||v.easing._default,this.options=p,this.start=this.now=this.cur(),this.end=x,this.unit=C||(v.cssNumber[b]?"":"px")},cur:function(){var h=mi.propHooks[this.prop];return h&&h.get?h.get(this):mi.propHooks._default.get(this)},run:function(h){var p,b=mi.propHooks[this.prop];return this.options.duration?this.pos=p=v.easing[this.easing](h,this.options.duration*h,0,1,this.options.duration):this.pos=p=h,this.now=(this.end-this.start)*p+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):mi.propHooks._default.set(this),this}},mi.prototype.init.prototype=mi.prototype,mi.propHooks={_default:{get:function(h){var p;return h.elem.nodeType!==1||h.elem[h.prop]!=null&&h.elem.style[h.prop]==null?h.elem[h.prop]:(p=v.css(h.elem,h.prop,""),!p||p==="auto"?0:p)},set:function(h){v.fx.step[h.prop]?v.fx.step[h.prop](h):h.elem.nodeType===1&&(v.cssHooks[h.prop]||h.elem.style[om(h.prop)]!=null)?v.style(h.elem,h.prop,h.now+h.unit):h.elem[h.prop]=h.now}}},mi.propHooks.scrollTop=mi.propHooks.scrollLeft={set:function(h){h.elem.nodeType&&h.elem.parentNode&&(h.elem[h.prop]=h.now)}},v.easing={linear:function(h){return h},swing:function(h){return .5-Math.cos(h*Math.PI)/2},_default:"swing"},v.fx=mi.prototype.init,v.fx.step={};var Ia,kf,EP=/^(?:toggle|show|hide)$/,DP=/queueHooks$/;function lm(){kf&&(_.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(lm):e.setTimeout(lm,v.fx.interval),v.fx.tick())}function p1(){return e.setTimeout(function(){Ia=void 0}),Ia=Date.now()}function Ef(h,p){var b,x=0,S={height:h};for(p=p?1:0;x<4;x+=2-p)b=En[x],S["margin"+b]=S["padding"+b]=h;return p&&(S.opacity=S.width=h),S}function m1(h,p,b){for(var x,S=(ur.tweeners[p]||[]).concat(ur.tweeners["*"]),C=0,k=S.length;C<k;C++)if(x=S[C].call(b,p,h))return x}function RP(h,p,b){var x,S,C,k,F,L,V,K,se="width"in p||"height"in p,U=this,be={},nt=h.style,wt=h.nodeType&&ht(h),lt=de.get(h,"fxshow");b.queue||(k=v._queueHooks(h,"fx"),k.unqueued==null&&(k.unqueued=0,F=k.empty.fire,k.empty.fire=function(){k.unqueued||F()}),k.unqueued++,U.always(function(){U.always(function(){k.unqueued--,v.queue(h,"fx").length||k.empty.fire()})}));for(x in p)if(S=p[x],EP.test(S)){if(delete p[x],C=C||S==="toggle",S===(wt?"hide":"show"))if(S==="show"&&lt&&lt[x]!==void 0)wt=!0;else continue;be[x]=lt&&lt[x]||v.style(h,x)}if(L=!v.isEmptyObject(p),!(!L&&v.isEmptyObject(be))){se&&h.nodeType===1&&(b.overflow=[nt.overflow,nt.overflowX,nt.overflowY],V=lt&&lt.display,V==null&&(V=de.get(h,"display")),K=v.css(h,"display"),K==="none"&&(V?K=V:(Ti([h],!0),V=h.style.display||V,K=v.css(h,"display"),Ti([h]))),(K==="inline"||K==="inline-block"&&V!=null)&&v.css(h,"float")==="none"&&(L||(U.done(function(){nt.display=V}),V==null&&(K=nt.display,V=K==="none"?"":K)),nt.display="inline-block")),b.overflow&&(nt.overflow="hidden",U.always(function(){nt.overflow=b.overflow[0],nt.overflowX=b.overflow[1],nt.overflowY=b.overflow[2]})),L=!1;for(x in be)L||(lt?"hidden"in lt&&(wt=lt.hidden):lt=de.access(h,"fxshow",{display:V}),C&&(lt.hidden=!wt),wt&&Ti([h],!0),U.done(function(){wt||Ti([h]),de.remove(h,"fxshow");for(x in be)v.style(h,x,be[x])})),L=m1(wt?lt[x]:0,x,U),x in lt||(lt[x]=L.start,wt&&(L.end=L.start,L.start=0))}}function PP(h,p){var b,x,S,C,k;for(b in h)if(x=Be(b),S=p[x],C=h[b],Array.isArray(C)&&(S=C[1],C=h[b]=C[0]),b!==x&&(h[x]=C,delete h[b]),k=v.cssHooks[x],k&&"expand"in k){C=k.expand(C),delete h[x];for(b in C)b in h||(h[b]=C[b],p[b]=S)}else p[x]=S}function ur(h,p,b){var x,S,C=0,k=ur.prefilters.length,F=v.Deferred().always(function(){delete L.elem}),L=function(){if(S)return!1;for(var se=Ia||p1(),U=Math.max(0,V.startTime+V.duration-se),be=U/V.duration||0,nt=1-be,wt=0,lt=V.tweens.length;wt<lt;wt++)V.tweens[wt].run(nt);return F.notifyWith(h,[V,nt,U]),nt<1&&lt?U:(lt||F.notifyWith(h,[V,1,0]),F.resolveWith(h,[V]),!1)},V=F.promise({elem:h,props:v.extend({},p),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},b),originalProperties:p,originalOptions:b,startTime:Ia||p1(),duration:b.duration,tweens:[],createTween:function(se,U){var be=v.Tween(h,V.opts,se,U,V.opts.specialEasing[se]||V.opts.easing);return V.tweens.push(be),be},stop:function(se){var U=0,be=se?V.tweens.length:0;if(S)return this;for(S=!0;U<be;U++)V.tweens[U].run(1);return se?(F.notifyWith(h,[V,1,0]),F.resolveWith(h,[V,se])):F.rejectWith(h,[V,se]),this}}),K=V.props;for(PP(K,V.opts.specialEasing);C<k;C++)if(x=ur.prefilters[C].call(V,h,K,V.opts),x)return y(x.stop)&&(v._queueHooks(V.elem,V.opts.queue).stop=x.stop.bind(x)),x;return v.map(K,m1,V),y(V.opts.start)&&V.opts.start.call(h,V),V.progress(V.opts.progress).done(V.opts.done,V.opts.complete).fail(V.opts.fail).always(V.opts.always),v.fx.timer(v.extend(L,{elem:h,anim:V,queue:V.opts.queue})),V}v.Animation=v.extend(ur,{tweeners:{"*":[function(h,p){var b=this.createTween(h,p);return bt(b.elem,h,bn.exec(p),b),b}]},tweener:function(h,p){y(h)?(p=h,h=["*"]):h=h.match(Pe);for(var b,x=0,S=h.length;x<S;x++)b=h[x],ur.tweeners[b]=ur.tweeners[b]||[],ur.tweeners[b].unshift(p)},prefilters:[RP],prefilter:function(h,p){p?ur.prefilters.unshift(h):ur.prefilters.push(h)}}),v.speed=function(h,p,b){var x=h&&typeof h=="object"?v.extend({},h):{complete:b||!b&&p||y(h)&&h,duration:h,easing:b&&p||p&&!y(p)&&p};return v.fx.off?x.duration=0:typeof x.duration!="number"&&(x.duration in v.fx.speeds?x.duration=v.fx.speeds[x.duration]:x.duration=v.fx.speeds._default),(x.queue==null||x.queue===!0)&&(x.queue="fx"),x.old=x.complete,x.complete=function(){y(x.old)&&x.old.call(this),x.queue&&v.dequeue(this,x.queue)},x},v.fn.extend({fadeTo:function(h,p,b,x){return this.filter(ht).css("opacity",0).show().end().animate({opacity:p},h,b,x)},animate:function(h,p,b,x){var S=v.isEmptyObject(h),C=v.speed(p,b,x),k=function(){var F=ur(this,v.extend({},h),C);(S||de.get(this,"finish"))&&F.stop(!0)};return k.finish=k,S||C.queue===!1?this.each(k):this.queue(C.queue,k)},stop:function(h,p,b){var x=function(S){var C=S.stop;delete S.stop,C(b)};return typeof h!="string"&&(b=p,p=h,h=void 0),p&&this.queue(h||"fx",[]),this.each(function(){var S=!0,C=h!=null&&h+"queueHooks",k=v.timers,F=de.get(this);if(C)F[C]&&F[C].stop&&x(F[C]);else for(C in F)F[C]&&F[C].stop&&DP.test(C)&&x(F[C]);for(C=k.length;C--;)k[C].elem===this&&(h==null||k[C].queue===h)&&(k[C].anim.stop(b),S=!1,k.splice(C,1));(S||!b)&&v.dequeue(this,h)})},finish:function(h){return h!==!1&&(h=h||"fx"),this.each(function(){var p,b=de.get(this),x=b[h+"queue"],S=b[h+"queueHooks"],C=v.timers,k=x?x.length:0;for(b.finish=!0,v.queue(this,h,[]),S&&S.stop&&S.stop.call(this,!0),p=C.length;p--;)C[p].elem===this&&C[p].queue===h&&(C[p].anim.stop(!0),C.splice(p,1));for(p=0;p<k;p++)x[p]&&x[p].finish&&x[p].finish.call(this);delete b.finish})}}),v.each(["toggle","show","hide"],function(h,p){var b=v.fn[p];v.fn[p]=function(x,S,C){return x==null||typeof x=="boolean"?b.apply(this,arguments):this.animate(Ef(p,!0),x,S,C)}}),v.each({slideDown:Ef("show"),slideUp:Ef("hide"),slideToggle:Ef("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(h,p){v.fn[h]=function(b,x,S){return this.animate(p,b,x,S)}}),v.timers=[],v.fx.tick=function(){var h,p=0,b=v.timers;for(Ia=Date.now();p<b.length;p++)h=b[p],!h()&&b[p]===h&&b.splice(p--,1);b.length||v.fx.stop(),Ia=void 0},v.fx.timer=function(h){v.timers.push(h),v.fx.start()},v.fx.interval=13,v.fx.start=function(){kf||(kf=!0,lm())},v.fx.stop=function(){kf=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(h,p){return h=v.fx&&v.fx.speeds[h]||h,p=p||"fx",this.queue(p,function(b,x){var S=e.setTimeout(b,h);x.stop=function(){e.clearTimeout(S)}})},function(){var h=_.createElement("input"),p=_.createElement("select"),b=p.appendChild(_.createElement("option"));h.type="checkbox",g.checkOn=h.value!=="",g.optSelected=b.selected,h=_.createElement("input"),h.value="t",h.type="radio",g.radioValue=h.value==="t"}();var g1,bc=v.expr.attrHandle;v.fn.extend({attr:function(h,p){return we(this,v.attr,h,p,arguments.length>1)},removeAttr:function(h){return this.each(function(){v.removeAttr(this,h)})}}),v.extend({attr:function(h,p,b){var x,S,C=h.nodeType;if(!(C===3||C===8||C===2)){if(typeof h.getAttribute>"u")return v.prop(h,p,b);if((C!==1||!v.isXMLDoc(h))&&(S=v.attrHooks[p.toLowerCase()]||(v.expr.match.bool.test(p)?g1:void 0)),b!==void 0){if(b===null){v.removeAttr(h,p);return}return S&&"set"in S&&(x=S.set(h,b,p))!==void 0?x:(h.setAttribute(p,b+""),b)}return S&&"get"in S&&(x=S.get(h,p))!==null?x:(x=v.find.attr(h,p),x??void 0)}},attrHooks:{type:{set:function(h,p){if(!g.radioValue&&p==="radio"&&Y(h,"input")){var b=h.value;return h.setAttribute("type",p),b&&(h.value=b),p}}}},removeAttr:function(h,p){var b,x=0,S=p&&p.match(Pe);if(S&&h.nodeType===1)for(;b=S[x++];)h.removeAttribute(b)}}),g1={set:function(h,p,b){return p===!1?v.removeAttr(h,b):h.setAttribute(b,b),b}},v.each(v.expr.match.bool.source.match(/\w+/g),function(h,p){var b=bc[p]||v.find.attr;bc[p]=function(x,S,C){var k,F,L=S.toLowerCase();return C||(F=bc[L],bc[L]=k,k=b(x,S,C)!=null?L:null,bc[L]=F),k}});var $P=/^(?:input|select|textarea|button)$/i,MP=/^(?:a|area)$/i;v.fn.extend({prop:function(h,p){return we(this,v.prop,h,p,arguments.length>1)},removeProp:function(h){return this.each(function(){delete this[v.propFix[h]||h]})}}),v.extend({prop:function(h,p,b){var x,S,C=h.nodeType;if(!(C===3||C===8||C===2))return(C!==1||!v.isXMLDoc(h))&&(p=v.propFix[p]||p,S=v.propHooks[p]),b!==void 0?S&&"set"in S&&(x=S.set(h,b,p))!==void 0?x:h[p]=b:S&&"get"in S&&(x=S.get(h,p))!==null?x:h[p]},propHooks:{tabIndex:{get:function(h){var p=v.find.attr(h,"tabindex");return p?parseInt(p,10):$P.test(h.nodeName)||MP.test(h.nodeName)&&h.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(v.propHooks.selected={get:function(h){var p=h.parentNode;return p&&p.parentNode&&p.parentNode.selectedIndex,null},set:function(h){var p=h.parentNode;p&&(p.selectedIndex,p.parentNode&&p.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});function Fo(h){var p=h.match(Pe)||[];return p.join(" ")}function Bo(h){return h.getAttribute&&h.getAttribute("class")||""}function cm(h){return Array.isArray(h)?h:typeof h=="string"?h.match(Pe)||[]:[]}v.fn.extend({addClass:function(h){var p,b,x,S,C,k;return y(h)?this.each(function(F){v(this).addClass(h.call(this,F,Bo(this)))}):(p=cm(h),p.length?this.each(function(){if(x=Bo(this),b=this.nodeType===1&&" "+Fo(x)+" ",b){for(C=0;C<p.length;C++)S=p[C],b.indexOf(" "+S+" ")<0&&(b+=S+" ");k=Fo(b),x!==k&&this.setAttribute("class",k)}}):this)},removeClass:function(h){var p,b,x,S,C,k;return y(h)?this.each(function(F){v(this).removeClass(h.call(this,F,Bo(this)))}):arguments.length?(p=cm(h),p.length?this.each(function(){if(x=Bo(this),b=this.nodeType===1&&" "+Fo(x)+" ",b){for(C=0;C<p.length;C++)for(S=p[C];b.indexOf(" "+S+" ")>-1;)b=b.replace(" "+S+" "," ");k=Fo(b),x!==k&&this.setAttribute("class",k)}}):this):this.attr("class","")},toggleClass:function(h,p){var b,x,S,C,k=typeof h,F=k==="string"||Array.isArray(h);return y(h)?this.each(function(L){v(this).toggleClass(h.call(this,L,Bo(this),p),p)}):typeof p=="boolean"&&F?p?this.addClass(h):this.removeClass(h):(b=cm(h),this.each(function(){if(F)for(C=v(this),S=0;S<b.length;S++)x=b[S],C.hasClass(x)?C.removeClass(x):C.addClass(x);else(h===void 0||k==="boolean")&&(x=Bo(this),x&&de.set(this,"__className__",x),this.setAttribute&&this.setAttribute("class",x||h===!1?"":de.get(this,"__className__")||""))}))},hasClass:function(h){var p,b,x=0;for(p=" "+h+" ";b=this[x++];)if(b.nodeType===1&&(" "+Fo(Bo(b))+" ").indexOf(p)>-1)return!0;return!1}});var LP=/\r/g;v.fn.extend({val:function(h){var p,b,x,S=this[0];return arguments.length?(x=y(h),this.each(function(C){var k;this.nodeType===1&&(x?k=h.call(this,C,v(this).val()):k=h,k==null?k="":typeof k=="number"?k+="":Array.isArray(k)&&(k=v.map(k,function(F){return F==null?"":F+""})),p=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],(!p||!("set"in p)||p.set(this,k,"value")===void 0)&&(this.value=k))})):S?(p=v.valHooks[S.type]||v.valHooks[S.nodeName.toLowerCase()],p&&"get"in p&&(b=p.get(S,"value"))!==void 0?b:(b=S.value,typeof b=="string"?b.replace(LP,""):b??"")):void 0}}),v.extend({valHooks:{option:{get:function(h){var p=v.find.attr(h,"value");return p??Fo(v.text(h))}},select:{get:function(h){var p,b,x,S=h.options,C=h.selectedIndex,k=h.type==="select-one",F=k?null:[],L=k?C+1:S.length;for(C<0?x=L:x=k?C:0;x<L;x++)if(b=S[x],(b.selected||x===C)&&!b.disabled&&(!b.parentNode.disabled||!Y(b.parentNode,"optgroup"))){if(p=v(b).val(),k)return p;F.push(p)}return F},set:function(h,p){for(var b,x,S=h.options,C=v.makeArray(p),k=S.length;k--;)x=S[k],(x.selected=v.inArray(v.valHooks.option.get(x),C)>-1)&&(b=!0);return b||(h.selectedIndex=-1),C}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(h,p){if(Array.isArray(p))return h.checked=v.inArray(v(h).val(),p)>-1}},g.checkOn||(v.valHooks[this].get=function(h){return h.getAttribute("value")===null?"on":h.value})});var yc=e.location,v1={guid:Date.now()},um=/\?/;v.parseXML=function(h){var p,b;if(!h||typeof h!="string")return null;try{p=new e.DOMParser().parseFromString(h,"text/xml")}catch{}return b=p&&p.getElementsByTagName("parsererror")[0],(!p||b)&&v.error("Invalid XML: "+(b?v.map(b.childNodes,function(x){return x.textContent}).join(`
`):h)),p};var b1=/^(?:focusinfocus|focusoutblur)$/,y1=function(h){h.stopPropagation()};v.extend(v.event,{trigger:function(h,p,b,x){var S,C,k,F,L,V,K,se,U=[b||_],be=f.call(h,"type")?h.type:h,nt=f.call(h,"namespace")?h.namespace.split("."):[];if(C=se=k=b=b||_,!(b.nodeType===3||b.nodeType===8)&&!b1.test(be+v.event.triggered)&&(be.indexOf(".")>-1&&(nt=be.split("."),be=nt.shift(),nt.sort()),L=be.indexOf(":")<0&&"on"+be,h=h[v.expando]?h:new v.Event(be,typeof h=="object"&&h),h.isTrigger=x?2:3,h.namespace=nt.join("."),h.rnamespace=h.namespace?new RegExp("(^|\\.)"+nt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h.result=void 0,h.target||(h.target=b),p=p==null?[h]:v.makeArray(p,[h]),K=v.event.special[be]||{},!(!x&&K.trigger&&K.trigger.apply(b,p)===!1))){if(!x&&!K.noBubble&&!O(b)){for(F=K.delegateType||be,b1.test(F+be)||(C=C.parentNode);C;C=C.parentNode)U.push(C),k=C;k===(b.ownerDocument||_)&&U.push(k.defaultView||k.parentWindow||e)}for(S=0;(C=U[S++])&&!h.isPropagationStopped();)se=C,h.type=S>1?F:K.bindType||be,V=(de.get(C,"events")||Object.create(null))[h.type]&&de.get(C,"handle"),V&&V.apply(C,p),V=L&&C[L],V&&V.apply&&Se(C)&&(h.result=V.apply(C,p),h.result===!1&&h.preventDefault());return h.type=be,!x&&!h.isDefaultPrevented()&&(!K._default||K._default.apply(U.pop(),p)===!1)&&Se(b)&&L&&y(b[be])&&!O(b)&&(k=b[L],k&&(b[L]=null),v.event.triggered=be,h.isPropagationStopped()&&se.addEventListener(be,y1),b[be](),h.isPropagationStopped()&&se.removeEventListener(be,y1),v.event.triggered=void 0,k&&(b[L]=k)),h.result}},simulate:function(h,p,b){var x=v.extend(new v.Event,b,{type:h,isSimulated:!0});v.event.trigger(x,null,p)}}),v.fn.extend({trigger:function(h,p){return this.each(function(){v.event.trigger(h,p,this)})},triggerHandler:function(h,p){var b=this[0];if(b)return v.event.trigger(h,p,b,!0)}});var NP=/\[\]$/,O1=/\r?\n/g,IP=/^(?:submit|button|image|reset|file)$/i,FP=/^(?:input|select|textarea|keygen)/i;function fm(h,p,b,x){var S;if(Array.isArray(p))v.each(p,function(C,k){b||NP.test(h)?x(h,k):fm(h+"["+(typeof k=="object"&&k!=null?C:"")+"]",k,b,x)});else if(!b&&T(p)==="object")for(S in p)fm(h+"["+S+"]",p[S],b,x);else x(h,p)}v.param=function(h,p){var b,x=[],S=function(C,k){var F=y(k)?k():k;x[x.length]=encodeURIComponent(C)+"="+encodeURIComponent(F??"")};if(h==null)return"";if(Array.isArray(h)||h.jquery&&!v.isPlainObject(h))v.each(h,function(){S(this.name,this.value)});else for(b in h)fm(b,h[b],p,S);return x.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var h=v.prop(this,"elements");return h?v.makeArray(h):this}).filter(function(){var h=this.type;return this.name&&!v(this).is(":disabled")&&FP.test(this.nodeName)&&!IP.test(h)&&(this.checked||!js.test(h))}).map(function(h,p){var b=v(this).val();return b==null?null:Array.isArray(b)?v.map(b,function(x){return{name:p.name,value:x.replace(O1,`\r
`)}}):{name:p.name,value:b.replace(O1,`\r
`)}}).get()}});var BP=/%20/g,HP=/#.*$/,jP=/([?&])_=[^&]*/,VP=/^(.*?):[ \t]*([^\r\n]*)$/mg,QP=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zP=/^(?:GET|HEAD)$/,WP=/^\/\//,x1={},hm={},w1="*/".concat("*"),dm=_.createElement("a");dm.href=yc.href;function _1(h){return function(p,b){typeof p!="string"&&(b=p,p="*");var x,S=0,C=p.toLowerCase().match(Pe)||[];if(y(b))for(;x=C[S++];)x[0]==="+"?(x=x.slice(1)||"*",(h[x]=h[x]||[]).unshift(b)):(h[x]=h[x]||[]).push(b)}}function S1(h,p,b,x){var S={},C=h===hm;function k(F){var L;return S[F]=!0,v.each(h[F]||[],function(V,K){var se=K(p,b,x);if(typeof se=="string"&&!C&&!S[se])return p.dataTypes.unshift(se),k(se),!1;if(C)return!(L=se)}),L}return k(p.dataTypes[0])||!S["*"]&&k("*")}function pm(h,p){var b,x,S=v.ajaxSettings.flatOptions||{};for(b in p)p[b]!==void 0&&((S[b]?h:x||(x={}))[b]=p[b]);return x&&v.extend(!0,h,x),h}function qP(h,p,b){for(var x,S,C,k,F=h.contents,L=h.dataTypes;L[0]==="*";)L.shift(),x===void 0&&(x=h.mimeType||p.getResponseHeader("Content-Type"));if(x){for(S in F)if(F[S]&&F[S].test(x)){L.unshift(S);break}}if(L[0]in b)C=L[0];else{for(S in b){if(!L[0]||h.converters[S+" "+L[0]]){C=S;break}k||(k=S)}C=C||k}if(C)return C!==L[0]&&L.unshift(C),b[C]}function XP(h,p,b,x){var S,C,k,F,L,V={},K=h.dataTypes.slice();if(K[1])for(k in h.converters)V[k.toLowerCase()]=h.converters[k];for(C=K.shift();C;)if(h.responseFields[C]&&(b[h.responseFields[C]]=p),!L&&x&&h.dataFilter&&(p=h.dataFilter(p,h.dataType)),L=C,C=K.shift(),C){if(C==="*")C=L;else if(L!=="*"&&L!==C){if(k=V[L+" "+C]||V["* "+C],!k){for(S in V)if(F=S.split(" "),F[1]===C&&(k=V[L+" "+F[0]]||V["* "+F[0]],k)){k===!0?k=V[S]:V[S]!==!0&&(C=F[0],K.unshift(F[1]));break}}if(k!==!0)if(k&&h.throws)p=k(p);else try{p=k(p)}catch(se){return{state:"parsererror",error:k?se:"No conversion from "+L+" to "+C}}}}return{state:"success",data:p}}v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yc.href,type:"GET",isLocal:QP.test(yc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":w1,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(h,p){return p?pm(pm(h,v.ajaxSettings),p):pm(v.ajaxSettings,h)},ajaxPrefilter:_1(x1),ajaxTransport:_1(hm),ajax:function(h,p){typeof h=="object"&&(p=h,h=void 0),p=p||{};var b,x,S,C,k,F,L,V,K,se,U=v.ajaxSetup({},p),be=U.context||U,nt=U.context&&(be.nodeType||be.jquery)?v(be):v.event,wt=v.Deferred(),lt=v.Callbacks("once memory"),Rn=U.statusCode||{},pn={},Rr={},Pr="canceled",yt={readyState:0,getResponseHeader:function(Tt){var tn;if(L){if(!C)for(C={};tn=VP.exec(S);)C[tn[1].toLowerCase()+" "]=(C[tn[1].toLowerCase()+" "]||[]).concat(tn[2]);tn=C[Tt.toLowerCase()+" "]}return tn==null?null:tn.join(", ")},getAllResponseHeaders:function(){return L?S:null},setRequestHeader:function(Tt,tn){return L==null&&(Tt=Rr[Tt.toLowerCase()]=Rr[Tt.toLowerCase()]||Tt,pn[Tt]=tn),this},overrideMimeType:function(Tt){return L==null&&(U.mimeType=Tt),this},statusCode:function(Tt){var tn;if(Tt)if(L)yt.always(Tt[yt.status]);else for(tn in Tt)Rn[tn]=[Rn[tn],Tt[tn]];return this},abort:function(Tt){var tn=Tt||Pr;return b&&b.abort(tn),Ho(0,tn),this}};if(wt.promise(yt),U.url=((h||U.url||yc.href)+"").replace(WP,yc.protocol+"//"),U.type=p.method||p.type||U.method||U.type,U.dataTypes=(U.dataType||"*").toLowerCase().match(Pe)||[""],U.crossDomain==null){F=_.createElement("a");try{F.href=U.url,F.href=F.href,U.crossDomain=dm.protocol+"//"+dm.host!=F.protocol+"//"+F.host}catch{U.crossDomain=!0}}if(U.data&&U.processData&&typeof U.data!="string"&&(U.data=v.param(U.data,U.traditional)),S1(x1,U,p,yt),L)return yt;V=v.event&&U.global,V&&v.active++===0&&v.event.trigger("ajaxStart"),U.type=U.type.toUpperCase(),U.hasContent=!zP.test(U.type),x=U.url.replace(HP,""),U.hasContent?U.data&&U.processData&&(U.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(U.data=U.data.replace(BP,"+")):(se=U.url.slice(x.length),U.data&&(U.processData||typeof U.data=="string")&&(x+=(um.test(x)?"&":"?")+U.data,delete U.data),U.cache===!1&&(x=x.replace(jP,"$1"),se=(um.test(x)?"&":"?")+"_="+v1.guid+++se),U.url=x+se),U.ifModified&&(v.lastModified[x]&&yt.setRequestHeader("If-Modified-Since",v.lastModified[x]),v.etag[x]&&yt.setRequestHeader("If-None-Match",v.etag[x])),(U.data&&U.hasContent&&U.contentType!==!1||p.contentType)&&yt.setRequestHeader("Content-Type",U.contentType),yt.setRequestHeader("Accept",U.dataTypes[0]&&U.accepts[U.dataTypes[0]]?U.accepts[U.dataTypes[0]]+(U.dataTypes[0]!=="*"?", "+w1+"; q=0.01":""):U.accepts["*"]);for(K in U.headers)yt.setRequestHeader(K,U.headers[K]);if(U.beforeSend&&(U.beforeSend.call(be,yt,U)===!1||L))return yt.abort();if(Pr="abort",lt.add(U.complete),yt.done(U.success),yt.fail(U.error),b=S1(hm,U,p,yt),!b)Ho(-1,"No Transport");else{if(yt.readyState=1,V&&nt.trigger("ajaxSend",[yt,U]),L)return yt;U.async&&U.timeout>0&&(k=e.setTimeout(function(){yt.abort("timeout")},U.timeout));try{L=!1,b.send(pn,Ho)}catch(Tt){if(L)throw Tt;Ho(-1,Tt)}}function Ho(Tt,tn,xc,gm){var $r,wc,Mr,Vs,Qs,qi=tn;L||(L=!0,k&&e.clearTimeout(k),b=void 0,S=gm||"",yt.readyState=Tt>0?4:0,$r=Tt>=200&&Tt<300||Tt===304,xc&&(Vs=qP(U,yt,xc)),!$r&&v.inArray("script",U.dataTypes)>-1&&v.inArray("json",U.dataTypes)<0&&(U.converters["text script"]=function(){}),Vs=XP(U,Vs,yt,$r),$r?(U.ifModified&&(Qs=yt.getResponseHeader("Last-Modified"),Qs&&(v.lastModified[x]=Qs),Qs=yt.getResponseHeader("etag"),Qs&&(v.etag[x]=Qs)),Tt===204||U.type==="HEAD"?qi="nocontent":Tt===304?qi="notmodified":(qi=Vs.state,wc=Vs.data,Mr=Vs.error,$r=!Mr)):(Mr=qi,(Tt||!qi)&&(qi="error",Tt<0&&(Tt=0))),yt.status=Tt,yt.statusText=(tn||qi)+"",$r?wt.resolveWith(be,[wc,qi,yt]):wt.rejectWith(be,[yt,qi,Mr]),yt.statusCode(Rn),Rn=void 0,V&&nt.trigger($r?"ajaxSuccess":"ajaxError",[yt,U,$r?wc:Mr]),lt.fireWith(be,[yt,qi]),V&&(nt.trigger("ajaxComplete",[yt,U]),--v.active||v.event.trigger("ajaxStop")))}return yt},getJSON:function(h,p,b){return v.get(h,p,b,"json")},getScript:function(h,p){return v.get(h,void 0,p,"script")}}),v.each(["get","post"],function(h,p){v[p]=function(b,x,S,C){return y(x)&&(C=C||S,S=x,x=void 0),v.ajax(v.extend({url:b,type:p,dataType:C,data:x,success:S},v.isPlainObject(b)&&b))}}),v.ajaxPrefilter(function(h){var p;for(p in h.headers)p.toLowerCase()==="content-type"&&(h.contentType=h.headers[p]||"")}),v._evalUrl=function(h,p,b){return v.ajax({url:h,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(x){v.globalEval(x,p,b)}})},v.fn.extend({wrapAll:function(h){var p;return this[0]&&(y(h)&&(h=h.call(this[0])),p=v(h,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&p.insertBefore(this[0]),p.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this},wrapInner:function(h){return y(h)?this.each(function(p){v(this).wrapInner(h.call(this,p))}):this.each(function(){var p=v(this),b=p.contents();b.length?b.wrapAll(h):p.append(h)})},wrap:function(h){var p=y(h);return this.each(function(b){v(this).wrapAll(p?h.call(this,b):h)})},unwrap:function(h){return this.parent(h).not("body").each(function(){v(this).replaceWith(this.childNodes)}),this}}),v.expr.pseudos.hidden=function(h){return!v.expr.pseudos.visible(h)},v.expr.pseudos.visible=function(h){return!!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var UP={0:200,1223:204},Oc=v.ajaxSettings.xhr();g.cors=!!Oc&&"withCredentials"in Oc,g.ajax=Oc=!!Oc,v.ajaxTransport(function(h){var p,b;if(g.cors||Oc&&!h.crossDomain)return{send:function(x,S){var C,k=h.xhr();if(k.open(h.type,h.url,h.async,h.username,h.password),h.xhrFields)for(C in h.xhrFields)k[C]=h.xhrFields[C];h.mimeType&&k.overrideMimeType&&k.overrideMimeType(h.mimeType),!h.crossDomain&&!x["X-Requested-With"]&&(x["X-Requested-With"]="XMLHttpRequest");for(C in x)k.setRequestHeader(C,x[C]);p=function(F){return function(){p&&(p=b=k.onload=k.onerror=k.onabort=k.ontimeout=k.onreadystatechange=null,F==="abort"?k.abort():F==="error"?typeof k.status!="number"?S(0,"error"):S(k.status,k.statusText):S(UP[k.status]||k.status,k.statusText,(k.responseType||"text")!=="text"||typeof k.responseText!="string"?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}},k.onload=p(),b=k.onerror=k.ontimeout=p("error"),k.onabort!==void 0?k.onabort=b:k.onreadystatechange=function(){k.readyState===4&&e.setTimeout(function(){p&&b()})},p=p("abort");try{k.send(h.hasContent&&h.data||null)}catch(F){if(p)throw F}},abort:function(){p&&p()}}}),v.ajaxPrefilter(function(h){h.crossDomain&&(h.contents.script=!1)}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(h){return v.globalEval(h),h}}}),v.ajaxPrefilter("script",function(h){h.cache===void 0&&(h.cache=!1),h.crossDomain&&(h.type="GET")}),v.ajaxTransport("script",function(h){if(h.crossDomain||h.scriptAttrs){var p,b;return{send:function(x,S){p=v("<script>").attr(h.scriptAttrs||{}).prop({charset:h.scriptCharset,src:h.url}).on("load error",b=function(C){p.remove(),b=null,C&&S(C.type==="error"?404:200,C.type)}),_.head.appendChild(p[0])},abort:function(){b&&b()}}}});var C1=[],mm=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var h=C1.pop()||v.expando+"_"+v1.guid++;return this[h]=!0,h}}),v.ajaxPrefilter("json jsonp",function(h,p,b){var x,S,C,k=h.jsonp!==!1&&(mm.test(h.url)?"url":typeof h.data=="string"&&(h.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&mm.test(h.data)&&"data");if(k||h.dataTypes[0]==="jsonp")return x=h.jsonpCallback=y(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,k?h[k]=h[k].replace(mm,"$1"+x):h.jsonp!==!1&&(h.url+=(um.test(h.url)?"&":"?")+h.jsonp+"="+x),h.converters["script json"]=function(){return C||v.error(x+" was not called"),C[0]},h.dataTypes[0]="json",S=e[x],e[x]=function(){C=arguments},b.always(function(){S===void 0?v(e).removeProp(x):e[x]=S,h[x]&&(h.jsonpCallback=p.jsonpCallback,C1.push(x)),C&&y(S)&&S(C[0]),C=S=void 0}),"script"}),g.createHTMLDocument=function(){var h=_.implementation.createHTMLDocument("").body;return h.innerHTML="<form></form><form></form>",h.childNodes.length===2}(),v.parseHTML=function(h,p,b){if(typeof h!="string")return[];typeof p=="boolean"&&(b=p,p=!1);var x,S,C;return p||(g.createHTMLDocument?(p=_.implementation.createHTMLDocument(""),x=p.createElement("base"),x.href=_.location.href,p.head.appendChild(x)):p=_),S=tt.exec(h),C=!b&&[],S?[p.createElement(S[1])]:(S=Io([h],p,C),C&&C.length&&v(C).remove(),v.merge([],S.childNodes))},v.fn.load=function(h,p,b){var x,S,C,k=this,F=h.indexOf(" ");return F>-1&&(x=Fo(h.slice(F)),h=h.slice(0,F)),y(p)?(b=p,p=void 0):p&&typeof p=="object"&&(S="POST"),k.length>0&&v.ajax({url:h,type:S||"GET",dataType:"html",data:p}).done(function(L){C=arguments,k.html(x?v("<div>").append(v.parseHTML(L)).find(x):L)}).always(b&&function(L,V){k.each(function(){b.apply(this,C||[L.responseText,V,L])})}),this},v.expr.pseudos.animated=function(h){return v.grep(v.timers,function(p){return h===p.elem}).length},v.offset={setOffset:function(h,p,b){var x,S,C,k,F,L,V,K=v.css(h,"position"),se=v(h),U={};K==="static"&&(h.style.position="relative"),F=se.offset(),C=v.css(h,"top"),L=v.css(h,"left"),V=(K==="absolute"||K==="fixed")&&(C+L).indexOf("auto")>-1,V?(x=se.position(),k=x.top,S=x.left):(k=parseFloat(C)||0,S=parseFloat(L)||0),y(p)&&(p=p.call(h,b,v.extend({},F))),p.top!=null&&(U.top=p.top-F.top+k),p.left!=null&&(U.left=p.left-F.left+S),"using"in p?p.using.call(h,U):se.css(U)}},v.fn.extend({offset:function(h){if(arguments.length)return h===void 0?this:this.each(function(S){v.offset.setOffset(this,h,S)});var p,b,x=this[0];if(x)return x.getClientRects().length?(p=x.getBoundingClientRect(),b=x.ownerDocument.defaultView,{top:p.top+b.pageYOffset,left:p.left+b.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var h,p,b,x=this[0],S={top:0,left:0};if(v.css(x,"position")==="fixed")p=x.getBoundingClientRect();else{for(p=this.offset(),b=x.ownerDocument,h=x.offsetParent||b.documentElement;h&&(h===b.body||h===b.documentElement)&&v.css(h,"position")==="static";)h=h.parentNode;h&&h!==x&&h.nodeType===1&&(S=v(h).offset(),S.top+=v.css(h,"borderTopWidth",!0),S.left+=v.css(h,"borderLeftWidth",!0))}return{top:p.top-S.top-v.css(x,"marginTop",!0),left:p.left-S.left-v.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var h=this.offsetParent;h&&v.css(h,"position")==="static";)h=h.offsetParent;return h||ee})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(h,p){var b=p==="pageYOffset";v.fn[h]=function(x){return we(this,function(S,C,k){var F;if(O(S)?F=S:S.nodeType===9&&(F=S.defaultView),k===void 0)return F?F[p]:S[C];F?F.scrollTo(b?F.pageXOffset:k,b?k:F.pageYOffset):S[C]=k},h,x,arguments.length)}}),v.each(["top","left"],function(h,p){v.cssHooks[p]=a1(g.pixelPosition,function(b,x){if(x)return x=vc(b,p),rm.test(x)?v(b).position()[p]+"px":x})}),v.each({Height:"height",Width:"width"},function(h,p){v.each({padding:"inner"+h,content:p,"":"outer"+h},function(b,x){v.fn[x]=function(S,C){var k=arguments.length&&(b||typeof S!="boolean"),F=b||(S===!0||C===!0?"margin":"border");return we(this,function(L,V,K){var se;return O(L)?x.indexOf("outer")===0?L["inner"+h]:L.document.documentElement["client"+h]:L.nodeType===9?(se=L.documentElement,Math.max(L.body["scroll"+h],se["scroll"+h],L.body["offset"+h],se["offset"+h],se["client"+h])):K===void 0?v.css(L,V,F):v.style(L,V,K,F)},p,k?S:void 0,k)}})}),v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(h,p){v.fn[p]=function(b){return this.on(p,b)}}),v.fn.extend({bind:function(h,p,b){return this.on(h,null,p,b)},unbind:function(h,p){return this.off(h,null,p)},delegate:function(h,p,b,x){return this.on(p,h,b,x)},undelegate:function(h,p,b){return arguments.length===1?this.off(h,"**"):this.off(p,h||"**",b)},hover:function(h,p){return this.on("mouseenter",h).on("mouseleave",p||h)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(h,p){v.fn[p]=function(b,x){return arguments.length>0?this.on(p,null,b,x):this.trigger(p)}});var YP=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;v.proxy=function(h,p){var b,x,S;if(typeof p=="string"&&(b=h[p],p=h,h=b),!!y(h))return x=s.call(arguments,2),S=function(){return h.apply(p||this,x.concat(s.call(arguments)))},S.guid=h.guid=h.guid||v.guid++,S},v.holdReady=function(h){h?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=Y,v.isFunction=y,v.isWindow=O,v.camelCase=Be,v.type=T,v.now=Date.now,v.isNumeric=function(h){var p=v.type(h);return(p==="number"||p==="string")&&!isNaN(h-parseFloat(h))},v.trim=function(h){return h==null?"":(h+"").replace(YP,"$1")};var GP=e.jQuery,KP=e.$;return v.noConflict=function(h){return e.$===v&&(e.$=KP),h&&e.jQuery===v&&(e.jQuery=GP),v},typeof n>"u"&&(e.jQuery=e.$=v),v})}(zh)),zh.exports}var RZ=DZ();const QR=$C(RZ);/*! DataTables 2.2.2
 *  SpryMedia Ltd - datatables.net/license
 */var D=QR,he=function(t,e){if(he.factory(t,e))return he;if(this instanceof he)return D(t).DataTable(e);e=t;var n=this,i=e===void 0,r=this.length;return i&&(e={}),this.api=function(){return new mt(this)},this.each(function(){var s={},o=r>1?pS(s,e,!0):e,a=0,l,c=this.getAttribute("id"),u=he.defaults,f=D(this);if(this.nodeName.toLowerCase()!="table"){Zi(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}D(this).trigger("options.dt",o),oS(u),XR(u.column),fo(u,u,!0),fo(u.column,u.column,!0),fo(u,D.extend(o,f.data()),!0);var d=he.settings;for(a=0,l=d.length;a<l;a++){var m=d[a];if(m.nTable==this||m.nTHead&&m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){var g=o.bRetrieve!==void 0?o.bRetrieve:u.bRetrieve,y=o.bDestroy!==void 0?o.bDestroy:u.bDestroy;if(i||g)return m.oInstance;if(y){new he.Api(m).destroy();break}else{Zi(m,0,"Cannot reinitialise DataTable",3);return}}if(m.sTableId==this.id){d.splice(a,1);break}}(c===null||c==="")&&(c="DataTables_Table_"+he.ext._unique++,this.id=c);var O=D.extend(!0,{},he.models.oSettings,{sDestroyWidth:f[0].style.width,sInstance:c,sTableId:c,colgroup:D("<colgroup>").prependTo(this),fastData:function(ae,me,ue){return cr(O,ae,me,ue)}});O.nTable=this,O.oInit=o,d.push(O),O.api=new mt(O),O.oInstance=n.length===1?n:f.dataTable(),oS(o),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=Array.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:D.isPlainObject(o.aLengthMenu[0])?o.aLengthMenu[0].value:o.aLengthMenu[0]),o=pS(D.extend(!0,{},u),o),po(O.oFeatures,o,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),po(O,o,["ajax","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","iStateDuration","bSortCellsTop","iTabIndex","sDom","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId","caption","layout","orderDescReverse","typeDetect",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),po(O.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),po(O.oLanguage,o,"fnInfoCallback"),Ui(O,"aoDrawCallback",o.fnDrawCallback),Ui(O,"aoStateSaveParams",o.fnStateSaveParams),Ui(O,"aoStateLoadParams",o.fnStateLoadParams),Ui(O,"aoStateLoaded",o.fnStateLoaded),Ui(O,"aoRowCallback",o.fnRowCallback),Ui(O,"aoRowCreatedCallback",o.fnCreatedRow),Ui(O,"aoHeaderCallback",o.fnHeaderCallback),Ui(O,"aoFooterCallback",o.fnFooterCallback),Ui(O,"aoInitComplete",o.fnInitComplete),Ui(O,"aoPreDrawCallback",o.fnPreDrawCallback),O.rowIdFn=Zl(o.rowId),IZ(O);var _=O.oClasses;D.extend(_,he.ext.classes,o.oClasses),f.addClass(_.table),O.oFeatures.bPaginate||(o.iDisplayStart=0),O.iInitDisplayStart===void 0&&(O.iInitDisplayStart=o.iDisplayStart,O._iDisplayStart=o.iDisplayStart);var A=o.iDeferLoading;if(A!==null){O.deferLoading=!0;var P=Array.isArray(A);O._iRecordsDisplay=P?A[0]:A,O._iRecordsTotal=P?A[1]:A}var T=[],B=this.getElementsByTagName("thead"),I=eP(O,B[0]);if(o.aoColumns)T=o.aoColumns;else if(I.length)for(a=0,l=I[0].length;a<l;a++)T.push(null);for(a=0,l=T.length;a<l;a++)UR(O);HZ(O,o.aoColumnDefs,T,I,function(ae,me){zb(O,ae,me)});var v=f.children("tbody").find("tr").eq(0);if(v.length){var Q=function(ae,me){return ae.getAttribute("data-"+me)!==null?me:null};D(v[0]).children("th, td").each(function(ae,me){var ue=O.aoColumns[ae];if(ue||Zi(O,0,"Incorrect column count",18),ue.mData===ae){var Re=Q(me,"sort")||Q(me,"order"),Ge=Q(me,"filter")||Q(me,"search");(Re!==null||Ge!==null)&&(ue.mData={_:ae+".display",sort:Re!==null?ae+".@data-"+Re:void 0,type:Re!==null?ae+".@data-"+Re:void 0,filter:Ge!==null?ae+".@data-"+Ge:void 0},ue._isArrayHost=!0,zb(O,ae))}})}Ui(O,"aoDrawCallback",Jp);var Y=O.oFeatures;if(o.bStateSave&&(Y.bStateSave=!0),o.aaSorting===void 0){var te=O.aaSorting;for(a=0,l=te.length;a<l;a++)te[a][1]=O.aoColumns[a].asSorting[0]}Xb(O),Ui(O,"aoDrawCallback",function(){(O.bSorted||Wi(O)==="ssp"||Y.bDeferRender)&&Xb(O)});var ve=f.children("caption");O.caption&&(ve.length===0&&(ve=D("<caption/>").appendTo(f)),ve.html(O.caption)),ve.length&&(ve[0]._captionSide=ve.css("caption-side"),O.captionNode=ve[0]),B.length===0&&(B=D("<thead/>").appendTo(f)),O.nTHead=B[0];var J=f.children("tbody");J.length===0&&(J=D("<tbody/>").insertAfter(B)),O.nTBody=J[0];var X=f.children("tfoot");X.length===0&&(X=D("<tfoot/>").appendTo(f)),O.nTFoot=X[0],O.aiDisplay=O.aiDisplayMaster.slice(),O.bInitialised=!0;var le=O.oLanguage;D.extend(!0,le,o.oLanguage),le.sUrl?D.ajax({dataType:"json",url:le.sUrl,success:function(ae){fo(u.oLanguage,ae),D.extend(!0,le,ae,O.oInit.oLanguage),Pt(O,null,"i18n",[O],!0),qh(O)},error:function(){Zi(O,0,"i18n file loading error",21),qh(O)}}):(Pt(O,null,"i18n",[O],!0),qh(O))}),n=null,this};he.ext=wn={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],features:{},search:[],selector:{cell:[],column:[],row:[]},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{className:{},detect:[],render:{},search:{},order:{}},_unique:0,fnVersionCheck:he.fnVersionCheck,iApiIndex:0,sVersion:he.version};D.extend(wn,{afnFiltering:wn.search,aTypes:wn.type.detect,ofnSearch:wn.type.search,oSort:wn.type.order,afnSortData:wn.order,aoFeatures:wn.feature,oStdClasses:wn.classes,oPagination:wn.pager});D.extend(he.ext.classes,{container:"dt-container",empty:{row:"dt-empty"},info:{container:"dt-info"},layout:{row:"dt-layout-row",cell:"dt-layout-cell",tableRow:"dt-layout-table",tableCell:"",start:"dt-layout-start",end:"dt-layout-end",full:"dt-layout-full"},length:{container:"dt-length",select:"dt-input"},order:{canAsc:"dt-orderable-asc",canDesc:"dt-orderable-desc",isAsc:"dt-ordering-asc",isDesc:"dt-ordering-desc",none:"dt-orderable-none",position:"sorting_"},processing:{container:"dt-processing"},scrolling:{body:"dt-scroll-body",container:"dt-scroll",footer:{self:"dt-scroll-foot",inner:"dt-scroll-footInner"},header:{self:"dt-scroll-head",inner:"dt-scroll-headInner"}},search:{container:"dt-search",input:"dt-input"},table:"dataTable",tbody:{cell:"",row:""},thead:{cell:"",row:""},tfoot:{cell:"",row:""},paging:{active:"current",button:"dt-paging-button",container:"dt-paging",disabled:"disabled",nav:""}});var wn,mt,Qe,Ft,Hg={},PZ=/[\r\n\u2028]/g,L0=/<([^>]*>)/g,$Z=Math.pow(2,28),sS=/^\d{2,4}[./-]\d{1,2}[./-]\d{1,2}([T ]{1}\d{1,2}[:.]\d{2}([.:]\d{2})?)?$/,MZ=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),N0=/['\u00A0,$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,Hi=function(t){return!t||t===!0||t==="-"},zR=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},WR=function(t,e){return Hg[e]||(Hg[e]=new RegExp(qb(e),"g")),typeof t=="string"&&e!=="."?t.replace(/\./g,"").replace(Hg[e],"."):t},Gu=function(t,e,n,i){var r=typeof t,s=r==="string";return r==="number"||r==="bigint"||i&&Hi(t)?!0:(e&&s&&(t=WR(t,e)),n&&s&&(t=t.replace(N0,"")),!isNaN(parseFloat(t))&&isFinite(t))},LZ=function(t){return Hi(t)||typeof t=="string"},qd=function(t,e,n,i){if(i&&Hi(t))return!0;if(typeof t=="string"&&t.match(/<(input|select)/i))return null;var r=LZ(t);return r&&Gu(Ns(t),e,n,i)?!0:null},Un=function(t,e,n){var i=[],r=0,s=t.length;if(n!==void 0)for(;r<s;r++)t[r]&&t[r][e]&&i.push(t[r][e][n]);else for(;r<s;r++)t[r]&&i.push(t[r][e]);return i},_f=function(t,e,n,i){var r=[],s=0,o=e.length;if(i!==void 0)for(;s<o;s++)t[e[s]]&&t[e[s]][n]&&r.push(t[e[s]][n][i]);else for(;s<o;s++)t[e[s]]&&r.push(t[e[s]][n]);return r},ro=function(t,e){var n=[],i;e===void 0?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)n.push(r);return n},qR=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},Ns=function(t){if(!t||typeof t!="string")return t;if(t.length>$Z)throw new Error("Exceeded max str len");var e;t=t.replace(L0,"");do e=t,t=t.replace(/<script/i,"");while(t!==e);return e},Sl=function(t){return Array.isArray(t)&&(t=t.join(",")),typeof t=="string"?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t},Xd=function(t,e){if(typeof t!="string")return t;var n=t.normalize?t.normalize("NFD"):t;return n.length!==t.length?(e===!0?t+" ":"")+n.replace(/[\u0300-\u036f]/g,""):n},NZ=function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),n=e[0],i=1,r=e.length;i<r;i++){if(e[i]===n)return!1;n=e[i]}return!0},Pa=function(t){if(Array.from&&Set)return Array.from(new Set(t));if(NZ(t))return t.slice();var e=[],n,i,r=t.length,s,o=0;e:for(i=0;i<r;i++){for(n=t[i],s=0;s<o;s++)if(e[s]===n)continue e;e.push(n),o++}return e},I0=function(t,e){if(Array.isArray(e))for(var n=0;n<e.length;n++)I0(t,e[n]);else t.push(e);return t};function Cl(t,e){e&&e.split(" ").forEach(function(n){n&&t.classList.add(n)})}he.util={diacritics:function(t,e){var n=typeof t;if(n!=="function")return Xd(t,e);Xd=t},debounce:function(t,e){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,r)},e||250)}},throttle:function(t,e){var n=e!==void 0?e:200,i,r;return function(){var s=this,o=+new Date,a=arguments;i&&o<i+n?(clearTimeout(r),r=setTimeout(function(){i=void 0,t.apply(s,a)},n)):(i=o,t.apply(s,a))}},escapeRegex:function(t){return t.replace(MZ,"\\$1")},set:function(t){if(D.isPlainObject(t))return he.util.set(t._);if(t===null)return function(){};if(typeof t=="function")return function(n,i,r){t(n,"set",i,r)};if(typeof t=="string"&&(t.indexOf(".")!==-1||t.indexOf("[")!==-1||t.indexOf("(")!==-1)){var e=function(n,i,r){for(var s=lS(r),o,a=s[s.length-1],l,c,u,f,d=0,m=s.length-1;d<m;d++){if(s[d]==="__proto__"||s[d]==="constructor")throw new Error("Cannot set prototype values");if(l=s[d].match(Nc),c=s[d].match(Xa),l){if(s[d]=s[d].replace(Nc,""),n[s[d]]=[],o=s.slice(),o.splice(0,d+1),f=o.join("."),Array.isArray(i))for(var g=0,y=i.length;g<y;g++)u={},e(u,i[g],f),n[s[d]].push(u);else n[s[d]]=i;return}else c&&(s[d]=s[d].replace(Xa,""),n=n[s[d]](i));(n[s[d]]===null||n[s[d]]===void 0)&&(n[s[d]]={}),n=n[s[d]]}a.match(Xa)?n=n[a.replace(Xa,"")](i):n[a.replace(Nc,"")]=i};return function(n,i){return e(n,i,t)}}else return function(n,i){n[t]=i}},get:function(t){if(D.isPlainObject(t)){var e={};return D.each(t,function(i,r){r&&(e[i]=he.util.get(r))}),function(i,r,s,o){var a=e[r]||e._;return a!==void 0?a(i,r,s,o):i}}else{if(t===null)return function(i){return i};if(typeof t=="function")return function(i,r,s,o){return t(i,r,s,o)};if(typeof t=="string"&&(t.indexOf(".")!==-1||t.indexOf("[")!==-1||t.indexOf("(")!==-1)){var n=function(i,r,s){var o,a,l,c;if(s!=="")for(var u=lS(s),f=0,d=u.length;f<d;f++){if(o=u[f].match(Nc),a=u[f].match(Xa),o){if(u[f]=u[f].replace(Nc,""),u[f]!==""&&(i=i[u[f]]),l=[],u.splice(0,f+1),c=u.join("."),Array.isArray(i))for(var m=0,g=i.length;m<g;m++)l.push(n(i[m],r,c));var y=o[0].substring(1,o[0].length-1);i=y===""?l:l.join(y);break}else if(a){u[f]=u[f].replace(Xa,""),i=i[u[f]]();continue}if(i===null||i[u[f]]===null)return null;if(i===void 0||i[u[f]]===void 0)return;i=i[u[f]]}return i};return function(i,r){return n(i,r,t)}}else return function(i){return i[t]}}},stripHtml:function(t){var e=typeof t;if(e==="function"){Ns=t;return}else if(e==="string")return Ns(t);return t},escapeHtml:function(t){var e=typeof t;if(e==="function"){Sl=t;return}else if(e==="string"||Array.isArray(t))return Sl(t);return t},unique:Pa};function Wp(t){var e="a aa ai ao as b fn i m o s ",n,i,r={};D.each(t,function(s){n=s.match(/^([^A-Z]+?)([A-Z])/),n&&e.indexOf(n[1]+" ")!==-1&&(i=s.replace(n[0],n[2].toLowerCase()),r[i]=s,n[1]==="o"&&Wp(t[s]))}),t._hungarianMap=r}function fo(t,e,n){t._hungarianMap||Wp(t);var i;D.each(e,function(r){i=t._hungarianMap[r],i!==void 0&&(n||e[i]===void 0)&&(i.charAt(0)==="o"?(e[i]||(e[i]={}),D.extend(!0,e[i],e[r]),fo(t[i],e[i],n)):e[i]=e[r])})}var vi=function(t,e,n){t[e]!==void 0&&(t[n]=t[e])};function oS(t){vi(t,"ordering","bSort"),vi(t,"orderMulti","bSortMulti"),vi(t,"orderClasses","bSortClasses"),vi(t,"orderCellsTop","bSortCellsTop"),vi(t,"order","aaSorting"),vi(t,"orderFixed","aaSortingFixed"),vi(t,"paging","bPaginate"),vi(t,"pagingType","sPaginationType"),vi(t,"pageLength","iDisplayLength"),vi(t,"searching","bFilter"),typeof t.sScrollX=="boolean"&&(t.sScrollX=t.sScrollX?"100%":""),typeof t.scrollX=="boolean"&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,i=e.length;n<i;n++)e[n]&&fo(he.models.oSearch,e[n]);t.serverSide&&!t.searchDelay&&(t.searchDelay=400)}function XR(t){vi(t,"orderable","bSortable"),vi(t,"orderData","aDataSort"),vi(t,"orderSequence","asSorting"),vi(t,"orderDataType","sortDataType");var e=t.aDataSort;typeof e=="number"&&!Array.isArray(e)&&(t.aDataSort=[e])}function IZ(t){if(!he.__browser){var e={};he.__browser=e;var n=D("<div/>").css({position:"fixed",top:0,left:-1*window.pageXOffset,height:1,width:1,overflow:"hidden"}).append(D("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(D("<div/>").css({width:"100%",height:10}))).appendTo("body"),i=n.children(),r=i.children();e.barWidth=i[0].offsetWidth-i[0].clientWidth,e.bScrollbarLeft=Math.round(r.offset().left)!==1,n.remove()}D.extend(t.oBrowser,he.__browser),t.oScroll.iBarWidth=he.__browser.barWidth}function UR(t){var e=he.defaults.column,n=t.aoColumns.length,i=D.extend({},he.models.oColumn,e,{aDataSort:e.aDataSort?e.aDataSort:[n],mData:e.mData?e.mData:n,idx:n,searchFixed:{},colEl:D("<col>").attr("data-dt-column",n)});t.aoColumns.push(i);var r=t.aoPreSearchCols;r[n]=D.extend({},he.models.oSearch,r[n])}function zb(t,e,n){var i=t.aoColumns[e];if(n!=null){XR(n),fo(he.defaults.column,n,!0),n.mDataProp!==void 0&&!n.mData&&(n.mData=n.mDataProp),n.sType&&(i._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className);var r=i.sClass;D.extend(i,n),po(i,n,"sWidth","sWidthOrig"),r!==i.sClass&&(i.sClass=r+" "+i.sClass),n.iDataSort!==void 0&&(i.aDataSort=[n.iDataSort]),po(i,n,"aDataSort")}var s=i.mData,o=Zl(s);if(i.mRender&&Array.isArray(i.mRender)){var a=i.mRender.slice(),l=a.shift();i.mRender=he.render[l].apply(window,a)}i._render=i.mRender?Zl(i.mRender):null;var c=function(u){return typeof u=="string"&&u.indexOf("@")!==-1};i._bAttrSrc=D.isPlainObject(s)&&(c(s.sort)||c(s.type)||c(s.filter)),i._setter=null,i.fnGetData=function(u,f,d){var m=o(u,f,void 0,d);return i._render&&f?i._render(m,f,u,d):m},i.fnSetData=function(u,f,d){return sa(s)(u,f,d)},typeof s!="number"&&!i._isArrayHost&&(t._rowReadObject=!0),t.oFeatures.bSort||(i.bSortable=!1)}function qp(t){tee(t),FZ(t);var e=t.oScroll;(e.sY!==""||e.sX!=="")&&rP(t),Pt(t,null,"column-sizing",[t])}function FZ(t){for(var e=t.aoColumns,n=0;n<e.length;n++){var i=YR(t,[n],!1);e[n].colEl.css("width",i),t.oScroll.sX&&e[n].colEl.css("min-width",i)}}function F0(t,e){var n=B0(t,"bVisible");return typeof n[e]=="number"?n[e]:null}function Sf(t,e){var n=B0(t,"bVisible"),i=n.indexOf(e);return i!==-1?i:null}function Xp(t){var e=t.aoHeader,n=t.aoColumns,i=0;if(e.length)for(var r=0,s=e[0].length;r<s;r++)n[r].bVisible&&D(e[0][r].cell).css("display")!=="none"&&i++;return i}function B0(t,e){var n=[];return t.aoColumns.map(function(i,r){i[e]&&n.push(r)}),n}function jg(t,e){return e===!0?t._name:e}function Up(t){var e=t.aoColumns,n=t.aoData,i=he.ext.type.detect,r,s,o,a,l,c,u,f,d;for(r=0,s=e.length;r<s;r++){if(u=e[r],d=[],!u.sType&&u._sManualType)u.sType=u._sManualType;else if(!u.sType){if(!t.typeDetect)return;for(o=0,a=i.length;o<a;o++){var m=i[o],g=m.oneOf,y=m.allOf||m,O=m.init,_=!1;if(f=null,O&&(f=jg(m,O(t,u,r)),f)){u.sType=f;break}for(l=0,c=n.length;l<c&&!(n[l]&&(d[l]===void 0&&(d[l]=cr(t,l,r,"type")),g&&!_&&(_=jg(m,g(d[l],t))),f=jg(m,y(d[l],t)),!f&&o!==i.length-3||f==="html"&&!Hi(d[l])));l++);if(g&&_&&f||!g&&f){u.sType=f;break}}u.sType||(u.sType="string")}var A=wn.type.className[u.sType];A&&(aS(t.aoHeader,r,A),aS(t.aoFooter,r,A));var P=wn.type.render[u.sType];P&&!u._render&&(u._render=he.util.get(P),BZ(t,r))}}function BZ(t,e){for(var n=t.aoData,i=0;i<n.length;i++)if(n[i].nTr){var r=cr(t,i,e,"display");n[i].displayData[e]=r,Ud(n[i].anCells[e],r)}}function aS(t,e,n){t.forEach(function(i){i[e]&&i[e].unique&&Cl(i[e].cell,n)})}function HZ(t,e,n,i,r){var s,o,a,l,c,u,f,d=t.aoColumns;if(n)for(s=0,o=n.length;s<o;s++)n[s]&&n[s].name&&(d[s].sName=n[s].name);if(e)for(s=e.length-1;s>=0;s--){f=e[s];var m=f.target!==void 0?f.target:f.targets!==void 0?f.targets:f.aTargets;for(Array.isArray(m)||(m=[m]),a=0,l=m.length;a<l;a++){var g=m[a];if(typeof g=="number"&&g>=0){for(;d.length<=g;)UR(t);r(g,f)}else if(typeof g=="number"&&g<0)r(d.length+g,f);else if(typeof g=="string")for(c=0,u=d.length;c<u;c++)g==="_all"?r(c,f):g.indexOf(":name")!==-1?d[c].sName===g.replace(":name","")&&r(c,f):i.forEach(function(y){if(y[c]){var O=D(y[c].cell);g.match(/^[a-z][\w-]*$/i)&&(g="."+g),O.is(g)&&r(c,f)}})}}if(n)for(s=0,o=n.length;s<o;s++)r(s,n[s])}function YR(t,e,n,i){Array.isArray(e)||(e=H0(e));for(var r=0,s,o=t.aoColumns,a=0,l=e.length;a<l;a++){var c=o[e[a]],u=n?c.sWidthOrig:c.sWidth;if(c.bVisible!==!1){if(u==null)return null;if(typeof u=="number")s="px",r+=u;else{var f=u.match(/([\d\.]+)([^\d]*)/);f&&(r+=f[1]*1,s=f.length===3?f[2]:"px")}}}return r+s}function H0(t){var e=D(t).closest("[data-dt-column]").attr("data-dt-column");return e?e.split(",").map(function(n){return n*1}):[]}function Ta(t,e,n,i){var r=t.aoData.length,s=D.extend(!0,{},he.models.oRow,{src:n?"dom":"data",idx:r});s._aData=e,t.aoData.push(s);for(var o=t.aoColumns,a=0,l=o.length;a<l;a++)o[a].sType=null;t.aiDisplayMaster.push(r);var c=t.rowIdFn(e);return c!==void 0&&(t.aIds[c]=s),(n||!t.oFeatures.bDeferRender)&&KR(t,r,n,i),r}function j0(t,e){var n;return e instanceof D||(e=D(e)),e.map(function(i,r){return n=GR(t,r),Ta(t,n.data,r,n.cells)})}function cr(t,e,n,i){i==="search"?i="filter":i==="order"&&(i="sort");var r=t.aoData[e];if(r){var s=t.iDraw,o=t.aoColumns[n],a=r._aData,l=o.sDefaultContent,c=o.fnGetData(a,i,{settings:t,row:e,col:n});if(i!=="display"&&c&&typeof c=="object"&&c.nodeName&&(c=c.innerHTML),c===void 0)return t.iDrawError!=s&&l===null&&(Zi(t,0,"Requested unknown parameter "+(typeof o.mData=="function"?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=s),l;if((c===a||c===null)&&l!==null&&i!==void 0)c=l;else if(typeof c=="function")return c.call(a);if(c===null&&i==="display")return"";if(i==="filter"){var u=he.ext.type.search;u[o.sType]&&(c=u[o.sType](c))}return c}}function jZ(t,e,n,i){var r=t.aoColumns[n],s=t.aoData[e]._aData;r.fnSetData(s,i,{settings:t,row:e,col:n})}function Ud(t,e){e&&typeof e=="object"&&e.nodeName?D(t).empty().append(e):t.innerHTML=e}var Nc=/\[.*?\]$/,Xa=/\(\)$/;function lS(t){var e=t.match(/(\\.|[^.])+/g)||[""];return e.map(function(n){return n.replace(/\\\./g,".")})}var Zl=he.util.get,sa=he.util.set;function cS(t){return Un(t.aoData,"_aData")}function V0(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function Yp(t,e,n,i){var r=t.aoData[e],s,o;if(r._aSortData=null,r._aFilterData=null,r.displayData=null,n==="dom"||(!n||n==="auto")&&r.src==="dom")r._aData=GR(t,r,i,i===void 0?void 0:r._aData).data;else{var a=r.anCells,l=Q0(t,e);if(a)if(i!==void 0)Ud(a[i],l[i]);else for(s=0,o=a.length;s<o;s++)Ud(a[s],l[s])}var c=t.aoColumns;if(i!==void 0)c[i].sType=null,c[i].maxLenString=null;else{for(s=0,o=c.length;s<o;s++)c[s].sType=null,c[s].maxLenString=null;JR(t,r)}}function GR(t,e,n,i){var r=[],s=e.firstChild,o,a,l=0,c,u=t.aoColumns,f=t._rowReadObject;i=i!==void 0?i:f?{}:[];var d=function(A,P){if(typeof A=="string"){var T=A.indexOf("@");if(T!==-1){var B=A.substring(T+1),I=sa(A);I(i,P.getAttribute(B))}}},m=function(A){if(n===void 0||n===l)if(a=u[l],c=A.innerHTML.trim(),a&&a._bAttrSrc){var P=sa(a.mData._);P(i,c),d(a.mData.sort,A),d(a.mData.type,A),d(a.mData.filter,A)}else f?(a._setter||(a._setter=sa(a.mData)),a._setter(i,c)):i[l]=c;l++};if(s)for(;s;)o=s.nodeName.toUpperCase(),(o=="TD"||o=="TH")&&(m(s),r.push(s)),s=s.nextSibling;else{r=e.anCells;for(var g=0,y=r.length;g<y;g++)m(r[g])}var O=e.firstChild?e:e.nTr;if(O){var _=O.getAttribute("id");_&&sa(t.rowId)(i,_)}return{data:i,cells:r}}function Q0(t,e){var n=t.aoData[e],i=t.aoColumns;if(!n.displayData){n.displayData=[];for(var r=0,s=i.length;r<s;r++)n.displayData.push(cr(t,e,r,"display"))}return n.displayData}function KR(t,e,n,i){var r=t.aoData[e],s=r._aData,o=[],a,l,c,u,f,d,m=t.oClasses.tbody.row;if(r.nTr===null){for(a=n||document.createElement("tr"),r.nTr=a,r.anCells=o,Cl(a,m),a._DT_RowIndex=e,JR(t,r),u=0,f=t.aoColumns.length;u<f;u++){c=t.aoColumns[u],d=!(n&&i[u]),l=d?document.createElement(c.sCellType):i[u],l||Zi(t,0,"Incorrect column count",18),l._DT_CellIndex={row:e,column:u},o.push(l);var g=Q0(t,e);(d||(c.mRender||c.mData!==u)&&(!D.isPlainObject(c.mData)||c.mData._!==u+".display"))&&Ud(l,g[u]),Cl(l,c.sClass),c.bVisible&&d?a.appendChild(l):!c.bVisible&&!d&&l.parentNode.removeChild(l),c.fnCreatedCell&&c.fnCreatedCell.call(t.oInstance,l,cr(t,e,u),s,e,u)}Pt(t,"aoRowCreatedCallback","row-created",[a,s,e,o])}else Cl(r.nTr,m)}function JR(t,e){var n=e.nTr,i=e._aData;if(n){var r=t.rowIdFn(i);if(r&&(n.id=r),i.DT_RowClass){var s=i.DT_RowClass.split(" ");e.__rowc=e.__rowc?Pa(e.__rowc.concat(s)):s,D(n).removeClass(e.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&D(n).attr(i.DT_RowAttr),i.DT_RowData&&D(n).data(i.DT_RowData)}}function uS(t,e){var n=t.oClasses,i=t.aoColumns,r,s,o,a=e==="header"?t.nTHead:t.nTFoot,l=e==="header"?"sTitle":e;if(a){if((e==="header"||Un(t.aoColumns,l).join(""))&&(o=D("tr",a),o.length||(o=D("<tr/>").appendTo(a)),o.length===1)){var c=0;for(D("td, th",o).each(function(){c+=this.colSpan}),r=c,s=i.length;r<s;r++)D("<th/>").html(i[r][l]||"").appendTo(o)}var u=eP(t,a,!0);e==="header"?(t.aoHeader=u,D("tr",a).addClass(n.thead.row)):(t.aoFooter=u,D("tr",a).addClass(n.tfoot.row)),D(a).children("tr").children("th, td").each(function(){Kd(t,e)(t,D(this),n)})}}function ZR(t,e,n){var i,r,s,o=[],a=[],l=t.aoColumns,c=l.length,u,f;if(e){for(n||(n=ro(c).filter(function(g){return l[g].bVisible})),i=0;i<e.length;i++)o[i]=e[i].slice().filter(function(g,y){return n.includes(y)}),a.push([]);for(i=0;i<o.length;i++)for(r=0;r<o[i].length;r++)if(u=1,f=1,a[i][r]===void 0){for(s=o[i][r].cell;o[i+u]!==void 0&&o[i][r].cell==o[i+u][r].cell;)a[i+u][r]=null,u++;for(;o[i][r+f]!==void 0&&o[i][r].cell==o[i][r+f].cell;){for(var d=0;d<u;d++)a[i+d][r+f]=null;f++}var m=D("span.dt-column-title",s);a[i][r]={cell:s,colspan:f,rowspan:u,title:m.length?m.html():D(s).html()}}return a}}function Yd(t,e){for(var n=ZR(t,e),i,r,s=0;s<e.length;s++){if(i=e[s].row,i)for(;r=i.firstChild;)i.removeChild(r);for(var o=0;o<n[s].length;o++){var a=n[s][o];a&&D(a.cell).appendTo(i).attr("rowspan",a.rowspan).attr("colspan",a.colspan)}}}function dc(t,e){qZ(t);var n=Pt(t,"aoPreDrawCallback","preDraw",[t]);if(n.indexOf(!1)!==-1){ji(t,!1);return}var i=[],r=0,s=Wi(t)=="ssp",o=t.aiDisplay,a=t._iDisplayStart,l=t.fnDisplayEnd(),c=t.aoColumns,u=D(t.nTBody);if(t.bDrawing=!0,t.deferLoading)t.deferLoading=!1,t.iDraw++,ji(t,!1);else if(!s)t.iDraw++;else if(!t.bDestroying&&!e){t.iDraw===0&&u.empty().append(fS(t)),XZ(t);return}if(o.length!==0)for(var f=s?0:a,d=s?t.aoData.length:l,m=f;m<d;m++){var g=o[m],y=t.aoData[g];y.nTr===null&&KR(t,g);for(var O=y.nTr,_=0;_<c.length;_++){var A=c[_],P=y.anCells[_];Cl(P,wn.type.className[A.sType]),Cl(P,t.oClasses.tbody.cell)}Pt(t,"aoRowCallback",null,[O,y._aData,r,m,g]),i.push(O),r++}else i[0]=fS(t);Pt(t,"aoHeaderCallback","header",[D(t.nTHead).children("tr")[0],cS(t),a,l,o]),Pt(t,"aoFooterCallback","footer",[D(t.nTFoot).children("tr")[0],cS(t),a,l,o]),u[0].replaceChildren?u[0].replaceChildren.apply(u[0],i):(u.children().detach(),u.append(D(i))),D(t.nTableWrapper).toggleClass("dt-empty-footer",D("tr",t.nTFoot).length===0),Pt(t,"aoDrawCallback","draw",[t],!0),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}function ec(t,e,n){var i=t.oFeatures,r=i.bSort,s=i.bFilter;(n===void 0||n===!0)&&(Up(t),r&&q0(t),s?Ku(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice()),e!==!0&&(t._iDisplayStart=0),t._drawHold=e,dc(t),t._drawHold=!1}function fS(t){var e=t.oLanguage,n=e.sZeroRecords,i=Wi(t);return t.iDraw<1&&i==="ssp"||t.iDraw<=1&&i==="ajax"?n=e.sLoadingRecords:e.sEmptyTable&&t.fnRecordsTotal()===0&&(n=e.sEmptyTable),D("<tr/>").append(D("<td />",{colSpan:Xp(t),class:t.oClasses.empty.row}).html(n))[0]}function Wb(t,e,n){if(Array.isArray(n)){for(var i=0;i<n.length;i++)Wb(t,e,n[i]);return}var r=t[e];D.isPlainObject(n)?n.features?(n.rowId&&(t.id=n.rowId),n.rowClass&&(t.className=n.rowClass),r.id=n.id,r.className=n.className,Wb(t,e,n.features)):Object.keys(n).map(function(s){r.contents.push({feature:s,opts:n[s]})}):r.contents.push(n)}function VZ(t,e,n){for(var i,r=0;r<t.length;r++)if(i=t[r],i.rowNum===e&&(n==="full"&&i.full||(n==="start"||n==="end")&&(i.start||i.end)))return i[n]||(i[n]={contents:[]}),i;return i={rowNum:e},i[n]={contents:[]},t.push(i),i}function hS(t,e,n){var i=[];D.each(e,function(s,o){if(o!==null){var a=s.match(/^([a-z]+)([0-9]*)([A-Za-z]*)$/),l=a[2]?a[2]*1:0,c=a[3]?a[3].toLowerCase():"full";if(a[1]===n){var u=VZ(i,l,c);Wb(u,c,o)}}}),i.sort(function(s,o){var a=s.rowNum,l=o.rowNum;if(a===l){var c=s.full&&!o.full?-1:1;return n==="bottom"?c*-1:c}return l-a}),n==="bottom"&&i.reverse();for(var r=0;r<i.length;r++)delete i[r].rowNum,QZ(t,i[r]);return i}function QZ(t,e){var n=function(r,s){return wn.features[r]||Zi(t,0,"Unknown feature: "+r),wn.features[r].apply(this,[t,s])},i=function(r){if(e[r])for(var s=e[r].contents,o=0,a=s.length;o<a;o++)if(s[o]){if(typeof s[o]=="string")s[o]=n(s[o],null);else if(D.isPlainObject(s[o]))s[o]=n(s[o].feature,s[o].opts);else if(typeof s[o].node=="function")s[o]=s[o].node(t);else if(typeof s[o]=="function"){var l=s[o](t);s[o]=typeof l.node=="function"?l.node():l}}else continue};i("start"),i("end"),i("full")}function zZ(t){var e=t.oClasses,n=D(t.nTable),i=D("<div/>").attr({id:t.sTableId+"_wrapper",class:e.container}).insertBefore(n);if(t.nTableWrapper=i[0],t.sDom)WZ(t,t.sDom,i);else{var r=hS(t,t.layout,"top"),s=hS(t,t.layout,"bottom"),o=Kd(t,"layout");r.forEach(function(a){o(t,i,a)}),o(t,i,{full:{table:!0,contents:[iP(t)]}}),s.forEach(function(a){o(t,i,a)})}eee(t)}function WZ(t,e,n){for(var i=e.match(/(".*?")|('.*?')|./g),r,s,o,a,l,c=0;c<i.length;c++){if(r=null,s=i[c],s=="<"){if(o=D("<div/>"),a=i[c+1],a[0]=="'"||a[0]=='"'){l=a.replace(/['"]/g,"");var u="",f;if(l.indexOf(".")!=-1){var d=l.split(".");u=d[0],f=d[1]}else l[0]=="#"?u=l:f=l;o.attr("id",u.substring(1)).addClass(f),c++}n.append(o),n=o}else s==">"?n=n.parent():s=="t"?r=iP(t):he.ext.feature.forEach(function(m){s==m.cFeature&&(r=m.fnInit(t))});r&&n.append(r)}}function eP(t,e,n){var i=t.aoColumns,r=D(e).children("tr"),s,o,a,l,c,u,f,d,m,g,y=e&&e.nodeName.toLowerCase()==="thead",O=[],_,A=function(v,Q,Y){for(var te=v[Q];te[Y];)Y++;return Y};for(a=0,u=r.length;a<u;a++)O.push([]);for(a=0,u=r.length;a<u;a++)for(s=r[a],d=0,o=s.firstChild;o;){if(o.nodeName.toUpperCase()=="TD"||o.nodeName.toUpperCase()=="TH"){var P=[];if(m=o.getAttribute("colspan")*1,g=o.getAttribute("rowspan")*1,m=!m||m===0||m===1?1:m,g=!g||g===0||g===1?1:g,f=A(O,a,d),_=m===1,n){if(_){zb(t,f,D(o).data());var T=i[f],B=o.getAttribute("width")||null,I=o.style.width.match(/width:\s*(\d+[pxem%]+)/);I&&(B=I[1]),T.sWidthOrig=T.sWidth||B,y?(T.sTitle!==null&&!T.autoTitle&&(o.innerHTML=T.sTitle),!T.sTitle&&_&&(T.sTitle=Ns(o.innerHTML),T.autoTitle=!0)):T.footer&&(o.innerHTML=T.footer),T.ariaTitle||(T.ariaTitle=D(o).attr("aria-label")||T.sTitle),T.className&&D(o).addClass(T.className)}D("span.dt-column-title",o).length===0&&D("<span>").addClass("dt-column-title").append(o.childNodes).appendTo(o),y&&D("span.dt-column-order",o).length===0&&D("<span>").addClass("dt-column-order").appendTo(o)}for(c=0;c<m;c++){for(l=0;l<g;l++)O[a+l][f+c]={cell:o,unique:_},O[a+l].row=s;P.push(f+c)}o.setAttribute("data-dt-column",Pa(P).join(","))}o=o.nextSibling}return O}function qZ(t){var e=Wi(t)=="ssp",n=t.iInitDisplayStart;n!==void 0&&n!==-1&&(t._iDisplayStart=e?n:n>=t.fnRecordsDisplay()?0:n,t.iInitDisplayStart=-1)}function z0(t,e,n){var i,r=t.ajax,s=t.oInstance,o=function(u){var f=t.jqXHR?t.jqXHR.status:null;(u===null||typeof f=="number"&&f==204)&&(u={},Gp(t,u,[]));var d=u.error||u.sError;if(d&&Zi(t,0,d),u.d&&typeof u.d=="string")try{u=JSON.parse(u.d)}catch{}t.json=u,Pt(t,null,"xhr",[t,u,t.jqXHR],!0),n(u)};if(D.isPlainObject(r)&&r.data){i=r.data;var a=typeof i=="function"?i(e,t):i;e=typeof i=="function"&&a?a:D.extend(!0,e,a),delete r.data}var l={url:typeof r=="string"?r:"",data:e,success:o,dataType:"json",cache:!1,type:t.sServerMethod,error:function(u,f){var d=Pt(t,null,"xhr",[t,null,t.jqXHR],!0);d.indexOf(!0)===-1&&(f=="parsererror"?Zi(t,0,"Invalid JSON response",1):u.readyState===4&&Zi(t,0,"Ajax error",7)),ji(t,!1)}};if(D.isPlainObject(r)&&D.extend(l,r),t.oAjaxData=e,Pt(t,null,"preXhr",[t,e,l],!0),typeof r=="function")t.jqXHR=r.call(s,e,o,t);else if(r.url===""){var c={};he.util.set(r.dataSrc)(c,[]),o(c)}else t.jqXHR=D.ajax(l);i&&(r.data=i)}function XZ(t){t.iDraw++,ji(t,!0),z0(t,UZ(t),function(e){YZ(t,e)})}function UZ(t){var e=t.aoColumns,n=t.oFeatures,i=t.oPreviousSearch,r=t.aoPreSearchCols,s=function(o,a){return typeof e[o][a]=="function"?"function":e[o][a]};return{draw:t.iDraw,columns:e.map(function(o,a){return{data:s(a,"mData"),name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:r[a].search,regex:r[a].regex,fixed:Object.keys(o.searchFixed).map(function(l){return{name:l,term:o.searchFixed[l].toString()}})}}}),order:Kp(t).map(function(o){return{column:o.col,dir:o.dir,name:s(o.col,"sName")}}),start:t._iDisplayStart,length:n.bPaginate?t._iDisplayLength:-1,search:{value:i.search,regex:i.regex,fixed:Object.keys(t.searchFixed).map(function(o){return{name:o,term:t.searchFixed[o].toString()}})}}}function YZ(t,e){var n=Gp(t,e),i=Vg(t,"draw",e),r=Vg(t,"recordsTotal",e),s=Vg(t,"recordsFiltered",e);if(i!==void 0){if(i*1<t.iDraw)return;t.iDraw=i*1}n||(n=[]),V0(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(s,10);for(var o=0,a=n.length;o<a;o++)Ta(t,n[o]);t.aiDisplay=t.aiDisplayMaster.slice(),Up(t),dc(t,!0),Gd(t),ji(t,!1)}function Gp(t,e,n){var i="data";if(D.isPlainObject(t.ajax)&&t.ajax.dataSrc!==void 0){var r=t.ajax.dataSrc;typeof r=="string"||typeof r=="function"?i=r:r.data!==void 0&&(i=r.data)}if(!n)return i==="data"?e.aaData||e[i]:i!==""?Zl(i)(e):e;sa(i)(e,n)}function Vg(t,e,n){var i=D.isPlainObject(t.ajax)?t.ajax.dataSrc:null;if(i&&i[e])return Zl(i[e])(n);var r="";return e==="draw"?r="sEcho":e==="recordsTotal"?r="iTotalRecords":e==="recordsFiltered"&&(r="iTotalDisplayRecords"),n[r]!==void 0?n[r]:n[e]}function Ku(t,e){var n=t.aoPreSearchCols;if(Wi(t)!="ssp"){ZZ(t),t.aiDisplay=t.aiDisplayMaster.slice(),vh(t.aiDisplay,t,e.search,e),D.each(t.searchFixed,function(s,o){vh(t.aiDisplay,t,o,{})});for(var i=0;i<n.length;i++){var r=n[i];vh(t.aiDisplay,t,r.search,r,i),D.each(t.aoColumns[i].searchFixed,function(s,o){vh(t.aiDisplay,t,o,{},i)})}GZ(t)}t.bFiltered=!0,Pt(t,null,"search",[t])}function GZ(t){for(var e=he.ext.search,n=t.aiDisplay,i,r,s=0,o=e.length;s<o;s++){for(var a=[],l=0,c=n.length;l<c;l++)r=n[l],i=t.aoData[r],e[s](t,i._aFilterData,r,i._aData,l)&&a.push(r);n.length=0,Zp(n,a)}}function vh(t,e,n,i,r){if(n!==""){var s=0,o=[],a=typeof n=="function"?n:null,l=n instanceof RegExp?n:a?null:KZ(n,i);for(s=0;s<t.length;s++){var c=e.aoData[t[s]],u=r===void 0?c._sFilterRow:c._aFilterData[r];(a&&a(u,c._aData,t[s],r)||l&&l.test(u))&&o.push(t[s])}for(t.length=o.length,s=0;s<o.length;s++)t[s]=o[s]}}function KZ(t,e){var n=[],i=D.extend({},{boundary:!1,caseInsensitive:!0,exact:!1,regex:!1,smart:!0},e);if(typeof t!="string"&&(t=t.toString()),t=Xd(t),i.exact)return new RegExp("^"+qb(t)+"$",i.caseInsensitive?"i":"");if(t=i.regex?t:qb(t),i.smart){var r=t.match(/!?["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],s=r.map(function(l){var c=!1,u;return l.charAt(0)==="!"&&(c=!0,l=l.substring(1)),l.charAt(0)==='"'?(u=l.match(/^"(.*)"$/),l=u?u[1]:l):l.charAt(0)===""&&(u=l.match(/^\u201C(.*)\u201D$/),l=u?u[1]:l),c&&(l.length>1&&n.push("(?!"+l+")"),l=""),l.replace(/"/g,"")}),o=n.length?n.join(""):"",a=i.boundary?"\\b":"";t="^(?=.*?"+a+s.join(")(?=.*?"+a)+")("+o+".)*$"}return new RegExp(t,i.caseInsensitive?"i":"")}var qb=he.util.escapeRegex,Wh=D("<div>")[0],JZ=Wh.textContent!==void 0;function ZZ(t){for(var e=t.aoColumns,n=t.aoData,i,r,s,o,a,l,c=!1,u=0;u<n.length;u++)if(n[u]&&(l=n[u],!l._aFilterData)){for(o=[],r=0,s=e.length;r<s;r++)i=e[r],i.bSearchable?(a=cr(t,u,r,"filter"),a===null&&(a=""),typeof a!="string"&&a.toString&&(a=a.toString())):a="",a.indexOf&&a.indexOf("&")!==-1&&(Wh.innerHTML=a,a=JZ?Wh.textContent:Wh.innerText),a.replace&&(a=a.replace(/[\r\n\u2028]/g,"")),o.push(a);l._aFilterData=o,l._sFilterRow=o.join("  "),c=!0}return c}function qh(t){var e,n=t.oInit,i=t.deferLoading,r=Wi(t);if(!t.bInitialised){setTimeout(function(){qh(t)},200);return}uS(t,"header"),uS(t,"footer"),oee(t,n,function(){Yd(t,t.aoHeader),Yd(t,t.aoFooter);var s=t.iInitDisplayStart;if(n.aaData)for(e=0;e<n.aaData.length;e++)Ta(t,n.aaData[e]);else(i||r=="dom")&&j0(t,D(t.nTBody).children("tr"));t.aiDisplay=t.aiDisplayMaster.slice(),zZ(t),iee(t),sP(t),ji(t,!0),Pt(t,null,"preInit",[t],!0),ec(t),(r!="ssp"||i)&&(r=="ajax"?z0(t,{},function(o){var a=Gp(t,o);for(e=0;e<a.length;e++)Ta(t,a[e]);t.iInitDisplayStart=s,ec(t),ji(t,!1),Gd(t)}):(Gd(t),ji(t,!1)))})}function Gd(t){if(!t._bInitComplete){var e=[t,t.json];t._bInitComplete=!0,qp(t),Pt(t,null,"plugin-init",e,!0),Pt(t,"aoInitComplete","init",e,!0)}}function tP(t,e){var n=parseInt(e,10);t._iDisplayLength=n,cP(t),Pt(t,null,"length",[t,n])}function W0(t,e,n){var i=t._iDisplayStart,r=t._iDisplayLength,s=t.fnRecordsDisplay();if(s===0||r===-1)i=0;else if(typeof e=="number")i=e*r,i>s&&(i=0);else if(e=="first")i=0;else if(e=="previous")i=r>=0?i-r:0,i<0&&(i=0);else if(e=="next")i+r<s&&(i+=r);else if(e=="last")i=Math.floor((s-1)/r)*r;else{if(e==="ellipsis")return;Zi(t,0,"Unknown paging action: "+e,5)}var o=t._iDisplayStart!==i;return t._iDisplayStart=i,Pt(t,null,o?"page":"page-nc",[t]),o&&n&&dc(t),o}function eee(t){var e=t.nTable,n=t.oScroll.sX!==""||t.oScroll.sY!=="";if(t.oFeatures.bProcessing){var i=D("<div/>",{id:t.sTableId+"_processing",class:t.oClasses.processing.container,role:"status"}).html(t.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>");n?i.prependTo(D("div.dt-scroll",t.nTableWrapper)):i.insertBefore(e),D(e).on("processing.dt.DT",function(r,s,o){i.css("display",o?"block":"none")})}}function ji(t,e){t.bDrawing&&e===!1||Pt(t,null,"processing",[t,e])}function nP(t,e,n){e?(ji(t,!0),setTimeout(function(){n(),ji(t,!1)},0)):n()}function iP(t){var e=D(t.nTable),n=t.oScroll;if(n.sX===""&&n.sY==="")return t.nTable;var i=n.sX,r=n.sY,s=t.oClasses.scrolling,o=t.captionNode,a=o?o._captionSide:null,l=D(e[0].cloneNode(!1)),c=D(e[0].cloneNode(!1)),u=e.children("tfoot"),f="<div/>",d=function(A){return A?ho(A):null};u.length||(u=null);var m=D(f,{class:s.container}).append(D(f,{class:s.header.self}).css({overflow:"hidden",position:"relative",border:0,width:i?d(i):"100%"}).append(D(f,{class:s.header.inner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append(a==="top"?o:null).append(e.children("thead"))))).append(D(f,{class:s.body}).css({position:"relative",overflow:"auto",width:d(i)}).append(e));u&&m.append(D(f,{class:s.footer.self}).css({overflow:"hidden",border:0,width:i?d(i):"100%"}).append(D(f,{class:s.footer.inner}).append(c.removeAttr("id").css("margin-left",0).append(a==="bottom"?o:null).append(e.children("tfoot")))));var g=m.children(),y=g[0],O=g[1],_=u?g[2]:null;return D(O).on("scroll.DT",function(){var A=this.scrollLeft;y.scrollLeft=A,u&&(_.scrollLeft=A)}),D("th, td",y).on("focus",function(){var A=y.scrollLeft;O.scrollLeft=A,u&&(O.scrollLeft=A)}),D(O).css("max-height",r),n.bCollapse||D(O).css("height",r),t.nScrollHead=y,t.nScrollBody=O,t.nScrollFoot=_,t.aoDrawCallback.push(rP),m[0]}function rP(t){var e=t.oScroll,n=e.iBarWidth,i=D(t.nScrollHead),r=i.children("div"),s=r.children("table"),o=t.nScrollBody,a=D(o),l=D(t.nScrollFoot),c=l.children("div"),u=c.children("table"),f=D(t.nTHead),d=D(t.nTable),m=t.nTFoot&&D("th, td",t.nTFoot).length?D(t.nTFoot):null,g=t.oBrowser,y,O,_=o.scrollHeight>o.clientHeight;if(t.scrollBarVis!==_&&t.scrollBarVis!==void 0){t.scrollBarVis=_,qp(t);return}else t.scrollBarVis=_;if(d.children("thead, tfoot").remove(),y=f.clone().prependTo(d),y.find("th, td").removeAttr("tabindex"),y.find("[id]").removeAttr("id"),m&&(O=m.clone().prependTo(d),O.find("[id]").removeAttr("id")),t.aiDisplay.length){var A=null,P=Wi(t)!=="ssp"?t._iDisplayStart:0;for(v=P;v<P+t.aiDisplay.length;v++){var T=t.aiDisplay[v],B=t.aoData[T].nTr;if(B){A=B;break}}if(A)for(var I=D(A).children("th, td").map(function(X){return{idx:F0(t,X),width:D(this).outerWidth()}}),v=0;v<I.length;v++){var Q=t.aoColumns[I[v].idx].colEl[0],Y=Q.style.width.replace("px","");Y!==I[v].width&&(Q.style.width=I[v].width+"px",e.sX&&(Q.style.minWidth=I[v].width+"px"))}}s.find("colgroup").remove(),s.append(t.colgroup.clone()),m&&(u.find("colgroup").remove(),u.append(t.colgroup.clone())),D("th, td",y).each(function(){D(this.childNodes).wrapAll('<div class="dt-scroll-sizing">')}),m&&D("th, td",O).each(function(){D(this.childNodes).wrapAll('<div class="dt-scroll-sizing">')});var te=Math.floor(d.height())>o.clientHeight||a.css("overflow-y")=="scroll",ve="padding"+(g.bScrollbarLeft?"Left":"Right"),J=d.outerWidth();s.css("width",ho(J)),r.css("width",ho(J)).css(ve,te?n+"px":"0px"),m&&(u.css("width",ho(J)),c.css("width",ho(J)).css(ve,te?n+"px":"0px")),d.children("colgroup").prependTo(d),a.trigger("scroll"),(t.bSorted||t.bFiltered)&&!t._drawHold&&(o.scrollTop=0)}function tee(t){if(t.oFeatures.bAutoWidth){var e=t.nTable,n=t.aoColumns,i=t.oScroll,r=i.sY,s=i.sX,o=i.sXInner,a=B0(t,"bVisible"),l=e.getAttribute("width"),c=e.parentNode,u,f,d,m=e.style.width,g=dS(t);if(g===t.containerWidth)return!1;t.containerWidth=g,!m&&!l&&(e.style.width="100%",m="100%"),m&&m.indexOf("%")!==-1&&(l=m),Pt(t,null,"column-calc",{visible:a},!1);var y=D(e.cloneNode()).css("visibility","hidden").removeAttr("id");y.append("<tbody>");var O=D("<tr/>").appendTo(y.find("tbody"));for(y.append(D(t.nTHead).clone()).append(D(t.nTFoot).clone()),y.find("tfoot th, tfoot td").css("width",""),y.find("thead th, thead td").each(function(){var J=YR(t,this,!0);J?(this.style.width=J,s&&(this.style.minWidth=J,D(this).append(D("<div/>").css({width:J,margin:0,padding:0,border:0,height:1})))):this.style.width=""}),u=0;u<a.length;u++){d=a[u],f=n[d];var _=nee(t,d),A=wn.type.className[f.sType],P=_+f.sContentPadding,T=_.indexOf("<")===-1?document.createTextNode(P):P;D("<td/>").addClass(A).addClass(f.sClass).append(T).appendTo(O)}D("[name]",y).removeAttr("name");var B=D("<div/>").css(s||r?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(y).appendTo(c);s&&o?y.width(o):s?(y.css("width","auto"),y.removeAttr("width"),y.outerWidth()<c.clientWidth&&l&&y.outerWidth(c.clientWidth)):r?y.outerWidth(c.clientWidth):l&&y.outerWidth(l);var I=0,v=y.find("tbody tr").eq(0).children();for(u=0;u<a.length;u++){var Q=v[u].getBoundingClientRect().width;I+=Q,n[a[u]].sWidth=ho(Q)}if(e.style.width=ho(I),B.remove(),l&&(e.style.width=ho(l)),(l||s)&&!t._reszEvt){var Y=he.util.throttle(function(){var J=dS(t);!t.bDestroying&&J!==0&&qp(t)});if(window.ResizeObserver){var te=D(t.nTableWrapper).is(":visible"),ve=D("<div>").css({width:"100%",height:0}).addClass("dt-autosize").appendTo(t.nTableWrapper);t.resizeObserver=new ResizeObserver(function(J){te?te=!1:Y()}),t.resizeObserver.observe(ve[0])}else D(window).on("resize.DT-"+t.sInstance,Y);t._reszEvt=!0}}}function dS(t){return D(t.nTableWrapper).is(":visible")?D(t.nTableWrapper).width():0}function nee(t,e){var n=t.aoColumns[e];if(!n.maxLenString){for(var i,r="",s=-1,o=0,a=t.aiDisplayMaster.length;o<a;o++){var l=t.aiDisplayMaster[o],c=Q0(t,l)[e],u=c&&typeof c=="object"&&c.nodeType?c.innerHTML:c+"";u=u.replace(/id=".*?"/g,"").replace(/name=".*?"/g,""),i=Ns(u).replace(/&nbsp;/g," "),i.length>s&&(r=u,s=i.length)}n.maxLenString=r}return n.maxLenString}function ho(t){return t===null?"0px":typeof t=="number"?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function sP(t){var e=t.aoColumns;for(t.colgroup.empty(),si=0;si<e.length;si++)e[si].bVisible&&t.colgroup.append(e[si].colEl)}function iee(t){var e=t.nTHead,n=e.querySelectorAll("tr"),i=t.bSortCellsTop,r=':not([data-dt-order="disable"]):not([data-dt-order="icon-only"])';i===!0?e=n[0]:i===!1&&(e=n[n.length-1]),oP(t,e,e===t.nTHead?"tr"+r+" th"+r+", tr"+r+" td"+r:"th"+r+", td"+r);var s=[];ul(t,s,t.aaSorting),t.aaSorting=s}function oP(t,e,n,i,r){lP(e,n,function(s){var o=!1,a=i===void 0?H0(s.target):[i];if(a.length){for(var l=0,c=a.length;l<c;l++){var u=ree(t,a[l],l,s.shiftKey);if(u!==!1&&(o=!0),t.aaSorting.length===1&&t.aaSorting[0][1]==="")break}o&&nP(t,!0,function(){q0(t),aP(t,t.aiDisplay),ec(t,!1,!1),r&&r()})}})}function aP(t,e){if(!(e.length<2)){var n=t.aiDisplayMaster,i={},r={},s;for(s=0;s<n.length;s++)i[n[s]]=s;for(s=0;s<e.length;s++)r[e[s]]=i[e[s]];e.sort(function(o,a){return r[o]-r[a]})}}function ul(t,e,n){var i=function(s){if(D.isPlainObject(s)){if(s.idx!==void 0)e.push([s.idx,s.dir]);else if(s.name){var o=Un(t.aoColumns,"sName"),a=o.indexOf(s.name);a!==-1&&e.push([a,s.dir])}}else e.push(s)};if(D.isPlainObject(n))i(n);else if(n.length&&typeof n[0]=="number")i(n);else if(n.length)for(var r=0;r<n.length;r++)i(n[r])}function Kp(t){var e,n,i,r=[],s=he.ext.type.order,o=t.aoColumns,a,l,c,u,f=t.aaSortingFixed,d=D.isPlainObject(f),m=[];if(!t.oFeatures.bSort)return r;for(Array.isArray(f)&&ul(t,m,f),d&&f.pre&&ul(t,m,f.pre),ul(t,m,t.aaSorting),d&&f.post&&ul(t,m,f.post),e=0;e<m.length;e++)if(u=m[e][0],o[u])for(a=o[u].aDataSort,n=0,i=a.length;n<i;n++)l=a[n],c=o[l].sType||"string",m[e]._idx===void 0&&(m[e]._idx=o[l].asSorting.indexOf(m[e][1])),m[e][1]&&r.push({src:u,col:l,dir:m[e][1],index:m[e]._idx,type:c,formatter:s[c+"-pre"],sorter:s[c+"-"+m[e][1]]});return r}function q0(t,e,n){var i,r,s,o=[],a=he.ext.type.order,l=t.aoData,c,u=t.aiDisplayMaster,f;if(Up(t),e!==void 0){var d=t.aoColumns[e];f=[{src:e,col:e,dir:n,index:0,type:d.sType,formatter:a[d.sType+"-pre"],sorter:a[d.sType+"-"+n]}],u=u.slice()}else f=Kp(t);for(i=0,r=f.length;i<r;i++)c=f[i],see(t,c.col);if(Wi(t)!="ssp"&&f.length!==0){for(i=0,s=u.length;i<s;i++)o[i]=i;f.length&&f[0].dir==="desc"&&t.orderDescReverse&&o.reverse(),u.sort(function(m,g){var y,O,_,A,P,T=f.length,B=l[m]._aSortData,I=l[g]._aSortData;for(_=0;_<T;_++)if(P=f[_],y=B[P.col],O=I[P.col],P.sorter){if(A=P.sorter(y,O),A!==0)return A}else if(A=y<O?-1:y>O?1:0,A!==0)return P.dir==="asc"?A:-A;return y=o[m],O=o[g],y<O?-1:y>O?1:0})}else f.length===0&&u.sort(function(m,g){return m<g?-1:m>g?1:0});return e===void 0&&(t.bSorted=!0,t.sortDetails=f,Pt(t,null,"order",[t,f])),u}function ree(t,e,n,i){var r=t.aoColumns[e],s=t.aaSorting,o=r.asSorting,a,l=function(u,f){var d=u._idx;return d===void 0&&(d=o.indexOf(u[1])),d+1<o.length?d+1:f?null:0};if(!r.bSortable)return!1;if(typeof s[0]=="number"&&(s=t.aaSorting=[s]),(i||n)&&t.oFeatures.bSortMulti){var c=Un(s,"0").indexOf(e);c!==-1?(a=l(s[c],!0),a===null&&s.length===1&&(a=0),a===null?s.splice(c,1):(s[c][1]=o[a],s[c]._idx=a)):i?(s.push([e,o[0],0]),s[s.length-1]._idx=0):(s.push([e,s[0][1],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==e?(a=l(s[0]),s.length=1,s[0][1]=o[a],s[0]._idx=a):(s.length=0,s.push([e,o[0]]),s[0]._idx=0)}function Xb(t){var e=t.aLastSort,n=t.oClasses.order.position,i=Kp(t),r=t.oFeatures,s,o,a;if(r.bSort&&r.bSortClasses){for(s=0,o=e.length;s<o;s++)a=e[s].src,D(Un(t.aoData,"anCells",a)).removeClass(n+(s<2?s+1:3));for(s=0,o=i.length;s<o;s++)a=i[s].src,D(Un(t.aoData,"anCells",a)).addClass(n+(s<2?s+1:3))}t.aLastSort=i}function see(t,e){var n=t.aoColumns[e],i=he.ext.order[n.sSortDataType],r;i&&(r=i.call(t.oInstance,t,e,Sf(t,e)));for(var s,o,a=he.ext.type.order[n.sType+"-pre"],l=t.aoData,c=0;c<l.length;c++)l[c]&&(s=l[c],s._aSortData||(s._aSortData=[]),(!s._aSortData[e]||i)&&(o=i?r[c]:cr(t,c,e,"sort"),s._aSortData[e]=a?a(o,t):o))}function Jp(t){if(!t._bLoadingState){var e=[];ul(t,e,t.aaSorting);var n=t.aoColumns,i={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.map(function(r){return n[r[0]]&&n[r[0]].sName?[n[r[0]].sName,r[1]]:r.slice()}),search:D.extend({},t.oPreviousSearch),columns:t.aoColumns.map(function(r,s){return{name:r.sName,visible:r.bVisible,search:D.extend({},t.aoPreSearchCols[s])}})};t.oSavedState=i,Pt(t,"aoStateSaveParams","stateSaveParams",[t,i]),t.oFeatures.bStateSave&&!t.bDestroying&&t.fnStateSaveCallback.call(t.oInstance,t,i)}}function oee(t,e,n){if(!t.oFeatures.bStateSave){n();return}var i=function(s){Ub(t,s,n)},r=t.fnStateLoadCallback.call(t.oInstance,t,i);return r!==void 0&&Ub(t,r,n),!0}function Ub(t,e,n){var i,r,s=t.aoColumns,o=Un(t.aoColumns,"sName");t._bLoadingState=!0;var a=t._bInitComplete?new he.Api(t):null;if(!e||!e.time){t._bLoadingState=!1,n();return}var l=t.iStateDuration;if(l>0&&e.time<+new Date-l*1e3){t._bLoadingState=!1,n();return}var c=Pt(t,"aoStateLoadParams","stateLoadParams",[t,e]);if(c.indexOf(!1)!==-1){t._bLoadingState=!1,n();return}if(t.oLoadedState=D.extend(!0,{},e),Pt(t,null,"stateLoadInit",[t,e],!0),e.length!==void 0&&(a?a.page.len(e.length):t._iDisplayLength=e.length),e.start!==void 0&&(a===null?(t._iDisplayStart=e.start,t.iInitDisplayStart=e.start):W0(t,e.start/t._iDisplayLength)),e.order!==void 0&&(t.aaSorting=[],D.each(e.order,function(g,y){var O=[y[0],y[1]];if(typeof y[0]=="string"){var _=o.indexOf(y[0]);O[0]=_>=0?_:0}else O[0]>=s.length&&(O[0]=0);t.aaSorting.push(O)})),e.search!==void 0&&D.extend(t.oPreviousSearch,e.search),e.columns){var u=e.columns,f=Un(e.columns,"name");if(f.join("").length&&f.join("")!==o.join(""))for(u=[],i=0;i<o.length;i++)if(o[i]!=""){var d=f.indexOf(o[i]);d>=0?u.push(e.columns[d]):u.push({})}else u.push({});if(u.length===s.length){for(i=0,r=u.length;i<r;i++){var m=u[i];m.visible!==void 0&&(a?a.column(i).visible(m.visible,!1):s[i].bVisible=m.visible),m.search!==void 0&&D.extend(t.aoPreSearchCols[i],m.search)}a&&a.columns.adjust()}}t._bLoadingState=!1,Pt(t,"aoStateLoaded","stateLoaded",[t,e]),n()}function Zi(t,e,n,i){n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see https://datatables.net/tn/"+i);{var r=he.ext,s=r.sErrMode||r.errMode;if(t&&Pt(t,null,"dt-error",[t,i,n],!0),s=="alert")alert(n);else{if(s=="throw")throw new Error(n);typeof s=="function"&&s(t,i,n)}}}function po(t,e,n,i){if(Array.isArray(n)){D.each(n,function(r,s){Array.isArray(s)?po(t,e,s[0],s[1]):po(t,e,s)});return}i===void 0&&(i=n),e[n]!==void 0&&(t[i]=e[n])}function pS(t,e,n){var i;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i=e[r],D.isPlainObject(i)?(D.isPlainObject(t[r])||(t[r]={}),D.extend(!0,t[r],i)):n&&r!=="data"&&r!=="aaData"&&Array.isArray(i)?t[r]=i.slice():t[r]=i);return t}function lP(t,e,n){D(t).on("click.DT",e,function(i){n(i)}).on("keypress.DT",e,function(i){i.which===13&&(i.preventDefault(),n(i))}).on("selectstart.DT",e,function(){return!1})}function Ui(t,e,n){n&&t[e].push(n)}function Pt(t,e,n,i,r){var s=[];if(e&&(s=t[e].slice().reverse().map(function(l){return l.apply(t.oInstance,i)})),n!==null){var o=D.Event(n+".dt"),a=D(t.nTable);o.dt=t.api,a[r?"trigger":"triggerHandler"](o,i),r&&a.parents("body").length===0&&D("body").trigger(o,i),s.push(o.result)}return s}function cP(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(i===-1||e<0)&&(e=0),t._iDisplayStart=e}function Kd(t,e){var n=t.renderer,i=he.ext.renderer[e];return D.isPlainObject(n)&&n[e]?i[n[e]]||i._:typeof n=="string"&&i[n]||i._}function Wi(t){return t.oFeatures.bServerSide?"ssp":t.ajax?"ajax":"dom"}function X0(t,e,n){var i=t.fnFormatNumber,r=t._iDisplayStart+1,s=t._iDisplayLength,o=t.fnRecordsDisplay(),a=t.fnRecordsTotal(),l=s===-1;return e.replace(/_START_/g,i.call(t,r)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,a)).replace(/_TOTAL_/g,i.call(t,o)).replace(/_PAGE_/g,i.call(t,l?1:Math.ceil(r/s))).replace(/_PAGES_/g,i.call(t,l?1:Math.ceil(o/s))).replace(/_ENTRIES_/g,t.api.i18n("entries","",n)).replace(/_ENTRIES-MAX_/g,t.api.i18n("entries","",a)).replace(/_ENTRIES-TOTAL_/g,t.api.i18n("entries","",o))}function Zp(t,e){if(e)if(e.length<1e4)t.push.apply(t,e);else for(si=0;si<e.length;si++)t.push(e[si])}var U0=[],Zn=Array.prototype,aee=function(t){var e,n,i=he.settings,r=Un(i,"nTable");if(t){if(t.nTable&&t.oFeatures)return[t];if(t.nodeName&&t.nodeName.toLowerCase()==="table")return e=r.indexOf(t),e!==-1?[i[e]]:null;if(t&&typeof t.settings=="function")return t.settings().toArray();typeof t=="string"?n=D(t).get():t instanceof D&&(n=t.get())}else return[];if(n)return i.filter(function(s,o){return n.includes(r[o])})};mt=function(t,e){if(!(this instanceof mt))return new mt(t,e);var n,i=[],r=function(s){var o=aee(s);o&&i.push.apply(i,o)};if(Array.isArray(t))for(n=0;n<t.length;n++)r(t[n]);else r(t);this.context=i.length>1?Pa(i):i,Zp(this,e),this.selector={rows:null,cols:null,opts:null},mt.extend(this,this,U0)};he.Api=mt;D.extend(mt.prototype,{any:function(){return this.count()!==0},context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new mt(e[t],this[t]):null},filter:function(t){var e=Zn.filter.call(this,t,this);return new mt(this.context,e)},flatten:function(){var t=[];return new mt(this.context,t.concat.apply(t,this.toArray()))},get:function(t){return this[t]},join:Zn.join,includes:function(t){return this.indexOf(t)!==-1},indexOf:Zn.indexOf,iterator:function(t,e,n,i){var r=[],s,o,a,l,c,u=this.context,f,d,m,g=this.selector;for(typeof t=="string"&&(i=n,n=e,e=t,t=!1),o=0,a=u.length;o<a;o++){var y=new mt(u[o]);if(e==="table")s=n.call(y,u[o],o),s!==void 0&&r.push(s);else if(e==="columns"||e==="rows")s=n.call(y,u[o],this[o],o),s!==void 0&&r.push(s);else if(e==="every"||e==="column"||e==="column-rows"||e==="row"||e==="cell")for(d=this[o],e==="column-rows"&&(f=em(u[o],g.opts)),l=0,c=d.length;l<c;l++)m=d[l],e==="cell"?s=n.call(y,u[o],m.row,m.column,o,l):s=n.call(y,u[o],m,o,l,f),s!==void 0&&r.push(s)}if(r.length||i){var O=new mt(u,t?r.concat.apply([],r):r),_=O.selector;return _.rows=g.rows,_.cols=g.cols,_.opts=g.opts,O}return this},lastIndexOf:Zn.lastIndexOf,length:0,map:function(t){var e=Zn.map.call(this,t,this);return new mt(this.context,e)},pluck:function(t){var e=he.util.get(t);return this.map(function(n){return e(n)})},pop:Zn.pop,push:Zn.push,reduce:Zn.reduce,reduceRight:Zn.reduceRight,reverse:Zn.reverse,selector:null,shift:Zn.shift,slice:function(){return new mt(this.context,this)},sort:Zn.sort,splice:Zn.splice,toArray:function(){return Zn.slice.call(this)},to$:function(){return D(this)},toJQuery:function(){return D(this)},unique:function(){return new mt(this.context,Pa(this.toArray()))},unshift:Zn.unshift});function lee(t,e,n){return function(){var i=e.apply(t||this,arguments);return mt.extend(i,i,n.methodExt),i}}function cee(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n].name===e)return t[n];return null}window.__apiStruct=U0;mt.extend=function(t,e,n){if(!(!n.length||!e||!(e instanceof mt)&&!e.__dt_wrapper)){var i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i],s.name!=="__proto__"&&(e[s.name]=s.type==="function"?lee(t,s.val,s):s.type==="object"?{}:s.val,e[s.name].__dt_wrapper=!0,mt.extend(t,e[s.name],s.propExt))}};mt.register=Qe=function(t,e){if(Array.isArray(t)){for(var n=0,i=t.length;n<i;n++)mt.register(t[n],e);return}var r,s,o=t.split("."),a=U0,l,c;for(r=0,s=o.length;r<s;r++){c=o[r].indexOf("()")!==-1,l=c?o[r].replace("()",""):o[r];var u=cee(a,l);u||(u={name:l,val:{},methodExt:[],propExt:[],type:"object"},a.push(u)),r===s-1?(u.val=e,u.type=typeof e=="function"?"function":D.isPlainObject(e)?"object":"other"):a=c?u.methodExt:u.propExt}};mt.registerPlural=Ft=function(t,e,n){mt.register(t,n),mt.register(e,function(){var i=n.apply(this,arguments);return i===this?this:i instanceof mt?i.length?Array.isArray(i[0])?new mt(i.context,i[0]):i[0]:void 0:i})};var uP=function(t,e){if(Array.isArray(t)){var n=[];return t.forEach(function(r){var s=uP(r,e);Zp(n,s)}),n.filter(function(r){return r})}if(typeof t=="number")return[e[t]];var i=e.map(function(r){return r.nTable});return D(i).filter(t).map(function(){var r=i.indexOf(this);return e[r]}).toArray()};Qe("tables()",function(t){return t!=null?new mt(uP(t,this.context)):this});Qe("table()",function(t){var e=this.tables(t),n=e.context;return n.length?new mt(n[0]):e});[["nodes","node","nTable"],["body","body","nTBody"],["header","header","nTHead"],["footer","footer","nTFoot"]].forEach(function(t){Ft("tables()."+t[0]+"()","table()."+t[1]+"()",function(){return this.iterator("table",function(e){return e[t[2]]},1)})});[["header","aoHeader"],["footer","aoFooter"]].forEach(function(t){Qe("table()."+t[0]+".structure()",function(e){var n=this.columns(e).indexes().flatten(),i=this.context[0];return ZR(i,i[t[1]],n)})});Ft("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)});Qe("tables().every()",function(t){var e=this;return this.iterator("table",function(n,i){t.call(e.table(i),i)})});Qe("caption()",function(t,e){var n=this.context;if(t===void 0){var i=n[0].captionNode;return i&&n.length?i.innerHTML:null}return this.iterator("table",function(r){var s=D(r.nTable),o=D(r.captionNode),a=D(r.nTableWrapper);if(o.length||(o=D("<caption/>").html(t),r.captionNode=o[0],e||(s.prepend(o),e=o.css("caption-side"))),o.html(t),e&&(o.css("caption-side",e),o[0]._captionSide=e),a.find("div.dataTables_scroll").length){var l=e==="top"?"Head":"Foot";a.find("div.dataTables_scroll"+l+" table").prepend(o)}else s.prepend(o)},1)});Qe("caption.node()",function(){var t=this.context;return t.length?t[0].captionNode:null});Qe("draw()",function(t){return this.iterator("table",function(e){t==="page"?dc(e):(typeof t=="string"&&(t=t!=="full-hold"),ec(e,t===!1))})});Qe("page()",function(t){return t===void 0?this.page.info().page:this.iterator("table",function(e){W0(e,t)})});Qe("page.info()",function(){if(this.context.length!==0){var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,i=t.fnRecordsDisplay(),r=n===-1;return{page:r?0:Math.floor(e/n),pages:r?1:Math.ceil(i/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:i,serverSide:Wi(t)==="ssp"}}});Qe("page.len()",function(t){return t===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(e){tP(e,t)})});var fP=function(t,e,n){if(n){var i=new mt(t);i.one("draw",function(){n(i.ajax.json())})}if(Wi(t)=="ssp")ec(t,e);else{ji(t,!0);var r=t.jqXHR;r&&r.readyState!==4&&r.abort(),z0(t,{},function(s){V0(t);for(var o=Gp(t,s),a=0,l=o.length;a<l;a++)Ta(t,o[a]);ec(t,e),Gd(t),ji(t,!1)})}};Qe("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json});Qe("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData});Qe("ajax.reload()",function(t,e){return this.iterator("table",function(n){fP(n,e===!1,t)})});Qe("ajax.url()",function(t){var e=this.context;return t===void 0?e.length===0?void 0:(e=e[0],D.isPlainObject(e.ajax)?e.ajax.url:e.ajax):this.iterator("table",function(n){D.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})});Qe("ajax.url().load()",function(t,e){return this.iterator("table",function(n){fP(n,e===!1,t)})});var Y0=function(t,e,n,i,r){var s=[],o,a,l,c,u,f,d=typeof e;for((!e||d==="string"||d==="function"||e.length===void 0)&&(e=[e]),l=0,c=e.length;l<c;l++)for(a=e[l]&&e[l].split&&!e[l].match(/[[(:]/)?e[l].split(","):[e[l]],u=0,f=a.length;u<f;u++)o=n(typeof a[u]=="string"?a[u].trim():a[u]),o=o.filter(function(g){return g!=null}),o&&o.length&&(s=s.concat(o));var m=wn.selector[t];if(m.length)for(l=0,c=m.length;l<c;l++)s=m[l](i,r,s);return Pa(s)},G0=function(t){return t||(t={}),t.filter&&t.search===void 0&&(t.search=t.filter),D.extend({search:"none",order:"current",page:"all"},t)},K0=function(t){var e=new mt(t.context[0]);return t.length&&e.push(t[0]),e.selector=t.selector,e.length&&e[0].length>1&&e[0].splice(1),e},em=function(t,e){var n,i,r,s=[],o=t.aiDisplay,a=t.aiDisplayMaster,l=e.search,c=e.order,u=e.page;if(Wi(t)=="ssp")return l==="removed"?[]:ro(0,a.length);if(u=="current")for(n=t._iDisplayStart,i=t.fnDisplayEnd();n<i;n++)s.push(o[n]);else if(c=="current"||c=="applied"){if(l=="none")s=a.slice();else if(l=="applied")s=o.slice();else if(l=="removed"){var f={};for(n=0,i=o.length;n<i;n++)f[o[n]]=null;a.forEach(function(m){Object.prototype.hasOwnProperty.call(f,m)||s.push(m)})}}else if(c=="index"||c=="original")for(n=0,i=t.aoData.length;n<i;n++)t.aoData[n]&&(l=="none"?s.push(n):(r=o.indexOf(n),(r===-1&&l=="removed"||r>=0&&l=="applied")&&s.push(n)));else if(typeof c=="number"){var d=q0(t,c,"asc");if(l==="none")s=d;else for(n=0;n<d.length;n++)r=o.indexOf(d[n]),(r===-1&&l=="removed"||r>=0&&l=="applied")&&s.push(d[n])}return s},uee=function(t,e,n){var i,r=function(o){var a=zR(o),l=t.aoData;if(a!==null&&!n)return[a];if(i||(i=em(t,n)),a!==null&&i.indexOf(a)!==-1)return[a];if(o==null||o==="")return i;if(typeof o=="function")return i.map(function(g){var y=l[g];return o(g,y._aData,y.nTr)?g:null});if(o.nodeName){var c=o._DT_RowIndex,u=o._DT_CellIndex;if(c!==void 0)return l[c]&&l[c].nTr===o?[c]:[];if(u)return l[u.row]&&l[u.row].nTr===o.parentNode?[u.row]:[];var f=D(o).closest("*[data-dt-row]");return f.length?[f.data("dt-row")]:[]}if(typeof o=="string"&&o.charAt(0)==="#"){var d=t.aIds[o.replace(/^#/,"")];if(d!==void 0)return[d.idx]}var m=qR(_f(t.aoData,i,"nTr"));return D(m).filter(o).map(function(){return this._DT_RowIndex}).toArray()},s=Y0("row",e,r,t,n);return(n.order==="current"||n.order==="applied")&&aP(t,s),s};Qe("rows()",function(t,e){t===void 0?t="":D.isPlainObject(t)&&(e=t,t=""),e=G0(e);var n=this.iterator("table",function(i){return uee(i,t,e)},1);return n.selector.rows=t,n.selector.opts=e,n});Qe("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||void 0},1)});Qe("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return _f(t.aoData,e,"_aData")},1)});Ft("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return t==="search"?i._aFilterData:i._aSortData},1)});Ft("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){Yp(e,n,t)})});Ft("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)});Ft("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,r=n.length;i<r;i++)for(var s=0,o=this[i].length;s<o;s++){var a=n[i].rowIdFn(n[i].aoData[this[i][s]]._aData);e.push((t===!0?"#":"")+a)}return new mt(n,e)});Ft("rows().remove()","row().remove()",function(){return this.iterator("row",function(t,e){var n=t.aoData,i=n[e],r=t.aiDisplayMaster.indexOf(e);r!==-1&&t.aiDisplayMaster.splice(r,1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,cP(t);var s=t.rowIdFn(i._aData);s!==void 0&&delete t.aIds[s],n[e]=null}),this});Qe("rows.add()",function(t){var e=this.iterator("table",function(i){var r,s,o,a=[];for(s=0,o=t.length;s<o;s++)r=t[s],r.nodeName&&r.nodeName.toUpperCase()==="TR"?a.push(j0(i,r)[0]):a.push(Ta(i,r));return a},1),n=this.rows(-1);return n.pop(),Zp(n,e),n});Qe("row()",function(t,e){return K0(this.rows(t,e))});Qe("row().data()",function(t){var e=this.context;if(t===void 0)return e.length&&this.length&&this[0].length?e[0].aoData[this[0]]._aData:void 0;var n=e[0].aoData[this[0]];return n._aData=t,Array.isArray(t)&&n.nTr&&n.nTr.id&&sa(e[0].rowId)(t,n.nTr.id),Yp(e[0],this[0],"data"),this});Qe("row().node()",function(){var t=this.context;if(t.length&&this.length&&this[0].length){var e=t[0].aoData[this[0]];if(e&&e.nTr)return e.nTr}return null});Qe("row.add()",function(t){t instanceof D&&t.length&&(t=t[0]);var e=this.iterator("table",function(n){return t.nodeName&&t.nodeName.toUpperCase()==="TR"?j0(n,t)[0]:Ta(n,t)});return this.row(e[0])});D(document).on("plugin-init.dt",function(t,e){var n=new mt(e);n.on("stateSaveParams.DT",function(i,r,s){for(var o=r.rowIdFn,a=r.aiDisplayMaster,l=[],c=0;c<a.length;c++){var u=a[c],f=r.aoData[u];f._detailsShow&&l.push("#"+o(f._aData))}s.childRows=l}),n.on("stateLoaded.DT",function(i,r,s){mS(n,s)}),mS(n,n.state.loaded())});var mS=function(t,e){e&&e.childRows&&t.rows(e.childRows.map(function(n){return n.replace(/([^:\\]*(?:\\.[^:\\]*)*):/g,"$1\\:")})).every(function(){Pt(t.settings()[0],null,"requestChild",[this])})},fee=function(t,e,n,i){var r=[],s=function(o,a){if(Array.isArray(o)||o instanceof D){for(var l=0,c=o.length;l<c;l++)s(o[l],a);return}if(o.nodeName&&o.nodeName.toLowerCase()==="tr")o.setAttribute("data-dt-row",e.idx),r.push(o);else{var u=D("<tr><td></td></tr>").attr("data-dt-row",e.idx).addClass(a);D("td",u).addClass(a).html(o)[0].colSpan=Xp(t),r.push(u[0])}};s(n,i),e._details&&e._details.detach(),e._details=D(r),e._detailsShow&&e._details.insertAfter(e.nTr)},hP=he.util.throttle(function(t){Jp(t[0])},500),J0=function(t,e){var n=t.context;if(n.length){var i=n[0].aoData[e!==void 0?e:t[0]];i&&i._details&&(i._details.remove(),i._detailsShow=void 0,i._details=void 0,D(i.nTr).removeClass("dt-hasChild"),hP(n))}},dP=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];i._details&&(i._detailsShow=e,e?(i._details.insertAfter(i.nTr),D(i.nTr).addClass("dt-hasChild")):(i._details.detach(),D(i.nTr).removeClass("dt-hasChild")),Pt(n[0],null,"childRow",[e,t.row(t[0])]),hee(n[0]),hP(n))}},hee=function(t){var e=new mt(t),n=".dt.DT_details",i="draw"+n,r="column-sizing"+n,s="destroy"+n,o=t.aoData;e.off(i+" "+r+" "+s),Un(o,"_details").length>0&&(e.on(i,function(a,l){t===l&&e.rows({page:"current"}).eq(0).each(function(c){var u=o[c];u._detailsShow&&u._details.insertAfter(u.nTr)})}),e.on(r,function(a,l){if(t===l)for(var c,u=Xp(l),f=0,d=o.length;f<d;f++)c=o[f],c&&c._details&&c._details.each(function(){var m=D(this).children("td");m.length==1&&m.attr("colspan",u)})}),e.on(s,function(a,l){if(t===l)for(var c=0,u=o.length;c<u;c++)o[c]&&o[c]._details&&J0(e,c)}))},dee="",Cf=dee+"row().child",tm=Cf+"()";Qe(tm,function(t,e){var n=this.context;return t===void 0?n.length&&this.length&&n[0].aoData[this[0]]?n[0].aoData[this[0]]._details:void 0:(t===!0?this.child.show():t===!1?J0(this):n.length&&this.length&&fee(n[0],n[0].aoData[this[0]],t,e),this)});Qe([Cf+".show()",tm+".show()"],function(){return dP(this,!0),this});Qe([Cf+".hide()",tm+".hide()"],function(){return dP(this,!1),this});Qe([Cf+".remove()",tm+".remove()"],function(){return J0(this),this});Qe(Cf+".isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]&&t[0].aoData[this[0]]._detailsShow||!1});var pee=/^([^:]+)?:(name|title|visIdx|visible)$/,Z0=function(t,e,n,i,r,s){for(var o=[],a=0,l=r.length;a<l;a++)o.push(cr(t,r[a],e,s));return o},pP=function(t,e,n){var i=t.aoHeader,r=n!==void 0?n:t.bSortCellsTop?0:i.length-1;return i[r][e].cell},mee=function(t,e,n){var i=t.aoColumns,r=Un(i,"sName"),s=Un(i,"sTitle"),o=he.util.get("[].[].cell")(t.aoHeader),a=Pa(I0([],o)),l=function(c){var u=zR(c);if(c==="")return ro(i.length);if(u!==null)return[u>=0?u:i.length+u];if(typeof c=="function"){var f=em(t,n);return i.map(function(_,A){return c(A,Z0(t,A,0,0,f),pP(t,A))?A:null})}var d=typeof c=="string"?c.match(pee):"";if(d)switch(d[2]){case"visIdx":case"visible":if(d[1]&&d[1].match(/^\d+$/)){var m=parseInt(d[1],10);if(m<0){var g=i.map(function(_,A){return _.bVisible?A:null});return[g[g.length+m]]}return[F0(t,m)]}return i.map(function(_,A){return _.bVisible?d[1]?D(a[A]).filter(d[1]).length>0?A:null:A:null});case"name":return r.map(function(_,A){return _===d[1]?A:null});case"title":return s.map(function(_,A){return _===d[1]?A:null});default:return[]}if(c.nodeName&&c._DT_CellIndex)return[c._DT_CellIndex.column];var y=D(a).filter(c).map(function(){return H0(this)}).toArray().sort(function(_,A){return _-A});if(y.length||!c.nodeName)return y;var O=D(c).closest("*[data-dt-column]");return O.length?[O.data("dt-column")]:[]};return Y0("column",e,l,t,n)},gee=function(t,e,n){var i=t.aoColumns,r=i[e],s=t.aoData,o,a,l,c;if(n===void 0)return r.bVisible;if(r.bVisible===n)return!1;if(n){var u=Un(i,"bVisible").indexOf(!0,e+1);for(a=0,l=s.length;a<l;a++)s[a]&&(c=s[a].nTr,o=s[a].anCells,c&&c.insertBefore(o[e],o[u]||null))}else D(Un(t.aoData,"anCells",e)).detach();return r.bVisible=n,sP(t),!0};Qe("columns()",function(t,e){t===void 0?t="":D.isPlainObject(t)&&(e=t,t=""),e=G0(e);var n=this.iterator("table",function(i){return mee(i,t,e)},1);return n.selector.cols=t,n.selector.opts=e,n});Ft("columns().header()","column().header()",function(t){return this.iterator("column",function(e,n){return pP(e,n,t)},1)});Ft("columns().footer()","column().footer()",function(t){return this.iterator("column",function(e,n){var i=e.aoFooter;return i.length?e.aoFooter[t!==void 0?t:0][n].cell:null},1)});Ft("columns().data()","column().data()",function(){return this.iterator("column-rows",Z0,1)});Ft("columns().render()","column().render()",function(t){return this.iterator("column-rows",function(e,n,i,r,s){return Z0(e,n,i,r,s,t)},1)});Ft("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)});Ft("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,r,s){return _f(e.aoData,s,t==="search"?"_aFilterData":"_aSortData",n)},1)});Ft("columns().init()","column().init()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e]},1)});Ft("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,r){return _f(t.aoData,r,"anCells",e)},1)});Ft("columns().titles()","column().title()",function(t,e){return this.iterator("column",function(n,i){typeof t=="number"&&(e=t,t=void 0);var r=D("span.dt-column-title",this.column(i).header(e));return t!==void 0?(r.html(t),this):r.html()},1)});Ft("columns().types()","column().type()",function(){return this.iterator("column",function(t,e){var n=t.aoColumns[e].sType;return n||Up(t),n},1)});Ft("columns().visible()","column().visible()",function(t,e){var n=this,i=[],r=this.iterator("column",function(s,o){if(t===void 0)return s.aoColumns[o].bVisible;gee(s,o,t)&&i.push(o)});return t!==void 0&&this.iterator("table",function(s){Yd(s,s.aoHeader),Yd(s,s.aoFooter),s.aiDisplay.length||D(s.nTBody).find("td[colspan]").attr("colspan",Xp(s)),Jp(s),n.iterator("column",function(o,a){i.includes(a)&&Pt(o,null,"column-visibility",[o,a,t,e])}),i.length&&(e===void 0||e)&&n.columns.adjust()}),r});Ft("columns().widths()","column().width()",function(){var t=this.columns(":visible").count(),e=D("<tr>").html("<td>"+Array(t).join("</td><td>")+"</td>");D(this.table().body()).append(e);var n=e.children().map(function(){return D(this).outerWidth()});return e.remove(),this.iterator("column",function(i,r){var s=Sf(i,r);return s!==null?n[s]:0},1)});Ft("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return t==="visible"?Sf(e,n):n},1)});Qe("columns.adjust()",function(){return this.iterator("table",function(t){t.containerWidth=-1,qp(t)},1)});Qe("column.index()",function(t,e){if(this.context.length!==0){var n=this.context[0];if(t==="fromVisible"||t==="toData")return F0(n,e);if(t==="fromData"||t==="toVisible")return Sf(n,e)}});Qe("column()",function(t,e){return K0(this.columns(t,e))});var vee=function(t,e,n){var i=t.aoData,r=em(t,n),s=qR(_f(i,r,"anCells")),o=D(I0([],s)),a,l=t.aoColumns.length,c,u,f,d,m,g,y=function(O){var _=typeof O=="function";if(O==null||_){for(c=[],u=0,f=r.length;u<f;u++)for(a=r[u],d=0;d<l;d++)m={row:a,column:d},_?(g=i[a],O(m,cr(t,a,d),g.anCells?g.anCells[d]:null)&&c.push(m)):c.push(m);return c}if(D.isPlainObject(O))return O.column!==void 0&&O.row!==void 0&&r.indexOf(O.row)!==-1?[O]:[];var A=o.filter(O).map(function(P,T){return{row:T._DT_CellIndex.row,column:T._DT_CellIndex.column}}).toArray();return A.length||!O.nodeName?A:(g=D(O).closest("*[data-dt-row]"),g.length?[{row:g.data("dt-row"),column:g.data("dt-column")}]:[])};return Y0("cell",e,y,t,n)};Qe("cells()",function(t,e,n){if(D.isPlainObject(t)&&(t.row===void 0?(n=t,t=null):(n=e,e=null)),D.isPlainObject(e)&&(n=e,e=null),e==null)return this.iterator("table",function(d){return vee(d,t,G0(n))});var i=n?{page:n.page,order:n.order,search:n.search}:{},r=this.columns(e,i),s=this.rows(t,i),o,a,l,c,u=this.iterator("table",function(d,m){var g=[];for(o=0,a=s[m].length;o<a;o++)for(l=0,c=r[m].length;l<c;l++)g.push({row:s[m][o],column:r[m][l]});return g},1),f=n&&n.selected?this.cells(u,n):u;return D.extend(f.selector,{cols:e,rows:t,opts:n}),f});Ft("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){var i=t.aoData[e];return i&&i.anCells?i.anCells[n]:void 0},1)});Qe("cells().data()",function(){return this.iterator("cell",function(t,e,n){return cr(t,e,n)},1)});Ft("cells().cache()","cell().cache()",function(t){return t=t==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]},1)});Ft("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,i){return cr(e,n,i,t)},1)});Ft("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:Sf(t,n)}},1)});Ft("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,i){Yp(e,n,t,i)})});Qe("cell()",function(t,e,n){return K0(this.cells(t,e,n))});Qe("cell().data()",function(t){var e=this.context,n=this[0];return t===void 0?e.length&&n.length?cr(e[0],n[0].row,n[0].column):void 0:(jZ(e[0],n[0].row,n[0].column,t),Yp(e[0],n[0].row,"data",n[0].column),this)});Qe("order()",function(t,e){var n=this.context,i=Array.prototype.slice.call(arguments);return t===void 0?n.length!==0?n[0].aaSorting:void 0:(typeof t=="number"?t=[[t,e]]:i.length>1&&(t=i),this.iterator("table",function(r){r.aaSorting=Array.isArray(t)?t.slice():t}))});Qe("order.listener()",function(t,e,n){return this.iterator("table",function(i){oP(i,t,{},e,n)})});Qe("order.fixed()",function(t){if(!t){var e=this.context,n=e.length?e[0].aaSortingFixed:void 0;return Array.isArray(n)?{pre:n}:n}return this.iterator("table",function(i){i.aaSortingFixed=D.extend(!0,{},t)})});Qe(["columns().order()","column().order()"],function(t){var e=this;return t?this.iterator("table",function(n,i){n.aaSorting=e[i].map(function(r){return[r,t]})}):this.iterator("column",function(n,i){for(var r=Kp(n),s=0,o=r.length;s<o;s++)if(r[s].col===i)return r[s].dir;return null},1)});Ft("columns().orderable()","column().orderable()",function(t){return this.iterator("column",function(e,n){var i=e.aoColumns[n];return t?i.asSorting:i.bSortable},1)});Qe("processing()",function(t){return this.iterator("table",function(e){ji(e,t)})});Qe("search()",function(t,e,n,i){var r=this.context;return t===void 0?r.length!==0?r[0].oPreviousSearch.search:void 0:this.iterator("table",function(s){s.oFeatures.bFilter&&(typeof e=="object"?Ku(s,D.extend(s.oPreviousSearch,e,{search:t})):Ku(s,D.extend(s.oPreviousSearch,{search:t,regex:e===null?!1:e,smart:n===null?!0:n,caseInsensitive:i===null?!0:i})))})});Qe("search.fixed()",function(t,e){var n=this.iterator(!0,"table",function(i){var r=i.searchFixed;if(t){if(e===void 0)return r[t];e===null?delete r[t]:r[t]=e}else return Object.keys(r);return this});return t!==void 0&&e===void 0?n[0]:n});Ft("columns().search()","column().search()",function(t,e,n,i){return this.iterator("column",function(r,s){var o=r.aoPreSearchCols;if(t===void 0)return o[s].search;r.oFeatures.bFilter&&(typeof e=="object"?D.extend(o[s],e,{search:t}):D.extend(o[s],{search:t,regex:e===null?!1:e,smart:n===null?!0:n,caseInsensitive:i===null?!0:i}),Ku(r,r.oPreviousSearch))})});Qe(["columns().search.fixed()","column().search.fixed()"],function(t,e){var n=this.iterator(!0,"column",function(i,r){var s=i.aoColumns[r].searchFixed;if(t){if(e===void 0)return s[t];e===null?delete s[t]:s[t]=e}else return Object.keys(s);return this});return t!==void 0&&e===void 0?n[0]:n});Qe("state()",function(t,e){if(!t)return this.context.length?this.context[0].oSavedState:null;var n=D.extend(!0,{},t);return this.iterator("table",function(i){e!==!1&&(n.time=+new Date+100),Ub(i,n,function(){})})});Qe("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})});Qe("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});Qe("state.save()",function(){return this.iterator("table",function(t){Jp(t)})});var gS,vS;he.use=function(t,e){var n=typeof t=="string"?e:t,i=typeof e=="string"?e:t;if(n===void 0&&typeof i=="string")switch(i){case"lib":case"jq":return D;case"win":return window;case"datetime":return he.DateTime;case"luxon":return bo;case"moment":return Aa;case"bootstrap":return gS||window.bootstrap;case"foundation":return vS||window.Foundation;default:return null}i==="lib"||i==="jq"||n&&n.fn&&n.fn.jquery?D=n:i==="win"||n&&n.document?(window=n,document=n.document):i==="datetime"||n&&n.type==="DateTime"?he.DateTime=n:i==="luxon"||n&&n.FixedOffsetZone?bo=n:i==="moment"||n&&n.isMoment?Aa=n:i==="bootstrap"||n&&n.Modal&&n.Modal.NAME==="modal"?gS=n:(i==="foundation"||n&&n.Reveal)&&(vS=n)};he.factory=function(t,e){var n=!1;return t&&t.document&&(window=t,document=t.document),e&&e.fn&&e.fn.jquery&&(D=e,n=!0),n};he.versionCheck=function(t,e){for(var n=e?e.split("."):he.version.split("."),i=t.split("."),r,s,o=0,a=i.length;o<a;o++)if(r=parseInt(n[o],10)||0,s=parseInt(i[o],10)||0,r!==s)return r>s;return!0};he.isDataTable=function(t){var e=D(t).get(0),n=!1;return t instanceof he.Api?!0:(D.each(he.settings,function(i,r){var s=r.nScrollHead?D("table",r.nScrollHead)[0]:null,o=r.nScrollFoot?D("table",r.nScrollFoot)[0]:null;(r.nTable===e||s===e||o===e)&&(n=!0)}),n)};he.tables=function(t){var e=!1;D.isPlainObject(t)&&(e=t.api,t=t.visible);var n=he.settings.filter(function(i){return!!(!t||t&&D(i.nTable).is(":visible"))}).map(function(i){return i.nTable});return e?new mt(n):n};he.camelToHungarian=fo;Qe("$()",function(t,e){var n=this.rows(e).nodes(),i=D(n);return D([].concat(i.filter(t).toArray(),i.find(t).toArray()))});D.each(["on","one","off"],function(t,e){Qe(e+"()",function(){var n=Array.prototype.slice.call(arguments);n[0]=n[0].split(/\s/).map(function(r){return r.match(/\.dt\b/)?r:r+".dt"}).join(" ");var i=D(this.tables().nodes());return i[e].apply(i,n),this})});Qe("clear()",function(){return this.iterator("table",function(t){V0(t)})});Qe("error()",function(t){return this.iterator("table",function(e){Zi(e,0,t)})});Qe("settings()",function(){return new mt(this.context,this.context)});Qe("init()",function(){var t=this.context;return t.length?t[0].oInit:null});Qe("data()",function(){return this.iterator("table",function(t){return Un(t.aoData,"_aData")}).flatten()});Qe("trigger()",function(t,e,n){return this.iterator("table",function(i){return Pt(i,null,t,e,n)}).flatten()});Qe("ready()",function(t){var e=this.context;return t?this.tables().every(function(){var n=this;this.context[0]._bInitComplete?t.call(n):this.on("init.dt.DT",function(){t.call(n)})}):e.length?e[0]._bInitComplete||!1:null});Qe("destroy()",function(t){return t=t||!1,this.iterator("table",function(e){var n=e.oClasses,i=e.nTable,r=e.nTBody,s=e.nTHead,o=e.nTFoot,a=D(i),l=D(r),c=D(e.nTableWrapper),u=e.aoData.map(function(O){return O?O.nTr:null}),f=n.order;e.bDestroying=!0,Pt(e,"aoDestroyCallback","destroy",[e],!0),t||new mt(e).columns().visible(!0),e.resizeObserver&&e.resizeObserver.disconnect(),c.off(".DT").find(":not(tbody *)").off(".DT"),D(window).off(".DT-"+e.sInstance),i!=s.parentNode&&(a.children("thead").detach(),a.append(s)),o&&i!=o.parentNode&&(a.children("tfoot").detach(),a.append(o)),D(s).find("span.dt-column-order").remove(),D(s).find("span.dt-column-title").each(function(){var O=D(this).html();D(this).parent().append(O),D(this).remove()}),e.colgroup.remove(),e.aaSorting=[],e.aaSortingFixed=[],Xb(e),D(a).find("th, td").removeClass(D.map(he.ext.type.className,function(O){return O}).join(" ")),D("th, td",s).removeClass(f.none+" "+f.canAsc+" "+f.canDesc+" "+f.isAsc+" "+f.isDesc).css("width","").removeAttr("data-dt-column").removeAttr("aria-sort"),l.children().detach(),l.append(u);var d=e.nTableWrapper.parentNode,m=e.nTableWrapper.nextSibling,g=t?"remove":"detach";a[g](),c[g](),!t&&d&&(d.insertBefore(i,m),a.css("width",e.sDestroyWidth).removeClass(n.table));var y=he.settings.indexOf(e);y!==-1&&he.settings.splice(y,1)})});D.each(["column","row","cell"],function(t,e){Qe(e+"s().every()",function(n){var i=this.selector.opts,r=this,s,o=0;return this.iterator("every",function(a,l,c){s=r[e](l,i),e==="cell"?n.call(s,s[0][0].row,s[0][0].column,c,o):n.call(s,l,c,o),o++})})});Qe("i18n()",function(t,e,n){var i=this.context[0],r=Zl(t)(i.oLanguage);return r===void 0&&(r=e),D.isPlainObject(r)&&(r=n!==void 0&&r[n]!==void 0?r[n]:r._),typeof r=="string"?r.replace("%d",n):r});he.version="2.2.2";he.settings=[];he.models={};he.models.oSearch={caseInsensitive:!0,search:"",regex:!1,smart:!0,return:!1};he.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,src:null,idx:-1,displayData:null};he.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null,maxLenString:null,searchFixed:null};he.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],bAutoWidth:!0,bDeferRender:!0,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:null,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnStateLoadCallback:function(t){try{return JSON.parse((t.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(t.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{orderable:": Activate to sort",orderableReverse:": Activate to invert sorting",orderableRemove:": Activate to remove sorting",paginate:{first:"First",last:"Last",next:"Next",previous:"Previous",number:""}},oPaginate:{sFirst:"",sLast:"",sNext:"",sPrevious:""},entries:{_:"entries",1:"entry"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ _ENTRIES-TOTAL_",sInfoEmpty:"Showing 0 to 0 of 0 _ENTRIES-TOTAL_",sInfoFiltered:"(filtered from _MAX_ total _ENTRIES-MAX_)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"_MENU_ _ENTRIES_ per page",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},orderDescReverse:!0,oSearch:D.extend({},he.models.oSearch),layout:{topStart:"pageLength",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},sDom:null,searchDelay:null,sPaginationType:"",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId",caption:null,iDeferLoading:null};Wp(he.defaults);he.defaults.column={aDataSort:null,iDataSort:-1,ariaTitle:"",asSorting:["asc","desc",""],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};Wp(he.defaults.column);he.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:!0,bLengthChange:!0,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollbarLeft:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},searchFixed:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",pagingControls:0,iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,bAjaxDataGet:!0,jqXHR:null,json:void 0,oAjaxData:void 0,sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return Wi(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return Wi(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,r=this.oFeatures,s=r.bPaginate;return r.bServerSide?s===!1||t===-1?e+i:Math.min(e+t,this._iRecordsDisplay):!s||n>i||t===-1?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null,caption:"",captionNode:null,colgroup:null,deferLoading:null,typeDetect:!0,resizeObserver:null,containerWidth:-1};var bee=he.ext.pager;D.extend(bee,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(){return["numbers"]},simple_numbers:function(){return["previous","numbers","next"]},full_numbers:function(){return["first","previous","numbers","next","last"]},first_last:function(){return["first","last"]},first_last_numbers:function(){return["first","numbers","last"]},_numbers:bP,numbers_length:7});D.extend(!0,he.ext.renderer,{pagingButton:{_:function(t,e,n,i,r){var s=t.oClasses.paging,o=[s.button],a;return i&&o.push(s.active),r&&o.push(s.disabled),e==="ellipsis"?a=D('<span class="ellipsis"></span>').html(n)[0]:a=D("<button>",{class:o.join(" "),role:"link",type:"button"}).html(n),{display:a,clicker:a}}},pagingContainer:{_:function(t,e){return e}}});var pc=function(t,e){return function(n){return Hi(n)||typeof n!="string"||(n=n.replace(PZ," "),t&&(n=Ns(n)),n=Xd(n,!1)),n}};function bS(t,e,n,i,r){return Aa?t[e](r):bo?t[n](r):i?t[i](r):t}var yS=!1,bo,Aa;function yee(){window.luxon&&!bo&&(bo=window.luxon),window.moment&&!Aa&&(Aa=window.moment)}function Jd(t,e,n){var i;if(yee(),Aa){if(i=Aa.utc(t,e,n,!0),!i.isValid())return null}else if(bo){if(i=e&&typeof t=="string"?bo.DateTime.fromFormat(t,e):bo.DateTime.fromISO(t),!i.isValid)return null;i=i.setLocale(n)}else e?(yS||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),yS=!0):i=new Date(t);return i}function Qg(t){return function(e,n,i,r){arguments.length===0?(i="en",n=null,e=null):arguments.length===1?(i="en",n=e,e=null):arguments.length===2&&(i=n,n=e,e=null);var s="datetime"+(n?"-"+n:"");return he.ext.type.order[s+"-pre"]||he.type(s,{detect:function(o){return o===s?s:!1},order:{pre:function(o){return o.valueOf()}},className:"dt-right"}),function(o,a){if(o==null)if(r==="--now"){var l=new Date;o=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds()))}else o="";if(a==="type")return s;if(o==="")return a!=="sort"?"":Jd("0000-01-01 00:00:00",null,i);if(n!==null&&e===n&&a!=="sort"&&a!=="type"&&!(o instanceof Date))return o;var c=Jd(o,e,i);if(c===null)return o;if(a==="sort")return c;var u=n===null?bS(c,"toDate","toJSDate","")[t]():bS(c,"format","toFormat","toISOString",n);return a==="display"?Sl(u):u}}}var mP=",",gP=".";if(window.Intl!==void 0)try{for(var Ic=new Intl.NumberFormat().formatToParts(100000.1),si=0;si<Ic.length;si++)Ic[si].type==="group"?mP=Ic[si].value:Ic[si].type==="decimal"&&(gP=Ic[si].value)}catch{}he.datetime=function(t,e){var n="datetime-"+t;e||(e="en"),he.ext.type.order[n]||he.type(n,{detect:function(i){var r=Jd(i,t,e);return i===""||r?n:!1},order:{pre:function(i){return Jd(i,t,e)||0}},className:"dt-right"})};he.render={date:Qg("toLocaleDateString"),datetime:Qg("toLocaleString"),time:Qg("toLocaleTimeString"),number:function(t,e,n,i,r){return t==null&&(t=mP),e==null&&(e=gP),{display:function(s){if(typeof s!="number"&&typeof s!="string"||s===""||s===null)return s;var o=s<0?"-":"",a=parseFloat(s),l=Math.abs(a);if(l>=1e11||l<1e-4&&l!==0){var c=a.toExponential(n).split(/e\+?/);return c[0]+" x 10<sup>"+c[1]+"</sup>"}if(isNaN(a))return Sl(s);a=a.toFixed(n),s=Math.abs(a);var u=parseInt(s,10),f=n?e+(s-u).toFixed(n).substring(2):"";return u===0&&parseFloat(f)===0&&(o=""),o+(i||"")+u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+f+(r||"")}}},text:function(){return{display:Sl,filter:Sl}}};var ti=he.ext.type;he.type=function(t,e,n){if(!e)return{className:ti.className[t],detect:ti.detect.find(function(o){return o._name===t}),order:{pre:ti.order[t+"-pre"],asc:ti.order[t+"-asc"],desc:ti.order[t+"-desc"]},render:ti.render[t],search:ti.search[t]};var i=function(o,a){ti[o][t]=a},r=function(o){Object.defineProperty(o,"_name",{value:t});var a=ti.detect.findIndex(function(l){return l._name===t});a===-1?ti.detect.unshift(o):ti.detect.splice(a,1,o)},s=function(o){ti.order[t+"-pre"]=o.pre,ti.order[t+"-asc"]=o.asc,ti.order[t+"-desc"]=o.desc};n===void 0&&(n=e,e=null),e==="className"?i("className",n):e==="detect"?r(n):e==="order"?s(n):e==="render"?i("render",n):e==="search"?i("search",n):e||(n.className&&i("className",n.className),n.detect!==void 0&&r(n.detect),n.order&&s(n.order),n.render!==void 0&&i("render",n.render),n.search!==void 0&&i("search",n.search))};he.types=function(){return ti.detect.map(function(t){return t._name})};var Yb=function(t,e){return t=t!=null?t.toString().toLowerCase():"",e=e!=null?e.toString().toLowerCase():"",t.localeCompare(e,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})},OS=function(t,e){return t=Ns(t),e=Ns(e),Yb(t,e)};he.type("string",{detect:function(){return"string"},order:{pre:function(t){return Hi(t)&&typeof t!="boolean"?"":typeof t=="string"?t.toLowerCase():t.toString?t.toString():""}},search:pc(!1)});he.type("string-utf8",{detect:{allOf:function(t){return!0},oneOf:function(t){return!Hi(t)&&navigator.languages&&typeof t=="string"&&t.match(/[^\x00-\x7F]/)}},order:{asc:Yb,desc:function(t,e){return Yb(t,e)*-1}},search:pc(!1)});he.type("html",{detect:{allOf:function(t){return Hi(t)||typeof t=="string"&&t.indexOf("<")!==-1},oneOf:function(t){return!Hi(t)&&typeof t=="string"&&t.indexOf("<")!==-1}},order:{pre:function(t){return Hi(t)?"":t.replace?Ns(t).trim().toLowerCase():t+""}},search:pc(!0)});he.type("html-utf8",{detect:{allOf:function(t){return Hi(t)||typeof t=="string"&&t.indexOf("<")!==-1},oneOf:function(t){return navigator.languages&&!Hi(t)&&typeof t=="string"&&t.indexOf("<")!==-1&&typeof t=="string"&&t.match(/[^\x00-\x7F]/)}},order:{asc:OS,desc:function(t,e){return OS(t,e)*-1}},search:pc(!0)});he.type("date",{className:"dt-type-date",detect:{allOf:function(t){if(t&&!(t instanceof Date)&&!sS.test(t))return null;var e=Date.parse(t);return e!==null&&!isNaN(e)||Hi(t)},oneOf:function(t){return t instanceof Date||typeof t=="string"&&sS.test(t)}},order:{pre:function(t){var e=Date.parse(t);return isNaN(e)?-1/0:e}}});he.type("html-num-fmt",{className:"dt-type-numeric",detect:{allOf:function(t,e){var n=e.oLanguage.sDecimal;return qd(t,n,!0,!1)},oneOf:function(t,e){var n=e.oLanguage.sDecimal;return qd(t,n,!0,!1)}},order:{pre:function(t,e){var n=e.oLanguage.sDecimal;return nm(t,n,L0,N0)}},search:pc(!0)});he.type("html-num",{className:"dt-type-numeric",detect:{allOf:function(t,e){var n=e.oLanguage.sDecimal;return qd(t,n,!1,!0)},oneOf:function(t,e){var n=e.oLanguage.sDecimal;return qd(t,n,!1,!1)}},order:{pre:function(t,e){var n=e.oLanguage.sDecimal;return nm(t,n,L0)}},search:pc(!0)});he.type("num-fmt",{className:"dt-type-numeric",detect:{allOf:function(t,e){var n=e.oLanguage.sDecimal;return Gu(t,n,!0,!0)},oneOf:function(t,e){var n=e.oLanguage.sDecimal;return Gu(t,n,!0,!1)}},order:{pre:function(t,e){var n=e.oLanguage.sDecimal;return nm(t,n,N0)}}});he.type("num",{className:"dt-type-numeric",detect:{allOf:function(t,e){var n=e.oLanguage.sDecimal;return Gu(t,n,!1,!0)},oneOf:function(t,e){var n=e.oLanguage.sDecimal;return Gu(t,n,!1,!1)}},order:{pre:function(t,e){var n=e.oLanguage.sDecimal;return nm(t,n)}}});var nm=function(t,e,n,i){if(t!==0&&(!t||t==="-"))return-1/0;var r=typeof t;return r==="number"||r==="bigint"?t:(e&&(t=WR(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),t*1)};D.extend(!0,he.ext.renderer,{footer:{_:function(t,e,n){e.addClass(n.tfoot.cell)}},header:{_:function(t,e,n){e.addClass(n.thead.cell),t.oFeatures.bSort||e.addClass(n.order.none);var i=t.bSortCellsTop,r=e.closest("thead").find("tr"),s=e.parent().index();e.attr("data-dt-order")==="disable"||e.parent().attr("data-dt-order")==="disable"||i===!0&&s!==0||i===!1&&s!==r.length-1||D(t.nTable).on("order.dt.DT column-visibility.dt.DT",function(o,a){if(t===a){var l=a.sortDetails;if(l){var c,u=n.order,f=a.api.columns(e),d=t.aoColumns[f.flatten()[0]],m=f.orderable().includes(!0),g="",y=f.indexes(),O=f.orderable(!0).flatten(),_=Un(l,"col"),A=t.iTabIndex;e.removeClass(u.isAsc+" "+u.isDesc).toggleClass(u.none,!m).toggleClass(u.canAsc,m&&O.includes("asc")).toggleClass(u.canDesc,m&&O.includes("desc"));var P=!0;for(c=0;c<y.length;c++)_.includes(y[c])||(P=!1);if(P){var T=f.order();e.addClass(T.includes("asc")?u.isAsc:""+T.includes("desc")?u.isDesc:"")}var B=-1;for(c=0;c<_.length;c++)if(t.aoColumns[_[c]].bVisible){B=_[c];break}if(y[0]==B){var I=l[0],v=d.asSorting;e.attr("aria-sort",I.dir==="asc"?"ascending":"descending"),g=v[I.index+1]?"Reverse":"Remove"}else e.removeAttr("aria-sort");if(m){var Q=e.find(".dt-column-order");Q.attr("role","button").attr("aria-label",m?d.ariaTitle+a.api.i18n("oAria.orderable"+g):d.ariaTitle),A!==-1&&Q.attr("tabindex",A)}}}})}},layout:{_:function(t,e,n){var i=t.oClasses.layout,r=D("<div/>").attr("id",n.id||null).addClass(n.className||i.row).appendTo(e);he.ext.renderer.layout._forLayoutRow(n,function(s,o){if(!(s==="id"||s==="className")){var a="";o.table&&(r.addClass(i.tableRow),a+=i.tableCell+" "),s==="start"?a+=i.start:s==="end"?a+=i.end:a+=i.full,D("<div/>").attr({id:o.id||null,class:o.className?o.className:i.cell+" "+a}).append(o.contents).appendTo(r)}})},_forLayoutRow:function(t,e){var n=function(i){switch(i){case"":return 0;case"start":return 1;case"end":return 2;default:return 3}};Object.keys(t).sort(function(i,r){return n(i)-n(r)}).forEach(function(i){e(i,t[i])})}}});he.feature={};he.feature.register=function(t,e,n){he.ext.features[t]=e,n&&wn.feature.push({cFeature:n,fnInit:e})};function bh(t,e,n){n&&(t[e]=n)}he.feature.register("div",function(t,e){var n=D("<div>")[0];return e&&(bh(n,"className",e.className),bh(n,"id",e.id),bh(n,"innerHTML",e.html),bh(n,"textContent",e.text)),n});he.feature.register("info",function(t,e){if(!t.oFeatures.bInfo)return null;var n=t.oLanguage,i=t.sTableId,r=D("<div/>",{class:t.oClasses.info.container});return e=D.extend({callback:n.fnInfoCallback,empty:n.sInfoEmpty,postfix:n.sInfoPostFix,search:n.sInfoFiltered,text:n.sInfo},e),t.aoDrawCallback.push(function(s){Oee(s,e,r)}),t._infoEl||(r.attr({"aria-live":"polite",id:i+"_info",role:"status"}),D(t.nTable).attr("aria-describedby",i+"_info"),t._infoEl=r),r},"i");function Oee(t,e,n){var i=t._iDisplayStart+1,r=t.fnDisplayEnd(),s=t.fnRecordsTotal(),o=t.fnRecordsDisplay(),a=o?e.text:e.empty;o!==s&&(a+=" "+e.search),a+=e.postfix,a=X0(t,a),e.callback&&(a=e.callback.call(t.oInstance,t,i,r,s,o,a)),n.html(a),Pt(t,null,"info",[t,n[0],a])}var zg=0;he.feature.register("search",function(t,e){if(!t.oFeatures.bFilter)return null;var n=t.oClasses.search,i=t.sTableId,r=t.oLanguage,s=t.oPreviousSearch,o='<input type="search" class="'+n.input+'"/>';e=D.extend({placeholder:r.sSearchPlaceholder,processing:!1,text:r.sSearch},e),e.text.indexOf("_INPUT_")===-1&&(e.text+="_INPUT_"),e.text=X0(t,e.text);var a=e.text.match(/_INPUT_$/),l=e.text.match(/^_INPUT_/),c=e.text.replace(/_INPUT_/,""),u="<label>"+e.text+"</label>";l?u="_INPUT_<label>"+c+"</label>":a&&(u="<label>"+c+"</label>_INPUT_");var f=D("<div>").addClass(n.container).append(u.replace(/_INPUT_/,o));f.find("label").attr("for","dt-search-"+zg),f.find("input").attr("id","dt-search-"+zg),zg++;var d=function(y){var O=this.value;s.return&&y.key!=="Enter"||O!=s.search&&nP(t,e.processing,function(){s.search=O,Ku(t,s),t._iDisplayStart=0,dc(t)})},m=t.searchDelay!==null?t.searchDelay:0,g=D("input",f).val(s.search).attr("placeholder",e.placeholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",m?he.util.debounce(d,m):d).on("mouseup.DT",function(y){setTimeout(function(){d.call(g[0],y)},10)}).on("keypress.DT",function(y){if(y.keyCode==13)return!1}).attr("aria-controls",i);return D(t.nTable).on("search.dt.DT",function(y,O){t===O&&g[0]!==document.activeElement&&g.val(typeof s.search!="function"?s.search:"")}),f},"f");he.feature.register("paging",function(t,e){if(!t.oFeatures.bPaginate)return null;e=D.extend({buttons:he.ext.pager.numbers_length,type:t.sPaginationType,boundaryNumbers:!0,firstLast:!0,previousNext:!0,numbers:!0},e);var n=D("<div/>").addClass(t.oClasses.paging.container+(e.type?" paging_"+e.type:"")).append(D("<nav>").attr("aria-label","pagination").addClass(t.oClasses.paging.nav)),i=function(){vP(t,n.children(),e)};return t.aoDrawCallback.push(i),D(t.nTable).on("column-sizing.dt.DT",i),n},"p");function xee(t){var e=[];return t.numbers&&e.push("numbers"),t.previousNext&&(e.unshift("previous"),e.push("next")),t.firstLast&&(e.unshift("first"),e.push("last")),e}function vP(t,e,n){if(t._bInitComplete){var i=n.type?he.ext.pager[n.type]:xee,r=t.oLanguage.oAria.paginate||{},s=t._iDisplayStart,o=t._iDisplayLength,a=t.fnRecordsDisplay(),l=o===-1,c=l?0:Math.ceil(s/o),u=l?1:Math.ceil(a/o),f=[],d=[],m=i(n).map(function(I){return I==="numbers"?bP(c,u,n.buttons,n.boundaryNumbers):I});f=f.concat.apply(f,m);for(var g=0;g<f.length;g++){var y=f[g],O=wee(t,y,c,u),_=Kd(t,"pagingButton")(t,y,O.display,O.active,O.disabled),A=typeof y=="string"?r[y]:r.number?r.number+(y+1):null;D(_.clicker).attr({"aria-controls":t.sTableId,"aria-disabled":O.disabled?"true":null,"aria-current":O.active?"page":null,"aria-label":A,"data-dt-idx":y,tabIndex:O.disabled?-1:t.iTabIndex&&_.clicker[0].nodeName.toLowerCase()!=="span"?t.iTabIndex:null}),typeof y!="number"&&D(_.clicker).addClass(y),lP(_.clicker,{action:y},function(I){I.preventDefault(),W0(t,I.data.action,!0)}),d.push(_.display)}var P=Kd(t,"pagingContainer")(t,d),T=e.find(document.activeElement).data("dt-idx");if(e.empty().append(P),T!==void 0&&e.find("[data-dt-idx="+T+"]").trigger("focus"),d.length){var B=D(d[0]).outerHeight();n.buttons>1&&B>0&&D(e).height()>=B*2-10&&vP(t,e,D.extend({},n,{buttons:n.buttons-2}))}}}function wee(t,e,n,i){var r=t.oLanguage.oPaginate,s={display:"",active:!1,disabled:!1};switch(e){case"ellipsis":s.display="&#x2026;";break;case"first":s.display=r.sFirst,n===0&&(s.disabled=!0);break;case"previous":s.display=r.sPrevious,n===0&&(s.disabled=!0);break;case"next":s.display=r.sNext,(i===0||n===i-1)&&(s.disabled=!0);break;case"last":s.display=r.sLast,(i===0||n===i-1)&&(s.disabled=!0);break;default:typeof e=="number"&&(s.display=t.fnFormatNumber(e+1),n===e&&(s.active=!0));break}return s}function bP(t,e,n,i){var r=[],s=Math.floor(n/2),o=i?2:1,a=i?1:0;return e<=n?r=ro(0,e):n===1?r=[t]:n===3?t<=1?r=[0,1,"ellipsis"]:t>=e-2?(r=ro(e-2,e),r.unshift("ellipsis")):r=["ellipsis",t,"ellipsis"]:t<=s?(r=ro(0,n-o),r.push("ellipsis"),i&&r.push(e-1)):t>=e-1-s?(r=ro(e-(n-o),e),r.unshift("ellipsis"),i&&r.unshift(0)):(r=ro(t-s+o,t+s-a),r.push("ellipsis"),r.unshift("ellipsis"),i&&(r.push(e-1),r.unshift(0))),r}var Wg=0;he.feature.register("pageLength",function(t,e){var n=t.oFeatures;if(!n.bPaginate||!n.bLengthChange)return null;e=D.extend({menu:t.aLengthMenu,text:t.oLanguage.sLengthMenu},e);var i=t.oClasses.length,r=t.sTableId,s=e.menu,o=[],a=[],l;if(Array.isArray(s[0]))o=s[0],a=s[1];else for(l=0;l<s.length;l++)D.isPlainObject(s[l])?(o.push(s[l].value),a.push(s[l].label)):(o.push(s[l]),a.push(s[l]));var c=e.text.match(/_MENU_$/),u=e.text.match(/^_MENU_/),f=e.text.replace(/_MENU_/,""),d="<label>"+e.text+"</label>";u?d="_MENU_<label>"+f+"</label>":c&&(d="<label>"+f+"</label>_MENU_");var m="tmp-"+ +new Date,g=D("<div/>").addClass(i.container).append(d.replace("_MENU_",'<span id="'+m+'"></span>')),y=[];Array.prototype.slice.call(g.find("label")[0].childNodes).forEach(function(A){A.nodeType===Node.TEXT_NODE&&y.push({el:A,text:A.textContent})});var O=function(A){y.forEach(function(P){P.el.textContent=X0(t,P.text,A)})},_=D("<select/>",{"aria-controls":r,class:i.select});for(l=0;l<o.length;l++)_[0][l]=new Option(typeof a[l]=="number"?t.fnFormatNumber(a[l]):a[l],o[l]);return g.find("label").attr("for","dt-length-"+Wg),_.attr("id","dt-length-"+Wg),Wg++,g.find("#"+m).replaceWith(_),D("select",g).val(t._iDisplayLength).on("change.DT",function(){tP(t,D(this).val()),dc(t)}),D(t.nTable).on("length.dt.DT",function(A,P,T){t===P&&(D("select",g).val(T),O(T))}),O(t._iDisplayLength),g},"l");D.fn.dataTable=he;he.$=D;D.fn.dataTableSettings=he.settings;D.fn.dataTableExt=he.ext;D.fn.DataTable=function(t){return D(this).dataTable(t).api()};D.each(he,function(t,e){D.fn.DataTable[t]=e});window.$=window.jQuery=QR;const e1=OL(xJ);e1.use(SL());e1.use(kZ);e1.mount("#app");
