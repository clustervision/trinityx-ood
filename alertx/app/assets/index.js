var tP=Object.defineProperty;var T1=t=>{throw TypeError(t)};var nP=(t,e,n)=>e in t?tP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tn=(t,e,n)=>nP(t,typeof e!="symbol"?e+"":e,n),_m=(t,e,n)=>e.has(t)||T1("Cannot "+n);var P=(t,e,n)=>(_m(t,e,"read from private field"),n?n.call(t):e.get(t)),Rt=(t,e,n)=>e.has(t)?T1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ze=(t,e,n,i)=>(_m(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),je=(t,e,n)=>(_m(t,e,"access private method"),n);var Lf=(t,e,n,i)=>({set _(r){Ze(t,e,r,n)},get _(){return P(t,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ub(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const zt={},ml=[],ts=()=>{},iP=()=>!1,ep=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Xb=t=>t.startsWith("onUpdate:"),Yn=Object.assign,Yb=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},rP=Object.prototype.hasOwnProperty,Ft=(t,e)=>rP.call(t,e),et=Array.isArray,gl=t=>tf(t)==="[object Map]",sc=t=>tf(t)==="[object Set]",A1=t=>tf(t)==="[object Date]",ut=t=>typeof t=="function",pn=t=>typeof t=="string",os=t=>typeof t=="symbol",Yt=t=>t!==null&&typeof t=="object",xS=t=>(Yt(t)||ut(t))&&ut(t.then)&&ut(t.catch),wS=Object.prototype.toString,tf=t=>wS.call(t),sP=t=>tf(t).slice(8,-1),_S=t=>tf(t)==="[object Object]",Gb=t=>pn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gc=Ub(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},oP=/-(\w)/g,xo=tp(t=>t.replace(oP,(e,n)=>n?n.toUpperCase():"")),aP=/\B([A-Z])/g,$a=tp(t=>t.replace(aP,"-$1").toLowerCase()),SS=tp(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sm=tp(t=>t?`on${SS(t)}`:""),vo=(t,e)=>!Object.is(t,e),yh=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},CS=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Uh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let k1;const np=()=>k1||(k1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Kb(t){if(et(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=pn(i)?fP(i):Kb(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(pn(t)||Yt(t))return t}const lP=/;(?![^(]*\))/g,cP=/:([^]+)/,uP=/\/\*[^]*?\*\//g;function fP(t){const e={};return t.replace(uP,"").split(lP).forEach(n=>{if(n){const i=n.split(cP);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function un(t){let e="";if(pn(t))e=t;else if(et(t))for(let n=0;n<t.length;n++){const i=un(t[n]);i&&(e+=i+" ")}else if(Yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const hP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dP=Ub(hP);function TS(t){return!!t||t===""}function pP(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=ya(t[i],e[i]);return n}function ya(t,e){if(t===e)return!0;let n=A1(t),i=A1(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=os(t),i=os(e),n||i)return t===e;if(n=et(t),i=et(e),n||i)return n&&i?pP(t,e):!1;if(n=Yt(t),i=Yt(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ya(t[o],e[o]))return!1}}return String(t)===String(e)}function Jb(t,e){return t.findIndex(n=>ya(n,e))}const AS=t=>!!(t&&t.__v_isRef===!0),xe=t=>pn(t)?t:t==null?"":et(t)||Yt(t)&&(t.toString===wS||!ut(t.toString))?AS(t)?xe(t.value):JSON.stringify(t,kS,2):String(t),kS=(t,e)=>AS(e)?kS(t,e.value):gl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[Cm(i,s)+" =>"]=r,n),{})}:sc(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Cm(n))}:os(e)?Cm(e):Yt(e)&&!et(e)&&!_S(e)?String(e):e,Cm=(t,e="")=>{var n;return os(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ii;class ES{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ii,!e&&Ii&&(this.index=(Ii.scopes||(Ii.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ii;try{return Ii=this,e()}finally{Ii=n}}}on(){Ii=this}off(){Ii=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function mP(t){return new ES(t)}function gP(){return Ii}let Ut;const Tm=new WeakSet;class DS{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ii&&Ii.active&&Ii.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Tm.has(this)&&(Tm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$S(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,E1(this),PS(this);const e=Ut,n=Cr;Ut=this,Cr=!0;try{return this.fn()}finally{MS(this),Ut=e,Cr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ty(e);this.deps=this.depsTail=void 0,E1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Tm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qg(this)&&this.run()}get dirty(){return qg(this)}}let RS=0,Kc,Jc;function $S(t,e=!1){if(t.flags|=8,e){t.next=Jc,Jc=t;return}t.next=Kc,Kc=t}function Zb(){RS++}function ey(){if(--RS>0)return;if(Jc){let e=Jc;for(Jc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Kc;){let e=Kc;for(Kc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function PS(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function MS(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),ty(i),vP(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function qg(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(LS(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function LS(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===mu))return;t.globalVersion=mu;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!qg(t)){t.flags&=-3;return}const n=Ut,i=Cr;Ut=t,Cr=!0;try{PS(t);const r=t.fn(t._value);(e.version===0||vo(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ut=n,Cr=i,MS(t),t.flags&=-3}}function ty(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)ty(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function vP(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Cr=!0;const NS=[];function $o(){NS.push(Cr),Cr=!1}function Po(){const t=NS.pop();Cr=t===void 0?!0:t}function E1(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ut;Ut=void 0;try{e()}finally{Ut=n}}}let mu=0;class bP{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ny{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ut||!Cr||Ut===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ut)n=this.activeLink=new bP(Ut,this),Ut.deps?(n.prevDep=Ut.depsTail,Ut.depsTail.nextDep=n,Ut.depsTail=n):Ut.deps=Ut.depsTail=n,IS(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ut.depsTail,n.nextDep=void 0,Ut.depsTail.nextDep=n,Ut.depsTail=n,Ut.deps===n&&(Ut.deps=i)}return n}trigger(e){this.version++,mu++,this.notify(e)}notify(e){Zb();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ey()}}}function IS(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)IS(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ug=new WeakMap,fa=Symbol(""),Xg=Symbol(""),gu=Symbol("");function Qn(t,e,n){if(Cr&&Ut){let i=Ug.get(t);i||Ug.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new ny),r.map=i,r.key=n),r.track()}}function ws(t,e,n,i,r,s){const o=Ug.get(t);if(!o){mu++;return}const a=l=>{l&&l.trigger()};if(Zb(),e==="clear")o.forEach(a);else{const l=et(t),c=l&&Gb(n);if(l&&n==="length"){const u=Number(i);o.forEach((f,d)=>{(d==="length"||d===gu||!os(d)&&d>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(gu)),e){case"add":l?c&&a(o.get("length")):(a(o.get(fa)),gl(t)&&a(o.get(Xg)));break;case"delete":l||(a(o.get(fa)),gl(t)&&a(o.get(Xg)));break;case"set":gl(t)&&a(o.get(fa));break}}ey()}function za(t){const e=Mt(t);return e===t?e:(Qn(e,"iterate",gu),nr(t)?e:e.map(zn))}function ip(t){return Qn(t=Mt(t),"iterate",gu),t}const yP={__proto__:null,[Symbol.iterator](){return Am(this,Symbol.iterator,zn)},concat(...t){return za(this).concat(...t.map(e=>et(e)?za(e):e))},entries(){return Am(this,"entries",t=>(t[1]=zn(t[1]),t))},every(t,e){return ps(this,"every",t,e,void 0,arguments)},filter(t,e){return ps(this,"filter",t,e,n=>n.map(zn),arguments)},find(t,e){return ps(this,"find",t,e,zn,arguments)},findIndex(t,e){return ps(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ps(this,"findLast",t,e,zn,arguments)},findLastIndex(t,e){return ps(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ps(this,"forEach",t,e,void 0,arguments)},includes(...t){return km(this,"includes",t)},indexOf(...t){return km(this,"indexOf",t)},join(t){return za(this).join(t)},lastIndexOf(...t){return km(this,"lastIndexOf",t)},map(t,e){return ps(this,"map",t,e,void 0,arguments)},pop(){return Ac(this,"pop")},push(...t){return Ac(this,"push",t)},reduce(t,...e){return D1(this,"reduce",t,e)},reduceRight(t,...e){return D1(this,"reduceRight",t,e)},shift(){return Ac(this,"shift")},some(t,e){return ps(this,"some",t,e,void 0,arguments)},splice(...t){return Ac(this,"splice",t)},toReversed(){return za(this).toReversed()},toSorted(t){return za(this).toSorted(t)},toSpliced(...t){return za(this).toSpliced(...t)},unshift(...t){return Ac(this,"unshift",t)},values(){return Am(this,"values",zn)}};function Am(t,e,n){const i=ip(t),r=i[e]();return i!==t&&!nr(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const OP=Array.prototype;function ps(t,e,n,i,r,s){const o=ip(t),a=o!==t&&!nr(t),l=o[e];if(l!==OP[e]){const f=l.apply(t,s);return a?zn(f):f}let c=n;o!==t&&(a?c=function(f,d){return n.call(this,zn(f),d,t)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,t)}));const u=l.call(o,c,i);return a&&r?r(u):u}function D1(t,e,n,i){const r=ip(t);let s=n;return r!==t&&(nr(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,zn(a),l,t)}),r[e](s,...i)}function km(t,e,n){const i=Mt(t);Qn(i,"iterate",gu);const r=i[e](...n);return(r===-1||r===!1)&&sy(n[0])?(n[0]=Mt(n[0]),i[e](...n)):r}function Ac(t,e,n=[]){$o(),Zb();const i=Mt(t)[e].apply(t,n);return ey(),Po(),i}const xP=Ub("__proto__,__v_isRef,__isVue"),FS=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(os));function wP(t){os(t)||(t=String(t));const e=Mt(this);return Qn(e,"has",t),e.hasOwnProperty(t)}class BS{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?$P:QS:s?VS:jS).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=et(e);if(!r){let l;if(o&&(l=yP[n]))return l;if(n==="hasOwnProperty")return wP}const a=Reflect.get(e,n,Xn(e)?e:i);return(os(n)?FS.has(n):xP(n))||(r||Qn(e,"get",n),s)?a:Xn(a)?o&&Gb(n)?a:a.value:Yt(a)?r?WS(a):Ts(a):a}}class HS extends BS{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=Oa(s);if(!nr(i)&&!Oa(i)&&(s=Mt(s),i=Mt(i)),!et(e)&&Xn(s)&&!Xn(i))return l?!1:(s.value=i,!0)}const o=et(e)&&Gb(n)?Number(n)<e.length:Ft(e,n),a=Reflect.set(e,n,i,Xn(e)?e:r);return e===Mt(r)&&(o?vo(i,s)&&ws(e,"set",n,i):ws(e,"add",n,i)),a}deleteProperty(e,n){const i=Ft(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&ws(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!os(n)||!FS.has(n))&&Qn(e,"has",n),i}ownKeys(e){return Qn(e,"iterate",et(e)?"length":fa),Reflect.ownKeys(e)}}class _P extends BS{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const SP=new HS,CP=new _P,TP=new HS(!0);const Yg=t=>t,Nf=t=>Reflect.getPrototypeOf(t);function AP(t,e,n){return function(...i){const r=this.__v_raw,s=Mt(r),o=gl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...i),u=n?Yg:e?Gg:zn;return!e&&Qn(s,"iterate",l?Xg:fa),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function If(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function kP(t,e){const n={get(r){const s=this.__v_raw,o=Mt(s),a=Mt(r);t||(vo(r,a)&&Qn(o,"get",r),Qn(o,"get",a));const{has:l}=Nf(o),c=e?Yg:t?Gg:zn;if(l.call(o,r))return c(s.get(r));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!t&&Qn(Mt(r),"iterate",fa),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=Mt(s),a=Mt(r);return t||(vo(r,a)&&Qn(o,"has",r),Qn(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=Mt(a),c=e?Yg:t?Gg:zn;return!t&&Qn(l,"iterate",fa),a.forEach((u,f)=>r.call(s,c(u),c(f),o))}};return Yn(n,t?{add:If("add"),set:If("set"),delete:If("delete"),clear:If("clear")}:{add(r){!e&&!nr(r)&&!Oa(r)&&(r=Mt(r));const s=Mt(this);return Nf(s).has.call(s,r)||(s.add(r),ws(s,"add",r,r)),this},set(r,s){!e&&!nr(s)&&!Oa(s)&&(s=Mt(s));const o=Mt(this),{has:a,get:l}=Nf(o);let c=a.call(o,r);c||(r=Mt(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,s),c?vo(s,u)&&ws(o,"set",r,s):ws(o,"add",r,s),this},delete(r){const s=Mt(this),{has:o,get:a}=Nf(s);let l=o.call(s,r);l||(r=Mt(r),l=o.call(s,r)),a&&a.call(s,r);const c=s.delete(r);return l&&ws(s,"delete",r,void 0),c},clear(){const r=Mt(this),s=r.size!==0,o=r.clear();return s&&ws(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=AP(r,t,e)}),n}function iy(t,e){const n=kP(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(Ft(n,r)&&r in i?n:i,r,s)}const EP={get:iy(!1,!1)},DP={get:iy(!1,!0)},RP={get:iy(!0,!1)};const jS=new WeakMap,VS=new WeakMap,QS=new WeakMap,$P=new WeakMap;function PP(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function MP(t){return t.__v_skip||!Object.isExtensible(t)?0:PP(sP(t))}function Ts(t){return Oa(t)?t:ry(t,!1,SP,EP,jS)}function zS(t){return ry(t,!1,TP,DP,VS)}function WS(t){return ry(t,!0,CP,RP,QS)}function ry(t,e,n,i,r){if(!Yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=MP(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function vl(t){return Oa(t)?vl(t.__v_raw):!!(t&&t.__v_isReactive)}function Oa(t){return!!(t&&t.__v_isReadonly)}function nr(t){return!!(t&&t.__v_isShallow)}function sy(t){return t?!!t.__v_raw:!1}function Mt(t){const e=t&&t.__v_raw;return e?Mt(e):t}function qS(t){return!Ft(t,"__v_skip")&&Object.isExtensible(t)&&CS(t,"__v_skip",!0),t}const zn=t=>Yt(t)?Ts(t):t,Gg=t=>Yt(t)?WS(t):t;function Xn(t){return t?t.__v_isRef===!0:!1}function ht(t){return US(t,!1)}function LP(t){return US(t,!0)}function US(t,e){return Xn(t)?t:new NP(t,e)}class NP{constructor(e,n){this.dep=new ny,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Mt(e),this._value=n?e:zn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||nr(e)||Oa(e);e=i?e:Mt(e),vo(e,n)&&(this._rawValue=e,this._value=i?e:zn(e),this.dep.trigger())}}function jn(t){return Xn(t)?t.value:t}const IP={get:(t,e,n)=>e==="__v_raw"?t:jn(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Xn(r)&&!Xn(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function XS(t){return vl(t)?t:new Proxy(t,IP)}class FP{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ny(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=mu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ut!==this)return $S(this,!0),!0}get value(){const e=this.dep.track();return LS(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function BP(t,e,n=!1){let i,r;return ut(t)?i=t:(i=t.get,r=t.set),new FP(i,r,n)}const Ff={},Xh=new WeakMap;let Xo;function HP(t,e=!1,n=Xo){if(n){let i=Xh.get(n);i||Xh.set(n,i=[]),i.push(t)}}function jP(t,e,n=zt){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,c=T=>r?T:nr(T)||r===!1||r===0?_s(T,1):_s(T);let u,f,d,m,g=!1,y=!1;if(Xn(t)?(f=()=>t.value,g=nr(t)):vl(t)?(f=()=>c(t),g=!0):et(t)?(y=!0,g=t.some(T=>vl(T)||nr(T)),f=()=>t.map(T=>{if(Xn(T))return T.value;if(vl(T))return c(T);if(ut(T))return l?l(T,2):T()})):ut(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){$o();try{d()}finally{Po()}}const T=Xo;Xo=u;try{return l?l(t,3,[m]):t(m)}finally{Xo=T}}:f=ts,e&&r){const T=f,N=r===!0?1/0:r;f=()=>_s(T(),N)}const O=gP(),_=()=>{u.stop(),O&&O.active&&Yb(O.effects,u)};if(s&&e){const T=e;e=(...N)=>{T(...N),_()}}let A=y?new Array(t.length).fill(Ff):Ff;const R=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const N=u.run();if(r||g||(y?N.some((I,v)=>vo(I,A[v])):vo(N,A))){d&&d();const I=Xo;Xo=u;try{const v=[N,A===Ff?void 0:y&&A[0]===Ff?[]:A,m];l?l(e,3,v):e(...v),A=N}finally{Xo=I}}}else u.run()};return a&&a(R),u=new DS(f),u.scheduler=o?()=>o(R,!1):R,m=T=>HP(T,!1,u),d=u.onStop=()=>{const T=Xh.get(u);if(T){if(l)l(T,4);else for(const N of T)N();Xh.delete(u)}},e?i?R(!0):A=u.run():o?o(R.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function _s(t,e=1/0,n){if(e<=0||!Yt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Xn(t))_s(t.value,e,n);else if(et(t))for(let i=0;i<t.length;i++)_s(t[i],e,n);else if(sc(t)||gl(t))t.forEach(i=>{_s(i,e,n)});else if(_S(t)){for(const i in t)_s(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&_s(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nf(t,e,n,i){try{return i?t(...i):t()}catch(r){rp(r,e,n)}}function as(t,e,n,i){if(ut(t)){const r=nf(t,e,n,i);return r&&xS(r)&&r.catch(s=>{rp(s,e,n)}),r}if(et(t)){const r=[];for(let s=0;s<t.length;s++)r.push(as(t[s],e,n,i));return r}}function rp(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||zt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,c)===!1)return}a=a.parent}if(s){$o(),nf(s,null,10,[t,l,c]),Po();return}}VP(t,n,r,i,o)}function VP(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const ai=[];let zr=-1;const bl=[];let eo=null,Ja=0;const YS=Promise.resolve();let Yh=null;function Ml(t){const e=Yh||YS;return t?e.then(this?t.bind(this):t):e}function QP(t){let e=zr+1,n=ai.length;for(;e<n;){const i=e+n>>>1,r=ai[i],s=vu(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function oy(t){if(!(t.flags&1)){const e=vu(t),n=ai[ai.length-1];!n||!(t.flags&2)&&e>=vu(n)?ai.push(t):ai.splice(QP(e),0,t),t.flags|=1,GS()}}function GS(){Yh||(Yh=YS.then(JS))}function zP(t){et(t)?bl.push(...t):eo&&t.id===-1?eo.splice(Ja+1,0,t):t.flags&1||(bl.push(t),t.flags|=1),GS()}function R1(t,e,n=zr+1){for(;n<ai.length;n++){const i=ai[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;ai.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function KS(t){if(bl.length){const e=[...new Set(bl)].sort((n,i)=>vu(n)-vu(i));if(bl.length=0,eo){eo.push(...e);return}for(eo=e,Ja=0;Ja<eo.length;Ja++){const n=eo[Ja];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}eo=null,Ja=0}}const vu=t=>t.id==null?t.flags&2?-1:1/0:t.id;function JS(t){try{for(zr=0;zr<ai.length;zr++){const e=ai[zr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),nf(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;zr<ai.length;zr++){const e=ai[zr];e&&(e.flags&=-2)}zr=-1,ai.length=0,KS(),Yh=null,(ai.length||bl.length)&&JS()}}let Ji=null,ZS=null;function Gh(t){const e=Ji;return Ji=t,ZS=t&&t.type.__scopeId||null,e}function eC(t,e=Ji,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&H1(-1);const s=Gh(e);let o;try{o=t(...r)}finally{Gh(s),i._d&&H1(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Zt(t,e){if(Ji===null)return t;const n=lp(Ji),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=zt]=e[r];s&&(ut(s)&&(s={mounted:s,updated:s}),s.deep&&_s(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Wo(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&($o(),as(l,n,8,[t.el,a,t,e]),Po())}}const WP=Symbol("_vte"),qP=t=>t.__isTeleport;function ay(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ay(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Kn(t,e){return ut(t)?Yn({name:t.name},e,{setup:t}):t}function tC(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Kh(t,e,n,i,r=!1){if(et(t)){t.forEach((g,y)=>Kh(g,e&&(et(e)?e[y]:e),n,i,r));return}if(Zc(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Kh(t,e,n,i.component.subTree);return}const s=i.shapeFlag&4?lp(i.component):i.el,o=r?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===zt?a.refs={}:a.refs,f=a.setupState,d=Mt(f),m=f===zt?()=>!1:g=>Ft(d,g);if(c!=null&&c!==l&&(pn(c)?(u[c]=null,m(c)&&(f[c]=null)):Xn(c)&&(c.value=null)),ut(l))nf(l,a,12,[o,u]);else{const g=pn(l),y=Xn(l);if(g||y){const O=()=>{if(t.f){const _=g?m(l)?f[l]:u[l]:l.value;r?et(_)&&Yb(_,s):et(_)?_.includes(s)||_.push(s):g?(u[l]=[s],m(l)&&(f[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else g?(u[l]=o,m(l)&&(f[l]=o)):y&&(l.value=o,t.k&&(u[t.k]=o))};o?(O.id=-1,$i(O,n)):O()}}}np().requestIdleCallback;np().cancelIdleCallback;const Zc=t=>!!t.type.__asyncLoader,nC=t=>t.type.__isKeepAlive;function UP(t,e){iC(t,"a",e)}function XP(t,e){iC(t,"da",e)}function iC(t,e,n=ci){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(sp(e,i,n),n){let r=n.parent;for(;r&&r.parent;)nC(r.parent.vnode)&&YP(i,e,n,r),r=r.parent}}function YP(t,e,n,i){const r=sp(e,t,i,!0);rf(()=>{Yb(i[e],r)},n)}function sp(t,e,n=ci,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{$o();const a=sf(n),l=as(e,n,t,o);return a(),Po(),l});return i?r.unshift(s):r.push(s),s}}const Hs=t=>(e,n=ci)=>{(!yu||t==="sp")&&sp(t,(...i)=>e(...i),n)},GP=Hs("bm"),Mo=Hs("m"),KP=Hs("bu"),JP=Hs("u"),ZP=Hs("bum"),rf=Hs("um"),eM=Hs("sp"),tM=Hs("rtg"),nM=Hs("rtc");function iM(t,e=ci){sp("ec",t,e)}const rM=Symbol.for("v-ndc");function yn(t,e,n,i){let r;const s=n,o=et(t);if(o||pn(t)){const a=o&&vl(t);let l=!1;a&&(l=!nr(t),t=ip(t)),r=new Array(t.length);for(let c=0,u=t.length;c<u;c++)r[c]=e(l?zn(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s)}else if(Yt(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(t[u],u,l,s)}}else r=[];return r}const Kg=t=>t?SC(t)?lp(t):Kg(t.parent):null,eu=Yn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Kg(t.parent),$root:t=>Kg(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>sC(t),$forceUpdate:t=>t.f||(t.f=()=>{oy(t.update)}),$nextTick:t=>t.n||(t.n=Ml.bind(t.proxy)),$watch:t=>CM.bind(t)}),Em=(t,e)=>t!==zt&&!t.__isScriptSetup&&Ft(t,e),sM={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(Em(i,e))return o[e]=1,i[e];if(r!==zt&&Ft(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Ft(c,e))return o[e]=3,s[e];if(n!==zt&&Ft(n,e))return o[e]=4,n[e];Jg&&(o[e]=0)}}const u=eu[e];let f,d;if(u)return e==="$attrs"&&Qn(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==zt&&Ft(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,Ft(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return Em(r,e)?(r[e]=n,!0):i!==zt&&Ft(i,e)?(i[e]=n,!0):Ft(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==zt&&Ft(t,o)||Em(e,o)||(a=s[0])&&Ft(a,o)||Ft(i,o)||Ft(eu,o)||Ft(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ft(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function $1(t){return et(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Jg=!0;function oM(t){const e=sC(t),n=t.proxy,i=t.ctx;Jg=!1,e.beforeCreate&&P1(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:m,updated:g,activated:y,deactivated:O,beforeDestroy:_,beforeUnmount:A,destroyed:R,unmounted:T,render:N,renderTracked:I,renderTriggered:v,errorCaptured:z,serverPrefetch:G,expose:oe,inheritAttrs:ve,components:ne,directives:X,filters:le}=e;if(c&&aM(c,i,null),o)for(const te in o){const be=o[te];ut(be)&&(i[te]=be.bind(n))}if(r){const te=r.call(n,n);Yt(te)&&(t.data=Ts(te))}if(Jg=!0,s)for(const te in s){const be=s[te],Le=ut(be)?be.bind(n,n):ut(be.get)?be.get.bind(n,n):ts,ot=!ut(be)&&ut(be.set)?be.set.bind(n):ts,it=Wn({get:Le,set:ot});Object.defineProperty(i,te,{enumerable:!0,configurable:!0,get:()=>it.value,set:nt=>it.value=nt})}if(a)for(const te in a)rC(a[te],i,n,te);if(l){const te=ut(l)?l.call(n):l;Reflect.ownKeys(te).forEach(be=>{Oh(be,te[be])})}u&&P1(u,t,"c");function V(te,be){et(be)?be.forEach(Le=>te(Le.bind(n))):be&&te(be.bind(n))}if(V(GP,f),V(Mo,d),V(KP,m),V(JP,g),V(UP,y),V(XP,O),V(iM,z),V(nM,I),V(tM,v),V(ZP,A),V(rf,T),V(eM,G),et(oe))if(oe.length){const te=t.exposed||(t.exposed={});oe.forEach(be=>{Object.defineProperty(te,be,{get:()=>n[be],set:Le=>n[be]=Le})})}else t.exposed||(t.exposed={});N&&t.render===ts&&(t.render=N),ve!=null&&(t.inheritAttrs=ve),ne&&(t.components=ne),X&&(t.directives=X),G&&tC(t)}function aM(t,e,n=ts){et(t)&&(t=Zg(t));for(const i in t){const r=t[i];let s;Yt(r)?"default"in r?s=As(r.from||i,r.default,!0):s=As(r.from||i):s=As(r),Xn(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function P1(t,e,n){as(et(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function rC(t,e,n,i){let r=i.includes(".")?yC(n,i):()=>n[i];if(pn(t)){const s=e[t];ut(s)&&ks(r,s)}else if(ut(t))ks(r,t.bind(n));else if(Yt(t))if(et(t))t.forEach(s=>rC(s,e,n,i));else{const s=ut(t.handler)?t.handler.bind(n):e[t.handler];ut(s)&&ks(r,s,t)}}function sC(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>Jh(l,c,o,!0)),Jh(l,e,o)),Yt(e)&&s.set(e,l),l}function Jh(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&Jh(t,s,n,!0),r&&r.forEach(o=>Jh(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=lM[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const lM={data:M1,props:L1,emits:L1,methods:jc,computed:jc,beforeCreate:ii,created:ii,beforeMount:ii,mounted:ii,beforeUpdate:ii,updated:ii,beforeDestroy:ii,beforeUnmount:ii,destroyed:ii,unmounted:ii,activated:ii,deactivated:ii,errorCaptured:ii,serverPrefetch:ii,components:jc,directives:jc,watch:uM,provide:M1,inject:cM};function M1(t,e){return e?t?function(){return Yn(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function cM(t,e){return jc(Zg(t),Zg(e))}function Zg(t){if(et(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ii(t,e){return t?[...new Set([].concat(t,e))]:e}function jc(t,e){return t?Yn(Object.create(null),t,e):e}function L1(t,e){return t?et(t)&&et(e)?[...new Set([...t,...e])]:Yn(Object.create(null),$1(t),$1(e??{})):e}function uM(t,e){if(!t)return e;if(!e)return t;const n=Yn(Object.create(null),t);for(const i in e)n[i]=ii(t[i],e[i]);return n}function oC(){return{app:null,config:{isNativeTag:iP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fM=0;function hM(t,e){return function(i,r=null){ut(i)||(i=Yn({},i)),r!=null&&!Yt(r)&&(r=null);const s=oC(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:fM++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:WM,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&ut(u.install)?(o.add(u),u.install(c,...f)):ut(u)&&(o.add(u),u(c,...f))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,f){return f?(s.components[u]=f,c):s.components[u]},directive(u,f){return f?(s.directives[u]=f,c):s.directives[u]},mount(u,f,d){if(!l){const m=c._ceVNode||Ot(i,r);return m.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),t(m,u,d),l=!0,c._container=u,u.__vue_app__=c,lp(m.component)}},onUnmount(u){a.push(u)},unmount(){l&&(as(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return s.provides[u]=f,c},runWithContext(u){const f=yl;yl=c;try{return u()}finally{yl=f}}};return c}}let yl=null;function Oh(t,e){if(ci){let n=ci.provides;const i=ci.parent&&ci.parent.provides;i===n&&(n=ci.provides=Object.create(i)),n[t]=e}}function As(t,e,n=!1){const i=ci||Ji;if(i||yl){const r=yl?yl._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ut(e)?e.call(i&&i.proxy):e}}const aC={},lC=()=>Object.create(aC),cC=t=>Object.getPrototypeOf(t)===aC;function dM(t,e,n,i=!1){const r={},s=lC();t.propsDefaults=Object.create(null),uC(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:zS(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function pM(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=Mt(r),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(op(t.emitsOptions,d))continue;const m=e[d];if(l)if(Ft(s,d))m!==s[d]&&(s[d]=m,c=!0);else{const g=xo(d);r[g]=ev(l,a,g,m,t,!1)}else m!==s[d]&&(s[d]=m,c=!0)}}}else{uC(t,e,r,s)&&(c=!0);let u;for(const f in a)(!e||!Ft(e,f)&&((u=$a(f))===f||!Ft(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=ev(l,a,f,void 0,t,!0)):delete r[f]);if(s!==a)for(const f in s)(!e||!Ft(e,f))&&(delete s[f],c=!0)}c&&ws(t.attrs,"set","")}function uC(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Gc(l))continue;const c=e[l];let u;r&&Ft(r,u=xo(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:op(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=Mt(n),c=a||zt;for(let u=0;u<s.length;u++){const f=s[u];n[f]=ev(r,l,f,c[f],t,!Ft(c,f))}}return o}function ev(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=Ft(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ut(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const u=sf(r);i=c[n]=l.call(null,e),u()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===$a(n))&&(i=!0))}return i}const mM=new WeakMap;function fC(t,e,n=!1){const i=n?mM:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!ut(t)){const u=f=>{l=!0;const[d,m]=fC(f,e,!0);Yn(o,d),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Yt(t)&&i.set(t,ml),ml;if(et(s))for(let u=0;u<s.length;u++){const f=xo(s[u]);N1(f)&&(o[f]=zt)}else if(s)for(const u in s){const f=xo(u);if(N1(f)){const d=s[u],m=o[f]=et(d)||ut(d)?{type:d}:Yn({},d),g=m.type;let y=!1,O=!0;if(et(g))for(let _=0;_<g.length;++_){const A=g[_],R=ut(A)&&A.name;if(R==="Boolean"){y=!0;break}else R==="String"&&(O=!1)}else y=ut(g)&&g.name==="Boolean";m[0]=y,m[1]=O,(y||Ft(m,"default"))&&a.push(f)}}const c=[o,a];return Yt(t)&&i.set(t,c),c}function N1(t){return t[0]!=="$"&&!Gc(t)}const hC=t=>t[0]==="_"||t==="$stable",ly=t=>et(t)?t.map(Wr):[Wr(t)],gM=(t,e,n)=>{if(e._n)return e;const i=eC((...r)=>ly(e(...r)),n);return i._c=!1,i},dC=(t,e,n)=>{const i=t._ctx;for(const r in t){if(hC(r))continue;const s=t[r];if(ut(s))e[r]=gM(r,s,i);else if(s!=null){const o=ly(s);e[r]=()=>o}}},pC=(t,e)=>{const n=ly(e);t.slots.default=()=>n},mC=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},vM=(t,e,n)=>{const i=t.slots=lC();if(t.vnode.shapeFlag&32){const r=e._;r?(mC(i,e,n),n&&CS(i,"_",r,!0)):dC(e,i)}else e&&pC(t,e)},bM=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=zt;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:mC(r,e,n):(s=!e.$stable,dC(e,r)),o=e}else e&&(pC(t,e),o={default:1});if(s)for(const a in r)!hC(a)&&o[a]==null&&delete r[a]},$i=$M;function yM(t){return OM(t)}function OM(t,e){const n=np();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:m=ts,insertStaticContent:g}=t,y=(M,F,q,he=null,de=null,ue=null,Se=void 0,Te=null,_e=!!F.dynamicChildren)=>{if(M===F)return;M&&!kc(M,F)&&(he=ae(M),nt(M,de,ue,!0),M=null),F.patchFlag===-2&&(_e=!1,F.dynamicChildren=null);const{type:ye,ref:He,shapeFlag:Ae}=F;switch(ye){case ap:O(M,F,q,he);break;case xa:_(M,F,q,he);break;case Rm:M==null&&A(F,q,he,Se);break;case Ye:ne(M,F,q,he,de,ue,Se,Te,_e);break;default:Ae&1?N(M,F,q,he,de,ue,Se,Te,_e):Ae&6?X(M,F,q,he,de,ue,Se,Te,_e):(Ae&64||Ae&128)&&ye.process(M,F,q,he,de,ue,Se,Te,_e,De)}He!=null&&de&&Kh(He,M&&M.ref,ue,F||M,!F)},O=(M,F,q,he)=>{if(M==null)i(F.el=a(F.children),q,he);else{const de=F.el=M.el;F.children!==M.children&&c(de,F.children)}},_=(M,F,q,he)=>{M==null?i(F.el=l(F.children||""),q,he):F.el=M.el},A=(M,F,q,he)=>{[M.el,M.anchor]=g(M.children,F,q,he,M.el,M.anchor)},R=({el:M,anchor:F},q,he)=>{let de;for(;M&&M!==F;)de=d(M),i(M,q,he),M=de;i(F,q,he)},T=({el:M,anchor:F})=>{let q;for(;M&&M!==F;)q=d(M),r(M),M=q;r(F)},N=(M,F,q,he,de,ue,Se,Te,_e)=>{F.type==="svg"?Se="svg":F.type==="math"&&(Se="mathml"),M==null?I(F,q,he,de,ue,Se,Te,_e):G(M,F,de,ue,Se,Te,_e)},I=(M,F,q,he,de,ue,Se,Te)=>{let _e,ye;const{props:He,shapeFlag:Ae,transition:Qe,dirs:ge}=M;if(_e=M.el=o(M.type,ue,He&&He.is,He),Ae&8?u(_e,M.children):Ae&16&&z(M.children,_e,null,he,de,Dm(M,ue),Se,Te),ge&&Wo(M,null,he,"created"),v(_e,M,M.scopeId,Se,he),He){for(const Et in He)Et!=="value"&&!Gc(Et)&&s(_e,Et,null,He[Et],ue,he);"value"in He&&s(_e,"value",null,He.value,ue),(ye=He.onVnodeBeforeMount)&&Fr(ye,he,M)}ge&&Wo(M,null,he,"beforeMount");const Xe=xM(de,Qe);Xe&&Qe.beforeEnter(_e),i(_e,F,q),((ye=He&&He.onVnodeMounted)||Xe||ge)&&$i(()=>{ye&&Fr(ye,he,M),Xe&&Qe.enter(_e),ge&&Wo(M,null,he,"mounted")},de)},v=(M,F,q,he,de)=>{if(q&&m(M,q),he)for(let ue=0;ue<he.length;ue++)m(M,he[ue]);if(de){let ue=de.subTree;if(F===ue||xC(ue.type)&&(ue.ssContent===F||ue.ssFallback===F)){const Se=de.vnode;v(M,Se,Se.scopeId,Se.slotScopeIds,de.parent)}}},z=(M,F,q,he,de,ue,Se,Te,_e=0)=>{for(let ye=_e;ye<M.length;ye++){const He=M[ye]=Te?to(M[ye]):Wr(M[ye]);y(null,He,F,q,he,de,ue,Se,Te)}},G=(M,F,q,he,de,ue,Se)=>{const Te=F.el=M.el;let{patchFlag:_e,dynamicChildren:ye,dirs:He}=F;_e|=M.patchFlag&16;const Ae=M.props||zt,Qe=F.props||zt;let ge;if(q&&qo(q,!1),(ge=Qe.onVnodeBeforeUpdate)&&Fr(ge,q,F,M),He&&Wo(F,M,q,"beforeUpdate"),q&&qo(q,!0),(Ae.innerHTML&&Qe.innerHTML==null||Ae.textContent&&Qe.textContent==null)&&u(Te,""),ye?oe(M.dynamicChildren,ye,Te,q,he,Dm(F,de),ue):Se||be(M,F,Te,null,q,he,Dm(F,de),ue,!1),_e>0){if(_e&16)ve(Te,Ae,Qe,q,de);else if(_e&2&&Ae.class!==Qe.class&&s(Te,"class",null,Qe.class,de),_e&4&&s(Te,"style",Ae.style,Qe.style,de),_e&8){const Xe=F.dynamicProps;for(let Et=0;Et<Xe.length;Et++){const wt=Xe[Et],Dn=Ae[wt],mn=Qe[wt];(mn!==Dn||wt==="value")&&s(Te,wt,Dn,mn,de,q)}}_e&1&&M.children!==F.children&&u(Te,F.children)}else!Se&&ye==null&&ve(Te,Ae,Qe,q,de);((ge=Qe.onVnodeUpdated)||He)&&$i(()=>{ge&&Fr(ge,q,F,M),He&&Wo(F,M,q,"updated")},he)},oe=(M,F,q,he,de,ue,Se)=>{for(let Te=0;Te<F.length;Te++){const _e=M[Te],ye=F[Te],He=_e.el&&(_e.type===Ye||!kc(_e,ye)||_e.shapeFlag&70)?f(_e.el):q;y(_e,ye,He,null,he,de,ue,Se,!0)}},ve=(M,F,q,he,de)=>{if(F!==q){if(F!==zt)for(const ue in F)!Gc(ue)&&!(ue in q)&&s(M,ue,F[ue],null,de,he);for(const ue in q){if(Gc(ue))continue;const Se=q[ue],Te=F[ue];Se!==Te&&ue!=="value"&&s(M,ue,Te,Se,de,he)}"value"in q&&s(M,"value",F.value,q.value,de)}},ne=(M,F,q,he,de,ue,Se,Te,_e)=>{const ye=F.el=M?M.el:a(""),He=F.anchor=M?M.anchor:a("");let{patchFlag:Ae,dynamicChildren:Qe,slotScopeIds:ge}=F;ge&&(Te=Te?Te.concat(ge):ge),M==null?(i(ye,q,he),i(He,q,he),z(F.children||[],q,He,de,ue,Se,Te,_e)):Ae>0&&Ae&64&&Qe&&M.dynamicChildren?(oe(M.dynamicChildren,Qe,q,de,ue,Se,Te),(F.key!=null||de&&F===de.subTree)&&gC(M,F,!0)):be(M,F,q,He,de,ue,Se,Te,_e)},X=(M,F,q,he,de,ue,Se,Te,_e)=>{F.slotScopeIds=Te,M==null?F.shapeFlag&512?de.ctx.activate(F,q,he,Se,_e):le(F,q,he,de,ue,Se,_e):W(M,F,_e)},le=(M,F,q,he,de,ue,Se)=>{const Te=M.component=BM(M,he,de);if(nC(M)&&(Te.ctx.renderer=De),HM(Te,!1,Se),Te.asyncDep){if(de&&de.registerDep(Te,V,Se),!M.el){const _e=Te.subTree=Ot(xa);_(null,_e,F,q)}}else V(Te,M,F,q,de,ue,Se)},W=(M,F,q)=>{const he=F.component=M.component;if(DM(M,F,q))if(he.asyncDep&&!he.asyncResolved){te(he,F,q);return}else he.next=F,he.update();else F.el=M.el,he.vnode=F},V=(M,F,q,he,de,ue,Se)=>{const Te=()=>{if(M.isMounted){let{next:Ae,bu:Qe,u:ge,parent:Xe,vnode:Et}=M;{const xn=vC(M);if(xn){Ae&&(Ae.el=Et.el,te(M,Ae,Se)),xn.asyncDep.then(()=>{M.isUnmounted||Te()});return}}let wt=Ae,Dn;qo(M,!1),Ae?(Ae.el=Et.el,te(M,Ae,Se)):Ae=Et,Qe&&yh(Qe),(Dn=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&Fr(Dn,Xe,Ae,Et),qo(M,!0);const mn=F1(M),ei=M.subTree;M.subTree=mn,y(ei,mn,f(ei.el),ae(ei),M,de,ue),Ae.el=mn.el,wt===null&&RM(M,mn.el),ge&&$i(ge,de),(Dn=Ae.props&&Ae.props.onVnodeUpdated)&&$i(()=>Fr(Dn,Xe,Ae,Et),de)}else{let Ae;const{el:Qe,props:ge}=F,{bm:Xe,m:Et,parent:wt,root:Dn,type:mn}=M,ei=Zc(F);qo(M,!1),Xe&&yh(Xe),!ei&&(Ae=ge&&ge.onVnodeBeforeMount)&&Fr(Ae,wt,F),qo(M,!0);{Dn.ce&&Dn.ce._injectChildStyle(mn);const xn=M.subTree=F1(M);y(null,xn,q,he,M,de,ue),F.el=xn.el}if(Et&&$i(Et,de),!ei&&(Ae=ge&&ge.onVnodeMounted)){const xn=F;$i(()=>Fr(Ae,wt,xn),de)}(F.shapeFlag&256||wt&&Zc(wt.vnode)&&wt.vnode.shapeFlag&256)&&M.a&&$i(M.a,de),M.isMounted=!0,F=q=he=null}};M.scope.on();const _e=M.effect=new DS(Te);M.scope.off();const ye=M.update=_e.run.bind(_e),He=M.job=_e.runIfDirty.bind(_e);He.i=M,He.id=M.uid,_e.scheduler=()=>oy(He),qo(M,!0),ye()},te=(M,F,q)=>{F.component=M;const he=M.vnode.props;M.vnode=F,M.next=null,pM(M,F.props,he,q),bM(M,F.children,q),$o(),R1(M),Po()},be=(M,F,q,he,de,ue,Se,Te,_e=!1)=>{const ye=M&&M.children,He=M?M.shapeFlag:0,Ae=F.children,{patchFlag:Qe,shapeFlag:ge}=F;if(Qe>0){if(Qe&128){ot(ye,Ae,q,he,de,ue,Se,Te,_e);return}else if(Qe&256){Le(ye,Ae,q,he,de,ue,Se,Te,_e);return}}ge&8?(He&16&&Nt(ye,de,ue),Ae!==ye&&u(q,Ae)):He&16?ge&16?ot(ye,Ae,q,he,de,ue,Se,Te,_e):Nt(ye,de,ue,!0):(He&8&&u(q,""),ge&16&&z(Ae,q,he,de,ue,Se,Te,_e))},Le=(M,F,q,he,de,ue,Se,Te,_e)=>{M=M||ml,F=F||ml;const ye=M.length,He=F.length,Ae=Math.min(ye,He);let Qe;for(Qe=0;Qe<Ae;Qe++){const ge=F[Qe]=_e?to(F[Qe]):Wr(F[Qe]);y(M[Qe],ge,q,null,de,ue,Se,Te,_e)}ye>He?Nt(M,de,ue,!0,!1,Ae):z(F,q,he,de,ue,Se,Te,_e,Ae)},ot=(M,F,q,he,de,ue,Se,Te,_e)=>{let ye=0;const He=F.length;let Ae=M.length-1,Qe=He-1;for(;ye<=Ae&&ye<=Qe;){const ge=M[ye],Xe=F[ye]=_e?to(F[ye]):Wr(F[ye]);if(kc(ge,Xe))y(ge,Xe,q,null,de,ue,Se,Te,_e);else break;ye++}for(;ye<=Ae&&ye<=Qe;){const ge=M[Ae],Xe=F[Qe]=_e?to(F[Qe]):Wr(F[Qe]);if(kc(ge,Xe))y(ge,Xe,q,null,de,ue,Se,Te,_e);else break;Ae--,Qe--}if(ye>Ae){if(ye<=Qe){const ge=Qe+1,Xe=ge<He?F[ge].el:he;for(;ye<=Qe;)y(null,F[ye]=_e?to(F[ye]):Wr(F[ye]),q,Xe,de,ue,Se,Te,_e),ye++}}else if(ye>Qe)for(;ye<=Ae;)nt(M[ye],de,ue,!0),ye++;else{const ge=ye,Xe=ye,Et=new Map;for(ye=Xe;ye<=Qe;ye++){const Ee=F[ye]=_e?to(F[ye]):Wr(F[ye]);Ee.key!=null&&Et.set(Ee.key,ye)}let wt,Dn=0;const mn=Qe-Xe+1;let ei=!1,xn=0;const Rn=new Array(mn);for(ye=0;ye<mn;ye++)Rn[ye]=0;for(ye=ge;ye<=Ae;ye++){const Ee=M[ye];if(Dn>=mn){nt(Ee,de,ue,!0);continue}let qe;if(Ee.key!=null)qe=Et.get(Ee.key);else for(wt=Xe;wt<=Qe;wt++)if(Rn[wt-Xe]===0&&kc(Ee,F[wt])){qe=wt;break}qe===void 0?nt(Ee,de,ue,!0):(Rn[qe-Xe]=ye+1,qe>=xn?xn=qe:ei=!0,y(Ee,F[qe],q,null,de,ue,Se,Te,_e),Dn++)}const se=ei?wM(Rn):ml;for(wt=se.length-1,ye=mn-1;ye>=0;ye--){const Ee=Xe+ye,qe=F[Ee],vt=Ee+1<He?F[Ee+1].el:he;Rn[ye]===0?y(null,qe,q,vt,de,ue,Se,Te,_e):ei&&(wt<0||ye!==se[wt]?it(qe,q,vt,2):wt--)}}},it=(M,F,q,he,de=null)=>{const{el:ue,type:Se,transition:Te,children:_e,shapeFlag:ye}=M;if(ye&6){it(M.component.subTree,F,q,he);return}if(ye&128){M.suspense.move(F,q,he);return}if(ye&64){Se.move(M,F,q,De);return}if(Se===Ye){i(ue,F,q);for(let Ae=0;Ae<_e.length;Ae++)it(_e[Ae],F,q,he);i(M.anchor,F,q);return}if(Se===Rm){R(M,F,q);return}if(he!==2&&ye&1&&Te)if(he===0)Te.beforeEnter(ue),i(ue,F,q),$i(()=>Te.enter(ue),de);else{const{leave:Ae,delayLeave:Qe,afterLeave:ge}=Te,Xe=()=>i(ue,F,q),Et=()=>{Ae(ue,()=>{Xe(),ge&&ge()})};Qe?Qe(ue,Xe,Et):Et()}else i(ue,F,q)},nt=(M,F,q,he=!1,de=!1)=>{const{type:ue,props:Se,ref:Te,children:_e,dynamicChildren:ye,shapeFlag:He,patchFlag:Ae,dirs:Qe,cacheIndex:ge}=M;if(Ae===-2&&(de=!1),Te!=null&&Kh(Te,null,q,M,!0),ge!=null&&(F.renderCache[ge]=void 0),He&256){F.ctx.deactivate(M);return}const Xe=He&1&&Qe,Et=!Zc(M);let wt;if(Et&&(wt=Se&&Se.onVnodeBeforeUnmount)&&Fr(wt,F,M),He&6)Ht(M.component,q,he);else{if(He&128){M.suspense.unmount(q,he);return}Xe&&Wo(M,null,F,"beforeUnmount"),He&64?M.type.remove(M,F,q,De,he):ye&&!ye.hasOnce&&(ue!==Ye||Ae>0&&Ae&64)?Nt(ye,F,q,!1,!0):(ue===Ye&&Ae&384||!de&&He&16)&&Nt(_e,F,q),he&&mt(M)}(Et&&(wt=Se&&Se.onVnodeUnmounted)||Xe)&&$i(()=>{wt&&Fr(wt,F,M),Xe&&Wo(M,null,F,"unmounted")},q)},mt=M=>{const{type:F,el:q,anchor:he,transition:de}=M;if(F===Ye){Pt(q,he);return}if(F===Rm){T(M);return}const ue=()=>{r(q),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(M.shapeFlag&1&&de&&!de.persisted){const{leave:Se,delayLeave:Te}=de,_e=()=>Se(q,ue);Te?Te(M.el,ue,_e):_e()}else ue()},Pt=(M,F)=>{let q;for(;M!==F;)q=d(M),r(M),M=q;r(F)},Ht=(M,F,q)=>{const{bum:he,scope:de,job:ue,subTree:Se,um:Te,m:_e,a:ye}=M;I1(_e),I1(ye),he&&yh(he),de.stop(),ue&&(ue.flags|=8,nt(Se,M,F,q)),Te&&$i(Te,F),$i(()=>{M.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},Nt=(M,F,q,he=!1,de=!1,ue=0)=>{for(let Se=ue;Se<M.length;Se++)nt(M[Se],F,q,he,de)},ae=M=>{if(M.shapeFlag&6)return ae(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const F=d(M.anchor||M.el),q=F&&F[WP];return q?d(q):F};let Re=!1;const Ce=(M,F,q)=>{M==null?F._vnode&&nt(F._vnode,null,null,!0):y(F._vnode||null,M,F,null,null,null,q),F._vnode=M,Re||(Re=!0,R1(),KS(),Re=!1)},De={p:y,um:nt,m:it,r:mt,mt:le,mc:z,pc:be,pbc:oe,n:ae,o:t};return{render:Ce,hydrate:void 0,createApp:hM(Ce)}}function Dm({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function qo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function xM(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function gC(t,e,n=!1){const i=t.children,r=e.children;if(et(i)&&et(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=to(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&gC(o,a)),a.type===ap&&(a.el=o.el)}}function wM(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function vC(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:vC(e)}function I1(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const _M=Symbol.for("v-scx"),SM=()=>As(_M);function ks(t,e,n){return bC(t,e,n)}function bC(t,e,n=zt){const{immediate:i,deep:r,flush:s,once:o}=n,a=Yn({},n),l=e&&i||!e&&s!=="post";let c;if(yu){if(s==="sync"){const m=SM();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=ts,m.resume=ts,m.pause=ts,m}}const u=ci;a.call=(m,g,y)=>as(m,u,g,y);let f=!1;s==="post"?a.scheduler=m=>{$i(m,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(m,g)=>{g?m():oy(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const d=jP(t,e,a);return yu&&(c?c.push(d):l&&d()),d}function CM(t,e,n){const i=this.proxy,r=pn(t)?t.includes(".")?yC(i,t):()=>i[t]:t.bind(i,i);let s;ut(e)?s=e:(s=e.handler,n=e);const o=sf(this),a=bC(r,s.bind(i),n);return o(),a}function yC(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const TM=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${xo(e)}Modifiers`]||t[`${$a(e)}Modifiers`];function AM(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||zt;let r=n;const s=e.startsWith("update:"),o=s&&TM(i,e.slice(7));o&&(o.trim&&(r=n.map(u=>pn(u)?u.trim():u)),o.number&&(r=n.map(Uh)));let a,l=i[a=Sm(e)]||i[a=Sm(xo(e))];!l&&s&&(l=i[a=Sm($a(e))]),l&&as(l,t,6,r);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,as(c,t,6,r)}}function OC(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!ut(t)){const l=c=>{const u=OC(c,e,!0);u&&(a=!0,Yn(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Yt(t)&&i.set(t,null),null):(et(s)?s.forEach(l=>o[l]=null):Yn(o,s),Yt(t)&&i.set(t,o),o)}function op(t,e){return!t||!ep(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ft(t,e[0].toLowerCase()+e.slice(1))||Ft(t,$a(e))||Ft(t,e))}function F1(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:m,ctx:g,inheritAttrs:y}=t,O=Gh(t);let _,A;try{if(n.shapeFlag&4){const T=r||i,N=T;_=Wr(c.call(N,T,u,f,m,d,g)),A=a}else{const T=e;_=Wr(T.length>1?T(f,{attrs:a,slots:o,emit:l}):T(f,null)),A=e.props?a:kM(a)}}catch(T){tu.length=0,rp(T,t,1),_=Ot(xa)}let R=_;if(A&&y!==!1){const T=Object.keys(A),{shapeFlag:N}=R;T.length&&N&7&&(s&&T.some(Xb)&&(A=EM(A,s)),R=Ll(R,A,!1,!0))}return n.dirs&&(R=Ll(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&ay(R,n.transition),_=R,Gh(O),_}const kM=t=>{let e;for(const n in t)(n==="class"||n==="style"||ep(n))&&((e||(e={}))[n]=t[n]);return e},EM=(t,e)=>{const n={};for(const i in t)(!Xb(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function DM(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?B1(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==i[d]&&!op(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?B1(i,o,c):!0:!!o;return!1}function B1(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!op(n,s))return!0}return!1}function RM({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const xC=t=>t.__isSuspense;function $M(t,e){e&&e.pendingBranch?et(t)?e.effects.push(...t):e.effects.push(t):zP(t)}const Ye=Symbol.for("v-fgt"),ap=Symbol.for("v-txt"),xa=Symbol.for("v-cmt"),Rm=Symbol.for("v-stc"),tu=[];let Bi=null;function K(t=!1){tu.push(Bi=t?null:[])}function PM(){tu.pop(),Bi=tu[tu.length-1]||null}let bu=1;function H1(t,e=!1){bu+=t,t<0&&Bi&&e&&(Bi.hasOnce=!0)}function wC(t){return t.dynamicChildren=bu>0?Bi||ml:null,PM(),bu>0&&Bi&&Bi.push(t),t}function Z(t,e,n,i,r,s){return wC(x(t,e,n,i,r,s,!0))}function Zh(t,e,n,i,r){return wC(Ot(t,e,n,i,r,!0))}function ed(t){return t?t.__v_isVNode===!0:!1}function kc(t,e){return t.type===e.type&&t.key===e.key}const _C=({key:t})=>t??null,xh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?pn(t)||Xn(t)||ut(t)?{i:Ji,r:t,k:e,f:!!n}:t:null);function x(t,e=null,n=null,i=0,r=null,s=t===Ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_C(e),ref:e&&xh(e),scopeId:ZS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ji};return a?(cy(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=pn(n)?8:16),bu>0&&!o&&Bi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Bi.push(l),l}const Ot=MM;function MM(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===rM)&&(t=xa),ed(t)){const a=Ll(t,e,!0);return n&&cy(a,n),bu>0&&!s&&Bi&&(a.shapeFlag&6?Bi[Bi.indexOf(t)]=a:Bi.push(a)),a.patchFlag=-2,a}if(zM(t)&&(t=t.__vccOpts),e){e=LM(e);let{class:a,style:l}=e;a&&!pn(a)&&(e.class=un(a)),Yt(l)&&(sy(l)&&!et(l)&&(l=Yn({},l)),e.style=Kb(l))}const o=pn(t)?1:xC(t)?128:qP(t)?64:Yt(t)?4:ut(t)?2:0;return x(t,e,n,i,r,o,s,!0)}function LM(t){return t?sy(t)||cC(t)?Yn({},t):t:null}function Ll(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?NM(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&_C(c),ref:e&&e.ref?n&&s?et(s)?s.concat(xh(e)):[s,xh(e)]:xh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ll(t.ssContent),ssFallback:t.ssFallback&&Ll(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&ay(u,l.clone(u)),u}function jt(t=" ",e=0){return Ot(ap,null,t,e)}function dt(t="",e=!1){return e?(K(),Zh(xa,null,t)):Ot(xa,null,t)}function Wr(t){return t==null||typeof t=="boolean"?Ot(xa):et(t)?Ot(Ye,null,t.slice()):ed(t)?to(t):Ot(ap,null,String(t))}function to(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ll(t)}function cy(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(et(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),cy(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!cC(e)?e._ctx=Ji:r===3&&Ji&&(Ji.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:Ji},n=32):(e=String(e),i&64?(n=16,e=[jt(e)]):n=8);t.children=e,t.shapeFlag|=n}function NM(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=un([e.class,i.class]));else if(r==="style")e.style=Kb([e.style,i.style]);else if(ep(r)){const s=e[r],o=i[r];o&&s!==o&&!(et(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function Fr(t,e,n,i=null){as(t,e,7,[n,i])}const IM=oC();let FM=0;function BM(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||IM,s={uid:FM++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ES(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fC(i,r),emitsOptions:OC(i,r),emit:null,emitted:null,propsDefaults:zt,inheritAttrs:i.inheritAttrs,ctx:zt,data:zt,props:zt,attrs:zt,slots:zt,refs:zt,setupState:zt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=AM.bind(null,s),t.ce&&t.ce(s),s}let ci=null,td,tv;{const t=np(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};td=e("__VUE_INSTANCE_SETTERS__",n=>ci=n),tv=e("__VUE_SSR_SETTERS__",n=>yu=n)}const sf=t=>{const e=ci;return td(t),t.scope.on(),()=>{t.scope.off(),td(e)}},j1=()=>{ci&&ci.scope.off(),td(null)};function SC(t){return t.vnode.shapeFlag&4}let yu=!1;function HM(t,e=!1,n=!1){e&&tv(e);const{props:i,children:r}=t.vnode,s=SC(t);dM(t,i,s,e),vM(t,r,n);const o=s?jM(t,e):void 0;return e&&tv(!1),o}function jM(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sM);const{setup:i}=n;if(i){$o();const r=t.setupContext=i.length>1?QM(t):null,s=sf(t),o=nf(i,t,0,[t.props,r]),a=xS(o);if(Po(),s(),(a||t.sp)&&!Zc(t)&&tC(t),a){if(o.then(j1,j1),e)return o.then(l=>{V1(t,l)}).catch(l=>{rp(l,t,0)});t.asyncDep=o}else V1(t,o)}else CC(t)}function V1(t,e,n){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Yt(e)&&(t.setupState=XS(e)),CC(t)}function CC(t,e,n){const i=t.type;t.render||(t.render=i.render||ts);{const r=sf(t);$o();try{oM(t)}finally{Po(),r()}}}const VM={get(t,e){return Qn(t,"get",""),t[e]}};function QM(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,VM),slots:t.slots,emit:t.emit,expose:e}}function lp(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(XS(qS(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in eu)return eu[n](t)},has(e,n){return n in e||n in eu}})):t.proxy}function zM(t){return ut(t)&&"__vccOpts"in t}const Wn=(t,e)=>BP(t,e,yu);function TC(t,e,n){const i=arguments.length;return i===2?Yt(e)&&!et(e)?ed(e)?Ot(t,null,[e]):Ot(t,e):Ot(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&ed(n)&&(n=[n]),Ot(t,e,n))}const WM="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nv;const Q1=typeof window<"u"&&window.trustedTypes;if(Q1)try{nv=Q1.createPolicy("vue",{createHTML:t=>t})}catch{}const AC=nv?t=>nv.createHTML(t):t=>t,qM="http://www.w3.org/2000/svg",UM="http://www.w3.org/1998/Math/MathML",bs=typeof document<"u"?document:null,z1=bs&&bs.createElement("template"),XM={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?bs.createElementNS(qM,t):e==="mathml"?bs.createElementNS(UM,t):n?bs.createElement(t,{is:n}):bs.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>bs.createTextNode(t),createComment:t=>bs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{z1.innerHTML=AC(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=z1.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},YM=Symbol("_vtc");function GM(t,e,n){const i=t[YM];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const W1=Symbol("_vod"),KM=Symbol("_vsh"),JM=Symbol(""),ZM=/(^|;)\s*display\s*:/;function eL(t,e,n){const i=t.style,r=pn(n);let s=!1;if(n&&!r){if(e)if(pn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&wh(i,a,"")}else for(const o in e)n[o]==null&&wh(i,o,"");for(const o in n)o==="display"&&(s=!0),wh(i,o,n[o])}else if(r){if(e!==n){const o=i[JM];o&&(n+=";"+o),i.cssText=n,s=ZM.test(n)}}else e&&t.removeAttribute("style");W1 in t&&(t[W1]=s?i.display:"",t[KM]&&(i.display="none"))}const q1=/\s*!important$/;function wh(t,e,n){if(et(n))n.forEach(i=>wh(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=tL(t,e);q1.test(n)?t.setProperty($a(i),n.replace(q1,""),"important"):t[i]=n}}const U1=["Webkit","Moz","ms"],$m={};function tL(t,e){const n=$m[e];if(n)return n;let i=xo(e);if(i!=="filter"&&i in t)return $m[e]=i;i=SS(i);for(let r=0;r<U1.length;r++){const s=U1[r]+i;if(s in t)return $m[e]=s}return e}const X1="http://www.w3.org/1999/xlink";function Y1(t,e,n,i,r,s=dP(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(X1,e.slice(6,e.length)):t.setAttributeNS(X1,e,n):n==null||s&&!TS(n)?t.removeAttribute(e):t.setAttribute(e,s?"":os(n)?String(n):n)}function G1(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?AC(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=TS(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Ss(t,e,n,i){t.addEventListener(e,n,i)}function nL(t,e,n,i){t.removeEventListener(e,n,i)}const K1=Symbol("_vei");function iL(t,e,n,i,r=null){const s=t[K1]||(t[K1]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=rL(e);if(i){const c=s[e]=aL(i,r);Ss(t,a,c,l)}else o&&(nL(t,a,o,l),s[e]=void 0)}}const J1=/(?:Once|Passive|Capture)$/;function rL(t){let e;if(J1.test(t)){e={};let i;for(;i=t.match(J1);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$a(t.slice(2)),e]}let Pm=0;const sL=Promise.resolve(),oL=()=>Pm||(sL.then(()=>Pm=0),Pm=Date.now());function aL(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;as(lL(i,n.value),e,5,[i])};return n.value=t,n.attached=oL(),n}function lL(t,e){if(et(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const Z1=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,cL=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?GM(t,i,o):e==="style"?eL(t,n,i):ep(e)?Xb(e)||iL(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):uL(t,e,i,o))?(G1(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Y1(t,e,i,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!pn(i))?G1(t,xo(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Y1(t,e,i,o))};function uL(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Z1(e)&&ut(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Z1(e)&&pn(n)?!1:e in t}const wo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return et(e)?n=>yh(e,n):e};function fL(t){t.target.composing=!0}function eO(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ir=Symbol("_assign"),Ur={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[ir]=wo(r);const s=i||r.props&&r.props.type==="number";Ss(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Uh(a)),t[ir](a)}),n&&Ss(t,"change",()=>{t.value=t.value.trim()}),e||(Ss(t,"compositionstart",fL),Ss(t,"compositionend",eO),Ss(t,"change",eO))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(t[ir]=wo(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Uh(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},$s={deep:!0,created(t,e,n){t[ir]=wo(n),Ss(t,"change",()=>{const i=t._modelValue,r=Nl(t),s=t.checked,o=t[ir];if(et(i)){const a=Jb(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(sc(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(kC(t,s))})},mounted:tO,beforeUpdate(t,e,n){t[ir]=wo(n),tO(t,e,n)}};function tO(t,{value:e,oldValue:n},i){t._modelValue=e;let r;if(et(e))r=Jb(e,i.props.value)>-1;else if(sc(e))r=e.has(i.props.value);else{if(e===n)return;r=ya(e,kC(t,!0))}t.checked!==r&&(t.checked=r)}const nO={created(t,{value:e},n){t.checked=ya(e,n.props.value),t[ir]=wo(n),Ss(t,"change",()=>{t[ir](Nl(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[ir]=wo(i),e!==n&&(t.checked=ya(e,i.props.value))}},nd={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=sc(e);Ss(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Uh(Nl(o)):Nl(o));t[ir](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,Ml(()=>{t._assigning=!1})}),t[ir]=wo(i)},mounted(t,{value:e}){iO(t,e)},beforeUpdate(t,e,n){t[ir]=wo(n)},updated(t,{value:e}){t._assigning||iO(t,e)}};function iO(t,e){const n=t.multiple,i=et(e);if(!(n&&!i&&!sc(e))){for(let r=0,s=t.options.length;r<s;r++){const o=t.options[r],a=Nl(o);if(n)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Jb(e,a)>-1}else o.selected=e.has(a);else if(ya(Nl(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Nl(t){return"_value"in t?t._value:t.value}function kC(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const hL=["ctrl","shift","alt","meta"],dL={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>hL.some(n=>t[`${n}Key`]&&!e.includes(n))},Hi=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<e.length;o++){const a=dL[e[o]];if(a&&a(r,e))return}return t(r,...s)})},pL=Yn({patchProp:cL},XM);let rO;function mL(){return rO||(rO=yM(pL))}const gL=(...t)=>{const e=mL().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=bL(i);if(!r)return;const s=e._component;!ut(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,vL(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function vL(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function bL(t){return pn(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const yL=Symbol();var sO;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(sO||(sO={}));function OL(){const t=mP(!0),e=t.run(()=>ht({}));let n=[],i=[];const r=qS({install(s){r._a=s,s.provide(yL,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return this._a?n.push(s):i.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}function EC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mm={exports:{}},oO;function xL(){return oO||(oO=1,function(t,e){(function(n,i,r,s,o){if("customElements"in r)o();else{if(r.AWAITING_WEB_COMPONENTS_POLYFILL)return void r.AWAITING_WEB_COMPONENTS_POLYFILL.then(o);var a=r.AWAITING_WEB_COMPONENTS_POLYFILL=u();a.then(o);var l=r.WEB_COMPONENTS_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.0.2/webcomponents-bundle.js",c=r.ES6_CORE_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/core-js/2.5.3/core.min.js";"Promise"in r?f(l).then(function(){a.isDone=!0,a.exec()}):f(c).then(function(){f(l).then(function(){a.isDone=!0,a.exec()})})}function u(){var d=[];return d.isDone=!1,d.exec=function(){d.splice(0).forEach(function(m){m()})},d.then=function(m){return d.isDone?m():d.push(m),d},d}function f(d){var m=u(),g=s.createElement("script");return g.type="text/javascript",g.readyState?g.onreadystatechange=function(){g.readyState!="loaded"&&g.readyState!="complete"||(g.onreadystatechange=null,m.isDone=!0,m.exec())}:g.onload=function(){m.isDone=!0,m.exec()},g.src=d,s.getElementsByTagName("head")[0].appendChild(g),g.then=m.then,g}})(0,0,window,document,function(){var n;n=function(){return function(i){var r={};function s(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return i[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=i,s.c=r,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(1&a&&(o=s(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var c in o)s.d(l,c,(function(u){return o[u]}).bind(null,c));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s=5)}([function(i,r){i.exports=function(s){var o=[];return o.toString=function(){return this.map(function(a){var l=function(c,u){var f,d=c[1]||"",m=c[3];if(!m)return d;if(u&&typeof btoa=="function"){var g=(f=m,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),y=m.sources.map(function(O){return"/*# sourceURL="+m.sourceRoot+O+" */"});return[d].concat(y).concat([g]).join(`
`)}return[d].join(`
`)}(a,s);return a[2]?"@media "+a[2]+"{"+l+"}":l}).join("")},o.i=function(a,l){typeof a=="string"&&(a=[[null,a,""]]);for(var c={},u=0;u<this.length;u++){var f=this[u][0];typeof f=="number"&&(c[f]=!0)}for(u=0;u<a.length;u++){var d=a[u];typeof d[0]=="number"&&c[d[0]]||(l&&!d[2]?d[2]=l:l&&(d[2]="("+d[2]+") and ("+l+")"),o.push(d))}},o}},function(i,r,s){var o=s(3);i.exports=typeof o=="string"?o:o.toString()},function(i,r,s){var o=s(4);i.exports=typeof o=="string"?o:o.toString()},function(i,r,s){(i.exports=s(0)(!1)).push([i.i,"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@-webkit-keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@-webkit-keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@-webkit-keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@-webkit-keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@-webkit-keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:scaleX(1) rotate(-10deg);transform:scaleX(1) rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.bx-spin,.bx-spin-hover:hover{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.bx-tada,.bx-tada-hover:hover{-webkit-animation:tada 1.5s ease infinite;animation:tada 1.5s ease infinite}.bx-flashing,.bx-flashing-hover:hover{-webkit-animation:flashing 1.5s infinite linear;animation:flashing 1.5s infinite linear}.bx-burst,.bx-burst-hover:hover{-webkit-animation:burst 1.5s infinite linear;animation:burst 1.5s infinite linear}.bx-fade-up,.bx-fade-up-hover:hover{-webkit-animation:fade-up 1.5s infinite linear;animation:fade-up 1.5s infinite linear}.bx-fade-down,.bx-fade-down-hover:hover{-webkit-animation:fade-down 1.5s infinite linear;animation:fade-down 1.5s infinite linear}.bx-fade-left,.bx-fade-left-hover:hover{-webkit-animation:fade-left 1.5s infinite linear;animation:fade-left 1.5s infinite linear}.bx-fade-right,.bx-fade-right-hover:hover{-webkit-animation:fade-right 1.5s infinite linear;animation:fade-right 1.5s infinite linear}",""])},function(i,r,s){(i.exports=s(0)(!1)).push([i.i,'.bx-rotate-90{transform:rotate(90deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)"}.bx-rotate-180{transform:rotate(180deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)"}.bx-rotate-270{transform:rotate(270deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}.bx-flip-horizontal{transform:scaleX(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)"}.bx-flip-vertical{transform:scaleY(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}',""])},function(i,r,s){s.r(r),s.d(r,"BoxIconElement",function(){return N});var o,a,l,c,u=s(1),f=s.n(u),d=s(2),m=s.n(d),g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},y=function(){function I(v,z){for(var G=0;G<z.length;G++){var oe=z[G];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(v,oe.key,oe)}}return function(v,z,G){return z&&I(v.prototype,z),G&&I(v,G),v}}(),O=(a=(o=Object).getPrototypeOf||function(I){return I.__proto__},l=o.setPrototypeOf||function(I,v){return I.__proto__=v,I},c=(typeof Reflect>"u"?"undefined":g(Reflect))==="object"?Reflect.construct:function(I,v,z){var G,oe=[null];return oe.push.apply(oe,v),G=I.bind.apply(I,oe),l(new G,z.prototype)},function(I){var v=a(I);return l(I,l(function(){return c(v,arguments,a(this).constructor)},v))}),_=window,A={},R=document.createElement("template"),T=function(){return!!_.ShadyCSS};R.innerHTML=`
<style>
:host {
  display: inline-block;
  font-size: initial;
  box-sizing: border-box;
  width: 24px;
  height: 24px;
}
:host([size=xs]) {
    width: 0.8rem;
    height: 0.8rem;
}
:host([size=sm]) {
    width: 1.55rem;
    height: 1.55rem;
}
:host([size=md]) {
    width: 2.25rem;
    height: 2.25rem;
}
:host([size=lg]) {
    width: 3.0rem;
    height: 3.0rem;
}

:host([size]:not([size=""]):not([size=xs]):not([size=sm]):not([size=md]):not([size=lg])) {
    width: auto;
    height: auto;
}
:host([pull=left]) #icon {
    float: left;
    margin-right: .3em!important;
}
:host([pull=right]) #icon {
    float: right;
    margin-left: .3em!important;
}
:host([border=square]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: .25em;
}
:host([border=circle]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: 50%;
}
#icon,
svg {
  width: 100%;
  height: 100%;
}
#icon {
    box-sizing: border-box;
} 
`+f.a+`
`+m.a+`
</style>
<div id="icon"></div>`;var N=O(function(I){function v(){(function(G,oe){if(!(G instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,v);var z=function(G,oe){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!oe||typeof oe!="object"&&typeof oe!="function"?G:oe}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return z.$ui=z.attachShadow({mode:"open"}),z.$ui.appendChild(z.ownerDocument.importNode(R.content,!0)),T()&&_.ShadyCSS.styleElement(z),z._state={$iconHolder:z.$ui.getElementById("icon"),type:z.getAttribute("type")},z}return function(z,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);z.prototype=Object.create(G&&G.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(z,G):z.__proto__=G)}(v,HTMLElement),y(v,null,[{key:"getIconSvg",value:function(z,G){var oe=this.cdnUrl+"/regular/bx-"+z+".svg";return G==="solid"?oe=this.cdnUrl+"/solid/bxs-"+z+".svg":G==="logo"&&(oe=this.cdnUrl+"/logos/bxl-"+z+".svg"),oe&&A[oe]||(A[oe]=new Promise(function(ve,ne){var X=new XMLHttpRequest;X.addEventListener("load",function(){this.status<200||this.status>=300?ne(new Error(this.status+" "+this.responseText)):ve(this.responseText)}),X.onerror=ne,X.onabort=ne,X.open("GET",oe),X.send()})),A[oe]}},{key:"define",value:function(z){z=z||this.tagName,T()&&_.ShadyCSS.prepareTemplate(R,z),customElements.define(z,this)}},{key:"cdnUrl",get:function(){return"//unpkg.com/boxicons@2.1.4/svg"}},{key:"tagName",get:function(){return"box-icon"}},{key:"observedAttributes",get:function(){return["type","name","color","size","rotate","flip","animation","border","pull"]}}]),y(v,[{key:"attributeChangedCallback",value:function(z,G,oe){var ve=this._state.$iconHolder;switch(z){case"type":(function(ne,X,le){var W=ne._state;W.$iconHolder.textContent="",W.type&&(W.type=null),W.type=!le||le!=="solid"&&le!=="logo"?"regular":le,W.currentName!==void 0&&ne.constructor.getIconSvg(W.currentName,W.type).then(function(V){W.type===le&&(W.$iconHolder.innerHTML=V)}).catch(function(V){console.error("Failed to load icon: "+W.currentName+`
`+V)})})(this,0,oe);break;case"name":(function(ne,X,le){var W=ne._state;W.currentName=le,W.$iconHolder.textContent="",le&&W.type!==void 0&&ne.constructor.getIconSvg(le,W.type).then(function(V){W.currentName===le&&(W.$iconHolder.innerHTML=V)}).catch(function(V){console.error("Failed to load icon: "+le+`
`+V)})})(this,0,oe);break;case"color":ve.style.fill=oe||"";break;case"size":(function(ne,X,le){var W=ne._state;W.size&&(W.$iconHolder.style.width=W.$iconHolder.style.height="",W.size=W.sizeType=null),le&&!/^(xs|sm|md|lg)$/.test(W.size)&&(W.size=le.trim(),W.$iconHolder.style.width=W.$iconHolder.style.height=W.size)})(this,0,oe);break;case"rotate":G&&ve.classList.remove("bx-rotate-"+G),oe&&ve.classList.add("bx-rotate-"+oe);break;case"flip":G&&ve.classList.remove("bx-flip-"+G),oe&&ve.classList.add("bx-flip-"+oe);break;case"animation":G&&ve.classList.remove("bx-"+G),oe&&ve.classList.add("bx-"+oe)}}},{key:"connectedCallback",value:function(){T()&&_.ShadyCSS.styleElement(this)}}]),v}());r.default=N,N.define()}])},t.exports=n()})}(Mm)),Mm.exports}var wL=xL();const _L=EC(wL);let aO;(function(){document.querySelectorAll("#layout-menu").forEach(function(l){aO=new Menu(l,{orientation:"vertical",closeChildren:!1}),window.Helpers.scrollToActive(!1),window.Helpers.mainMenu=aO}),document.querySelectorAll(".layout-menu-toggle").forEach(l=>{l.addEventListener("click",c=>{c.preventDefault(),window.Helpers.toggleCollapsed()})});let n=function(l,c){let u=null;l.onmouseenter=function(){Helpers.isSmallScreen()?u=setTimeout(c,0):u=setTimeout(c,300)},l.onmouseleave=function(){document.querySelector(".layout-menu-toggle").classList.remove("d-block"),clearTimeout(u)}};document.getElementById("layout-menu")&&n(document.getElementById("layout-menu"),function(){Helpers.isSmallScreen()||document.querySelector(".layout-menu-toggle").classList.add("d-block")});let i=document.getElementsByClassName("menu-inner"),r=document.getElementsByClassName("menu-inner-shadow")[0];i.length>0&&r&&i[0].addEventListener("ps-scroll-y",function(){this.querySelector(".ps__thumb-y").offsetTop?r.style.display="block":r.style.display="none"}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(l){return new bootstrap.Tooltip(l)});const o=function(l){l.type=="show.bs.collapse"||l.type=="show.bs.collapse"?l.target.closest(".accordion-item").classList.add("active"):l.target.closest(".accordion-item").classList.remove("active")};[].slice.call(document.querySelectorAll(".accordion")).map(function(l){l.addEventListener("show.bs.collapse",o),l.addEventListener("hide.bs.collapse",o)})})();const SL={name:"TopNavigation",props:{url:{type:String,required:!0}}},Pa=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},CL={class:"navbar shadow-sm navbar-light"},TL={class:"breadcrumb bg-transparent d-flex align-items-center"},AL={href:"/","aria-current":"page",role:"menuitem"},kL=["src"],EL={class:"breadcrumb-item"},DL=["href"];function RL(t,e,n,i,r,s){return K(),Z("nav",CL,[x("ol",TL,[x("a",AL,[x("img",{src:`${t.$props.url}/assets/logo.png`,class:"img-logo"},null,8,kL)]),e[0]||(e[0]=x("li",{class:"breadcrumb-item"},[x("a",{class:"align-middle",href:"/"},"Home")],-1)),x("li",EL,[x("a",{class:"align-middle",href:`${t.$props.url}`},"AlertX",8,DL)])])])}const $L=Pa(SL,[["render",RL]]),PL=["id"],ML={class:"modal-dialog modal-xl"},LL={class:"modal-content"},NL={class:"modal-header"},IL={class:"modal-title",id:"modalLabel"},FL={style:{color:"blue"}},BL={class:"modal-body"},HL={class:"table table-striped table-bordered"},jL=Kn({__name:"OverviewAlerts",props:{alerts:{},modalId:{},hostname:{},ruleType:{}},emits:["modal-open","modal-close"],setup(t,{emit:e}){const n=t,i=e;return Mo(()=>{const r=document.getElementById(n.modalId);r&&(r.addEventListener("shown.bs.modal",()=>i("modal-open")),r.addEventListener("hidden.bs.modal",()=>i("modal-close")))}),rf(()=>{const r=document.getElementById(n.modalId);r&&(r.removeEventListener("shown.bs.modal",()=>i("modal-open")),r.removeEventListener("hidden.bs.modal",()=>i("modal-close")))}),(r,s)=>(K(),Z("div",null,[x("div",{class:"modal fade",id:n.modalId,tabindex:"-1","aria-labelledby":"modalLabel"},[x("div",ML,[x("div",LL,[x("div",NL,[x("h5",IL,[s[0]||(s[0]=jt("Alerts Overview for ")),x("span",FL,[x("i",null,xe(n.hostname),1)]),jt(" ["+xe(n.ruleType)+"]",1)]),s[1]||(s[1]=x("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),x("div",BL,[x("table",HL,[s[2]||(s[2]=x("thead",null,[x("tr",null,[x("th",null,"#"),x("th",null,"Rule"),x("th",null,"State"),x("th",null,"Severity"),x("th",null,"NHC"),x("th",null,"Exporter"),x("th",null,"Path"),x("th",null,"Description")])],-1)),x("tbody",null,[(K(!0),Z(Ye,null,yn(n.alerts,(o,a)=>(K(),Z("tr",{key:o.state},[x("td",null,xe(a+1),1),x("td",null,xe(o.labels.alertname),1),x("td",null,xe(o.state),1),x("td",null,xe(o.labels.severity),1),x("td",null,xe(o.labels.nhc),1),x("td",null,xe(o.labels.exporter),1),x("td",null,xe(o.labels.path),1),x("td",null,xe(o.annotations.description),1)]))),128))])])]),s[3]||(s[3]=x("div",{class:"modal-footer"},[x("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])],8,PL)]))}}),ms=Pa(jL,[["__scopeId","data-v-c727f81a"]]);function DC(t,e){return function(){return t.apply(e,arguments)}}const{toString:VL}=Object.prototype,{getPrototypeOf:uy}=Object,cp=(t=>e=>{const n=VL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Er=t=>(t=t.toLowerCase(),e=>cp(e)===t),up=t=>e=>typeof e===t,{isArray:oc}=Array,Ou=up("undefined");function QL(t){return t!==null&&!Ou(t)&&t.constructor!==null&&!Ou(t.constructor)&&Vi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const RC=Er("ArrayBuffer");function zL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&RC(t.buffer),e}const WL=up("string"),Vi=up("function"),$C=up("number"),fp=t=>t!==null&&typeof t=="object",qL=t=>t===!0||t===!1,_h=t=>{if(cp(t)!=="object")return!1;const e=uy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},UL=Er("Date"),XL=Er("File"),YL=Er("Blob"),GL=Er("FileList"),KL=t=>fp(t)&&Vi(t.pipe),JL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Vi(t.append)&&((e=cp(t))==="formdata"||e==="object"&&Vi(t.toString)&&t.toString()==="[object FormData]"))},ZL=Er("URLSearchParams"),[eN,tN,nN,iN]=["ReadableStream","Request","Response","Headers"].map(Er),rN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function of(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),oc(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function PC(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MC=t=>!Ou(t)&&t!==ta;function iv(){const{caseless:t}=MC(this)&&this||{},e={},n=(i,r)=>{const s=t&&PC(e,r)||r;_h(e[s])&&_h(i)?e[s]=iv(e[s],i):_h(i)?e[s]=iv({},i):oc(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&of(arguments[i],n);return e}const sN=(t,e,n,{allOwnKeys:i}={})=>(of(e,(r,s)=>{n&&Vi(r)?t[s]=DC(r,n):t[s]=r},{allOwnKeys:i}),t),oN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),aN=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lN=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&uy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},cN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},uN=t=>{if(!t)return null;if(oc(t))return t;let e=t.length;if(!$C(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},fN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&uy(Uint8Array)),hN=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},dN=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},pN=Er("HTMLFormElement"),mN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),lO=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),gN=Er("RegExp"),LC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};of(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},vN=t=>{LC(t,(e,n)=>{if(Vi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Vi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bN=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return oc(t)?i(t):i(String(t).split(e)),n},yN=()=>{},ON=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Lm="abcdefghijklmnopqrstuvwxyz",cO="0123456789",NC={DIGIT:cO,ALPHA:Lm,ALPHA_DIGIT:Lm+Lm.toUpperCase()+cO},xN=(t=16,e=NC.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function wN(t){return!!(t&&Vi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _N=t=>{const e=new Array(10),n=(i,r)=>{if(fp(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=oc(i)?[]:{};return of(i,(o,a)=>{const l=n(o,r+1);!Ou(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},SN=Er("AsyncFunction"),CN=t=>t&&(fp(t)||Vi(t))&&Vi(t.then)&&Vi(t.catch),IC=((t,e)=>t?setImmediate:e?((n,i)=>(ta.addEventListener("message",({source:r,data:s})=>{r===ta&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),ta.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vi(ta.postMessage)),TN=typeof queueMicrotask<"u"?queueMicrotask.bind(ta):typeof process<"u"&&process.nextTick||IC,re={isArray:oc,isArrayBuffer:RC,isBuffer:QL,isFormData:JL,isArrayBufferView:zL,isString:WL,isNumber:$C,isBoolean:qL,isObject:fp,isPlainObject:_h,isReadableStream:eN,isRequest:tN,isResponse:nN,isHeaders:iN,isUndefined:Ou,isDate:UL,isFile:XL,isBlob:YL,isRegExp:gN,isFunction:Vi,isStream:KL,isURLSearchParams:ZL,isTypedArray:fN,isFileList:GL,forEach:of,merge:iv,extend:sN,trim:rN,stripBOM:oN,inherits:aN,toFlatObject:lN,kindOf:cp,kindOfTest:Er,endsWith:cN,toArray:uN,forEachEntry:hN,matchAll:dN,isHTMLForm:pN,hasOwnProperty:lO,hasOwnProp:lO,reduceDescriptors:LC,freezeMethods:vN,toObjectSet:bN,toCamelCase:mN,noop:yN,toFiniteNumber:ON,findKey:PC,global:ta,isContextDefined:MC,ALPHABET:NC,generateString:xN,isSpecCompliantForm:wN,toJSONObject:_N,isAsyncFn:SN,isThenable:CN,setImmediate:IC,asap:TN};function ct(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}re.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const FC=ct.prototype,BC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{BC[t]={value:t}});Object.defineProperties(ct,BC);Object.defineProperty(FC,"isAxiosError",{value:!0});ct.from=(t,e,n,i,r,s)=>{const o=Object.create(FC);return re.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ct.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const AN=null;function rv(t){return re.isPlainObject(t)||re.isArray(t)}function HC(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function uO(t,e,n){return t?t.concat(e).map(function(r,s){return r=HC(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function kN(t){return re.isArray(t)&&!t.some(rv)}const EN=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function hp(t,e,n){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,O){return!re.isUndefined(O[y])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(r))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(re.isDate(g))return g.toISOString();if(!l&&re.isBlob(g))throw new ct("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(g)||re.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,O){let _=g;if(g&&!O&&typeof g=="object"){if(re.endsWith(y,"{}"))y=i?y:y.slice(0,-2),g=JSON.stringify(g);else if(re.isArray(g)&&kN(g)||(re.isFileList(g)||re.endsWith(y,"[]"))&&(_=re.toArray(g)))return y=HC(y),_.forEach(function(R,T){!(re.isUndefined(R)||R===null)&&e.append(o===!0?uO([y],T,s):o===null?y:y+"[]",c(R))}),!1}return rv(g)?!0:(e.append(uO(O,y,s),c(g)),!1)}const f=[],d=Object.assign(EN,{defaultVisitor:u,convertValue:c,isVisitable:rv});function m(g,y){if(!re.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),re.forEach(g,function(_,A){(!(re.isUndefined(_)||_===null)&&r.call(e,_,re.isString(A)?A.trim():A,y,d))===!0&&m(_,y?y.concat(A):[A])}),f.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return m(t),e}function fO(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function fy(t,e){this._pairs=[],t&&hp(t,this,e)}const jC=fy.prototype;jC.append=function(e,n){this._pairs.push([e,n])};jC.toString=function(e){const n=e?function(i){return e.call(this,i,fO)}:fO;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function DN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VC(t,e,n){if(!e)return t;const i=n&&n.encode||DN;re.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=re.isURLSearchParams(e)?e.toString():new fy(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class hO{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(i){i!==null&&e(i)})}}const QC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RN=typeof URLSearchParams<"u"?URLSearchParams:fy,$N=typeof FormData<"u"?FormData:null,PN=typeof Blob<"u"?Blob:null,MN={isBrowser:!0,classes:{URLSearchParams:RN,FormData:$N,Blob:PN},protocols:["http","https","file","blob","url","data"]},hy=typeof window<"u"&&typeof document<"u",sv=typeof navigator=="object"&&navigator||void 0,LN=hy&&(!sv||["ReactNative","NativeScript","NS"].indexOf(sv.product)<0),NN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",IN=hy&&window.location.href||"http://localhost",FN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hy,hasStandardBrowserEnv:LN,hasStandardBrowserWebWorkerEnv:NN,navigator:sv,origin:IN},Symbol.toStringTag,{value:"Module"})),qn={...FN,...MN};function BN(t,e){return hp(t,new qn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return qn.isNode&&re.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function HN(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jN(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function zC(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&re.isArray(r)?r.length:o,l?(re.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!re.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&re.isArray(r[o])&&(r[o]=jN(r[o])),!a)}if(re.isFormData(t)&&re.isFunction(t.entries)){const n={};return re.forEachEntry(t,(i,r)=>{e(HN(i),r,n,0)}),n}return null}function VN(t,e,n){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const af={transitional:QC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return r?JSON.stringify(zC(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return BN(e,this.formSerializer).toString();if((a=re.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),VN(e)):e}],transformResponse:[function(e){const n=this.transitional||af.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ct.from(a,ct.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{af.headers[t]={}});const QN=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zN=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&QN[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},dO=Symbol("internals");function Ec(t){return t&&String(t).trim().toLowerCase()}function Sh(t){return t===!1||t==null?t:re.isArray(t)?t.map(Sh):String(t)}function WN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const qN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nm(t,e,n,i,r){if(re.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!re.isString(e)){if(re.isString(i))return e.indexOf(i)!==-1;if(re.isRegExp(i))return i.test(e)}}function UN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function XN(t,e){const n=re.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let Ti=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const u=Ec(l);if(!u)throw new Error("header name must be a non-empty string");const f=re.findKey(r,u);(!f||r[f]===void 0||c===!0||c===void 0&&r[f]!==!1)&&(r[f||l]=Sh(a))}const o=(a,l)=>re.forEach(a,(c,u)=>s(c,u,l));if(re.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(re.isString(e)&&(e=e.trim())&&!qN(e))o(zN(e),n);else if(re.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=Ec(e),e){const i=re.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return WN(r);if(re.isFunction(n))return n.call(this,r,i);if(re.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ec(e),e){const i=re.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Nm(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=Ec(o),o){const a=re.findKey(i,o);a&&(!n||Nm(i,i[a],a,n))&&(delete i[a],r=!0)}}return re.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Nm(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return re.forEach(this,(r,s)=>{const o=re.findKey(i,s);if(o){n[o]=Sh(r),delete n[s];return}const a=e?UN(s):String(s).trim();a!==s&&delete n[s],n[a]=Sh(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return re.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&re.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[dO]=this[dO]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Ec(o);i[a]||(XN(r,o),i[a]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};Ti.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Ti.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});re.freezeMethods(Ti);function Im(t,e){const n=this||af,i=e||n,r=Ti.from(i.headers);let s=i.data;return re.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function WC(t){return!!(t&&t.__CANCEL__)}function ac(t,e,n){ct.call(this,t??"canceled",ct.ERR_CANCELED,e,n),this.name="CanceledError"}re.inherits(ac,ct,{__CANCEL__:!0});function qC(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ct("Request failed with status code "+n.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function YN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function GN(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),n[r]=l,i[r]=c;let f=s,d=0;for(;f!==r;)d+=n[f++],f=f%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(d*1e3/m):void 0}}function KN(t,e){let n=0,i=1e3/e,r,s;const o=(c,u=Date.now())=>{n=u,r=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=i?o(c,u):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-f)))},()=>r&&o(r)]}const id=(t,e,n=3)=>{let i=0;const r=GN(50,250);return KN(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},pO=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},mO=t=>(...e)=>re.asap(()=>t(...e)),JN=qn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,qn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,ZN=qn.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];re.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),re.isString(i)&&o.push("path="+i),re.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function e2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function t2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function UC(t,e){return t&&!e2(e)?t2(t,e):e}const gO=t=>t instanceof Ti?{...t}:t;function wa(t,e){e=e||{};const n={};function i(c,u,f,d){return re.isPlainObject(c)&&re.isPlainObject(u)?re.merge.call({caseless:d},c,u):re.isPlainObject(u)?re.merge({},u):re.isArray(u)?u.slice():u}function r(c,u,f,d){if(re.isUndefined(u)){if(!re.isUndefined(c))return i(void 0,c,f,d)}else return i(c,u,f,d)}function s(c,u){if(!re.isUndefined(u))return i(void 0,u)}function o(c,u){if(re.isUndefined(u)){if(!re.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,f){if(f in e)return i(c,u);if(f in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>r(gO(c),gO(u),f,!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||r,d=f(t[u],e[u],u);re.isUndefined(d)&&f!==a||(n[u]=d)}),n}const XC=t=>{const e=wa({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Ti.from(o),e.url=VC(UC(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(re.isFormData(n)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(qn.hasStandardBrowserEnv&&(i&&re.isFunction(i)&&(i=i(e)),i||i!==!1&&JN(e.url))){const c=r&&s&&ZN.read(s);c&&o.set(r,c)}return e},n2=typeof XMLHttpRequest<"u",i2=n2&&function(t){return new Promise(function(n,i){const r=XC(t);let s=r.data;const o=Ti.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,f,d,m,g;function y(){m&&m(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let O=new XMLHttpRequest;O.open(r.method.toUpperCase(),r.url,!0),O.timeout=r.timeout;function _(){if(!O)return;const R=Ti.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:R,config:t,request:O};qC(function(v){n(v),y()},function(v){i(v),y()},N),O=null}"onloadend"in O?O.onloadend=_:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(_)},O.onabort=function(){O&&(i(new ct("Request aborted",ct.ECONNABORTED,t,O)),O=null)},O.onerror=function(){i(new ct("Network Error",ct.ERR_NETWORK,t,O)),O=null},O.ontimeout=function(){let T=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||QC;r.timeoutErrorMessage&&(T=r.timeoutErrorMessage),i(new ct(T,N.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,t,O)),O=null},s===void 0&&o.setContentType(null),"setRequestHeader"in O&&re.forEach(o.toJSON(),function(T,N){O.setRequestHeader(N,T)}),re.isUndefined(r.withCredentials)||(O.withCredentials=!!r.withCredentials),a&&a!=="json"&&(O.responseType=r.responseType),c&&([d,g]=id(c,!0),O.addEventListener("progress",d)),l&&O.upload&&([f,m]=id(l),O.upload.addEventListener("progress",f),O.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(u=R=>{O&&(i(!R||R.type?new ac(null,t,O):R),O.abort(),O=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const A=YN(r.url);if(A&&qn.protocols.indexOf(A)===-1){i(new ct("Unsupported protocol "+A+":",ct.ERR_BAD_REQUEST,t));return}O.send(s||null)})},r2=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof ct?u:new ac(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new ct(`timeout ${e} of ms exceeded`,ct.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>re.asap(a),l}},s2=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},o2=async function*(t,e){for await(const n of a2(t))yield*s2(n,e)},a2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},vO=(t,e,n,i)=>{const r=o2(t,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let d=s+=f;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},dp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",YC=dp&&typeof ReadableStream=="function",l2=dp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),GC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},c2=YC&&GC(()=>{let t=!1;const e=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),bO=64*1024,ov=YC&&GC(()=>re.isReadableStream(new Response("").body)),rd={stream:ov&&(t=>t.body)};dp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!rd[e]&&(rd[e]=re.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new ct(`Response type '${e}' is not supported`,ct.ERR_NOT_SUPPORT,i)})})})(new Response);const u2=async t=>{if(t==null)return 0;if(re.isBlob(t))return t.size;if(re.isSpecCompliantForm(t))return(await new Request(qn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(re.isArrayBufferView(t)||re.isArrayBuffer(t))return t.byteLength;if(re.isURLSearchParams(t)&&(t=t+""),re.isString(t))return(await l2(t)).byteLength},f2=async(t,e)=>{const n=re.toFiniteNumber(t.getContentLength());return n??u2(e)},h2=dp&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=XC(t);c=c?(c+"").toLowerCase():"text";let m=r2([r,s&&s.toAbortSignal()],o),g;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let O;try{if(l&&c2&&n!=="get"&&n!=="head"&&(O=await f2(u,i))!==0){let N=new Request(e,{method:"POST",body:i,duplex:"half"}),I;if(re.isFormData(i)&&(I=N.headers.get("content-type"))&&u.setContentType(I),N.body){const[v,z]=pO(O,id(mO(l)));i=vO(N.body,bO,v,z)}}re.isString(f)||(f=f?"include":"omit");const _="credentials"in Request.prototype;g=new Request(e,{...d,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:_?f:void 0});let A=await fetch(g);const R=ov&&(c==="stream"||c==="response");if(ov&&(a||R&&y)){const N={};["status","statusText","headers"].forEach(G=>{N[G]=A[G]});const I=re.toFiniteNumber(A.headers.get("content-length")),[v,z]=a&&pO(I,id(mO(a),!0))||[];A=new Response(vO(A.body,bO,v,()=>{z&&z(),y&&y()}),N)}c=c||"text";let T=await rd[re.findKey(rd,c)||"text"](A,t);return!R&&y&&y(),await new Promise((N,I)=>{qC(N,I,{data:T,headers:Ti.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:g})})}catch(_){throw y&&y(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new ct("Network Error",ct.ERR_NETWORK,t,g),{cause:_.cause||_}):ct.from(_,_&&_.code,t,g)}}),av={http:AN,xhr:i2,fetch:h2};re.forEach(av,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yO=t=>`- ${t}`,d2=t=>re.isFunction(t)||t===null||t===!1,KC={getAdapter:t=>{t=re.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!d2(n)&&(i=av[(o=String(n)).toLowerCase()],i===void 0))throw new ct(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(yO).join(`
`):" "+yO(s[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:av};function Fm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ac(null,t)}function OO(t){return Fm(t),t.headers=Ti.from(t.headers),t.data=Im.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KC.getAdapter(t.adapter||af.adapter)(t).then(function(i){return Fm(t),i.data=Im.call(t,t.transformResponse,i),i.headers=Ti.from(i.headers),i},function(i){return WC(i)||(Fm(t),i&&i.response&&(i.response.data=Im.call(t,t.transformResponse,i.response),i.response.headers=Ti.from(i.response.headers))),Promise.reject(i)})}const JC="1.7.9",pp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pp[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const xO={};pp.transitional=function(e,n,i){function r(s,o){return"[Axios v"+JC+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new ct(r(o," has been removed"+(n?" in "+n:"")),ct.ERR_DEPRECATED);return n&&!xO[o]&&(xO[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};pp.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function p2(t,e,n){if(typeof t!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ct("option "+s+" must be "+l,ct.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ct("Unknown option "+s,ct.ERR_BAD_OPTION)}}const Ch={assertOptions:p2,validators:pp},Br=Ch.validators;let ha=class{constructor(e){this.defaults=e,this.interceptors={request:new hO,response:new hO}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=wa(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&Ch.assertOptions(i,{silentJSONParsing:Br.transitional(Br.boolean),forcedJSONParsing:Br.transitional(Br.boolean),clarifyTimeoutError:Br.transitional(Br.boolean)},!1),r!=null&&(re.isFunction(r)?n.paramsSerializer={serialize:r}:Ch.assertOptions(r,{encode:Br.function,serialize:Br.function},!0)),Ch.assertOptions(n,{baseUrl:Br.spelling("baseURL"),withXsrfToken:Br.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&re.merge(s.common,s[n.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Ti.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,f=0,d;if(!l){const g=[OO.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),d=g.length,u=Promise.resolve(n);f<d;)u=u.then(g[f++],g[f++]);return u}d=a.length;let m=n;for(f=0;f<d;){const g=a[f++],y=a[f++];try{m=g(m)}catch(O){y.call(this,O);break}}try{u=OO.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=wa(this.defaults,e);const n=UC(e.baseURL,e.url);return VC(n,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){ha.prototype[e]=function(n,i){return this.request(wa(i||{},{method:e,url:n,data:(i||{}).data}))}});re.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(wa(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ha.prototype[e]=n(),ha.prototype[e+"Form"]=n(!0)});let m2=class ZC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new ac(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ZC(function(r){e=r}),cancel:e}}};function g2(t){return function(n){return t.apply(null,n)}}function v2(t){return re.isObject(t)&&t.isAxiosError===!0}const lv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lv).forEach(([t,e])=>{lv[e]=t});function eT(t){const e=new ha(t),n=DC(ha.prototype.request,e);return re.extend(n,ha.prototype,e,{allOwnKeys:!0}),re.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return eT(wa(t,r))},n}const kt=eT(af);kt.Axios=ha;kt.CanceledError=ac;kt.CancelToken=m2;kt.isCancel=WC;kt.VERSION=JC;kt.toFormData=hp;kt.AxiosError=ct;kt.Cancel=kt.CanceledError;kt.all=function(e){return Promise.all(e)};kt.spread=g2;kt.isAxiosError=v2;kt.mergeConfig=wa;kt.AxiosHeaders=Ti;kt.formToJSON=t=>zC(re.isHTMLForm(t)?new FormData(t):t);kt.getAdapter=KC.getAdapter;kt.HttpStatusCode=lv;kt.default=kt;const{Axios:Dte,AxiosError:cv,CanceledError:Rte,isCancel:$te,CancelToken:Pte,VERSION:Mte,all:Lte,Cancel:Nte,isAxiosError:Ite,spread:Fte,toFormData:Bte,AxiosHeaders:Hte,HttpStatusCode:jte,formToJSON:Vte,getAdapter:Qte,mergeConfig:zte}=kt;var hi="top",Wi="bottom",qi="right",di="left",mp="auto",lc=[hi,Wi,qi,di],_a="start",Il="end",tT="clippingParents",dy="viewport",Za="popper",nT="reference",uv=lc.reduce(function(t,e){return t.concat([e+"-"+_a,e+"-"+Il])},[]),py=[].concat(lc,[mp]).reduce(function(t,e){return t.concat([e,e+"-"+_a,e+"-"+Il])},[]),iT="beforeRead",rT="read",sT="afterRead",oT="beforeMain",aT="main",lT="afterMain",cT="beforeWrite",uT="write",fT="afterWrite",hT=[iT,rT,sT,oT,aT,lT,cT,uT,fT];function ls(t){return t?(t.nodeName||"").toLowerCase():null}function Ui(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Sa(t){var e=Ui(t).Element;return t instanceof e||t instanceof Element}function rr(t){var e=Ui(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function my(t){if(typeof ShadowRoot>"u")return!1;var e=Ui(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function b2(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!rr(s)||!ls(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function y2(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!rr(r)||!ls(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const gp={name:"applyStyles",enabled:!0,phase:"write",fn:b2,effect:y2,requires:["computeStyles"]};function ns(t){return t.split("-")[0]}var da=Math.max,sd=Math.min,Fl=Math.round;function fv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dT(){return!/^((?!chrome|android).)*safari/i.test(fv())}function Bl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&rr(t)&&(r=t.offsetWidth>0&&Fl(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Fl(i.height)/t.offsetHeight||1);var o=Sa(t)?Ui(t):window,a=o.visualViewport,l=!dT()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/s,f=i.width/r,d=i.height/s;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function gy(t){var e=Bl(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function pT(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&my(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ps(t){return Ui(t).getComputedStyle(t)}function O2(t){return["table","td","th"].indexOf(ls(t))>=0}function Lo(t){return((Sa(t)?t.ownerDocument:t.document)||window.document).documentElement}function vp(t){return ls(t)==="html"?t:t.assignedSlot||t.parentNode||(my(t)?t.host:null)||Lo(t)}function wO(t){return!rr(t)||Ps(t).position==="fixed"?null:t.offsetParent}function x2(t){var e=/firefox/i.test(fv()),n=/Trident/i.test(fv());if(n&&rr(t)){var i=Ps(t);if(i.position==="fixed")return null}var r=vp(t);for(my(r)&&(r=r.host);rr(r)&&["html","body"].indexOf(ls(r))<0;){var s=Ps(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function lf(t){for(var e=Ui(t),n=wO(t);n&&O2(n)&&Ps(n).position==="static";)n=wO(n);return n&&(ls(n)==="html"||ls(n)==="body"&&Ps(n).position==="static")?e:n||x2(t)||e}function vy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nu(t,e,n){return da(t,sd(e,n))}function w2(t,e,n){var i=nu(t,e,n);return i>n?n:i}function mT(){return{top:0,right:0,bottom:0,left:0}}function gT(t){return Object.assign({},mT(),t)}function vT(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var _2=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,gT(typeof e!="number"?e:vT(e,lc))};function S2(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ns(n.placement),l=vy(a),c=[di,qi].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var f=_2(r.padding,n),d=gy(s),m=l==="y"?hi:di,g=l==="y"?Wi:qi,y=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],O=o[l]-n.rects.reference[l],_=lf(s),A=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,R=y/2-O/2,T=f[m],N=A-d[u]-f[g],I=A/2-d[u]/2+R,v=nu(T,I,N),z=l;n.modifiersData[i]=(e={},e[z]=v,e.centerOffset=v-I,e)}}function C2(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||pT(e.elements.popper,r)&&(e.elements.arrow=r))}const bT={name:"arrow",enabled:!0,phase:"main",fn:S2,effect:C2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hl(t){return t.split("-")[1]}var T2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function A2(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:Fl(n*r)/r||0,y:Fl(i*r)/r||0}}function _O(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,d=o.x,m=d===void 0?0:d,g=o.y,y=g===void 0?0:g,O=typeof u=="function"?u({x:m,y}):{x:m,y};m=O.x,y=O.y;var _=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),R=di,T=hi,N=window;if(c){var I=lf(n),v="clientHeight",z="clientWidth";if(I===Ui(n)&&(I=Lo(n),Ps(I).position!=="static"&&a==="absolute"&&(v="scrollHeight",z="scrollWidth")),I=I,r===hi||(r===di||r===qi)&&s===Il){T=Wi;var G=f&&I===N&&N.visualViewport?N.visualViewport.height:I[v];y-=G-i.height,y*=l?1:-1}if(r===di||(r===hi||r===Wi)&&s===Il){R=qi;var oe=f&&I===N&&N.visualViewport?N.visualViewport.width:I[z];m-=oe-i.width,m*=l?1:-1}}var ve=Object.assign({position:a},c&&T2),ne=u===!0?A2({x:m,y},Ui(n)):{x:m,y};if(m=ne.x,y=ne.y,l){var X;return Object.assign({},ve,(X={},X[T]=A?"0":"",X[R]=_?"0":"",X.transform=(N.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",X))}return Object.assign({},ve,(e={},e[T]=A?y+"px":"",e[R]=_?m+"px":"",e.transform="",e))}function k2(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ns(e.placement),variation:Hl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_O(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_O(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const by={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:k2,data:{}};var Bf={passive:!0};function E2(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=Ui(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,Bf)}),a&&l.addEventListener("resize",n.update,Bf),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Bf)}),a&&l.removeEventListener("resize",n.update,Bf)}}const yy={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:E2,data:{}};var D2={left:"right",right:"left",bottom:"top",top:"bottom"};function Th(t){return t.replace(/left|right|bottom|top/g,function(e){return D2[e]})}var R2={start:"end",end:"start"};function SO(t){return t.replace(/start|end/g,function(e){return R2[e]})}function Oy(t){var e=Ui(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function xy(t){return Bl(Lo(t)).left+Oy(t).scrollLeft}function $2(t,e){var n=Ui(t),i=Lo(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=dT();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+xy(t),y:l}}function P2(t){var e,n=Lo(t),i=Oy(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=da(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=da(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+xy(t),l=-i.scrollTop;return Ps(r||n).direction==="rtl"&&(a+=da(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function wy(t){var e=Ps(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function yT(t){return["html","body","#document"].indexOf(ls(t))>=0?t.ownerDocument.body:rr(t)&&wy(t)?t:yT(vp(t))}function iu(t,e){var n;e===void 0&&(e=[]);var i=yT(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=Ui(i),o=r?[s].concat(s.visualViewport||[],wy(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(iu(vp(o)))}function hv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function M2(t,e){var n=Bl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function CO(t,e,n){return e===dy?hv($2(t,n)):Sa(e)?M2(e,n):hv(P2(Lo(t)))}function L2(t){var e=iu(vp(t)),n=["absolute","fixed"].indexOf(Ps(t).position)>=0,i=n&&rr(t)?lf(t):t;return Sa(i)?e.filter(function(r){return Sa(r)&&pT(r,i)&&ls(r)!=="body"}):[]}function N2(t,e,n,i){var r=e==="clippingParents"?L2(t):[].concat(e),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var u=CO(t,c,i);return l.top=da(u.top,l.top),l.right=sd(u.right,l.right),l.bottom=sd(u.bottom,l.bottom),l.left=da(u.left,l.left),l},CO(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function OT(t){var e=t.reference,n=t.element,i=t.placement,r=i?ns(i):null,s=i?Hl(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case hi:l={x:o,y:e.y-n.height};break;case Wi:l={x:o,y:e.y+e.height};break;case qi:l={x:e.x+e.width,y:a};break;case di:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?vy(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case _a:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Il:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function jl(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?tT:a,c=n.rootBoundary,u=c===void 0?dy:c,f=n.elementContext,d=f===void 0?Za:f,m=n.altBoundary,g=m===void 0?!1:m,y=n.padding,O=y===void 0?0:y,_=gT(typeof O!="number"?O:vT(O,lc)),A=d===Za?nT:Za,R=t.rects.popper,T=t.elements[g?A:d],N=N2(Sa(T)?T:T.contextElement||Lo(t.elements.popper),l,u,o),I=Bl(t.elements.reference),v=OT({reference:I,element:R,placement:r}),z=hv(Object.assign({},R,v)),G=d===Za?z:I,oe={top:N.top-G.top+_.top,bottom:G.bottom-N.bottom+_.bottom,left:N.left-G.left+_.left,right:G.right-N.right+_.right},ve=t.modifiersData.offset;if(d===Za&&ve){var ne=ve[r];Object.keys(oe).forEach(function(X){var le=[qi,Wi].indexOf(X)>=0?1:-1,W=[hi,Wi].indexOf(X)>=0?"y":"x";oe[X]+=ne[W]*le})}return oe}function I2(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?py:l,u=Hl(i),f=u?a?uv:uv.filter(function(g){return Hl(g)===u}):lc,d=f.filter(function(g){return c.indexOf(g)>=0});d.length===0&&(d=f);var m=d.reduce(function(g,y){return g[y]=jl(t,{placement:y,boundary:r,rootBoundary:s,padding:o})[ns(y)],g},{});return Object.keys(m).sort(function(g,y){return m[g]-m[y]})}function F2(t){if(ns(t)===mp)return[];var e=Th(t);return[SO(t),e,SO(e)]}function B2(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,y=n.allowedAutoPlacements,O=e.options.placement,_=ns(O),A=_===O,R=l||(A||!g?[Th(O)]:F2(O)),T=[O].concat(R).reduce(function(Pt,Ht){return Pt.concat(ns(Ht)===mp?I2(e,{placement:Ht,boundary:u,rootBoundary:f,padding:c,flipVariations:g,allowedAutoPlacements:y}):Ht)},[]),N=e.rects.reference,I=e.rects.popper,v=new Map,z=!0,G=T[0],oe=0;oe<T.length;oe++){var ve=T[oe],ne=ns(ve),X=Hl(ve)===_a,le=[hi,Wi].indexOf(ne)>=0,W=le?"width":"height",V=jl(e,{placement:ve,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),te=le?X?qi:di:X?Wi:hi;N[W]>I[W]&&(te=Th(te));var be=Th(te),Le=[];if(s&&Le.push(V[ne]<=0),a&&Le.push(V[te]<=0,V[be]<=0),Le.every(function(Pt){return Pt})){G=ve,z=!1;break}v.set(ve,Le)}if(z)for(var ot=g?3:1,it=function(Ht){var Nt=T.find(function(ae){var Re=v.get(ae);if(Re)return Re.slice(0,Ht).every(function(Ce){return Ce})});if(Nt)return G=Nt,"break"},nt=ot;nt>0;nt--){var mt=it(nt);if(mt==="break")break}e.placement!==G&&(e.modifiersData[i]._skip=!0,e.placement=G,e.reset=!0)}}const xT={name:"flip",enabled:!0,phase:"main",fn:B2,requiresIfExists:["offset"],data:{_skip:!1}};function TO(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function AO(t){return[hi,qi,Wi,di].some(function(e){return t[e]>=0})}function H2(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=jl(e,{elementContext:"reference"}),a=jl(e,{altBoundary:!0}),l=TO(o,i),c=TO(a,r,s),u=AO(l),f=AO(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const wT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:H2};function j2(t,e,n){var i=ns(t),r=[di,hi].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[di,qi].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function V2(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=py.reduce(function(u,f){return u[f]=j2(f,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const _T={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:V2};function Q2(t){var e=t.state,n=t.name;e.modifiersData[n]=OT({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const _y={name:"popperOffsets",enabled:!0,phase:"read",fn:Q2,data:{}};function z2(t){return t==="x"?"y":"x"}function W2(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,d=n.tether,m=d===void 0?!0:d,g=n.tetherOffset,y=g===void 0?0:g,O=jl(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),_=ns(e.placement),A=Hl(e.placement),R=!A,T=vy(_),N=z2(T),I=e.modifiersData.popperOffsets,v=e.rects.reference,z=e.rects.popper,G=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,oe=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),ve=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ne={x:0,y:0};if(I){if(s){var X,le=T==="y"?hi:di,W=T==="y"?Wi:qi,V=T==="y"?"height":"width",te=I[T],be=te+O[le],Le=te-O[W],ot=m?-z[V]/2:0,it=A===_a?v[V]:z[V],nt=A===_a?-z[V]:-v[V],mt=e.elements.arrow,Pt=m&&mt?gy(mt):{width:0,height:0},Ht=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mT(),Nt=Ht[le],ae=Ht[W],Re=nu(0,v[V],Pt[V]),Ce=R?v[V]/2-ot-Re-Nt-oe.mainAxis:it-Re-Nt-oe.mainAxis,De=R?-v[V]/2+ot+Re+ae+oe.mainAxis:nt+Re+ae+oe.mainAxis,gt=e.elements.arrow&&lf(e.elements.arrow),M=gt?T==="y"?gt.clientTop||0:gt.clientLeft||0:0,F=(X=ve==null?void 0:ve[T])!=null?X:0,q=te+Ce-F-M,he=te+De-F,de=nu(m?sd(be,q):be,te,m?da(Le,he):Le);I[T]=de,ne[T]=de-te}if(a){var ue,Se=T==="x"?hi:di,Te=T==="x"?Wi:qi,_e=I[N],ye=N==="y"?"height":"width",He=_e+O[Se],Ae=_e-O[Te],Qe=[hi,di].indexOf(_)!==-1,ge=(ue=ve==null?void 0:ve[N])!=null?ue:0,Xe=Qe?He:_e-v[ye]-z[ye]-ge+oe.altAxis,Et=Qe?_e+v[ye]+z[ye]-ge-oe.altAxis:Ae,wt=m&&Qe?w2(Xe,_e,Et):nu(m?Xe:He,_e,m?Et:Ae);I[N]=wt,ne[N]=wt-_e}e.modifiersData[i]=ne}}const ST={name:"preventOverflow",enabled:!0,phase:"main",fn:W2,requiresIfExists:["offset"]};function q2(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function U2(t){return t===Ui(t)||!rr(t)?Oy(t):q2(t)}function X2(t){var e=t.getBoundingClientRect(),n=Fl(e.width)/t.offsetWidth||1,i=Fl(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Y2(t,e,n){n===void 0&&(n=!1);var i=rr(e),r=rr(e)&&X2(e),s=Lo(e),o=Bl(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((ls(e)!=="body"||wy(s))&&(a=U2(e)),rr(e)?(l=Bl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=xy(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function G2(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function K2(t){var e=G2(t);return hT.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function J2(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Z2(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var kO={placement:"bottom",modifiers:[],strategy:"absolute"};function EO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function bp(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?kO:r;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},kO,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,m={state:u,setOptions:function(_){var A=typeof _=="function"?_(u.options):_;y(),u.options=Object.assign({},s,u.options,A),u.scrollParents={reference:Sa(a)?iu(a):a.contextElement?iu(a.contextElement):[],popper:iu(l)};var R=K2(Z2([].concat(i,u.options.modifiers)));return u.orderedModifiers=R.filter(function(T){return T.enabled}),g(),m.update()},forceUpdate:function(){if(!d){var _=u.elements,A=_.reference,R=_.popper;if(EO(A,R)){u.rects={reference:Y2(A,lf(R),u.options.strategy==="fixed"),popper:gy(R)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(oe){return u.modifiersData[oe.name]=Object.assign({},oe.data)});for(var T=0;T<u.orderedModifiers.length;T++){if(u.reset===!0){u.reset=!1,T=-1;continue}var N=u.orderedModifiers[T],I=N.fn,v=N.options,z=v===void 0?{}:v,G=N.name;typeof I=="function"&&(u=I({state:u,options:z,name:G,instance:m})||u)}}}},update:J2(function(){return new Promise(function(O){m.forceUpdate(),O(u)})}),destroy:function(){y(),d=!0}};if(!EO(a,l))return m;m.setOptions(c).then(function(O){!d&&c.onFirstUpdate&&c.onFirstUpdate(O)});function g(){u.orderedModifiers.forEach(function(O){var _=O.name,A=O.options,R=A===void 0?{}:A,T=O.effect;if(typeof T=="function"){var N=T({state:u,name:_,instance:m,options:R}),I=function(){};f.push(N||I)}})}function y(){f.forEach(function(O){return O()}),f=[]}return m}}var eI=bp(),tI=[yy,_y,by,gp],nI=bp({defaultModifiers:tI}),iI=[yy,_y,by,gp,_T,xT,ST,bT,wT],yp=bp({defaultModifiers:iI});const CT=Object.freeze(Object.defineProperty({__proto__:null,afterMain:lT,afterRead:sT,afterWrite:fT,applyStyles:gp,arrow:bT,auto:mp,basePlacements:lc,beforeMain:oT,beforeRead:iT,beforeWrite:cT,bottom:Wi,clippingParents:tT,computeStyles:by,createPopper:yp,createPopperBase:eI,createPopperLite:nI,detectOverflow:jl,end:Il,eventListeners:yy,flip:xT,hide:wT,left:di,main:aT,modifierPhases:hT,offset:_T,placements:py,popper:Za,popperGenerator:bp,popperOffsets:_y,preventOverflow:ST,read:rT,reference:nT,right:qi,start:_a,top:hi,variationPlacements:uv,viewport:dy,write:uT},Symbol.toStringTag,{value:"Module"}));var rI="tippy-box",TT="tippy-content",sI="tippy-backdrop",AT="tippy-arrow",kT="tippy-svg-arrow",Yo={passive:!0,capture:!0},ET=function(){return document.body};function Bm(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function Sy(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function DT(t,e){return typeof t=="function"?t.apply(void 0,e):t}function DO(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function oI(t){return t.split(/\s+/).filter(Boolean)}function el(t){return[].concat(t)}function RO(t,e){t.indexOf(e)===-1&&t.push(e)}function aI(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function lI(t){return t.split("-")[0]}function od(t){return[].slice.call(t)}function $O(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function ru(){return document.createElement("div")}function Op(t){return["Element","Fragment"].some(function(e){return Sy(t,e)})}function cI(t){return Sy(t,"NodeList")}function uI(t){return Sy(t,"MouseEvent")}function fI(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function hI(t){return Op(t)?[t]:cI(t)?od(t):Array.isArray(t)?t:od(document.querySelectorAll(t))}function Hm(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function PO(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function dI(t){var e,n=el(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function pI(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var s=r.popperRect,o=r.popperState,a=r.props,l=a.interactiveBorder,c=lI(o.placement),u=o.modifiersData.offset;if(!u)return!0;var f=c==="bottom"?u.top.y:0,d=c==="top"?u.bottom.y:0,m=c==="right"?u.left.x:0,g=c==="left"?u.right.x:0,y=s.top-i+f>l,O=i-s.bottom-d>l,_=s.left-n+m>l,A=n-s.right-g>l;return y||O||_||A})}function jm(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function MO(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var qr={isTouch:!1},LO=0;function mI(){qr.isTouch||(qr.isTouch=!0,window.performance&&document.addEventListener("mousemove",RT))}function RT(){var t=performance.now();t-LO<20&&(qr.isTouch=!1,document.removeEventListener("mousemove",RT)),LO=t}function gI(){var t=document.activeElement;if(fI(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function vI(){document.addEventListener("touchstart",mI,Yo),window.addEventListener("blur",gI)}var bI=typeof window<"u"&&typeof document<"u",yI=bI?!!window.msCrypto:!1,OI={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},xI={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},_r=Object.assign({appendTo:ET,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},OI,xI),wI=Object.keys(_r),_I=function(e){var n=Object.keys(e);n.forEach(function(i){_r[i]=e[i]})};function $T(t){var e=t.plugins||[],n=e.reduce(function(i,r){var s=r.name,o=r.defaultValue;if(s){var a;i[s]=t[s]!==void 0?t[s]:(a=_r[s])!=null?a:o}return i},{});return Object.assign({},t,n)}function SI(t,e){var n=e?Object.keys($T(Object.assign({},_r,{plugins:e}))):wI,i=n.reduce(function(r,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return r;if(s==="content")r[s]=o;else try{r[s]=JSON.parse(o)}catch{r[s]=o}return r},{});return i}function NO(t,e){var n=Object.assign({},e,{content:DT(e.content,[t])},e.ignoreAttributes?{}:SI(t,e.plugins));return n.aria=Object.assign({},_r.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var CI=function(){return"innerHTML"};function dv(t,e){t[CI()]=e}function IO(t){var e=ru();return t===!0?e.className=AT:(e.className=kT,Op(t)?e.appendChild(t):dv(e,t)),e}function FO(t,e){Op(e.content)?(dv(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?dv(t,e.content):t.textContent=e.content)}function pv(t){var e=t.firstElementChild,n=od(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(TT)}),arrow:n.find(function(i){return i.classList.contains(AT)||i.classList.contains(kT)}),backdrop:n.find(function(i){return i.classList.contains(sI)})}}function PT(t){var e=ru(),n=ru();n.className=rI,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=ru();i.className=TT,i.setAttribute("data-state","hidden"),FO(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(s,o){var a=pv(e),l=a.box,c=a.content,u=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&FO(c,t.props),o.arrow?u?s.arrow!==o.arrow&&(l.removeChild(u),l.appendChild(IO(o.arrow))):l.appendChild(IO(o.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:r}}PT.$$tippy=!0;var TI=1,Hf=[],Vm=[];function AI(t,e){var n=NO(t,Object.assign({},_r,$T($O(e)))),i,r,s,o=!1,a=!1,l=!1,c=!1,u,f,d,m=[],g=DO(q,n.interactiveDebounce),y,O=TI++,_=null,A=aI(n.plugins),R={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},T={id:O,reference:t,popper:ru(),popperInstance:_,props:n,state:R,plugins:A,clearDelayTimeouts:Xe,setProps:Et,setContent:wt,show:Dn,hide:mn,hideWithInteractivity:ei,enable:Qe,disable:ge,unmount:xn,destroy:Rn};if(!n.render)return T;var N=n.render(T),I=N.popper,v=N.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+T.id,T.popper=I,t._tippy=T,I._tippy=T;var z=A.map(function(se){return se.fn(T)}),G=t.hasAttribute("aria-expanded");return gt(),ot(),te(),be("onCreate",[T]),n.showOnCreate&&He(),I.addEventListener("mouseenter",function(){T.props.interactive&&T.state.isVisible&&T.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){T.props.interactive&&T.props.trigger.indexOf("mouseenter")>=0&&le().addEventListener("mousemove",g)}),T;function oe(){var se=T.props.touch;return Array.isArray(se)?se:[se,0]}function ve(){return oe()[0]==="hold"}function ne(){var se;return!!((se=T.props.render)!=null&&se.$$tippy)}function X(){return y||t}function le(){var se=X().parentNode;return se?dI(se):document}function W(){return pv(I)}function V(se){return T.state.isMounted&&!T.state.isVisible||qr.isTouch||u&&u.type==="focus"?0:Bm(T.props.delay,se?0:1,_r.delay)}function te(se){se===void 0&&(se=!1),I.style.pointerEvents=T.props.interactive&&!se?"":"none",I.style.zIndex=""+T.props.zIndex}function be(se,Ee,qe){if(qe===void 0&&(qe=!0),z.forEach(function(_t){_t[se]&&_t[se].apply(_t,Ee)}),qe){var vt;(vt=T.props)[se].apply(vt,Ee)}}function Le(){var se=T.props.aria;if(se.content){var Ee="aria-"+se.content,qe=I.id,vt=el(T.props.triggerTarget||t);vt.forEach(function(_t){var wn=_t.getAttribute(Ee);if(T.state.isVisible)_t.setAttribute(Ee,wn?wn+" "+qe:qe);else{var gi=wn&&wn.replace(qe,"").trim();gi?_t.setAttribute(Ee,gi):_t.removeAttribute(Ee)}})}}function ot(){if(!(G||!T.props.aria.expanded)){var se=el(T.props.triggerTarget||t);se.forEach(function(Ee){T.props.interactive?Ee.setAttribute("aria-expanded",T.state.isVisible&&Ee===X()?"true":"false"):Ee.removeAttribute("aria-expanded")})}}function it(){le().removeEventListener("mousemove",g),Hf=Hf.filter(function(se){return se!==g})}function nt(se){if(!(qr.isTouch&&(l||se.type==="mousedown"))){var Ee=se.composedPath&&se.composedPath()[0]||se.target;if(!(T.props.interactive&&MO(I,Ee))){if(el(T.props.triggerTarget||t).some(function(qe){return MO(qe,Ee)})){if(qr.isTouch||T.state.isVisible&&T.props.trigger.indexOf("click")>=0)return}else be("onClickOutside",[T,se]);T.props.hideOnClick===!0&&(T.clearDelayTimeouts(),T.hide(),a=!0,setTimeout(function(){a=!1}),T.state.isMounted||Nt())}}}function mt(){l=!0}function Pt(){l=!1}function Ht(){var se=le();se.addEventListener("mousedown",nt,!0),se.addEventListener("touchend",nt,Yo),se.addEventListener("touchstart",Pt,Yo),se.addEventListener("touchmove",mt,Yo)}function Nt(){var se=le();se.removeEventListener("mousedown",nt,!0),se.removeEventListener("touchend",nt,Yo),se.removeEventListener("touchstart",Pt,Yo),se.removeEventListener("touchmove",mt,Yo)}function ae(se,Ee){Ce(se,function(){!T.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&Ee()})}function Re(se,Ee){Ce(se,Ee)}function Ce(se,Ee){var qe=W().box;function vt(_t){_t.target===qe&&(jm(qe,"remove",vt),Ee())}if(se===0)return Ee();jm(qe,"remove",f),jm(qe,"add",vt),f=vt}function De(se,Ee,qe){qe===void 0&&(qe=!1);var vt=el(T.props.triggerTarget||t);vt.forEach(function(_t){_t.addEventListener(se,Ee,qe),m.push({node:_t,eventType:se,handler:Ee,options:qe})})}function gt(){ve()&&(De("touchstart",F,{passive:!0}),De("touchend",he,{passive:!0})),oI(T.props.trigger).forEach(function(se){if(se!=="manual")switch(De(se,F),se){case"mouseenter":De("mouseleave",he);break;case"focus":De(yI?"focusout":"blur",de);break;case"focusin":De("focusout",de);break}})}function M(){m.forEach(function(se){var Ee=se.node,qe=se.eventType,vt=se.handler,_t=se.options;Ee.removeEventListener(qe,vt,_t)}),m=[]}function F(se){var Ee,qe=!1;if(!(!T.state.isEnabled||ue(se)||a)){var vt=((Ee=u)==null?void 0:Ee.type)==="focus";u=se,y=se.currentTarget,ot(),!T.state.isVisible&&uI(se)&&Hf.forEach(function(_t){return _t(se)}),se.type==="click"&&(T.props.trigger.indexOf("mouseenter")<0||o)&&T.props.hideOnClick!==!1&&T.state.isVisible?qe=!0:He(se),se.type==="click"&&(o=!qe),qe&&!vt&&Ae(se)}}function q(se){var Ee=se.target,qe=X().contains(Ee)||I.contains(Ee);if(!(se.type==="mousemove"&&qe)){var vt=ye().concat(I).map(function(_t){var wn,gi=_t._tippy,Ei=(wn=gi.popperInstance)==null?void 0:wn.state;return Ei?{popperRect:_t.getBoundingClientRect(),popperState:Ei,props:n}:null}).filter(Boolean);pI(vt,se)&&(it(),Ae(se))}}function he(se){var Ee=ue(se)||T.props.trigger.indexOf("click")>=0&&o;if(!Ee){if(T.props.interactive){T.hideWithInteractivity(se);return}Ae(se)}}function de(se){T.props.trigger.indexOf("focusin")<0&&se.target!==X()||T.props.interactive&&se.relatedTarget&&I.contains(se.relatedTarget)||Ae(se)}function ue(se){return qr.isTouch?ve()!==se.type.indexOf("touch")>=0:!1}function Se(){Te();var se=T.props,Ee=se.popperOptions,qe=se.placement,vt=se.offset,_t=se.getReferenceClientRect,wn=se.moveTransition,gi=ne()?pv(I).arrow:null,Ei=_t?{getBoundingClientRect:_t,contextElement:_t.contextElement||X()}:t,zs={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function($n){var sn=$n.state;if(ne()){var bc=W(),yc=bc.box;["placement","reference-hidden","escaped"].forEach(function(Ho){Ho==="placement"?yc.setAttribute("data-placement",sn.placement):sn.attributes.popper["data-popper-"+Ho]?yc.setAttribute("data-"+Ho,""):yc.removeAttribute("data-"+Ho)}),sn.attributes.popper={}}}},$r=[{name:"offset",options:{offset:vt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!wn}},zs];ne()&&gi&&$r.push({name:"arrow",options:{element:gi,padding:3}}),$r.push.apply($r,(Ee==null?void 0:Ee.modifiers)||[]),T.popperInstance=yp(Ei,I,Object.assign({},Ee,{placement:qe,onFirstUpdate:d,modifiers:$r}))}function Te(){T.popperInstance&&(T.popperInstance.destroy(),T.popperInstance=null)}function _e(){var se=T.props.appendTo,Ee,qe=X();T.props.interactive&&se===ET||se==="parent"?Ee=qe.parentNode:Ee=DT(se,[qe]),Ee.contains(I)||Ee.appendChild(I),T.state.isMounted=!0,Se()}function ye(){return od(I.querySelectorAll("[data-tippy-root]"))}function He(se){T.clearDelayTimeouts(),se&&be("onTrigger",[T,se]),Ht();var Ee=V(!0),qe=oe(),vt=qe[0],_t=qe[1];qr.isTouch&&vt==="hold"&&_t&&(Ee=_t),Ee?i=setTimeout(function(){T.show()},Ee):T.show()}function Ae(se){if(T.clearDelayTimeouts(),be("onUntrigger",[T,se]),!T.state.isVisible){Nt();return}if(!(T.props.trigger.indexOf("mouseenter")>=0&&T.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(se.type)>=0&&o)){var Ee=V(!1);Ee?r=setTimeout(function(){T.state.isVisible&&T.hide()},Ee):s=requestAnimationFrame(function(){T.hide()})}}function Qe(){T.state.isEnabled=!0}function ge(){T.hide(),T.state.isEnabled=!1}function Xe(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)}function Et(se){if(!T.state.isDestroyed){be("onBeforeUpdate",[T,se]),M();var Ee=T.props,qe=NO(t,Object.assign({},Ee,$O(se),{ignoreAttributes:!0}));T.props=qe,gt(),Ee.interactiveDebounce!==qe.interactiveDebounce&&(it(),g=DO(q,qe.interactiveDebounce)),Ee.triggerTarget&&!qe.triggerTarget?el(Ee.triggerTarget).forEach(function(vt){vt.removeAttribute("aria-expanded")}):qe.triggerTarget&&t.removeAttribute("aria-expanded"),ot(),te(),v&&v(Ee,qe),T.popperInstance&&(Se(),ye().forEach(function(vt){requestAnimationFrame(vt._tippy.popperInstance.forceUpdate)})),be("onAfterUpdate",[T,se])}}function wt(se){T.setProps({content:se})}function Dn(){var se=T.state.isVisible,Ee=T.state.isDestroyed,qe=!T.state.isEnabled,vt=qr.isTouch&&!T.props.touch,_t=Bm(T.props.duration,0,_r.duration);if(!(se||Ee||qe||vt)&&!X().hasAttribute("disabled")&&(be("onShow",[T],!1),T.props.onShow(T)!==!1)){if(T.state.isVisible=!0,ne()&&(I.style.visibility="visible"),te(),Ht(),T.state.isMounted||(I.style.transition="none"),ne()){var wn=W(),gi=wn.box,Ei=wn.content;Hm([gi,Ei],0)}d=function(){var $r;if(!(!T.state.isVisible||c)){if(c=!0,I.offsetHeight,I.style.transition=T.props.moveTransition,ne()&&T.props.animation){var Ia=W(),$n=Ia.box,sn=Ia.content;Hm([$n,sn],_t),PO([$n,sn],"visible")}Le(),ot(),RO(Vm,T),($r=T.popperInstance)==null||$r.forceUpdate(),be("onMount",[T]),T.props.animation&&ne()&&Re(_t,function(){T.state.isShown=!0,be("onShown",[T])})}},_e()}}function mn(){var se=!T.state.isVisible,Ee=T.state.isDestroyed,qe=!T.state.isEnabled,vt=Bm(T.props.duration,1,_r.duration);if(!(se||Ee||qe)&&(be("onHide",[T],!1),T.props.onHide(T)!==!1)){if(T.state.isVisible=!1,T.state.isShown=!1,c=!1,o=!1,ne()&&(I.style.visibility="hidden"),it(),Nt(),te(!0),ne()){var _t=W(),wn=_t.box,gi=_t.content;T.props.animation&&(Hm([wn,gi],vt),PO([wn,gi],"hidden"))}Le(),ot(),T.props.animation?ne()&&ae(vt,T.unmount):T.unmount()}}function ei(se){le().addEventListener("mousemove",g),RO(Hf,g),g(se)}function xn(){T.state.isVisible&&T.hide(),T.state.isMounted&&(Te(),ye().forEach(function(se){se._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),Vm=Vm.filter(function(se){return se!==T}),T.state.isMounted=!1,be("onHidden",[T]))}function Rn(){T.state.isDestroyed||(T.clearDelayTimeouts(),T.unmount(),M(),delete t._tippy,T.state.isDestroyed=!0,be("onDestroy",[T]))}}function cf(t,e){e===void 0&&(e={});var n=_r.plugins.concat(e.plugins||[]);vI();var i=Object.assign({},e,{plugins:n}),r=hI(t),s=r.reduce(function(o,a){var l=a&&AI(a,i);return l&&o.push(l),o},[]);return Op(t)?s[0]:s}cf.defaultProps=_r;cf.setDefaultProps=_I;cf.currentInput=qr;Object.assign({},gp,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});cf.setDefaultProps({render:PT});const kI={class:"fw-bold py-3 mb-4"},EI={key:0,class:"alert alert-danger alert-dismissible",role:"alert"},DI={class:"card"},RI={key:0},$I={id:"dataTableOverview",class:"table table-bordered table-striped table-hover caption-top"},PI=["data-tippy-content"],MI=["data-tippy-content"],LI=["data-tippy-content"],NI=["data-tippy-content"],II={key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":"Node  Rules are OK."},FI=["data-bs-target","data-tippy-content"],BI=["data-bs-target","data-tippy-content"],HI=["data-tippy-content"],jI=["data-tippy-content"],VI=["data-tippy-content"],QI=["data-tippy-content"],zI=["data-bs-target","data-tippy-content"],WI=["data-bs-target","data-tippy-content"],qI=["data-tippy-content"],UI=["data-tippy-content"],XI=["data-tippy-content"],YI=["data-tippy-content"],GI=["data-bs-target","data-tippy-content"],KI=["data-bs-target","data-tippy-content"],JI=["data-tippy-content"],ZI=["data-tippy-content"],eF=["data-tippy-content"],tF=["data-tippy-content"],nF=["data-bs-target","data-tippy-content"],iF=["data-bs-target","data-tippy-content"],rF={key:1},sF={class:"table table-bordered table-striped table-hover caption-top"},oF=["data-tippy-content"],aF={class:"d-inline-flex gap-1 align-items-center"},lF=["data-tippy-content"],cF=["data-tippy-content"],uF=["data-tippy-content"],fF={key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":"Node  Rules are OK."},hF=["data-bs-target","data-tippy-content"],dF=["data-bs-target","data-tippy-content"],pF=["data-tippy-content"],mF=["data-tippy-content"],gF=["data-tippy-content"],vF=["data-tippy-content"],bF=["data-bs-target","data-tippy-content"],yF=["data-bs-target","data-tippy-content"],OF=["data-tippy-content"],xF=["data-tippy-content"],wF=["data-tippy-content"],_F=["data-tippy-content"],SF=["data-bs-target","data-tippy-content"],CF=["data-bs-target","data-tippy-content"],TF=["data-tippy-content"],AF=["data-tippy-content"],kF=["data-tippy-content"],EF=["data-tippy-content"],DF=["data-bs-target","data-tippy-content"],RF=["data-bs-target","data-tippy-content"],$F={key:2},PF={class:"table table-bordered table-striped table-hover caption-top"},MF={class:"d-inline-flex gap-1 align-items-center"},LF=["data-tippy-content"],NF=["data-bs-target","data-tippy-content"],IF=["data-bs-target","data-tippy-content"],FF=["data-bs-target"],BF=Kn({props:{isActive:{type:Boolean,required:!0,default:!1},url:{type:String,required:!0},statusAPI:{type:String,required:!0},nodeListAPI:{type:String,required:!0},alertURL:{type:String,required:!0}},components:{BoxIcon:_L},data(){return{overview:[],alerts:[],noRows:"",showPopup:!1,intervalId:null,autoReload:!0}},watch:{async isActive(t){t?(await this.fetchOverview(),this.autoReload&&this.startAutoReload()):this.stopAutoReload()}},async mounted(){this.isActive&&(await this.fetchOverview(),this.autoReload&&this.startAutoReload())},beforeUnmount(){this.intervalId&&clearInterval(this.intervalId)},methods:{async fetchOverview(){var t,e;this.overview=[],this.updateShowSpinner(!0);try{const n=`${this.url}/proxy?url=${this.nodeListAPI}`,i=await kt.get(n);i.status===200?i.data.data.result.forEach(r=>{const s=r.metric.hostname;s!==void 0&&this.overview.push({state:!0,hostname:s,genericRules:null,services:null,hardware:null,other:null,ipmi:null,genericAlerts:[],servicesAlerts:[],hardwareAlerts:[],otherAlerts:[],allAlerts:[]})}):(this.noRows+=`
ERROR[Prometheus Server] :: Error fetching Nodes from ${this.nodeListAPI} Status: ${i.status}.`,console.error("Error fetching nodes:",i.status,i.data))}catch(n){n instanceof cv?this.noRows+=`
ERROR[Prometheus Server] :: ${n.message}: CODE:${n.code} URL:${(t=n.config)==null?void 0:t.url}`:n instanceof Error?this.noRows+=`
ERROR[Prometheus Server] :: ${n.message}`:this.noRows+=`
ERROR[Prometheus Server] :: ${n}`}if(!this.noRows)try{const n=`${this.url}/proxy?url=${this.statusAPI}`,i=await kt.get(n);i.status===200?i.data.data.groups.forEach(r=>{(r.name==="trinityx"||r.name==="trinityx_hw")&&(r.rules.forEach(s=>{s.alerts&&s.alerts.length>0&&s.alerts.forEach(o=>{const a=o.labels.hostname,l=!0;let c=null,u=null,f=null,d=null;const m=[],g=[],y=[],O=[],_=String(s.labels.nhc)==="true";if(a!==void 0&&s.state==="firing"&&(String(o.labels.disabled)==="false"||o.labels.disabled===void 0)){o.labels.category==="generic"&&(_===!0?c=!0:c=!1,m.push(o)),o.labels.category==="service"&&(_===!0?u=!0:u=!1,g.push(o)),o.labels.category==="hardware"&&(_===!0?f=!0:f=!1,y.push(o)),(o.labels.category!=="generic"&&o.labels.category!=="service"&&o.labels.category!=="hardware"||o.labels.category===void 0)&&(_===!0?d=!0:d=!1,O.push(o));const A=this.overview.find(R=>R.hostname===a);A&&((c===!0||c===!1&&A.genericRules!==!0)&&(A.genericRules=c,A.genericAlerts.push(...m)),(u===!0||u===!1&&A.services!==!0)&&(A.services=u,A.servicesAlerts.push(...g)),(f===!0||f===!1&&A.hardware!==!0)&&(A.hardware=f,A.hardwareAlerts.push(...y)),(d===!0||d===!1&&A.other!==!0)&&(A.other=d,A.otherAlerts.push(...O)),o.labels.alertname==="ServerDown"&&(A.state=!1),A.allAlerts.push(...m,...g,...y,...O))}})}),this.overview.length===0&&(this.noRows+=`
ERROR[Prometheus Server] :: There is only inactive alerts for TrinityX Group.`))}):(this.noRows+=`
ERROR[Prometheus Server] :: Error fetching Alerts from ${this.statusAPI} Status: ${i.status}.`,console.error("Error fetching rules:",i.status,i.data))}catch(n){n instanceof cv?this.noRows+=`
ERROR[Prometheus Server] :: ${n.message}: CODE:${n.code} URL:${(e=n.config)==null?void 0:e.url}`:n instanceof Error?this.noRows+=`
ERROR[Prometheus Server] :: ${n.message}`:this.noRows+=`
ERROR[Prometheus Server] :: ${n}`}this.updateShowSpinner(!1),await Ml(),this.refreshDataTable()},refreshDataTable(){const t=$("#dataTableOverview");Ml(()=>{t.DataTable({order:[[1,"asc"]],columnDefs:[{targets:2,type:"string"}],pageLength:25})}),cf("[data-tippy-content]")},updateShowSpinner(t){this.$emit("update:showSpinner",t)},startAutoReload(){this.autoReload&&!this.intervalId&&(this.intervalId=setInterval(this.fetchOverview,3e4))},stopAutoReload(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},toggleAutoReload(){this.autoReload=!this.autoReload,this.autoReload?this.startAutoReload():this.stopAutoReload()}},computed:{overviewCompact(){const e=[];for(let n=0;n<this.overview.length;n+=10)e.push(this.overview.slice(n,n+10));return e},overviewSuperCompact(){const e=[];for(let n=0;n<this.overview.length;n+=25)e.push(this.overview.slice(n,n+25));return e},showContainerClass(){return this.overview.length>0&&this.overview.length<=101}}}),HF=Kn({...BF,__name:"TabOverview",setup(t){return(e,n)=>(K(),Z(Ye,null,[x("h4",kI,[n[1]||(n[1]=x("span",{class:"text-muted fw-light"}," Monitoring /",-1)),n[2]||(n[2]=jt(" Overview ")),x("button",{style:{float:"right"},type:"button",class:un(["btn","btn-sm",e.autoReload?"btn-success":"btn-warning"]),onClick:n[0]||(n[0]=(...i)=>e.toggleAutoReload&&e.toggleAutoReload(...i))},xe(e.autoReload?"Stop Auto Reload":"Start Auto Reload"),3)]),e.noRows?(K(),Z("div",EI,[x("pre",null,xe(e.noRows),1),n[3]||(n[3]=x("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))])):dt("",!0),x("div",{class:un(e.showContainerClass?"container-xxl flex-grow-1 container-p-y":"")},[x("div",DI,[n[5]||(n[5]=x("div",{class:"alert alert-info alert-dismissible",role:"alert"},[x("div",{class:"row"},[x("div",{class:"col col-1"},[x("box-icon",{name:"circle",type:"solid",color:"#198754"})]),x("div",{class:"col col-1"},[x("i",null,[x("strong",null,"OK")])])]),x("div",{class:"row"},[x("div",{class:"col col-1"},[x("box-icon",{name:"circle",type:"solid",color:"#FFC107"})]),x("div",{class:"col col-11"},[x("i",null,[jt("When Firing and NHC is "),x("strong",null,"Disabled"),jt(".")])])]),x("div",{class:"row"},[x("div",{class:"col col-1"},[x("box-icon",{name:"circle",type:"solid",color:"#DC3545"})]),x("div",{class:"col col-11"},[x("i",null,[jt("When Firing and NHC is "),x("strong",null,"Enabled"),jt(".")])])]),x("div",{class:"row"},[x("div",{class:"col col-1"},[x("box-icon",{name:"circle",type:"solid",color:"#000000"})]),x("div",{class:"col col-11"},[x("i",null,[jt("When Host is "),x("strong",null,"Down"),jt(".")])])]),x("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})],-1)),e.overview.length&&e.overview.length>0&&e.overview.length<=101?(K(),Z("div",RI,[x("table",$I,[n[4]||(n[4]=x("thead",null,[x("tr",null,[x("th",null,"#"),x("th",null,"Node(s)"),x("th",null,"Generic Rules"),x("th",null,"Services"),x("th",null,"Node H/W"),x("th",null,"Other Rules")])],-1)),x("tbody",null,[(K(!0),Z(Ye,null,yn(e.overview,(i,r)=>(K(),Z("tr",{key:i.hostname},[x("td",null,xe(r+1),1),x("td",{class:un({"text-danger":!i.state}),"data-tippy-content":i.state?`Node ${i.hostname} is UP.`:`Node ${i.hostname} is Down.`},xe(i.hostname),11,PI),x("td",null,[i.state===!1?(K(),Z(Ye,{key:0},[i.genericRules===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,MI)):i.genericRules===!1?(K(),Z("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,LI)):i.genericRules===!0?(K(),Z("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,NI)):dt("",!0)],64)):(K(),Z(Ye,{key:1},[Ot(ms,{alerts:i.genericAlerts||[],hostname:i.hostname,ruleType:"Generic Rules",modalId:`${i.hostname}_Generic`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"]),i.genericRules===null?(K(),Z("box-icon",II)):i.genericRules===!1?(K(),Z("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Generic`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${i.hostname} Rules NHC is Disabled.`},null,8,FI)):i.genericRules===!0?(K(),Z("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Generic`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${i.hostname} Rules NHC is Enabled.`},null,8,BI)):dt("",!0)],64))]),x("td",null,[i.state===!1?(K(),Z(Ye,{key:0},[i.services===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,HI)):i.services===!1?(K(),Z("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,jI)):i.services===!0?(K(),Z("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,VI)):dt("",!0)],64)):(K(),Z(Ye,{key:1},[Ot(ms,{alerts:i.servicesAlerts||[],hostname:i.hostname,ruleType:"Service Rules",modalId:`${i.hostname}_Service`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"]),i.services===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":`Node ${i.hostname} Services are OK.`},null,8,QI)):i.services===!1?(K(),Z("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Service`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${i.hostname} Services NHC is Disabled.`},null,8,zI)):i.services===!0?(K(),Z("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Service`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${i.hostname} Services NHC is Enabled.`},null,8,WI)):dt("",!0)],64))]),x("td",null,[i.state===!1?(K(),Z(Ye,{key:0},[i.hardware===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,qI)):i.hardware===!1?(K(),Z("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,UI)):i.hardware===!0?(K(),Z("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,XI)):dt("",!0)],64)):(K(),Z(Ye,{key:1},[Ot(ms,{alerts:i.hardwareAlerts||[],hostname:i.hostname,ruleType:"Hardware Rules",modalId:`${i.hostname}_Hardware`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"]),i.hardware===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":`Node ${i.hostname} Hardware are OK.`},null,8,YI)):i.hardware===!1?(K(),Z("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Hardware`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${i.hostname} Hardware NHC is Disabled.`},null,8,GI)):i.hardware===!0?(K(),Z("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Hardware`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${i.hostname} Hardware NHC is Enabled.`},null,8,KI)):dt("",!0)],64))]),x("td",null,[i.state===!1?(K(),Z(Ye,{key:0},[i.other===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,JI)):i.other===!1?(K(),Z("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,ZI)):i.other===!0?(K(),Z("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${i.hostname} is Down.`},null,8,eF)):dt("",!0)],64)):(K(),Z(Ye,{key:1},[Ot(ms,{alerts:i.otherAlerts||[],hostname:i.hostname,ruleType:"Other Rules",modalId:`${i.hostname}_Other`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"]),i.other===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":`Node ${i.hostname} Other are OK.`},null,8,tF)):i.other===!1?(K(),Z("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Other`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${i.hostname} Other NHC is Disabled.`},null,8,nF)):i.other===!0?(K(),Z("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${i.hostname}_Other`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${i.hostname} Other NHC is Enabled.`},null,8,iF)):dt("",!0)],64))])]))),128))])])])):dt("",!0),e.overview.length&&e.overview.length>101&&e.overview.length<=251?(K(),Z("div",rF,[x("table",sF,[x("tbody",null,[(K(!0),Z(Ye,null,yn(e.overviewCompact,(i,r)=>(K(),Z("tr",{key:r},[(K(!0),Z(Ye,null,yn(i,s=>(K(),Z("td",{key:s.hostname},[x("span",{class:un([{"text-danger":!s.state},"me-2"]),"data-tippy-content":s.state?`Node ${s.hostname} is UP.`:`Node ${s.hostname} is Down.`},xe(s.hostname),11,oF),x("span",aF,[s.state===!1?(K(),Z(Ye,{key:0},[s.genericRules===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,lF)):s.genericRules===!1?(K(),Z("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,cF)):s.genericRules===!0?(K(),Z("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,uF)):dt("",!0)],64)):(K(),Z(Ye,{key:1},[s.genericRules===null?(K(),Z("box-icon",fF)):s.genericRules===!1?(K(),Z("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_Generic`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${s.hostname} Rules NHC is Disabled.`},null,8,hF)):s.genericRules===!0?(K(),Z("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_Generic`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${s.hostname} Rules NHC is Enabled.`},null,8,dF)):dt("",!0),Ot(ms,{alerts:s.genericAlerts||[],hostname:s.hostname,ruleType:"Generic Rules",modalId:`${s.hostname}_Generic`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"])],64)),s.state===!1?(K(),Z(Ye,{key:2},[s.services===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,pF)):s.services===!1?(K(),Z("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,mF)):s.services===!0?(K(),Z("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,gF)):dt("",!0)],64)):(K(),Z(Ye,{key:3},[s.services===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":`Node ${s.hostname} Services are OK.`},null,8,vF)):s.services===!1?(K(),Z("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_Service`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${s.hostname} Services NHC is Disabled.`},null,8,bF)):s.services===!0?(K(),Z("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_Service`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${s.hostname} Services NHC is Enabled.`},null,8,yF)):dt("",!0),Ot(ms,{alerts:s.servicesAlerts||[],hostname:s.hostname,ruleType:"Service Rules",modalId:`${s.hostname}_Service`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"])],64)),s.state===!1?(K(),Z(Ye,{key:4},[s.hardware===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,OF)):s.hardware===!1?(K(),Z("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,xF)):s.hardware===!0?(K(),Z("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,wF)):dt("",!0)],64)):(K(),Z(Ye,{key:5},[s.hardware===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":`Node ${s.hostname} Hardware are OK.`},null,8,_F)):s.hardware===!1?(K(),Z("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_Hardware`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${s.hostname} Hardware NHC is Disabled.`},null,8,SF)):s.hardware===!0?(K(),Z("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_Hardware`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${s.hostname} Hardware NHC is Enabled.`},null,8,CF)):dt("",!0),Ot(ms,{alerts:s.hardwareAlerts||[],hostname:s.hostname,ruleType:"Hardware Rules",modalId:`${s.hostname}_Hardware`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"])],64)),s.state===!1?(K(),Z(Ye,{key:6},[s.other===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,TF)):s.other===!1?(K(),Z("box-icon",{key:1,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,AF)):s.other===!0?(K(),Z("box-icon",{key:2,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,kF)):dt("",!0)],64)):(K(),Z(Ye,{key:7},[s.other===null?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#198754","data-tippy-content":`Node ${s.hostname} Other are OK.`},null,8,EF)):s.other===!1?(K(),Z("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_Other`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${s.hostname} Other NHC is Disabled.`},null,8,DF)):s.other===!0?(K(),Z("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_Other`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${s.hostname} Other NHC is Enabled.`},null,8,RF)):dt("",!0),Ot(ms,{alerts:s.otherAlerts||[],hostname:s.hostname,ruleType:"Other Rules",modalId:`${s.hostname}_Other`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"])],64))])]))),128))]))),128))])])])):dt("",!0),e.overview.length&&e.overview.length>251?(K(),Z("div",$F,[x("table",PF,[x("tbody",null,[(K(!0),Z(Ye,null,yn(e.overviewSuperCompact,(i,r)=>(K(),Z("tr",{key:r},[(K(!0),Z(Ye,null,yn(i,s=>(K(),Z("td",{key:s.hostname},[x("span",MF,[s.state===!1?(K(),Z("box-icon",{key:0,name:"circle",type:"solid",color:"#000000","data-tippy-content":`Node ${s.hostname} is Down.`},null,8,LF)):(K(),Z(Ye,{key:1},[[s.genericRules,s.services,s.hardware,s.other].some(o=>o===!0)?(K(),Z("box-icon",{key:0,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_All`,name:"circle",type:"solid",color:"#DC3545","data-tippy-content":`Node ${s.hostname} Rules NHC is Enabled.`},null,8,NF)):[s.genericRules,s.services,s.hardware,s.other].some(o=>o===!1)?(K(),Z("box-icon",{key:1,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_All`,name:"circle",type:"solid",color:"#FFC107","data-tippy-content":`Node ${s.hostname} Rules NHC is Disabled.`},null,8,IF)):[s.genericRules,s.services,s.hardware,s.other].some(o=>o===null)?(K(),Z("box-icon",{key:2,"data-bs-toggle":"modal","data-bs-target":`#${s.hostname}_All`,name:"circle",type:"solid",color:"#198754","data-tippy-content":"Node  Rules are OK."},null,8,FF)):dt("",!0),Ot(ms,{alerts:s.allAlerts||[],hostname:s.hostname,ruleType:"All Rules",modalId:`${s.hostname}_All`,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","hostname","modalId","onModalOpen","onModalClose"])],64))])]))),128))]))),128))])])])):dt("",!0)])],2)],64))}}),jF=["id"],VF={class:"modal-dialog modal-xl"},QF={class:"modal-content"},zF={class:"modal-header"},WF={class:"modal-title",id:"modalLabel"},qF={style:{color:"blue"}},UF={class:"modal-body"},XF={class:"table table-striped table-bordered"},YF={class:"table table-striped table-bordered"},GF=Kn({__name:"StatusAlerts",props:{rule:{},alerts:{},modalId:{},first_occurrence:{}},emits:["modal-open","modal-close"],setup(t,{emit:e}){function n(s){try{if(!s)return"";if(s.includes("Z00:00Z")&&(s=s.replace("Z00:00Z","Z")),s.endsWith("Z")&&(s=s.replace("Z","+00:00")),s.includes(".")){const u=s.split(".")[0];let f=s.split(".")[1];if(f=f.replace(/Z$/,""),f.includes("+")||f.includes("-")){let d=f.split(/[+-]/)[0];const m=f.split(/[+-]/)[1];d=d.substring(0,6),s=`${u}.${d}+${m}`}else s=`${u}.${f.substring(0,6)}`}const o=new Date(s),a=Intl.DateTimeFormat().resolvedOptions().timeZone,l=o.toISOString().split("T")[0],c=o.toTimeString().split(" ")[0];return`${l} ${c} ${a}`}catch(o){return console.error("Invalid timestamp:",s,o),""}}const i=t,r=e;return Mo(()=>{const s=document.getElementById(i.modalId);s&&(s.addEventListener("shown.bs.modal",()=>r("modal-open")),s.addEventListener("hidden.bs.modal",()=>r("modal-close")))}),rf(()=>{const s=document.getElementById(i.modalId);s&&(s.removeEventListener("shown.bs.modal",()=>r("modal-open")),s.removeEventListener("hidden.bs.modal",()=>r("modal-close")))}),(s,o)=>(K(),Z("div",null,[x("div",{class:"modal fade",id:i.modalId,tabindex:"-1","aria-labelledby":"modalLabel"},[x("div",VF,[x("div",QF,[x("div",zF,[x("h5",WF,[o[0]||(o[0]=jt("Alert Rule ")),x("span",qF,[x("i",null,xe(i.rule[0].name),1)])]),o[1]||(o[1]=x("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),x("div",UF,[x("table",XF,[x("tbody",null,[x("tr",null,[o[2]||(o[2]=x("td",null,[x("strong",null,"Rule Name")],-1)),x("td",null,xe(i.rule[0].name),1)]),x("tr",null,[o[3]||(o[3]=x("td",null,[x("strong",null,"Description")],-1)),x("td",null,xe(i.rule[0].annotations.description),1)]),x("tr",null,[o[4]||(o[4]=x("td",null,[x("strong",null,"Query")],-1)),x("td",null,xe(i.rule[0].query),1)]),x("tr",null,[o[5]||(o[5]=x("td",null,[x("strong",null,"State")],-1)),x("td",null,xe(i.rule[0].state),1)]),x("tr",null,[o[6]||(o[6]=x("td",null,[x("strong",null,"Type")],-1)),x("td",null,xe(i.rule[0].type),1)]),x("tr",null,[o[7]||(o[7]=x("td",null,[x("strong",null,"Health")],-1)),x("td",null,xe(i.rule[0].health),1)]),x("tr",null,[o[8]||(o[8]=x("td",null,[x("strong",null,"Severity")],-1)),x("td",null,xe(i.rule[0].labels.severity),1)]),x("tr",null,[o[9]||(o[9]=x("td",null,[x("strong",null,"Category")],-1)),x("td",null,xe(i.rule[0].labels.category),1)]),x("tr",null,[o[10]||(o[10]=x("td",null,[x("strong",null,"Duration")],-1)),x("td",null,xe(i.rule[0].duration),1)]),x("tr",null,[o[11]||(o[11]=x("td",null,[x("strong",null,"Evaluation Time")],-1)),x("td",null,xe(i.rule[0].evaluationTime),1)]),x("tr",null,[o[12]||(o[12]=x("td",null,[x("strong",null,"Evaluation Duration")],-1)),x("td",null,xe(i.rule[0].duration),1)]),x("tr",null,[o[13]||(o[13]=x("td",null,[x("strong",null,"First Occurrence")],-1)),x("td",null,xe(i.first_occurrence),1)]),x("tr",null,[o[14]||(o[14]=x("td",null,[x("strong",null,"Last Evaluation")],-1)),x("td",null,xe(n(i.rule[0].lastEvaluation)),1)]),x("tr",null,[o[15]||(o[15]=x("td",null,[x("strong",null,"Keep Firing For")],-1)),x("td",null,xe(i.rule[0].keepFiringFor),1)])])]),x("table",YF,[o[16]||(o[16]=x("thead",null,[x("tr",null,[x("th",null,"#"),x("th",null,"Category"),x("th",null,"Class"),x("th",null,"Exporter"),x("th",null,"Hostname"),x("th",null,"Description")])],-1)),x("tbody",null,[(K(!0),Z(Ye,null,yn(i.alerts,(a,l)=>(K(),Z("tr",{key:a.state},[x("td",null,xe(l+1),1),x("td",null,xe(a.labels.category),1),x("td",null,xe(a.labels.class),1),x("td",null,xe(a.labels.exporter),1),x("td",null,xe(a.labels.hostname),1),x("td",null,xe(a.annotations.description),1)]))),128))])])]),o[17]||(o[17]=x("div",{class:"modal-footer"},[x("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])],8,jF)]))}}),KF=Pa(GF,[["__scopeId","data-v-564014d2"]]);/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Xs=new Map,Qm={set(t,e,n){Xs.has(t)||Xs.set(t,new Map);const i=Xs.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,n)},get(t,e){return Xs.has(t)&&Xs.get(t).get(e)||null},remove(t,e){if(!Xs.has(t))return;const n=Xs.get(t);n.delete(e),n.size===0&&Xs.delete(t)}},JF=1e6,ZF=1e3,mv="transitionend",MT=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),eB=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),tB=t=>{do t+=Math.floor(Math.random()*JF);while(document.getElementById(t));return t},nB=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),r=Number.parseFloat(n);return!i&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*ZF)},LT=t=>{t.dispatchEvent(new Event(mv))},Es=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),_o=t=>Es(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(MT(t)):null,cc=t=>{if(!Es(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const i=t.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return e},So=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",NT=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?NT(t.parentNode):null},ad=()=>{},uf=t=>{t.offsetHeight},IT=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,zm=[],iB=t=>{document.readyState==="loading"?(zm.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of zm)e()}),zm.push(t)):t()},ar=()=>document.documentElement.dir==="rtl",ur=t=>{iB(()=>{const e=IT();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}})},_i=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,FT=(t,e,n=!0)=>{if(!n){_i(t);return}const r=nB(e)+5;let s=!1;const o=({target:a})=>{a===e&&(s=!0,e.removeEventListener(mv,o),_i(t))};e.addEventListener(mv,o),setTimeout(()=>{s||LT(e)},r)},Cy=(t,e,n,i)=>{const r=t.length;let s=t.indexOf(e);return s===-1?!n&&i?t[r-1]:t[0]:(s+=n?1:-1,i&&(s=(s+r)%r),t[Math.max(0,Math.min(s,r-1))])},rB=/[^.]*(?=\..*)\.|.*/,sB=/\..*/,oB=/::\d+$/,Wm={};let BO=1;const BT={mouseenter:"mouseover",mouseleave:"mouseout"},aB=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function HT(t,e){return e&&`${e}::${BO++}`||t.uidEvent||BO++}function jT(t){const e=HT(t);return t.uidEvent=e,Wm[e]=Wm[e]||{},Wm[e]}function lB(t,e){return function n(i){return Ty(i,{delegateTarget:t}),n.oneOff&&Oe.off(t,i.type,e),e.apply(t,[i])}}function cB(t,e,n){return function i(r){const s=t.querySelectorAll(e);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return Ty(r,{delegateTarget:o}),i.oneOff&&Oe.off(t,r.type,e,n),n.apply(o,[r])}}function VT(t,e,n=null){return Object.values(t).find(i=>i.callable===e&&i.delegationSelector===n)}function QT(t,e,n){const i=typeof e=="string",r=i?n:e||n;let s=zT(t);return aB.has(s)||(s=t),[i,r,s]}function HO(t,e,n,i,r){if(typeof e!="string"||!t)return;let[s,o,a]=QT(e,n,i);e in BT&&(o=(g=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return g.call(this,y)})(o));const l=jT(t),c=l[a]||(l[a]={}),u=VT(c,o,s?n:null);if(u){u.oneOff=u.oneOff&&r;return}const f=HT(o,e.replace(rB,"")),d=s?cB(t,n,o):lB(t,o);d.delegationSelector=s?n:null,d.callable=o,d.oneOff=r,d.uidEvent=f,c[f]=d,t.addEventListener(a,d,s)}function gv(t,e,n,i,r){const s=VT(e[n],i,r);s&&(t.removeEventListener(n,s,!!r),delete e[n][s.uidEvent])}function uB(t,e,n,i){const r=e[n]||{};for(const[s,o]of Object.entries(r))s.includes(i)&&gv(t,e,n,o.callable,o.delegationSelector)}function zT(t){return t=t.replace(sB,""),BT[t]||t}const Oe={on(t,e,n,i){HO(t,e,n,i,!1)},one(t,e,n,i){HO(t,e,n,i,!0)},off(t,e,n,i){if(typeof e!="string"||!t)return;const[r,s,o]=QT(e,n,i),a=o!==e,l=jT(t),c=l[o]||{},u=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;gv(t,l,o,s,r?n:null);return}if(u)for(const f of Object.keys(l))uB(t,l,f,e.slice(1));for(const[f,d]of Object.entries(c)){const m=f.replace(oB,"");(!a||e.includes(m))&&gv(t,l,o,d.callable,d.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const i=IT(),r=zT(e),s=e!==r;let o=null,a=!0,l=!0,c=!1;s&&i&&(o=i.Event(e,n),i(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const u=Ty(new Event(e,{bubbles:a,cancelable:!0}),n);return c&&u.preventDefault(),l&&t.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function Ty(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch{Object.defineProperty(t,n,{configurable:!0,get(){return i}})}return t}function jO(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function qm(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ds={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${qm(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${qm(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=jO(t.dataset[i])}return e},getDataAttribute(t,e){return jO(t.getAttribute(`data-bs-${qm(e)}`))}};class ff{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const i=Es(n)?Ds.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...Es(n)?Ds.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[i,r]of Object.entries(n)){const s=e[i],o=Es(s)?"element":eB(s);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${r}".`)}}}const fB="5.3.3";class Dr extends ff{constructor(e,n){super(),e=_o(e),e&&(this._element=e,this._config=this._getConfig(n),Qm.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Qm.remove(this._element,this.constructor.DATA_KEY),Oe.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,i=!0){FT(e,n,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Qm.get(_o(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return fB}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Um=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>MT(n)).join(","):null},Ge={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!So(n)&&cc(n))},getSelectorFromElement(t){const e=Um(t);return e&&Ge.findOne(e)?e:null},getElementFromSelector(t){const e=Um(t);return e?Ge.findOne(e):null},getMultipleElementsFromSelector(t){const e=Um(t);return e?Ge.find(e):[]}},xp=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;Oe.on(document,n,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),So(this))return;const s=Ge.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(s)[e]()})},hB="alert",dB="bs.alert",WT=`.${dB}`,pB=`close${WT}`,mB=`closed${WT}`,gB="fade",vB="show";class wp extends Dr{static get NAME(){return hB}close(){if(Oe.trigger(this._element,pB).defaultPrevented)return;this._element.classList.remove(vB);const n=this._element.classList.contains(gB);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),Oe.trigger(this._element,mB),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=wp.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}xp(wp,"close");ur(wp);const bB="button",yB="bs.button",OB=`.${yB}`,xB=".data-api",wB="active",VO='[data-bs-toggle="button"]',_B=`click${OB}${xB}`;class _p extends Dr{static get NAME(){return bB}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(wB))}static jQueryInterface(e){return this.each(function(){const n=_p.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}Oe.on(document,_B,VO,t=>{t.preventDefault();const e=t.target.closest(VO);_p.getOrCreateInstance(e).toggle()});ur(_p);const SB="swipe",uc=".bs.swipe",CB=`touchstart${uc}`,TB=`touchmove${uc}`,AB=`touchend${uc}`,kB=`pointerdown${uc}`,EB=`pointerup${uc}`,DB="touch",RB="pen",$B="pointer-event",PB=40,MB={endCallback:null,leftCallback:null,rightCallback:null},LB={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ld extends ff{constructor(e,n){super(),this._element=e,!(!e||!ld.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return MB}static get DefaultType(){return LB}static get NAME(){return SB}dispose(){Oe.off(this._element,uc)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),_i(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=PB)return;const n=e/this._deltaX;this._deltaX=0,n&&_i(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Oe.on(this._element,kB,e=>this._start(e)),Oe.on(this._element,EB,e=>this._end(e)),this._element.classList.add($B)):(Oe.on(this._element,CB,e=>this._start(e)),Oe.on(this._element,TB,e=>this._move(e)),Oe.on(this._element,AB,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===RB||e.pointerType===DB)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NB="carousel",IB="bs.carousel",No=`.${IB}`,qT=".data-api",FB="ArrowLeft",BB="ArrowRight",HB=500,Dc="next",Wa="prev",tl="left",Ah="right",jB=`slide${No}`,Xm=`slid${No}`,VB=`keydown${No}`,QB=`mouseenter${No}`,zB=`mouseleave${No}`,WB=`dragstart${No}`,qB=`load${No}${qT}`,UB=`click${No}${qT}`,UT="carousel",jf="active",XB="slide",YB="carousel-item-end",GB="carousel-item-start",KB="carousel-item-next",JB="carousel-item-prev",XT=".active",YT=".carousel-item",ZB=XT+YT,eH=".carousel-item img",tH=".carousel-indicators",nH="[data-bs-slide], [data-bs-slide-to]",iH='[data-bs-ride="carousel"]',rH={[FB]:Ah,[BB]:tl},sH={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},oH={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class hf extends Dr{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ge.findOne(tH,this._element),this._addEventListeners(),this._config.ride===UT&&this.cycle()}static get Default(){return sH}static get DefaultType(){return oH}static get NAME(){return NB}next(){this._slide(Dc)}nextWhenVisible(){!document.hidden&&cc(this._element)&&this.next()}prev(){this._slide(Wa)}pause(){this._isSliding&&LT(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Oe.one(this._element,Xm,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){Oe.one(this._element,Xm,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const r=e>i?Dc:Wa;this._slide(r,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Oe.on(this._element,VB,e=>this._keydown(e)),this._config.pause==="hover"&&(Oe.on(this._element,QB,()=>this.pause()),Oe.on(this._element,zB,()=>this._maybeEnableCycle())),this._config.touch&&ld.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Ge.find(eH,this._element))Oe.on(i,WB,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(tl)),rightCallback:()=>this._slide(this._directionToOrder(Ah)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),HB+this._config.interval))}};this._swipeHelper=new ld(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=rH[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Ge.findOne(XT,this._indicatorsElement);n.classList.remove(jf),n.removeAttribute("aria-current");const i=Ge.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(jf),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const i=this._getActive(),r=e===Dc,s=n||Cy(this._getItems(),i,r,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),a=m=>Oe.trigger(this._element,m,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(a(jB).defaultPrevented||!i||!s)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const u=r?GB:YB,f=r?KB:JB;s.classList.add(f),uf(s),i.classList.add(u),s.classList.add(u);const d=()=>{s.classList.remove(u,f),s.classList.add(jf),i.classList.remove(jf,f,u),this._isSliding=!1,a(Xm)};this._queueCallback(d,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(XB)}_getActive(){return Ge.findOne(ZB,this._element)}_getItems(){return Ge.find(YT,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ar()?e===tl?Wa:Dc:e===tl?Dc:Wa}_orderToDirection(e){return ar()?e===Wa?tl:Ah:e===Wa?Ah:tl}static jQueryInterface(e){return this.each(function(){const n=hf.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Oe.on(document,UB,nH,function(t){const e=Ge.getElementFromSelector(this);if(!e||!e.classList.contains(UT))return;t.preventDefault();const n=hf.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(Ds.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});Oe.on(window,qB,()=>{const t=Ge.find(iH);for(const e of t)hf.getOrCreateInstance(e)});ur(hf);const aH="collapse",lH="bs.collapse",df=`.${lH}`,cH=".data-api",uH=`show${df}`,fH=`shown${df}`,hH=`hide${df}`,dH=`hidden${df}`,pH=`click${df}${cH}`,Ym="show",ll="collapse",Vf="collapsing",mH="collapsed",gH=`:scope .${ll} .${ll}`,vH="collapse-horizontal",bH="width",yH="height",OH=".collapse.show, .collapse.collapsing",vv='[data-bs-toggle="collapse"]',xH={parent:null,toggle:!0},wH={parent:"(null|element)",toggle:"boolean"};class xu extends Dr{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const i=Ge.find(vv);for(const r of i){const s=Ge.getSelectorFromElement(r),o=Ge.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return xH}static get DefaultType(){return wH}static get NAME(){return aH}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(OH).filter(a=>a!==this._element).map(a=>xu.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||Oe.trigger(this._element,uH).defaultPrevented)return;for(const a of e)a.hide();const i=this._getDimension();this._element.classList.remove(ll),this._element.classList.add(Vf),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Vf),this._element.classList.add(ll,Ym),this._element.style[i]="",Oe.trigger(this._element,fH)},o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Oe.trigger(this._element,hH).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,uf(this._element),this._element.classList.add(Vf),this._element.classList.remove(ll,Ym);for(const r of this._triggerArray){const s=Ge.getElementFromSelector(r);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Vf),this._element.classList.add(ll),Oe.trigger(this._element,dH)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ym)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=_o(e.parent),e}_getDimension(){return this._element.classList.contains(vH)?bH:yH}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(vv);for(const n of e){const i=Ge.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(e){const n=Ge.find(gH,this._config.parent);return Ge.find(e,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const i of e)i.classList.toggle(mH,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const i=xu.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Oe.on(document,pH,vv,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Ge.getMultipleElementsFromSelector(this))xu.getOrCreateInstance(e,{toggle:!1}).toggle()});ur(xu);const QO="dropdown",_H="bs.dropdown",Ma=`.${_H}`,Ay=".data-api",SH="Escape",zO="Tab",CH="ArrowUp",WO="ArrowDown",TH=2,AH=`hide${Ma}`,kH=`hidden${Ma}`,EH=`show${Ma}`,DH=`shown${Ma}`,GT=`click${Ma}${Ay}`,KT=`keydown${Ma}${Ay}`,RH=`keyup${Ma}${Ay}`,nl="show",$H="dropup",PH="dropend",MH="dropstart",LH="dropup-center",NH="dropdown-center",na='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',IH=`${na}.${nl}`,kh=".dropdown-menu",FH=".navbar",BH=".navbar-nav",HH=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",jH=ar()?"top-end":"top-start",VH=ar()?"top-start":"top-end",QH=ar()?"bottom-end":"bottom-start",zH=ar()?"bottom-start":"bottom-end",WH=ar()?"left-start":"right-start",qH=ar()?"right-start":"left-start",UH="top",XH="bottom",YH={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},GH={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class is extends Dr{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Ge.next(this._element,kh)[0]||Ge.prev(this._element,kh)[0]||Ge.findOne(kh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return YH}static get DefaultType(){return GH}static get NAME(){return QO}toggle(){return this._isShown()?this.hide():this.show()}show(){if(So(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Oe.trigger(this._element,EH,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(BH))for(const i of[].concat(...document.body.children))Oe.on(i,"mouseover",ad);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(nl),this._element.classList.add(nl),Oe.trigger(this._element,DH,e)}}hide(){if(So(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Oe.trigger(this._element,AH,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Oe.off(i,"mouseover",ad);this._popper&&this._popper.destroy(),this._menu.classList.remove(nl),this._element.classList.remove(nl),this._element.setAttribute("aria-expanded","false"),Ds.removeDataAttribute(this._menu,"popper"),Oe.trigger(this._element,kH,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Es(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${QO.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof CT>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Es(this._config.reference)?e=_o(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=yp(e,this._menu,n)}_isShown(){return this._menu.classList.contains(nl)}_getPlacement(){const e=this._parent;if(e.classList.contains(PH))return WH;if(e.classList.contains(MH))return qH;if(e.classList.contains(LH))return UH;if(e.classList.contains(NH))return XH;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains($H)?n?VH:jH:n?zH:QH}_detectNavbar(){return this._element.closest(FH)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ds.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..._i(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const i=Ge.find(HH,this._menu).filter(r=>cc(r));i.length&&Cy(i,n,e===WO,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=is.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===TH||e.type==="keyup"&&e.key!==zO)return;const n=Ge.find(IH);for(const i of n){const r=is.getInstance(i);if(!r||r._config.autoClose===!1)continue;const s=e.composedPath(),o=s.includes(r._menu);if(s.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===zO||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:r._element};e.type==="click"&&(a.clickEvent=e),r._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),i=e.key===SH,r=[CH,WO].includes(e.key);if(!r&&!i||n&&!i)return;e.preventDefault();const s=this.matches(na)?this:Ge.prev(this,na)[0]||Ge.next(this,na)[0]||Ge.findOne(na,e.delegateTarget.parentNode),o=is.getOrCreateInstance(s);if(r){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}}Oe.on(document,KT,na,is.dataApiKeydownHandler);Oe.on(document,KT,kh,is.dataApiKeydownHandler);Oe.on(document,GT,is.clearMenus);Oe.on(document,RH,is.clearMenus);Oe.on(document,GT,na,function(t){t.preventDefault(),is.getOrCreateInstance(this).toggle()});ur(is);const JT="backdrop",KH="fade",qO="show",UO=`mousedown.bs.${JT}`,JH={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ZH={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ZT extends ff{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return JH}static get DefaultType(){return ZH}static get NAME(){return JT}show(e){if(!this._config.isVisible){_i(e);return}this._append();const n=this._getElement();this._config.isAnimated&&uf(n),n.classList.add(qO),this._emulateAnimation(()=>{_i(e)})}hide(e){if(!this._config.isVisible){_i(e);return}this._getElement().classList.remove(qO),this._emulateAnimation(()=>{this.dispose(),_i(e)})}dispose(){this._isAppended&&(Oe.off(this._element,UO),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(KH),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=_o(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Oe.on(e,UO,()=>{_i(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){FT(e,this._getElement(),this._config.isAnimated)}}const e3="focustrap",t3="bs.focustrap",cd=`.${t3}`,n3=`focusin${cd}`,i3=`keydown.tab${cd}`,r3="Tab",s3="forward",XO="backward",o3={autofocus:!0,trapElement:null},a3={autofocus:"boolean",trapElement:"element"};class eA extends ff{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return o3}static get DefaultType(){return a3}static get NAME(){return e3}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Oe.off(document,cd),Oe.on(document,n3,e=>this._handleFocusin(e)),Oe.on(document,i3,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Oe.off(document,cd))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const i=Ge.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===XO?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===r3&&(this._lastTabNavDirection=e.shiftKey?XO:s3)}}const YO=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",GO=".sticky-top",Qf="padding-right",KO="margin-right";class bv{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Qf,n=>n+e),this._setElementAttributes(YO,Qf,n=>n+e),this._setElementAttributes(GO,KO,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Qf),this._resetElementAttributes(YO,Qf),this._resetElementAttributes(GO,KO)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,i){const r=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&Ds.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){const i=r=>{const s=Ds.getDataAttribute(r,n);if(s===null){r.style.removeProperty(n);return}Ds.removeDataAttribute(r,n),r.style.setProperty(n,s)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,n){if(Es(e)){n(e);return}for(const i of Ge.find(e,this._element))n(i)}}const l3="modal",c3="bs.modal",lr=`.${c3}`,u3=".data-api",f3="Escape",h3=`hide${lr}`,d3=`hidePrevented${lr}`,tA=`hidden${lr}`,nA=`show${lr}`,p3=`shown${lr}`,m3=`resize${lr}`,g3=`click.dismiss${lr}`,v3=`mousedown.dismiss${lr}`,b3=`keydown.dismiss${lr}`,y3=`click${lr}${u3}`,JO="modal-open",O3="fade",ZO="show",Gm="modal-static",x3=".modal.show",w3=".modal-dialog",_3=".modal-body",S3='[data-bs-toggle="modal"]',C3={backdrop:!0,focus:!0,keyboard:!0},T3={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ai extends Dr{constructor(e,n){super(e,n),this._dialog=Ge.findOne(w3,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new bv,this._addEventListeners()}static get Default(){return C3}static get DefaultType(){return T3}static get NAME(){return l3}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Oe.trigger(this._element,nA,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(JO),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Oe.trigger(this._element,h3).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ZO),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Oe.off(window,lr),Oe.off(this._dialog,lr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ZT({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new eA({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Ge.findOne(_3,this._dialog);n&&(n.scrollTop=0),uf(this._element),this._element.classList.add(ZO);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Oe.trigger(this._element,p3,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){Oe.on(this._element,b3,e=>{if(e.key===f3){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Oe.on(window,m3,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Oe.on(this._element,v3,e=>{Oe.one(this._element,g3,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(JO),this._resetAdjustments(),this._scrollBar.reset(),Oe.trigger(this._element,tA)})}_isAnimated(){return this._element.classList.contains(O3)}_triggerBackdropTransition(){if(Oe.trigger(this._element,d3).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Gm)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Gm),this._queueCallback(()=>{this._element.classList.remove(Gm),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!e){const r=ar()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!i&&e){const r=ar()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const i=Ai.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](n)}})}}Oe.on(document,y3,S3,function(t){const e=Ge.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Oe.one(e,nA,r=>{r.defaultPrevented||Oe.one(e,tA,()=>{cc(this)&&this.focus()})});const n=Ge.findOne(x3);n&&Ai.getInstance(n).hide(),Ai.getOrCreateInstance(e).toggle(this)});xp(Ai);ur(Ai);const A3="offcanvas",k3="bs.offcanvas",js=`.${k3}`,iA=".data-api",E3=`load${js}${iA}`,D3="Escape",ex="show",tx="showing",nx="hiding",R3="offcanvas-backdrop",rA=".offcanvas.show",$3=`show${js}`,P3=`shown${js}`,M3=`hide${js}`,ix=`hidePrevented${js}`,sA=`hidden${js}`,L3=`resize${js}`,N3=`click${js}${iA}`,I3=`keydown.dismiss${js}`,F3='[data-bs-toggle="offcanvas"]',B3={backdrop:!0,keyboard:!0,scroll:!1},H3={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Co extends Dr{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return B3}static get DefaultType(){return H3}static get NAME(){return A3}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Oe.trigger(this._element,$3,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new bv().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(tx);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ex),this._element.classList.remove(tx),Oe.trigger(this._element,P3,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||Oe.trigger(this._element,M3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nx),this._backdrop.hide();const n=()=>{this._element.classList.remove(ex,nx),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new bv().reset(),Oe.trigger(this._element,sA)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Oe.trigger(this._element,ix);return}this.hide()},n=!!this._config.backdrop;return new ZT({className:R3,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new eA({trapElement:this._element})}_addEventListeners(){Oe.on(this._element,I3,e=>{if(e.key===D3){if(this._config.keyboard){this.hide();return}Oe.trigger(this._element,ix)}})}static jQueryInterface(e){return this.each(function(){const n=Co.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Oe.on(document,N3,F3,function(t){const e=Ge.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),So(this))return;Oe.one(e,sA,()=>{cc(this)&&this.focus()});const n=Ge.findOne(rA);n&&n!==e&&Co.getInstance(n).hide(),Co.getOrCreateInstance(e).toggle(this)});Oe.on(window,E3,()=>{for(const t of Ge.find(rA))Co.getOrCreateInstance(t).show()});Oe.on(window,L3,()=>{for(const t of Ge.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Co.getOrCreateInstance(t).hide()});xp(Co);ur(Co);const j3=/^aria-[\w-]*$/i,oA={"*":["class","dir","id","lang","role",j3],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},V3=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Q3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,z3=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?V3.has(n)?!!Q3.test(t.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function W3(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...r.body.querySelectorAll("*"));for(const o of s){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const u of l)z3(u,c)||o.removeAttribute(u.nodeName)}return r.body.innerHTML}const q3="TemplateFactory",U3={allowList:oA,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},X3={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Y3={entry:"(string|element|function|null)",selector:"(string|element)"};class G3 extends ff{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return U3}static get DefaultType(){return X3}static get NAME(){return q3}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,s]of Object.entries(this._config.content))this._setContent(e,s,r);const n=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,i]of Object.entries(e))super._typeCheckConfig({selector:n,entry:i},Y3)}_setContent(e,n,i){const r=Ge.findOne(i,e);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(Es(n)){this._putElementInTemplate(_o(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(e){return this._config.sanitize?W3(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return _i(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const K3="tooltip",J3=new Set(["sanitize","allowList","sanitizeFn"]),Km="fade",Z3="modal",zf="show",e5=".tooltip-inner",rx=`.${Z3}`,sx="hide.bs.modal",Rc="hover",Jm="focus",t5="click",n5="manual",i5="hide",r5="hidden",s5="show",o5="shown",a5="inserted",l5="click",c5="focusin",u5="focusout",f5="mouseenter",h5="mouseleave",d5={AUTO:"auto",TOP:"top",RIGHT:ar()?"left":"right",BOTTOM:"bottom",LEFT:ar()?"right":"left"},p5={allowList:oA,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},m5={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class fc extends Dr{constructor(e,n){if(typeof CT>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return p5}static get DefaultType(){return m5}static get NAME(){return K3}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Oe.off(this._element.closest(rx),sx,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Oe.trigger(this._element,this.constructor.eventName(s5)),i=(NT(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(r),Oe.trigger(this._element,this.constructor.eventName(a5))),this._popper=this._createPopper(r),r.classList.add(zf),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Oe.on(a,"mouseover",ad);const o=()=>{Oe.trigger(this._element,this.constructor.eventName(o5)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Oe.trigger(this._element,this.constructor.eventName(i5)).defaultPrevented)return;if(this._getTipElement().classList.remove(zf),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Oe.off(r,"mouseover",ad);this._activeTrigger[t5]=!1,this._activeTrigger[Jm]=!1,this._activeTrigger[Rc]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Oe.trigger(this._element,this.constructor.eventName(r5)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Km,zf),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=tB(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(Km),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new G3({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[e5]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Km)}_isShown(){return this.tip&&this.tip.classList.contains(zf)}_createPopper(e){const n=_i(this._config.placement,[this,e,this._element]),i=d5[n.toUpperCase()];return yp(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return _i(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,..._i(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")Oe.on(this._element,this.constructor.eventName(l5),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==n5){const i=n===Rc?this.constructor.eventName(f5):this.constructor.eventName(c5),r=n===Rc?this.constructor.eventName(h5):this.constructor.eventName(u5);Oe.on(this._element,i,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?Jm:Rc]=!0,o._enter()}),Oe.on(this._element,r,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?Jm:Rc]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Oe.on(this._element.closest(rx),sx,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Ds.getDataAttributes(this._element);for(const i of Object.keys(n))J3.has(i)&&delete n[i];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:_o(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(e[n]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=fc.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ur(fc);const g5="popover",v5=".popover-header",b5=".popover-body",y5={...fc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},O5={...fc.DefaultType,content:"(null|string|element|function)"};class ky extends fc{static get Default(){return y5}static get DefaultType(){return O5}static get NAME(){return g5}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[v5]:this._getTitle(),[b5]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=ky.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ur(ky);const x5="scrollspy",w5="bs.scrollspy",Ey=`.${w5}`,_5=".data-api",S5=`activate${Ey}`,ox=`click${Ey}`,C5=`load${Ey}${_5}`,T5="dropdown-item",qa="active",A5='[data-bs-spy="scroll"]',Zm="[href]",k5=".nav, .list-group",ax=".nav-link",E5=".nav-item",D5=".list-group-item",R5=`${ax}, ${E5} > ${ax}, ${D5}`,$5=".dropdown",P5=".dropdown-toggle",M5={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},L5={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Sp extends Dr{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return M5}static get DefaultType(){return L5}static get NAME(){return x5}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=_o(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Oe.off(this._config.target,ox),Oe.on(this._config.target,ox,Zm,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const i=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},r=(this._rootElement||document.documentElement).scrollTop,s=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(i(o),!r)return;continue}!s&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ge.find(Zm,this._config.target);for(const n of e){if(!n.hash||So(n))continue;const i=Ge.findOne(decodeURI(n.hash),this._element);cc(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(qa),this._activateParents(e),Oe.trigger(this._element,S5,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(T5)){Ge.findOne(P5,e.closest($5)).classList.add(qa);return}for(const n of Ge.parents(e,k5))for(const i of Ge.prev(n,R5))i.classList.add(qa)}_clearActiveClass(e){e.classList.remove(qa);const n=Ge.find(`${Zm}.${qa}`,e);for(const i of n)i.classList.remove(qa)}static jQueryInterface(e){return this.each(function(){const n=Sp.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Oe.on(window,C5,()=>{for(const t of Ge.find(A5))Sp.getOrCreateInstance(t)});ur(Sp);const N5="tab",I5="bs.tab",La=`.${I5}`,F5=`hide${La}`,B5=`hidden${La}`,H5=`show${La}`,j5=`shown${La}`,V5=`click${La}`,Q5=`keydown${La}`,z5=`load${La}`,W5="ArrowLeft",lx="ArrowRight",q5="ArrowUp",cx="ArrowDown",eg="Home",ux="End",ia="active",fx="fade",tg="show",U5="dropdown",aA=".dropdown-toggle",X5=".dropdown-menu",ng=`:not(${aA})`,Y5='.list-group, .nav, [role="tablist"]',G5=".nav-item, .list-group-item",K5=`.nav-link${ng}, .list-group-item${ng}, [role="tab"]${ng}`,lA='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ig=`${K5}, ${lA}`,J5=`.${ia}[data-bs-toggle="tab"], .${ia}[data-bs-toggle="pill"], .${ia}[data-bs-toggle="list"]`;class Vl extends Dr{constructor(e){super(e),this._parent=this._element.closest(Y5),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Oe.on(this._element,Q5,n=>this._keydown(n)))}static get NAME(){return N5}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),i=n?Oe.trigger(n,F5,{relatedTarget:e}):null;Oe.trigger(e,H5,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(ia),this._activate(Ge.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(tg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Oe.trigger(e,j5,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(fx))}_deactivate(e,n){if(!e)return;e.classList.remove(ia),e.blur(),this._deactivate(Ge.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(tg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Oe.trigger(e,B5,{relatedTarget:n})};this._queueCallback(i,e,e.classList.contains(fx))}_keydown(e){if(![W5,lx,q5,cx,eg,ux].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(r=>!So(r));let i;if([eg,ux].includes(e.key))i=n[e.key===eg?0:n.length-1];else{const r=[lx,cx].includes(e.key);i=Cy(n,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),Vl.getOrCreateInstance(i).show())}_getChildren(){return Ge.find(ig,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",n),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Ge.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const i=this._getOuterElement(e);if(!i.classList.contains(U5))return;const r=(s,o)=>{const a=Ge.findOne(s,i);a&&a.classList.toggle(o,n)};r(aA,ia),r(X5,tg),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,i){e.hasAttribute(n)||e.setAttribute(n,i)}_elemIsActive(e){return e.classList.contains(ia)}_getInnerElement(e){return e.matches(ig)?e:Ge.findOne(ig,e)}_getOuterElement(e){return e.closest(G5)||e}static jQueryInterface(e){return this.each(function(){const n=Vl.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Oe.on(document,V5,lA,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!So(this)&&Vl.getOrCreateInstance(this).show()});Oe.on(window,z5,()=>{for(const t of Ge.find(J5))Vl.getOrCreateInstance(t)});ur(Vl);const Z5="toast",ej="bs.toast",Io=`.${ej}`,tj=`mouseover${Io}`,nj=`mouseout${Io}`,ij=`focusin${Io}`,rj=`focusout${Io}`,sj=`hide${Io}`,oj=`hidden${Io}`,aj=`show${Io}`,lj=`shown${Io}`,cj="fade",hx="hide",Wf="show",qf="showing",uj={animation:"boolean",autohide:"boolean",delay:"number"},fj={animation:!0,autohide:!0,delay:5e3};class Cp extends Dr{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return fj}static get DefaultType(){return uj}static get NAME(){return Z5}show(){if(Oe.trigger(this._element,aj).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(cj);const n=()=>{this._element.classList.remove(qf),Oe.trigger(this._element,lj),this._maybeScheduleHide()};this._element.classList.remove(hx),uf(this._element),this._element.classList.add(Wf,qf),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||Oe.trigger(this._element,sj).defaultPrevented)return;const n=()=>{this._element.classList.add(hx),this._element.classList.remove(qf,Wf),Oe.trigger(this._element,oj)};this._element.classList.add(qf),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Wf),super.dispose()}isShown(){return this._element.classList.contains(Wf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Oe.on(this._element,tj,e=>this._onInteraction(e,!0)),Oe.on(this._element,nj,e=>this._onInteraction(e,!1)),Oe.on(this._element,ij,e=>this._onInteraction(e,!0)),Oe.on(this._element,rj,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Cp.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}xp(Cp);ur(Cp);const hj=["id"],dj={class:"modal-dialog modal-xl"},pj={class:"modal-content"},mj={class:"modal-body"},gj=["innerHTML"],vj={class:"row g-3 mb-4"},bj={class:"col-12 p-3 rounded border silent-choose"},yj={class:"form-check form-check-inline"},Oj={class:"form-check form-check-inline"},xj={class:"col-md-6"},wj={class:"col-md-6"},_j={class:"col-md-4"},Sj={class:"col-md-4"},Cj={class:"col-md-4"},Tj={class:"table table-striped table-bordered"},Aj=Kn({__name:"AlertsSilence",props:{alerts:{},modalId:{},silenceAPI:{}},emits:["silence-message","modal-open","modal-close"],setup(t,{emit:e}){const n=ht(""),i=ht(""),r=ht(""),s=ht([]),o=ht("false"),a=ht(0),l=ht(0),c=ht(0);function u(y){const O=["-","+","e",".","E"],_=y.key;O.includes(_)&&y.preventDefault()}function f(y){const O=y.target;if(!O){a.value=0;return}const _=parseInt(O.value);isNaN(_)?a.value=0:_>30?a.value=30:_<0?a.value=0:a.value=_}async function d(){const y=[],O=m.alerts.map(_=>({alertname:_.alert,hostname:_.hostname||null}));for(const _ of O){const A=[{name:"alertname",value:_.alertname,isRegex:!1}];if(_.hostname&&A.push({name:"hostname",value:_.hostname,isRegex:!1}),o.value==="false"){if(!a.value&&!l.value&&!c.value){s.value.push("Please Provide either day or hours or minutes or combinations of them.");return}const T=new Date,N=new Date(T.getTime()+a.value*24*60*60*1e3+l.value*60*60*1e3+c.value*60*1e3);n.value=T.toISOString(),i.value=N.toISOString()}else{if(n.value===""&&s.value.push("Start time is required."),i.value===""&&s.value.push("End time is required."),s.value.length>0)return;const T=new Date(n.value),N=new Date(i.value);if(isNaN(T.getTime())||isNaN(N.getTime())){s.value.push("Invalid date format for Start or End time.");continue}if(T>=N){s.value.push("Start time must be before End time.");continue}}const R={matchers:A,startsAt:new Date(n.value).toISOString(),endsAt:new Date(i.value).toISOString(),createdBy:"admin",comment:r.value||"Silence for maintenance"};y.push(R)}for(const _ of y)try{const A=await kt.post(m.silenceAPI,_),R=`Alert ${_.matchers[0].value} silenced successfully. Silence ID: <strong>${A.data.silenceID}</strong>`;g("silence-message",R);const T=document.getElementById("silenceAlerts");T&&(Ai.getInstance(T)||new Ai(T)).hide()}catch(A){console.error("Error creating silence:",A)}}const m=t,g=e;return Mo(()=>{const y=document.getElementById(m.modalId);y&&(y.addEventListener("shown.bs.modal",()=>g("modal-open")),y.addEventListener("hidden.bs.modal",()=>{g("modal-close"),n.value="",i.value="",r.value="",s.value=[]}))}),rf(()=>{const y=document.getElementById(m.modalId);y&&(y.removeEventListener("shown.bs.modal",()=>g("modal-open")),y.removeEventListener("hidden.bs.modal",()=>g("modal-close")))}),(y,O)=>(K(),Z("div",null,[x("div",{class:"modal fade",id:m.modalId,tabindex:"-1","aria-labelledby":"modalLabel"},[x("div",dj,[x("div",pj,[O[18]||(O[18]=x("div",{class:"modal-header"},[x("h5",{class:"modal-title",id:"modalLabel"},"Silent Alert(s)"),x("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),x("div",mj,[(K(!0),Z(Ye,null,yn(s.value,(_,A)=>(K(),Z("div",{key:A,class:"alert alert-danger",role:"alert",innerHTML:_},null,8,gj))),128)),x("form",null,[x("div",vj,[x("div",bj,[O[10]||(O[10]=x("label",{class:"form-label d-block"},"Silent Mode Start",-1)),x("div",yj,[Zt(x("input",{class:"form-check-input",type:"radio",id:"fromNow",value:"false","onUpdate:modelValue":O[0]||(O[0]=_=>o.value=_)},null,512),[[nO,o.value]]),O[8]||(O[8]=x("label",{class:"form-check-label",for:"fromNow"},"Silent from Now",-1))]),x("div",Oj,[Zt(x("input",{class:"form-check-input",type:"radio",id:"fromTime",value:"true","onUpdate:modelValue":O[1]||(O[1]=_=>o.value=_)},null,512),[[nO,o.value]]),O[9]||(O[9]=x("label",{class:"form-check-label",for:"fromTime"},"Silent from a Specific Time",-1))])]),o.value==="true"?(K(),Z(Ye,{key:0},[x("div",xj,[O[11]||(O[11]=x("label",{for:"startAt",class:"form-label"},"Start Time",-1)),Zt(x("input",{type:"datetime-local",class:"form-control",id:"startAt","onUpdate:modelValue":O[2]||(O[2]=_=>n.value=_)},null,512),[[Ur,n.value]])]),x("div",wj,[O[12]||(O[12]=x("label",{for:"endAt",class:"form-label"},"End Time",-1)),Zt(x("input",{type:"datetime-local",class:"form-control",id:"endAt","onUpdate:modelValue":O[3]||(O[3]=_=>i.value=_)},null,512),[[Ur,i.value]])])],64)):(K(),Z(Ye,{key:1},[x("div",_j,[O[13]||(O[13]=x("label",{for:"days",class:"form-label"},"Days",-1)),Zt(x("input",{type:"number",class:"form-control",id:"days","onUpdate:modelValue":O[4]||(O[4]=_=>a.value=_),min:"0",max:"30",onKeydown:u,onInput:f,onPaste:O[5]||(O[5]=Hi(()=>{},["prevent"]))},null,544),[[Ur,a.value,void 0,{number:!0}]])]),x("div",Sj,[O[14]||(O[14]=x("label",{for:"hours",class:"form-label"},"Hours",-1)),Zt(x("input",{type:"number",class:"form-control",id:"hours","onUpdate:modelValue":O[6]||(O[6]=_=>l.value=_),min:"0",max:"23",onKeydown:u},null,544),[[Ur,l.value,void 0,{number:!0}]])]),x("div",Cj,[O[15]||(O[15]=x("label",{for:"minutes",class:"form-label"},"Minutes",-1)),Zt(x("input",{type:"number",class:"form-control",id:"minutes","onUpdate:modelValue":O[7]||(O[7]=_=>c.value=_),min:"0",max:"59",onKeydown:u},null,544),[[Ur,c.value,void 0,{number:!0}]])])],64))]),x("div",{class:"row g-3 mb-4"},[O[16]||(O[16]=x("div",{class:"col-md-10"},[x("label",{for:"comment",class:"form-label"},"Comment"),x("textarea",{type:"text",class:"form-control",id:"comment",placeholder:"Comment"})],-1)),x("div",{class:"col-md-2 d-flex align-items-end"},[x("button",{type:"button",class:"btn btn-primary w-100",onClick:d},"Apply Silence")])])]),x("table",Tj,[O[17]||(O[17]=x("thead",null,[x("tr",null,[x("th",null,"#"),x("th",null,"Alert"),x("th",null,"Hostname")])],-1)),x("tbody",null,[(K(!0),Z(Ye,null,yn(m.alerts,(_,A)=>(K(),Z("tr",{key:A},[x("td",null,xe(A+1),1),x("td",null,xe(_.alert),1),x("td",null,xe(_.hostname),1)]))),128))])])]),O[19]||(O[19]=x("div",{class:"modal-footer"},[x("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])],8,hj)]))}}),kj=Pa(Aj,[["__scopeId","data-v-efdf5112"]]),Ej=["innerHTML"],Dj={class:"fw-bold py-3 mb-4"},Rj={class:"d-flex justify-content-between align-items-center"},$j={class:"d-flex"},Pj={style:{"font-weight":"bold","font-size":"larger"}},Mj={key:2},Lj={id:"dataTable",class:"table table-bordered table-striped table-hover caption-top"},Nj={key:0},Ij={key:0},Fj=["value"],Bj=["onClick"],Hj=["innerHTML"],dx={critical:1,danger:2,warning:3,info:4,none:5},jj=Kn({props:{isActive:{type:Boolean,required:!0,default:!1},url:{type:String,required:!0},statusAPI:{type:String,required:!0},alertURL:{type:String,required:!0},silenceAPI:{type:String,required:!0}},data(){return{silenceMessages:[],dataFrom:"",selectedRows:[],rows:[],alerts:[],noRows:"",noRowsType:!1,showPopup:!1,intervalId:null,autoReload:!0,selectedRow:null}},watch:{async isActive(t){t?(await this.fetchAlerts(),this.autoReload&&this.startAutoReload()):this.stopAutoReload()}},async mounted(){this.isActive&&(await this.fetchAlerts(),this.autoReload&&this.startAutoReload())},beforeUnmount(){this.intervalId&&clearInterval(this.intervalId)},methods:{handleSilenceMessage(t){this.silenceMessages.push(t),this.selectedRows=[],setTimeout(()=>{this.silenceMessages=this.silenceMessages.filter(e=>e!==t)},1e4)},getRowIdentifier(t,e){return{alert:t,hostname:e}},silentAlerts(){if(this.selectedRows.length>0){const t=document.getElementById("silenceAlerts");t?(Ai.getInstance(t)||new Ai(t)).show():console.error("Modal element not found")}else alert("Please select at least one alert to make it silent or active.")},toggleAll(t){t.target.checked?this.selectedRows=this.rows.map(n=>this.getRowIdentifier(n.alert,n.hostname)):this.selectedRows=[]},parseTimestamp(t){try{if(!t)return"";if(t.includes("Z00:00Z")&&(t=t.replace("Z00:00Z","Z")),t.endsWith("Z")&&(t=t.replace("Z","+00:00")),t.includes(".")){const s=t.split(".")[0];let o=t.split(".")[1];if(o=o.replace(/Z$/,""),o.includes("+")||o.includes("-")){let a=o.split(/[+-]/)[0];const l=o.split(/[+-]/)[1];a=a.substring(0,6),t=`${s}.${a}+${l}`}else t=`${s}.${o.substring(0,6)}`}const e=new Date(t),n=Intl.DateTimeFormat().resolvedOptions().timeZone,i=e.toISOString().split("T")[0],r=e.toTimeString().split(" ")[0];return`${i} ${r} ${n}`}catch(e){return console.error("Invalid timestamp:",t,e),""}},sortRowsBySeverity(){this.rows.sort((t,e)=>{const n=dx[t.severity]||5,i=dx[e.severity]||5;return n-i})},async fetchAlerts(){var n;this.updateShowSpinner(!0);let t=[],e=!1;try{const i=`${this.url}/proxy?url=${this.statusAPI}`,r=await kt.get(i);r.status===200&&(t=r.data.data.groups,t=t.filter(s=>s.name==="trinityx"||s.name==="trinityx_hw"))}catch(i){i instanceof cv?this.noRows+=`
ERROR[Prometheus Server] :: ${i.message}: CODE:${i.code} URL:${(n=i.config)==null?void 0:n.url}`:i instanceof Error?this.noRows+=`
ERROR[Prometheus Server] :: ${i.message}`:this.noRows+=`
ERROR[Prometheus Server] :: ${i}`}if(this.rows=[],this.noRows="",this.alertURL.includes("http"))try{const i=`${this.url}/proxy?url=${this.alertURL}`,r=await kt.get(i,{timeout:5e3});r.status===200?(r.data.forEach(s=>{if(s.status.state!=="suppressed"){let o,a;if(t.length!==0){const l=t.flatMap(d=>d.rules).find(d=>{var m;return d.name===s.labels.alertname&&((m=d.labels)==null?void 0:m.category)===s.labels.category}),{alerts:c,...u}=l||{};a=(c==null?void 0:c.filter(d=>{var m;return((m=d.labels)==null?void 0:m.hostname)===s.labels.hostname}))??[],o=[u]}this.rows.push({alert:s.labels.alertname,nhc:s.labels.nhc,state:s.status.state,severity:s.labels.severity,eventTime:this.parseTimestamp(s.startsAt),hostname:s.labels.hostname,exporter:s.labels.exporter,job:s.labels.job,rule:o||[],alerts:a||[]}),this.dataFrom="Alert Manager",this.sortRowsBySeverity()}}),this.rows.length===0?this.noRows+=`ERROR[Alert Manager] ::There is no records coming from ${this.alertURL}.`:e=!0):this.noRows+=`
ERROR[Alert Manager] :: Error fetching Alerts from ${this.alertURL} Status: ${r.status}.`}catch(i){i instanceof Error?this.noRows+=`
ERROR[Alert Manager] :: ${i.message}: ${i.stack}`:this.noRows+=`
ERROR[Alert Manager] :: ${i}`}else this.noRows+=`
ERROR[Alert Manager] :: URL is incorrect: ${this.alertURL}`;e===!1&&(t.length!==0?t.forEach(i=>{i.rules.forEach(r=>{r.alerts&&r.alerts.length>0&&r.alerts.forEach(s=>{(String(s.labels.disabled)==="false"||s.labels.disabled===void 0)&&(this.rows.some(a=>a.alert===r.name&&a.hostname===s.labels.hostname&&a.exporter===s.labels.exporter&&a.job===s.labels.job)||(this.rows.push({alert:r.name,nhc:String(r.labels.nhc)==="true",state:r.state,severity:r.labels.severity,eventTime:this.parseTimestamp(r.lastEvaluation),hostname:s.labels.hostname,exporter:s.labels.exporter,job:s.labels.job,rule:Array.isArray(r)?r:[r],alerts:r.alerts}),this.dataFrom="Prometheus",e=!0,this.sortRowsBySeverity()))})})}):this.noRows+=`
ERROR[Prometheus Server] :: Error fetching Alerts from ${this.statusAPI} Status: ${response.status}.`,this.rows.length===0&&(this.noRows+="SUCCESS[Prometheus Server] :: There is no firing alerts for TrinityX Group.",this.noRowsType=!0)),this.updateShowSpinner(!1),await Ml(),this.refreshDataTable()},refreshDataTable(){$("#dataTable").DataTable({pageLength:25,columnDefs:[{orderable:!1,targets:1}]})},startAutoReload(){this.autoReload&&!this.intervalId&&(this.intervalId=setInterval(this.fetchAlerts,3e4))},stopAutoReload(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},toggleAutoReload(){this.autoReload=!this.autoReload,this.autoReload?this.startAutoReload():this.stopAutoReload()},openStatusModal(t){this.selectedRow=t,this.$nextTick(()=>{const e=document.getElementById("dynamicStatusModal");e&&new Ai(e,{backdrop:"static"}).show()})},updateShowSpinner(t){this.$emit("update:showSpinner",t)}}}),Vj=Kn({...jj,__name:"TabStatus",setup(t){return(e,n)=>(K(),Z(Ye,null,[(K(!0),Z(Ye,null,yn(e.silenceMessages,(i,r)=>(K(),Z("div",{key:r,class:"alert alert-primary",role:"alert",innerHTML:i},null,8,Ej))),128)),e.dataFrom==="Alert Manager"?(K(),Zh(kj,{key:0,alerts:e.selectedRows,silenceAPI:`${e.url}/proxy_post?url=${e.silenceAPI}`,modalId:"silenceAlerts",onSilenceMessage:e.handleSilenceMessage,onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["alerts","silenceAPI","onSilenceMessage","onModalOpen","onModalClose"])):dt("",!0),x("h4",Dj,[x("div",Rj,[n[4]||(n[4]=x("div",null,[x("span",{class:"text-muted fw-light"}," Monitoring /"),jt(" Alerts ")],-1)),x("div",$j,[e.dataFrom==="Alert Manager"?(K(),Z("button",{key:0,type:"button",class:"btn btn-sm btn-info me-2",onClick:n[0]||(n[0]=(...i)=>e.silentAlerts&&e.silentAlerts(...i))},"Silent Alerts")):dt("",!0),x("button",{type:"button",class:un(["btn","btn-sm",e.autoReload?"btn-success":"btn-warning"]),onClick:n[1]||(n[1]=(...i)=>e.toggleAutoReload&&e.toggleAutoReload(...i))},xe(e.autoReload?"Stop Auto Reload":"Start Auto Reload"),3)])])]),e.noRows&&!e.rows.length?(K(),Z("div",{key:1,class:un(["alert",e.noRowsType?"alert-success":"alert-danger","alert-dismissible"]),role:"alert"},[x("pre",Pj,xe(e.noRows),1),n[5]||(n[5]=x("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))],2)):dt("",!0),e.rows.length?(K(),Z("div",Mj,[x("table",Lj,[x("thead",null,[x("tr",null,[n[7]||(n[7]=x("th",null,"#",-1)),e.dataFrom==="Alert Manager"?(K(),Z("th",Nj,[n[6]||(n[6]=jt("Silent ")),x("input",{type:"checkbox",onChange:n[2]||(n[2]=i=>e.toggleAll(i))},null,32)])):dt("",!0),n[8]||(n[8]=x("th",null,"Alert",-1)),n[9]||(n[9]=x("th",null,"State",-1)),n[10]||(n[10]=x("th",null,"Severity",-1)),n[11]||(n[11]=x("th",null,"NHC",-1)),n[12]||(n[12]=x("th",null,"First Occurrence",-1)),n[13]||(n[13]=x("th",null,"Hostname",-1)),n[14]||(n[14]=x("th",null,"Exporter",-1)),n[15]||(n[15]=x("th",null,"Job",-1))])]),x("tbody",null,[(K(!0),Z(Ye,null,yn(e.rows,(i,r)=>(K(),Z("tr",{key:r},[x("td",null,xe(r+1),1),e.dataFrom==="Alert Manager"?(K(),Z("td",Ij,[Zt(x("input",{type:"checkbox",value:e.getRowIdentifier(i.alert,i.hostname),"onUpdate:modelValue":n[3]||(n[3]=s=>e.selectedRows=s)},null,8,Fj),[[$s,e.selectedRows]])])):dt("",!0),x("td",null,[x("a",{href:"#",onClick:Hi(s=>e.openStatusModal(i),["prevent"])},xe(i.alert),9,Bj)]),x("td",null,[x("span",{class:un(["badge me-1",{"bg-label-secondary":i.state==="inactive","bg-label-danger":i.state==="firing","bg-label-warning":i.state==="pending","bg-label-success":i.state==="active","bg-label-info":i.state==="suppressed"}])},xe(i.state),3)]),x("td",null,[x("span",{class:un(["badge me-1",{"bg-label-info":i.severity==="info","bg-label-warning":i.severity==="warning","bg-label-danger":i.severity==="danger","bg-label-dark":i.severity==="critical"}])},xe(i.severity),3)]),x("td",null,[x("span",{class:un(["badge me-1",{"bg-label-primary":i.nhc===!0,"bg-label-warning":i.nhc===!1||i.nhc===void 0}])},xe(i.nhc===!0),3)]),x("td",null,xe(i.eventTime),1),x("td",{innerHTML:i.hostname},null,8,Hj),x("td",null,xe(i.exporter),1),x("td",null,xe(i.job),1)]))),128))])]),e.selectedRow?(K(),Zh(KF,{key:0,rule:e.selectedRow.rule,alerts:e.selectedRow.alerts,first_occurrence:e.selectedRow.eventTime,modalId:"dynamicStatusModal",onModalOpen:e.stopAutoReload,onModalClose:e.startAutoReload},null,8,["rule","alerts","first_occurrence","onModalOpen","onModalClose"])):dt("",!0)])):dt("",!0)],64))}});let yv=[],cA=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?cA:yv).push(n=n+t[e])})();function Qj(t){if(t<768)return!1;for(let e=0,n=yv.length;;){let i=e+n>>1;if(t<yv[i])n=i;else if(t>=cA[i])e=i+1;else return!0;if(e==n)return!1}}function px(t){return t>=127462&&t<=127487}const mx=8205;function zj(t,e,n=!0,i=!0){return(n?uA:Wj)(t,e,i)}function uA(t,e,n){if(e==t.length)return e;e&&fA(t.charCodeAt(e))&&hA(t.charCodeAt(e-1))&&e--;let i=rg(t,e);for(e+=gx(i);e<t.length;){let r=rg(t,e);if(i==mx||r==mx||n&&Qj(r))e+=gx(r),i=r;else if(px(r)){let s=0,o=e-2;for(;o>=0&&px(rg(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Wj(t,e,n){for(;e>0;){let i=uA(t,e-2,n);if(i<e)return i;e--}return 0}function rg(t,e){let n=t.charCodeAt(e);if(!hA(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return fA(i)?(n-55296<<10)+(i-56320)+65536:n}function fA(t){return t>=56320&&t<57344}function hA(t){return t>=55296&&t<56320}function gx(t){return t<65536?1:2}class At{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,i){[e,n]=Ql(this,e,n);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(n,this.length,r,1),Xr.from(r,this.length-(n-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Ql(this,e,n);let i=[];return this.decompose(e,n,i,0),Xr.from(i,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new su(this),s=new su(e);for(let o=n,a=n;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new su(this,e)}iterRange(e,n=this.length){return new dA(this,e,n)}iterLines(e,n){let i;if(e==null)i=this.iter();else{n==null&&(n=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new pA(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?At.empty:e.length<=32?new on(e):Xr.from(on.split(e,[]))}}class on extends At{constructor(e,n=qj(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((n?i:a)>=e)return new Uj(r,a,i,o);r=a+1,i++}}decompose(e,n,i,r){let s=e<=0&&n>=this.length?this:new on(vx(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=Eh(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new on(a,o.length+s.length));else{let l=a.length>>1;i.push(new on(a.slice(0,l)),new on(a.slice(l)))}}else i.push(s)}replace(e,n,i){if(!(i instanceof on))return super.replace(e,n,i);[e,n]=Ql(this,e,n);let r=Eh(this.text,Eh(i.text,vx(this.text,0,e)),n),s=this.length+i.length-(n-e);return r.length<=32?new on(r,s):Xr.from(on.split(r,[]),s)}sliceString(e,n=this.length,i=`
`){[e,n]=Ql(this,e,n);let r="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&n>s&&(r+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return r}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(n.push(new on(i,r)),i=[],r=-1);return r>-1&&n.push(new on(i,r)),n}}class Xr extends At{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,i,r);r=a+1,i=l+1}}decompose(e,n,i,r){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let c=r&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?i.push(a):a.decompose(e-o,n-o,i,c)}o=l+1}}replace(e,n,i){if([e,n]=Ql(this,e,n),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[r]=l,new Xr(u,this.length-(n-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,i)}sliceString(e,n=this.length,i=`
`){[e,n]=Ql(this,e,n);let r="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&n>o&&(r+=a.sliceString(e-o,n-o,i)),o=l+1}return r}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Xr))return 0;let i=0,[r,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=n,s+=n){if(r==o||s==a)return i;let l=this.children[r],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,n);i+=l.length+1}}static from(e,n=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let m of e)i+=m.lines;if(i<32){let m=[];for(let g of e)g.flatten(m);return new on(m,n)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,c=-1,u=[];function f(m){let g;if(m.lines>s&&m instanceof Xr)for(let y of m.children)f(y);else m.lines>o&&(l>o||!l)?(d(),a.push(m)):m instanceof on&&l&&(g=u[u.length-1])instanceof on&&m.lines+g.lines<=32?(l+=m.lines,c+=m.length+1,u[u.length-1]=new on(g.text.concat(m.text),g.length+1+m.length)):(l+m.lines>r&&d(),l+=m.lines,c+=m.length+1,u.push(m))}function d(){l!=0&&(a.push(u.length==1?u[0]:Xr.from(u,c)),c=-1,l=u.length=0)}for(let m of e)f(m);return d(),a.length==1?a[0]:new Xr(a,n)}}At.empty=new on([""],0);function qj(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Eh(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let a=t[s],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function vx(t,e,n){return Eh(t,[""],e,n)}class su{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof on?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof on?r.text.length:r.children.length;if(o==(n>0?a:0)){if(i==0)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[i]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof on){let l=r.text[o+(n<0?-1:0)];if(this.offsets[i]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof on?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class dA{constructor(e,n,i){this.value="",this.done=!1,this.cursor=new su(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*n,this.value=r.length<=i?r:n<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class pA{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:i,value:r}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(At.prototype[Symbol.iterator]=function(){return this.iter()},su.prototype[Symbol.iterator]=dA.prototype[Symbol.iterator]=pA.prototype[Symbol.iterator]=function(){return this});class Uj{constructor(e,n,i,r){this.from=e,this.to=n,this.number=i,this.text=r}get length(){return this.to-this.from}}function Ql(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function In(t,e,n=!0,i=!0){return zj(t,e,n,i)}function Xj(t){return t>=56320&&t<57344}function Yj(t){return t>=55296&&t<56320}function Oi(t,e){let n=t.charCodeAt(e);if(!Yj(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return Xj(i)?(n-55296<<10)+(i-56320)+65536:n}function Dy(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Yr(t){return t<65536?1:2}const Ov=/\r\n?|\n/;var Nn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Nn||(Nn={}));class rs{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];e+=i<0?this.sections[n]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,i=0,r=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,n=!1){xv(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];r<0?e.push(i,r):e.push(r,i)}return new rs(e)}composeDesc(e){return this.empty?e:e.empty?this:mA(this,e)}mapDesc(e,n=!1){return e.empty?this:wv(this,e,n)}mapPos(e,n=-1,i=Nn.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=r+a;if(l<0){if(c>e)return s+(e-r);s+=a}else{if(i!=Nn.Simple&&c>=e&&(i==Nn.TrackDel&&r<e&&c>e||i==Nn.TrackBefore&&r<e||i==Nn.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==r||n<0?s:s+l;s+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,n=e){for(let i=0,r=0;i<this.sections.length&&r<=n;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=n&&a>=e)return r<e&&a>n?"cover":!0;r=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new rs(e)}static create(e){return new rs(e)}}class bn extends rs{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return xv(this,(n,i,r,s,o)=>e=e.replace(r,r+(i-n),o),!1),e}mapDesc(e,n=!1){return wv(this,e,n,!0)}invert(e){let n=this.sections.slice(),i=[];for(let r=0,s=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a>=0){n[r]=a,n[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(At.empty);i.push(o?e.slice(s,s+o):At.empty)}s+=o}return new bn(n,i)}compose(e){return this.empty?e:e.empty?this:mA(this,e,!0)}map(e,n=!1){return e.empty?this:wv(this,e,n,!0)}iterChanges(e,n=!1){xv(this,e,n)}get desc(){return rs.create(this.sections)}filter(e){let n=[],i=[],r=[],s=new wu(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);Vn(r,u,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;Vn(n,u,f),f>0&&lo(i,n,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);Vn(n,u,-1),Vn(r,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new bn(n,i),filtered:rs.create(r)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],r=this.sections[n+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,i){let r=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!r.length)return;o<n&&Vn(r,n-o,-1);let f=new bn(r,s);a=a?a.compose(f.map(a)):f,r=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof bn){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:f,to:d=f,insert:m}=u;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let g=m?typeof m=="string"?At.of(m.split(i||Ov)):m:At.empty,y=g.length;if(f==d&&y==0)return;f<o&&l(),f>o&&Vn(r,f-o,-1),Vn(r,d-f,y),lo(s,r,g),o=d}}return c(e),l(!a),a}static empty(e){return new bn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;i.length<r;)i.push(At.empty);i[r]=At.of(s.slice(1)),n.push(s[0],i[r].length)}}}return new bn(n,i)}static createSet(e,n){return new bn(e,n)}}function Vn(t,e,n,i=!1){if(e==0&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:r>=0&&e==0&&t[r]==0?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function lo(t,e,n){if(n.length==0)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(At.empty);t.push(n)}}function xv(t,e,n){let i=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)r+=a,s+=a;else{let c=r,u=s,f=At.empty;for(;c+=a,u+=l,l&&i&&(f=f.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(r,c,s,u,f),r=c,s=u}}}function wv(t,e,n,i=!1){let r=[],s=i?[]:null,o=new wu(t),a=new wu(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Vn(r,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let c=a.len;for(Vn(r,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(Vn(r,0,o.ins),s&&lo(s,r,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let f=Math.min(u,a.len);c+=f,u-=f,a.forward(f)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;Vn(r,c,l<o.i?o.ins:0),s&&l<o.i&&lo(s,r,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?bn.createSet(r,s):rs.create(r);throw new Error("Mismatched change set lengths")}}}function mA(t,e,n=!1){let i=[],r=n?[]:null,s=new wu(t),o=new wu(e);for(let a=!1;;){if(s.done&&o.done)return r?bn.createSet(i,r):rs.create(i);if(s.ins==0)Vn(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)Vn(i,0,o.ins,a),r&&lo(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;Vn(i,l,u,a),r&&u&&lo(r,i,o.text)}else o.ins==-1?(Vn(i,s.off?0:s.len,l,a),r&&lo(r,i,s.textBit(l))):(Vn(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&lo(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}}}class wu{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?At.empty:e[n]}textBit(e){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!e?At.empty:n[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ra{constructor(e,n,i){this.from=e,this.to=n,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,n):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new ra(i,r,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return pe.range(e,n);let i=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return pe.range(this.anchor,i)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return pe.range(e.anchor,e.head)}static create(e,n,i){return new ra(e,n,i)}}class pe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:pe.create(this.ranges.map(i=>i.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new pe([this.main],0)}addRange(e,n=!0){return pe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let i=this.ranges.slice();return i[n]=e,pe.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new pe(e.ranges.map(n=>ra.fromJSON(n)),e.main)}static single(e,n=e){return new pe([pe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return pe.normalized(e.slice(),n);i=s.to}return new pe(e,n)}static cursor(e,n=0,i,r){return ra.create(e,e,(n==0?0:n<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,n,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return n<e?ra.create(n,e,48|s):ra.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let i=e[n];e.sort((r,s)=>r.from-s.from),n=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=n&&n--,e.splice(--r,2,s.anchor>s.head?pe.range(l,a):pe.range(a,l))}}return new pe(e,n)}}function gA(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Ry=0;class Be{constructor(e,n,i,r,s){this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=r,this.id=Ry++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Be(e.combine||(n=>n),e.compareInput||((n,i)=>n===i),e.compare||(e.combine?(n,i)=>n===i:$y),!!e.static,e.enables)}of(e){return new Dh([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Dh(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Dh(e,this,2,n)}from(e,n){return n||(n=i=>i),this.compute([e],i=>n(i.field(e)))}}function $y(t,e){return t==e||t.length==e.length&&t.every((n,i)=>n===e[i])}class Dh{constructor(e,n,i,r){this.dependencies=e,this.facet=n,this.type=i,this.value=r,this.id=Ry++}dynamicSlot(e){var n;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||u.push(e[f.id]);return{create(f){return f.values[o]=i(f),1},update(f,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||_v(f,u)){let m=i(f);if(a?!bx(m,f.values[o],r):!r(m,f.values[o]))return f.values[o]=m,1}return 0},reconfigure:(f,d)=>{let m,g=d.config.address[s];if(g!=null){let y=fd(d,g);if(this.dependencies.every(O=>O instanceof Be?d.facet(O)===f.facet(O):O instanceof En?d.field(O,!1)==f.field(O,!1):!0)||(a?bx(m=i(f),y,r):r(m=i(f),y)))return f.values[o]=y,0}else m=i(f);return f.values[o]=m,1}}}}function bx(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function _v(t,e){let n=!1;for(let i of e)ou(t,i)&1&&(n=!0);return n}function Gj(t,e,n){let i=n.map(l=>t[l.id]),r=n.map(l=>l.type),s=i.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<i.length;u++){let f=fd(l,i[u]);if(r[u]==2)for(let d of f)c.push(d);else c.push(f)}return e.combine(c)}return{create(l){for(let c of i)ou(l,c);return l.values[o]=a(l),1},update(l,c){if(!_v(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=_v(l,i),f=c.config.facets[e.id],d=c.facet(e);if(f&&!u&&$y(n,f))return l.values[o]=d,0;let m=a(l);return e.compare(m,d)?(l.values[o]=d,0):(l.values[o]=m,1)}}}const Uf=Be.define({static:!0});class En{constructor(e,n,i,r,s){this.id=e,this.createF=n,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let n=new En(Ry++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Uf).find(i=>i.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:i=>(i.values[n]=this.create(i),1),update:(i,r)=>{let s=i.values[n],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[n]=o,1)},reconfigure:(i,r)=>{let s=i.facet(Uf),o=r.facet(Uf),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(i.values[n]=a.create(i),1):r.config.address[this.id]!=null?(i.values[n]=r.field(this),0):(i.values[n]=this.create(i),1)}}}init(e){return[this,Uf.of({field:this,create:e})]}get extension(){return this}}const Ko={lowest:4,low:3,default:2,high:1,highest:0};function $c(t){return e=>new vA(e,t)}const Fo={highest:$c(Ko.highest),high:$c(Ko.high),default:$c(Ko.default),low:$c(Ko.low),lowest:$c(Ko.lowest)};class vA{constructor(e,n){this.inner=e,this.prec=n}}class Tp{of(e){return new Sv(this,e)}reconfigure(e){return Tp.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Sv{constructor(e,n){this.compartment=e,this.inner=n}}class ud{constructor(e,n,i,r,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,i){let r=[],s=Object.create(null),o=new Map;for(let d of Kj(e,n,o))d instanceof En?r.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of r)a[d.id]=c.length<<1,c.push(m=>d.slot(m));let u=i==null?void 0:i.config.facets;for(let d in s){let m=s[d],g=m[0].facet,y=u&&u[d]||[];if(m.every(O=>O.type==0))if(a[g.id]=l.length<<1|1,$y(y,m))l.push(i.facet(g));else{let O=g.combine(m.map(_=>_.value));l.push(i&&g.compare(O,i.facet(g))?i.facet(g):O)}else{for(let O of m)O.type==0?(a[O.id]=l.length<<1|1,l.push(O.value)):(a[O.id]=c.length<<1,c.push(_=>O.dynamicSlot(_)));a[g.id]=c.length<<1,c.push(O=>Gj(O,g,m))}}let f=c.map(d=>d(a));return new ud(e,o,f,a,l,s)}}function Kj(t,e,n){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof Sv&&n.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Sv){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),s(c,a)}else if(o instanceof vA)s(o.inner,o.prec);else if(o instanceof En)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Dh)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,Ko.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,Ko.default),i.reduce((o,a)=>o.concat(a))}function ou(t,e){if(e&1)return 2;let n=e>>1,i=t.status[n];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function fd(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const bA=Be.define(),Cv=Be.define({combine:t=>t.some(e=>e),static:!0}),yA=Be.define({combine:t=>t.length?t[0]:void 0,static:!0}),OA=Be.define(),xA=Be.define(),wA=Be.define(),_A=Be.define({combine:t=>t.length?t[0]:!1});class Vs{constructor(e,n){this.type=e,this.value=n}static define(){return new Jj}}class Jj{of(e){return new Vs(this,e)}}class Zj{constructor(e){this.map=e}of(e){return new lt(this,e)}}class lt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new lt(this.type,n)}is(e){return this.type==e}static define(e={}){return new Zj(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(n);s&&i.push(s)}return i}}lt.reconfigure=lt.define();lt.appendConfig=lt.define();class hn{constructor(e,n,i,r,s,o){this.startState=e,this.changes=n,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&gA(i,n.newLength),s.some(a=>a.type==hn.time)||(this.annotations=s.concat(hn.time.of(Date.now())))}static create(e,n,i,r,s,o){return new hn(e,n,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(hn.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}hn.time=Vs.define();hn.userEvent=Vs.define();hn.addToHistory=Vs.define();hn.remote=Vs.define();function eV(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else if(r<e.length)s=e[r++],o=e[r++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function SA(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=bn.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=t.selection)===null||i===void 0?void 0:i.map(r),effects:lt.mapEffects(t.effects,r).concat(lt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Tv(t,e,n){let i=e.selection,r=Ol(e.annotations);return e.userEvent&&(r=r.concat(hn.userEvent.of(e.userEvent))),{changes:e.changes instanceof bn?e.changes:bn.of(e.changes||[],n,t.facet(yA)),selection:i&&(i instanceof pe?i:pe.single(i.anchor,i.head)),effects:Ol(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function CA(t,e,n){let i=Tv(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;i=SA(i,Tv(t,e[s],o?i.changes.newLength:t.doc.length),o)}let r=hn.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return nV(n?tV(r):r)}function tV(t){let e=t.startState,n=!0;for(let r of e.facet(OA)){let s=r(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:eV(n,s))}if(n!==!0){let r,s;if(n===!1)s=t.changes.invertedDesc,r=bn.empty(e.doc.length);else{let o=t.changes.filter(n);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=hn.create(e,r,t.selection&&t.selection.map(s),lt.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let i=e.facet(xA);for(let r=i.length-1;r>=0;r--){let s=i[r](t);s instanceof hn?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof hn?t=s[0]:t=CA(e,Ol(s),!1)}return t}function nV(t){let e=t.startState,n=e.facet(wA),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=SA(i,Tv(e,s,t.changes.newLength),!0))}return i==t?t:hn.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}const iV=[];function Ol(t){return t==null?iV:Array.isArray(t)?t:[t]}var nn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(nn||(nn={}));const rV=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Av;try{Av=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function sV(t){if(Av)return Av.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||rV.test(n)))return!0}return!1}function oV(t){return e=>{if(!/\S/.test(e))return nn.Space;if(sV(e))return nn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return nn.Word;return nn.Other}}class Tt{constructor(e,n,i,r,s,o){this.config=e,this.doc=n,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)ou(this,a<<1);this.computeSlot=null}field(e,n=!0){let i=this.config.address[e.id];if(i==null){if(n)throw new RangeError("Field is not present in this state");return}return ou(this,i),fd(this,i)}update(...e){return CA(this,e,!0)}applyTransaction(e){let n=this.config,{base:i,compartments:r}=n;for(let a of e.effects)a.is(Tp.reconfigure)?(n&&(r=new Map,n.compartments.forEach((l,c)=>r.set(c,l)),n=null),r.set(a.value.compartment,a.value.extension)):a.is(lt.reconfigure)?(n=null,i=a.value):a.is(lt.appendConfig)&&(n=null,i=Ol(i).concat(a.value));let s;n?s=e.startState.values.slice():(n=ud.resolve(i,r,this),s=new Tt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(Cv)?e.newSelection:e.newSelection.asSingle();new Tt(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:pe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,i=e(n.ranges[0]),r=this.changes(i.changes),s=[i.range],o=Ol(i.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(r);for(let d=0;d<a;d++)s[d]=s[d].map(u);let f=r.mapDesc(c,!0);s.push(l.range.map(f)),r=r.compose(u),o=lt.mapEffects(o,u).concat(lt.mapEffects(Ol(l.effects),f))}return{changes:r,selection:pe.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof bn?e:bn.of(e,this.doc.length,this.facet(Tt.lineSeparator))}toText(e){return At.of(e.split(this.facet(Tt.lineSeparator)||Ov))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(ou(this,n),fd(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof En&&this.config.address[r.id]!=null&&(n[i]=r.spec.toJSON(this.field(e[i]),this))}return n}static fromJSON(e,n={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Tt.create({doc:e.doc,selection:pe.fromJSON(e.selection),extensions:n.extensions?r.concat([n.extensions]):r})}static create(e={}){let n=ud.resolve(e.extensions||[],new Map),i=e.doc instanceof At?e.doc:At.of((e.doc||"").split(n.staticFacet(Tt.lineSeparator)||Ov)),r=e.selection?e.selection instanceof pe?e.selection:pe.single(e.selection.anchor,e.selection.head):pe.single(0);return gA(r,i.length),n.staticFacet(Cv)||(r=r.asSingle()),new Tt(n,i,r,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Tt.tabSize)}get lineBreak(){return this.facet(Tt.lineSeparator)||`
`}get readOnly(){return this.facet(_A)}phrase(e,...n){for(let i of this.facet(Tt.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>n.length?i:n[s-1]})),e}languageDataAt(e,n,i=-1){let r=[];for(let s of this.facet(bA))for(let o of s(this,n,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return oV(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=In(n,o,!1);if(s(n.slice(l,o))!=nn.Word)break;o=l}for(;a<r;){let l=In(n,a);if(s(n.slice(a,l))!=nn.Word)break;a=l}return o==a?null:pe.range(o+i,a+i)}}Tt.allowMultipleSelections=Cv;Tt.tabSize=Be.define({combine:t=>t.length?t[0]:4});Tt.lineSeparator=yA;Tt.readOnly=_A;Tt.phrases=Be.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every(r=>t[r]==e[r])}});Tt.languageData=bA;Tt.changeFilter=OA;Tt.transactionFilter=xA;Tt.transactionExtender=wA;Tp.reconfigure=lt.define();function us(t,e,n={}){let i={};for(let r of t)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))i[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class Ca{eq(e){return this==e}range(e,n=e){return kv.create(e,n,this)}}Ca.prototype.startSide=Ca.prototype.endSide=0;Ca.prototype.point=!1;Ca.prototype.mapMode=Nn.TrackDel;let kv=class TA{constructor(e,n,i){this.from=e,this.to=n,this.value=i}static create(e,n,i){return new TA(e,n,i)}};function Ev(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Py{constructor(e,n,i,r){this.from=e,this.to=n,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,n,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,i,r){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,d,m;if(u==f){let g=n.mapPos(u,c.startSide,c.mapMode);if(g==null||(d=m=g,c.startSide!=c.endSide&&(m=n.mapPos(u,c.endSide),m<d)))continue}else if(d=n.mapPos(u,c.startSide),m=n.mapPos(f,c.endSide),d>m||d==m&&c.startSide>0&&c.endSide<=0)continue;(m-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(a=Math.max(a,m-d)),i.push(c),r.push(d-o),s.push(m-o))}return{mapped:i.length?new Py(r,s,i,a):null,pos:o}}}class $t{constructor(e,n,i,r){this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=r}static create(e,n,i,r){return new $t(e,n,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(i&&(n=n.slice().sort(Ev)),this.isEmpty)return n.length?$t.of(n):this;let a=new AA(this,null,-1).goto(0),l=0,c=[],u=new Ms;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(kv.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?$t.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),n.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:f}=l.map(a,e);u&&(r=Math.max(r,u.maxPoint),n.push(u),i.push(f))}}let s=this.nextLayer.map(e);return n.length==0?s:new $t(i,n,s||$t.empty,r)}between(e,n,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,i)===!1)return}this.nextLayer.between(e,n,i)}}iter(e=0){return _u.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return _u.from(e).goto(n)}static compare(e,n,i,r,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=yx(o,a,i),c=new Pc(o,l,s),u=new Pc(a,l,s);i.iterGaps((f,d,m)=>Ox(c,f,u,d,m,r)),i.empty&&i.length==0&&Ox(c,0,u,0,0,r)}static eq(e,n,i=0,r){r==null&&(r=999999999);let s=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),o=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=yx(s,o),l=new Pc(s,a,0).goto(i),c=new Pc(o,a,0).goto(i);for(;;){if(l.to!=c.to||!Dv(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,n,i,r,s=-1){let o=new Pc(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let u=o.activeForPoint(o.to),f=o.pointFrom<n?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);r.point(a,c,o.point,u,f,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(r.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,n=!1){let i=new Ms;for(let r of e instanceof kv?[e]:n?aV(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return $t.empty;let n=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=$t.empty;r=r.nextLayer)n=new $t(r.chunkPos,r.chunk,n,Math.max(r.maxPoint,n.maxPoint));return n}}$t.empty=new $t([],[],null,-1);function aV(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(Ev(e,i)>0)return t.slice().sort(Ev);e=i}return t}$t.empty.nextLayer=$t.empty;class Ms{finishChunk(e){this.chunks.push(new Py(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new Ms)).add(e,n,i)}addInner(e,n,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+e,this.lastTo=n.to[i]+e,!0}finish(){return this.finishInner($t.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=$t.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function yx(t,e,n){let i=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class AA{constructor(e,n,i,r=0){this.layer=e,this.skip=n,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=e+n.from[this.rangeIndex];if(this.from=i,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class _u{constructor(e){this.heap=e}static from(e,n=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new AA(o,n,i,s));return r.length==1?r[0]:new _u(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let i of this.heap)i.goto(e,n);for(let i=this.heap.length>>1;i>=0;i--)sg(this.heap,i);return this.next(),this}forward(e,n){for(let i of this.heap)i.forward(e,n);for(let i=this.heap.length>>1;i>=0;i--)sg(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),sg(this.heap,0)}}}function sg(t,e){for(let n=t[e];;){let i=(e<<1)+1;if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class Pc{constructor(e,n,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=_u.from(e,n,i)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Xf(this.active,e),Xf(this.activeTo,e),Xf(this.activeRank,e),this.minActive=xx(this.active,this.activeTo)}addActive(e){let n=0,{value:i,to:r,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||r-this.activeTo[n])>0;)n++;Yf(this.active,n,i),Yf(this.activeTo,n,r),Yf(this.activeRank,n,s),e&&Yf(e,n,this.cursor.from),this.minActive=xx(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Xf(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(e){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)n++;return n}}function Ox(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,a=i,l=i-e;for(;;){let c=t.to+l-n.to,u=c||t.endSide-n.endSide,f=u<0?t.to+l:n.to,d=Math.min(f,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Dv(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,d,t.point,n.point):d>a&&!Dv(t.active,n.active)&&s.compareRange(a,d,t.active,n.active),f>o)break;(c||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(f),a=f,u<=0&&t.next(),u>=0&&n.next()}}function Dv(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Xf(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Yf(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function xx(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function hc(t,e,n=t.length){let i=0;for(let r=0;r<n&&r<t.length;)t.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=In(t,r));return i}function Rv(t,e,n,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=t.charCodeAt(r)==9?n-s%n:1,r=In(t,r)}return i===!0?-1:t.length}const $v="ͼ",wx=typeof Symbol>"u"?"__"+$v:Symbol.for($v),Pv=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),_x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class To{constructor(e,n){this.rules=[];let{finish:i}=n||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],f=/^@(\w+)\b/.exec(o[0]),d=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let m in a){let g=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(y=>o.map(O=>y.replace(/&/,O))).reduce((y,O)=>y.concat(O)),g,l);else if(g&&typeof g=="object"){if(!f)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(r(m),g,u,d)}else g!=null&&u.push(m.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(u.length||d)&&l.push((i&&!f&&!c?o.map(i):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=_x[wx]||1;return _x[wx]=e+1,$v+e.toString(36)}static mount(e,n,i){let r=e[Pv],s=i&&i.nonce;r?s&&r.setNonce(s):r=new lV(e,s),r.mount(Array.isArray(n)?n:[n],e)}}let Sx=new Map;class lV{constructor(e,n){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=Sx.get(i);if(s)return e[Pv]=s;this.sheet=new r.CSSStyleSheet,Sx.set(i,this)}else this.styleTag=i.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Pv]=this}mount(e,n){let i=this.sheet,r=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let c=0;c<a.rules.length;c++)i.insertRule(a.rules[c],r++)}else{for(;s<l;)r+=this.modules[s++].rules.length;r+=a.rules.length,s++}}if(i)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ao={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Su={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},cV=typeof navigator<"u"&&/Mac/.test(navigator.platform),uV=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ln=0;Ln<10;Ln++)Ao[48+Ln]=Ao[96+Ln]=String(Ln);for(var Ln=1;Ln<=24;Ln++)Ao[Ln+111]="F"+Ln;for(var Ln=65;Ln<=90;Ln++)Ao[Ln]=String.fromCharCode(Ln+32),Su[Ln]=String.fromCharCode(Ln);for(var og in Ao)Su.hasOwnProperty(og)||(Su[og]=Ao[og]);function fV(t){var e=cV&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||uV&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Su:Ao)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Cu(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Mv(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Rh(t,e){if(!e.anchorNode)return!1;try{return Mv(t,e.anchorNode)}catch{return!1}}function Tu(t){return t.nodeType==3?Aa(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function au(t,e,n,i){return n?Cx(t,e,n,i,-1)||Cx(t,e,n,i,1):!1}function Ta(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function hd(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Cx(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:cs(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Ta(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=r<0?cs(t):0}else return!1}}function cs(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ap(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function hV(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function kA(t,e){let n=e.width/t.offsetWidth,i=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-t.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}function dV(t,e,n,i,r,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,f=!1;u&&!f;)if(u.nodeType==1){let d,m=u==l.body,g=1,y=1;if(m)d=hV(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(f=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let A=u.getBoundingClientRect();({scaleX:g,scaleY:y}=kA(u,A)),d={left:A.left,right:A.left+u.clientWidth*g,top:A.top,bottom:A.top+u.clientHeight*y}}let O=0,_=0;if(r=="nearest")e.top<d.top?(_=-(d.top-e.top+o),n>0&&e.bottom>d.bottom+_&&(_=e.bottom-d.bottom+_+o)):e.bottom>d.bottom&&(_=e.bottom-d.bottom+o,n<0&&e.top-_<d.top&&(_=-(d.top+_-e.top+o)));else{let A=e.bottom-e.top,R=d.bottom-d.top;_=(r=="center"&&A<=R?e.top+A/2-R/2:r=="start"||r=="center"&&n<0?e.top-o:e.bottom-R+o)-d.top}if(i=="nearest"?e.left<d.left?(O=-(d.left-e.left+s),n>0&&e.right>d.right+O&&(O=e.right-d.right+O+s)):e.right>d.right&&(O=e.right-d.right+s,n<0&&e.left<d.left+O&&(O=-(d.left+O-e.left+s))):O=(i=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:i=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,O||_)if(m)c.scrollBy(O,_);else{let A=0,R=0;if(_){let T=u.scrollTop;u.scrollTop+=_/y,R=(u.scrollTop-T)*y}if(O){let T=u.scrollLeft;u.scrollLeft+=O/g,A=(u.scrollLeft-T)*g}e={left:e.left-A,top:e.top-R,right:e.right-A,bottom:e.bottom-R},A&&Math.abs(A-O)<1&&(i="nearest"),R&&Math.abs(R-_)<1&&(r="nearest")}if(m)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function pV(t){let e=t.ownerDocument,n,i;for(let r=t.parentNode;r&&!(r==e.body||n&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!n&&r.scrollWidth>r.clientWidth&&(n=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:n,y:i}}class mV{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:i}=e;this.set(n,Math.min(e.anchorOffset,n?cs(n):0),i,Math.min(e.focusOffset,i?cs(i):0))}set(e,n,i,r){this.anchorNode=e,this.anchorOffset=n,this.focusNode=i,this.focusOffset=r}}let Ua=null;function EA(t){if(t.setActive)return t.setActive();if(Ua)return t.focus(Ua);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Ua==null?{get preventScroll(){return Ua={preventScroll:!0},!0}}:void 0),!Ua){Ua=!1;for(let n=0;n<e.length;){let i=e[n++],r=e[n++],s=e[n++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Tx;function Aa(t,e,n=e){let i=Tx||(Tx=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function xl(t,e,n,i){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function gV(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function DA(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function vV(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,cs(n));;)if(i){if(n.nodeType!=1)return!1;let r=n.childNodes[i-1];r.contentEditable=="false"?i--:(n=r,i=cs(n))}else{if(n==t)return!0;i=Ta(n),n=n.parentNode}}function RA(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function $A(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i>0)return{node:n,offset:i};if(n.nodeType==1&&i>0){if(n.contentEditable=="false")return null;n=n.childNodes[i-1],i=cs(n)}else if(n.parentNode&&!hd(n))i=Ta(n),n=n.parentNode;else return null}}function PA(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i<n.nodeValue.length)return{node:n,offset:i};if(n.nodeType==1&&i<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[i],i=0}else if(n.parentNode&&!hd(n))i=Ta(n)+1,n=n.parentNode;else return null}}class Un{constructor(e,n,i=!0){this.node=e,this.offset=n,this.precise=i}static before(e,n){return new Un(e.parentNode,Ta(e),n)}static after(e,n){return new Un(e.parentNode,Ta(e)+1,n)}}const My=[];class Wt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let a=Wt.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&s!=o.dom&&(n.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Ax(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&n&&n.node==i&&(n.written=!0);s;)s=Ax(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,n),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let i;if(e==this.dom)i=this.dom.childNodes[n];else{let r=cs(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Wt.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,u=i;l<this.children.length;l++){let f=this.children[l],d=c+f.length;if(c<e&&d>n)return f.domBoundsAround(e,n,c);if(d>=e&&r==-1&&(r=l,s=c),c>n&&f.dom.parentNode==this.dom){o=l,a=u;break}u=d,c=d+f.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,i=My){this.markDirty();for(let r=e;r<n;r++){let s=this.children[r];s.parent==this&&i.indexOf(s)<0&&s.destroy()}i.length<250?this.children.splice(e,n-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(n));for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new MA(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Wt.prototype.breakAfter=0;function Ax(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class MA{constructor(e,n,i){this.children=e,this.pos=n,this.i=i,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function LA(t,e,n,i,r,s,o,a,l){let{children:c}=t,u=c.length?c[e]:null,f=s.length?s[s.length-1]:null,d=f?f.breakAfter:o;if(!(e==i&&u&&!o&&!d&&s.length<2&&u.merge(n,r,s.length?f:null,n==0,a,l))){if(i<c.length){let m=c[i];m&&(r<m.length||m.breakAfter&&(f!=null&&f.breakAfter))?(e==i&&(m=m.split(r),r=0),!d&&f&&m.merge(0,r,f,!0,0,l)?s[s.length-1]=m:((r||m.children.length&&!m.children[0].length)&&m.merge(0,r,null,!1,0,l),s.push(m))):m!=null&&m.breakAfter&&(f?f.breakAfter=1:o=1),i++}for(u&&(u.breakAfter=o,n>0&&(!o&&s.length&&u.merge(n,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function NA(t,e,n,i,r,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:u}=o.findPos(e,-1),f=e-n;for(let d of i)f+=d.length;t.length+=f,LA(t,c,u,a,l,i,0,r,s)}let xi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Lv=typeof document<"u"?document:{documentElement:{style:{}}};const Nv=/Edge\/(\d+)/.exec(xi.userAgent),IA=/MSIE \d/.test(xi.userAgent),Iv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xi.userAgent),kp=!!(IA||Iv||Nv),kx=!kp&&/gecko\/(\d+)/i.test(xi.userAgent),ag=!kp&&/Chrome\/(\d+)/.exec(xi.userAgent),Ex="webkitFontSmoothing"in Lv.documentElement.style,FA=!kp&&/Apple Computer/.test(xi.vendor),Dx=FA&&(/Mobile\/\w+/.test(xi.userAgent)||xi.maxTouchPoints>2);var Fe={mac:Dx||/Mac/.test(xi.platform),windows:/Win/.test(xi.platform),linux:/Linux|X11/.test(xi.platform),ie:kp,ie_version:IA?Lv.documentMode||6:Iv?+Iv[1]:Nv?+Nv[1]:0,gecko:kx,gecko_version:kx?+(/Firefox\/(\d+)/.exec(xi.userAgent)||[0,0])[1]:0,chrome:!!ag,chrome_version:ag?+ag[1]:0,ios:Dx,android:/Android\b/.test(xi.userAgent),webkit:Ex,safari:FA,webkit_version:Ex?+(/\bAppleWebKit\/(\d+)/.exec(xi.userAgent)||[0,0])[1]:0,tabSize:Lv.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const bV=256;class Tr extends Wt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,i){return this.flags&8||i&&(!(i instanceof Tr)||this.length-(n-e)+i.length>bV||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Tr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Un(this.dom,e)}domBoundsAround(e,n,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return yV(this.dom,e,n)}}class Ls extends Wt{constructor(e,n=[],i=0){super(),this.mark=e,this.children=n,this.length=i;for(let r of n)r.setParent(this)}setAttrs(e){if(DA(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,i,r,s,o){return i&&(!(i instanceof Ls&&i.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(NA(this,e,n,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&n.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Ls(this.mark,n,o)}domAtPos(e){return BA(this,e)}coordsAt(e,n){return jA(this,e,n)}}function yV(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&n<0||e==i&&n>=0?Fe.chrome||Fe.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):n<0?r--:s<i&&s++;let a=Aa(t,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return Fe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Ap(l,o<0):l||null}class co extends Wt{static create(e,n,i){return new co(e,n,i)}constructor(e,n,i){super(),this.widget=e,this.length=n,this.side=i,this.prevWidget=null}split(e){let n=co.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,i,r,s,o){return i&&(!(i instanceof co)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}become(e){return e instanceof co&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return At.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,i=n&&n.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):At.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Un.before(this.dom):Un.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return Ap(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class zl extends Wt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof zl&&e.side==this.side}split(){return new zl(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Un.before(this.dom):Un.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return At.empty}get isHidden(){return!0}}Tr.prototype.children=co.prototype.children=zl.prototype.children=My;function BA(t,e){let n=t.dom,{children:i}=t,r=0;for(let s=0;r<i.length;r++){let o=i[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Un(n,0)}function HA(t,e,n){let i,{children:r}=t;n>0&&e instanceof Ls&&r.length&&(i=r[r.length-1])instanceof Ls&&i.mark.eq(e.mark)?HA(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function jA(t,e,n){let i=null,r=-1,s=null,o=-1;function a(c,u){for(let f=0,d=0;f<c.children.length&&d<=u;f++){let m=c.children[f],g=d+m.length;g>=u&&(m.children.length?a(m,u-d):(!s||s.isHidden&&n>0)&&(g>u||d==g&&m.getSide()>0)?(s=m,o=u-d):(d<u||d==g&&m.getSide()<0&&!m.isHidden)&&(i=m,r=u-d)),d=g}}a(t,e);let l=(n<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?r:o),n):OV(t)}function OV(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Tu(e);return n[n.length-1]||null}function Fv(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const Rx=Object.create(null);function dd(t,e,n){if(t==e)return!0;t||(t=Rx),e||(e=Rx);let i=Object.keys(t),r=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=r.length-(n&&r.indexOf(n)>-1?1:0))return!1;for(let s of i)if(s!=n&&(r.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function Bv(t,e,n){let i=!1;if(e)for(let r in e)n&&r in n||(i=!0,r=="style"?t.style.cssText="":t.removeAttribute(r));if(n)for(let r in n)e&&e[r]==n[r]||(i=!0,r=="style"?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i}function xV(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}class Qs{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var pi=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(pi||(pi={}));class Ke extends Ca{constructor(e,n,i,r){super(),this.startSide=e,this.endSide=n,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new pf(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return n+=i&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new ko(e,n,n,i,e.widget||null,!1)}static replace(e){let n=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=VA(e,n);i=(s?n?-3e8:-1:5e8)-1,r=(o?n?2e8:1:-6e8)+1}return new ko(e,i,r,n,e.widget||null,!0)}static line(e){return new mf(e)}static set(e,n=!1){return $t.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ke.none=$t.empty;class pf extends Ke{constructor(e){let{start:n,end:i}=VA(e);super(n?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,i;return this==e||e instanceof pf&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&dd(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}pf.prototype.point=!1;class mf extends Ke{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof mf&&this.spec.class==e.spec.class&&dd(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}mf.prototype.mapMode=Nn.TrackBefore;mf.prototype.point=!0;class ko extends Ke{constructor(e,n,i,r,s,o){super(n,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?n<=0?Nn.TrackBefore:Nn.TrackAfter:Nn.TrackDel}get type(){return this.startSide!=this.endSide?pi.WidgetRange:this.startSide<=0?pi.WidgetBefore:pi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ko&&wV(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}ko.prototype.point=!0;function VA(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return n==null&&(n=t.inclusive),i==null&&(i=t.inclusive),{start:n??e,end:i??e}}function wV(t,e){return t==e||!!(t&&e&&t.compare(e))}function $h(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}class cn extends Wt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,i,r,s,o){if(i){if(!(i instanceof cn))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),NA(this,e,n,i?i.children.slice():[],s,o),!0}split(e){let n=new cn;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i,off:r}=this.childPos(e);r&&(n.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)n.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){dd(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){HA(this,e,n)}addLineDeco(e){let n=e.spec.attributes,i=e.spec.class;n&&(this.attrs=Fv(n,this.attrs||{})),i&&(this.attrs=Fv({class:i},this.attrs||{}))}domAtPos(e){return BA(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var i;this.dom?this.flags&4&&(DA(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Bv(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let r=this.dom.lastChild;for(;r&&Wt.get(r)instanceof Ls;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=Wt.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!Fe.ios||!this.children.some(s=>s instanceof Tr))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let i of this.children){if(!(i instanceof Tr)||/[^ -~]/.test(i.text))return null;let r=Tu(i.dom);if(r.length!=1)return null;e+=r[0].width,n=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let i=jA(this,e,n);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return e instanceof cn&&this.children.length==0&&e.children.length==0&&dd(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=n){if(s instanceof cn)return s;if(o>n)break}r=o+s.breakAfter}return null}}class Rs extends Wt{constructor(e,n,i){super(),this.widget=e,this.length=n,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,n,i,r,s,o){return i&&(!(i instanceof Rs)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Un.before(this.dom):Un.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let i=new Rs(this.widget,n,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return My}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):At.empty}domBoundsAround(){return null}become(e){return e instanceof Rs&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);return i||(this.widget instanceof Hv?null:Ap(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:i}=this.deco;return n==i?!1:e<0?n<0:i>0}}class Hv extends Qs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class lu{constructor(e,n,i,r){this.doc=e,this.pos=n,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Rs&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new cn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Gf(new zl(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Rs)&&this.getLine()}buildText(e,n,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-i)),this.getLine().append(Gf(new Tr(this.text.slice(this.textOff,this.textOff+r)),n),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,n,i,r){this.buildText(n-e,i,r),this.pos=n,this.openStart<0&&(this.openStart=r)}point(e,n,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof ko){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(i instanceof ko)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Rs(i.widget||Wl.block,a,i));else{let l=co.create(i.widget||Wl.inline,a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<n||i.startSide>0),u=!l.isEditable&&(e<n||s>r.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(f.append(Gf(new zl(1),r),s),s=r.length+Math.max(0,s-r.length)),f.append(Gf(l,r),s),this.atCursorPos=u,this.pendingBuffer=u?e<n||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,i,r,s){let o=new lu(e,n,i,s);return o.openEnd=$t.spans(r,n,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Gf(t,e){for(let n of e)t=new Ls(n,[t],t.length);return t}class Wl extends Qs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Wl.inline=new Wl("span");Wl.block=new Wl("div");var en=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(en||(en={}));const ka=en.LTR,Ly=en.RTL;function QA(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const _V=QA("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),SV=QA("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),jv=Object.create(null),Hr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);jv[e]=n,jv[n]=-e}function zA(t){return t<=247?_V[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?SV[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const CV=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class uo{get dir(){return this.level%2?Ly:ka}constructor(e,n,i){this.from=e,this.to=n,this.level=i}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==i)return o;(s<0||(r!=0?r<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function WA(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!WA(i.inner,r.inner))return!1}return!0}const Qt=[];function TV(t,e,n,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:n,l=s?256:r;for(let c=o,u=l,f=l;c<a;c++){let d=zA(t.charCodeAt(c));d==512?d=u:d==8&&f==4&&(d=16),Qt[c]=d==4?2:d,d&7&&(f=d),u=d}for(let c=o,u=l,f=l;c<a;c++){let d=Qt[c];if(d==128)c<a-1&&u==Qt[c+1]&&u&24?d=Qt[c]=u:Qt[c]=256;else if(d==64){let m=c+1;for(;m<a&&Qt[m]==64;)m++;let g=c&&u==8||m<n&&Qt[m]==8?f==1?1:8:256;for(let y=c;y<m;y++)Qt[y]=g;c=m-1}else d==8&&f==1&&(Qt[c]=1);u=d,d&7&&(f=d)}}}function AV(t,e,n,i,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let c=o?i[o-1].to:e,u=o<i.length?i[o].from:n;for(let f=c,d,m,g;f<u;f++)if(m=jv[d=t.charCodeAt(f)])if(m<0){for(let y=a-3;y>=0;y-=3)if(Hr[y+1]==-m){let O=Hr[y+2],_=O&2?r:O&4?O&1?s:r:0;_&&(Qt[f]=Qt[Hr[y]]=_),a=y;break}}else{if(Hr.length==189)break;Hr[a++]=f,Hr[a++]=d,Hr[a++]=l}else if((g=Qt[f])==2||g==1){let y=g==r;l=y?0:1;for(let O=a-3;O>=0;O-=3){let _=Hr[O+2];if(_&2)break;if(y)Hr[O+2]|=2;else{if(_&4)break;Hr[O+2]|=4}}}}}function kV(t,e,n,i){for(let r=0,s=i;r<=n.length;r++){let o=r?n[r-1].to:t,a=r<n.length?n[r].from:e;for(let l=o;l<a;){let c=Qt[l];if(c==256){let u=l+1;for(;;)if(u==a){if(r==n.length)break;u=n[r++].to,a=r<n.length?n[r].from:e}else if(Qt[u]==256)u++;else break;let f=s==1,d=(u<e?Qt[u]:i)==1,m=f==d?f?1:2:i;for(let g=u,y=r,O=y?n[y-1].to:t;g>l;)g==O&&(g=n[--y].from,O=y?n[y-1].to:t),Qt[--g]=m;l=u}else s=c,l++}}}function Vv(t,e,n,i,r,s,o){let a=i%2?2:1;if(i%2==r%2)for(let l=e,c=0;l<n;){let u=!0,f=!1;if(c==s.length||l<s[c].from){let y=Qt[l];y!=a&&(u=!1,f=y==16)}let d=!u&&a==1?[]:null,m=u?i:i+1,g=l;e:for(;;)if(c<s.length&&g==s[c].from){if(f)break e;let y=s[c];if(!u)for(let O=y.to,_=c+1;;){if(O==n)break e;if(_<s.length&&s[_].from==O)O=s[_++].to;else{if(Qt[O]==a)break e;break}}if(c++,d)d.push(y);else{y.from>l&&o.push(new uo(l,y.from,m));let O=y.direction==ka!=!(m%2);Qv(t,O?i+1:i,r,y.inner,y.from,y.to,o),l=y.to}g=y.to}else{if(g==n||(u?Qt[g]!=a:Qt[g]==a))break;g++}d?Vv(t,l,g,i+1,r,d,o):l<g&&o.push(new uo(l,g,m)),l=g}else for(let l=n,c=s.length;l>e;){let u=!0,f=!1;if(!c||l>s[c-1].to){let y=Qt[l-1];y!=a&&(u=!1,f=y==16)}let d=!u&&a==1?[]:null,m=u?i:i+1,g=l;e:for(;;)if(c&&g==s[c-1].to){if(f)break e;let y=s[--c];if(!u)for(let O=y.from,_=c;;){if(O==e)break e;if(_&&s[_-1].to==O)O=s[--_].from;else{if(Qt[O-1]==a)break e;break}}if(d)d.push(y);else{y.to<l&&o.push(new uo(y.to,l,m));let O=y.direction==ka!=!(m%2);Qv(t,O?i+1:i,r,y.inner,y.from,y.to,o),l=y.from}g=y.from}else{if(g==e||(u?Qt[g-1]!=a:Qt[g-1]==a))break;g--}d?Vv(t,g,l,i+1,r,d,o):g<l&&o.push(new uo(g,l,m)),l=g}}function Qv(t,e,n,i,r,s,o){let a=e%2?2:1;TV(t,r,s,i,a),AV(t,r,s,i,a),kV(r,s,i,a),Vv(t,r,s,e,n,i,o)}function EV(t,e,n){if(!t)return[new uo(0,0,e==Ly?1:0)];if(e==ka&&!n.length&&!CV.test(t))return qA(t.length);if(n.length)for(;t.length>Qt.length;)Qt[Qt.length]=256;let i=[],r=e==ka?0:1;return Qv(t,r,r,n,0,t.length,i),i}function qA(t){return[new uo(0,t,0)]}let UA="";function DV(t,e,n,i,r){var s;let o=i.head-t.from,a=uo.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],c=l.side(r,n);if(o==c){let d=a+=r?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!r,n),c=l.side(r,n)}let u=In(t.text,o,l.forward(r,n));(u<l.from||u>l.to)&&(u=c),UA=t.text.slice(Math.min(o,u),Math.max(o,u));let f=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return f&&u==c&&f.level+(r?0:1)<l.level?pe.cursor(f.side(!r,n)+t.from,f.forward(r,n)?1:-1,f.level):pe.cursor(u+t.from,l.forward(r,n)?-1:1,l.level)}function RV(t,e,n){for(let i=e;i<n;i++){let r=zA(t.charCodeAt(i));if(r==1)return ka;if(r==2||r==4)return Ly}return ka}const XA=Be.define(),YA=Be.define(),GA=Be.define(),KA=Be.define(),zv=Be.define(),JA=Be.define(),ZA=Be.define(),Ny=Be.define(),Iy=Be.define(),ek=Be.define({combine:t=>t.some(e=>e)}),tk=Be.define({combine:t=>t.some(e=>e)}),nk=Be.define();class wl{constructor(e,n="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=n,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new wl(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new wl(pe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Kf=lt.define({map:(t,e)=>t.map(e)}),ik=lt.define();function fi(t,e,n){let i=t.facet(KA);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Cs=Be.define({combine:t=>t.length?t[0]:!0});let $V=0;const Vc=Be.define();class an{constructor(e,n,i,r,s){this.id=e,this.create=n,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,n){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=n||{};return new an($V++,e,i,r,a=>{let l=[Vc.of(a)];return o&&l.push(Au.of(c=>{let u=c.plugin(a);return u?o(u):Ke.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return an.define(i=>new e(i),n)}}class lg{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(i){if(fi(n.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){fi(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(i){fi(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const rk=Be.define(),Fy=Be.define(),Au=Be.define(),sk=Be.define(),By=Be.define(),ok=Be.define();function $x(t,e){let n=t.state.facet(ok);if(!n.length)return n;let i=n.map(s=>s instanceof Function?s(t):s),r=[];return $t.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,f=r;for(let d=a.length-1;d>=0;d--,l--){let m=a[d].spec.bidiIsolate,g;if(m==null&&(m=RV(e.text,c,u)),l>0&&f.length&&(g=f[f.length-1]).to==c&&g.direction==m)g.to=u,f=g.inner;else{let y={from:c,to:u,direction:m,inner:[]};f.push(y),f=y.inner}}}}),r}const ak=Be.define();function Hy(t){let e=0,n=0,i=0,r=0;for(let s of t.state.facet(ak)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:n,top:i,bottom:r}}const Qc=Be.define();class sr{constructor(e,n,i,r){this.fromA=e,this.toA=n,this.fromB=i,this.toB=r}join(e){return new sr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,i=this;for(;n>0;n--){let r=e[n-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(n-1,1)}}return e.splice(n,0,i),e}static extendWithRanges(e,n){if(n.length==0)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],c=o-a,u=l?l.fromB:1e9;for(;s<n.length&&n[s]<u;){let f=n[s],d=n[s+1],m=Math.max(a,f),g=Math.min(u,d);if(m<=g&&new sr(m+c,g+c,m,g).addToSet(i),d>u)break;s+=2}if(!l)return i;new sr(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class pd{constructor(e,n,i){this.view=e,this.state=n,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=bn.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new sr(s,o,a,l))),this.changedRanges=r}static create(e,n,i){return new pd(e,n,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Px extends Wt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ke.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new cn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new sr(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?r=this.domChanged.newSel.head:!BV(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?MV(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;i=new sr(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Fe.ie||Fe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=IV(o,a,e.changes);return i=sr.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Fe.chrome||Fe.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Rs&&o.widget instanceof Hv&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,n,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:f}=a,d,m,g,y;if(i&&i.range.fromB<f&&i.range.toB>u){let T=lu.build(this.view.state.doc,u,i.range.fromB,this.decorations,this.dynamicDecorationMap),N=lu.build(this.view.state.doc,i.range.toB,f,this.decorations,this.dynamicDecorationMap);m=T.breakAtStart,g=T.openStart,y=N.openEnd;let I=this.compositionView(i);N.breakAtStart?I.breakAfter=1:N.content.length&&I.merge(I.length,I.length,N.content[0],!1,N.openStart,0)&&(I.breakAfter=N.content[0].breakAfter,N.content.shift()),T.content.length&&I.merge(0,0,T.content[T.content.length-1],!0,0,T.openEnd)&&T.content.pop(),d=T.content.concat(I).concat(N.content)}else({content:d,breakAtStart:m,openStart:g,openEnd:y}=lu.build(this.view.state.doc,u,f,this.decorations,this.dynamicDecorationMap));let{i:O,off:_}=s.findPos(c,1),{i:A,off:R}=s.findPos(l,-1);LA(this,A,R,O,_,d,m,g,y)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let i of n.effects)i.is(ik)&&(this.editContextFormatting=i.value)}compositionView(e){let n=new Tr(e.text.nodeValue);n.flags|=8;for(let{deco:r}of e.marks)n=new Ls(r,[n],n.length);let i=new cn;return i.append(n,0),i}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Wt.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];n(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],n(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&!(this.view.state.facet(Cs)||this.dom.tabIndex>-1)&&Rh(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Fe.gecko&&a.empty&&!this.hasComposition&&PV(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new Un(f,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!au(l.node,l.offset,u.anchorNode,u.anchorOffset)||!au(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{Fe.android&&Fe.chrome&&this.dom.contains(u.focusNode)&&FV(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=Cu(this.view.root);if(f)if(a.empty){if(Fe.gecko){let d=LV(l.node,l.offset);if(d&&d!=3){let m=(d==1?$A:PA)(l.node,l.offset);m&&(l=new Un(m.node,m.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Un(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Un(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&au(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,i=Cu(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!n.empty||!n.assoc||!i.modify)return;let o=cn.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);i.collapse(u.node,u.offset),i.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&i.collapse(r,s)}moveToLine(e){let n=this.dom,i;if(e.node!=n)return e;for(let r=e.offset;!i&&r<n.childNodes.length;r++){let s=Wt.get(n.childNodes[r]);s instanceof cn&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=Wt.get(n.childNodes[r]);s instanceof cn&&(i=s.domAtPos(s.length))}return i?new Un(i.node,i.offset,!0):e}nearest(e){for(let n=e;n;){let i=Wt.get(n);if(i&&i.rootView==this)return i;n=n.parentNode}return null}posFromDOM(e,n){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,n)+i.posAtStart}domAtPos(e){let{i:n,off:i}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let r=this.children[n];if(i<r.length||r instanceof cn)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,n){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof cn&&!(i instanceof cn&&n>=0)))i=a,r=c;else if(i&&c==e&&l==e&&a instanceof Rs&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(i=null)}s=c}return i?i.coordsAt(e-r,n):null}coordsForChar(e){let{i:n,off:i}=this.childPos(e,1),r=this.children[n];if(!(r instanceof cn))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof Tr))return null;let s=In(r.text,i);if(s==i)return null;let o=Aa(r.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==en.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],d=c+f.length;if(d>r)break;if(c>=i){let m=f.dom.getBoundingClientRect();if(n.push(m.height),o){let g=f.dom.lastChild,y=g?Tu(g):[];if(y.length){let O=y[y.length-1],_=l?O.right-m.left:m.right-O.left;_>a&&(a=_,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?en.RTL:en.LTR}measureTextSize(){for(let s of this.children)if(s instanceof cn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Tu(e.firstChild)[0];n=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:i,textHeight:r}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new MA(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let i=0,r=0;;r++){let s=r==n.viewports.length?null:n.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(i).top)/this.view.scaleY;e.push(Ke.replace({widget:new Hv(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return Ke.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Au).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(sk).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,n.push($t.join(r))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(nk))try{if(c(this.view,e.range,e))return!0}catch(u){fi(this.view.state,u,"scroll handler")}let{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),r;if(!i)return;!n.empty&&(r=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=Hy(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;dV(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==en.LTR)}}function PV(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function lk(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let i=$A(n.focusNode,n.focusOffset),r=PA(n.focusNode,n.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let a=Wt.get(r.node);if(!a||a instanceof Tr&&a.text!=r.node.nodeValue)s=r;else if(t.docView.lastCompositionAfterCursor){let l=Wt.get(i.node);!l||l instanceof Tr&&l.text!=i.node.nodeValue||(s=r)}}if(t.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function MV(t,e,n){let i=lk(t,n);if(!i)return null;let{node:r,from:s,to:o}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,c=new sr(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let f=r.parentNode;;f=f.parentNode){let d=Wt.get(f);if(d instanceof Ls)u.push({node:f,deco:d.mark});else{if(d instanceof cn||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:c,text:r,marks:u,line:f};if(f!=t.contentDOM)u.push({node:f,deco:new pf({inclusive:!0,attributes:xV(f),tagName:f.tagName.toLowerCase()})});else return null}}}function LV(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let NV=class{constructor(){this.changes=[]}compareRange(e,n){$h(e,n,this.changes)}comparePoint(e,n){$h(e,n,this.changes)}boundChange(e){$h(e,e,this.changes)}};function IV(t,e,n){let i=new NV;return $t.compare(t,e,n,i),i.changes}function FV(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function BV(t,e){let n=!1;return e&&t.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(n=!0)}),n}function HV(t,e,n=1){let i=t.charCategorizer(e),r=t.doc.lineAt(e),s=e-r.from;if(r.length==0)return pe.cursor(e);s==0?n=1:s==r.length&&(n=-1);let o=s,a=s;n<0?o=In(r.text,s,!1):a=In(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let c=In(r.text,o,!1);if(i(r.text.slice(c,o))!=l)break;o=c}for(;a<r.length;){let c=In(r.text,a);if(i(r.text.slice(a,c))!=l)break;a=c}return pe.range(o+r.from,a+r.from)}function jV(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function VV(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function cg(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Mx(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Lx(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Wv(t,e,n){let i,r,s,o,a=!1,l,c,u,f;for(let g=t.firstChild;g;g=g.nextSibling){let y=Tu(g);for(let O=0;O<y.length;O++){let _=y[O];r&&cg(r,_)&&(_=Mx(Lx(_,r.bottom),r.top));let A=jV(e,_),R=VV(n,_);if(A==0&&R==0)return g.nodeType==3?Nx(g,e,n):Wv(g,e,n);if(!i||o>R||o==R&&s>A){i=g,r=_,s=A,o=R;let T=R?n<_.top?-1:1:A?e<_.left?-1:1:0;a=!T||(T>0?O<y.length-1:O>0)}A==0?n>_.bottom&&(!u||u.bottom<_.bottom)?(l=g,u=_):n<_.top&&(!f||f.top>_.top)&&(c=g,f=_):u&&cg(u,_)?u=Lx(u,_.bottom):f&&cg(f,_)&&(f=Mx(f,_.top))}}if(u&&u.bottom>=n?(i=l,r=u):f&&f.top<=n&&(i=c,r=f),!i)return{node:t,offset:0};let d=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return Nx(i,d,n);if(a&&i.contentEditable!="false")return Wv(i,d,n);let m=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:t,offset:m}}function Nx(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=Aa(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<s){let d=e>=(u.left+u.right)/2,m=d;if((Fe.chrome||Fe.gecko)&&Aa(t,a).getBoundingClientRect().left==u.right&&(m=!d),f<=0)return{node:t,offset:a+(m?1:0)};r=a+(m?1:0),s=f}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function ck(t,e,n,i=-1){var r,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:f}=e,d=f-a;if(d<0)return 0;if(d>c)return t.state.doc.length;for(let T=t.viewState.heightOracle.textHeight/2,N=!1;l=t.elementAtHeight(d),l.type!=pi.Text;)for(;d=i>0?l.bottom+T:l.top-T,!(d>=0&&d<=c);){if(N)return n?null:0;N=!0,i=-i}f=a+d;let m=l.from;if(m<t.viewport.from)return t.viewport.from==0?0:n?null:Ix(t,o,l,u,f);if(m>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Ix(t,o,l,u,f);let g=t.dom.ownerDocument,y=t.root.elementFromPoint?t.root:g,O=y.elementFromPoint(u,f);O&&!t.contentDOM.contains(O)&&(O=null),O||(u=Math.max(o.left+1,Math.min(o.right-1,u)),O=y.elementFromPoint(u,f),O&&!t.contentDOM.contains(O)&&(O=null));let _,A=-1;if(O&&((r=t.docView.nearest(O))===null||r===void 0?void 0:r.isEditable)!=!1){if(g.caretPositionFromPoint){let T=g.caretPositionFromPoint(u,f);T&&({offsetNode:_,offset:A}=T)}else if(g.caretRangeFromPoint){let T=g.caretRangeFromPoint(u,f);T&&({startContainer:_,startOffset:A}=T,(!t.contentDOM.contains(_)||Fe.safari&&QV(_,A,u)||Fe.chrome&&zV(_,A,u))&&(_=void 0))}_&&(A=Math.min(cs(_),A))}if(!_||!t.docView.dom.contains(_)){let T=cn.find(t.docView,m);if(!T)return d>l.top+l.height/2?l.to:l.from;({node:_,offset:A}=Wv(T.dom,u,f))}let R=t.docView.nearest(_);if(!R)return null;if(R.isWidget&&((s=R.dom)===null||s===void 0?void 0:s.nodeType)==1){let T=R.dom.getBoundingClientRect();return e.y<T.top||e.y<=T.bottom&&e.x<=(T.left+T.right)/2?R.posAtStart:R.posAtEnd}else return R.localPosFromDOM(_,A)+R.posAtStart}function Ix(t,e,n,i,r){let s=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((r-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Rv(o,s,t.state.tabSize)}function QV(t,e,n){let i;if(t.nodeType!=3||e!=(i=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Aa(t,i-1,i).getBoundingClientRect().left>n}function zV(t,e,n){if(e!=0)return!1;for(let r=t;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=t.nodeType==1?t.getBoundingClientRect():Aa(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function qv(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==pi.Text))return i}return n}function WV(t,e,n,i){let r=qv(t,e.head),s=!i||r.type!=pi.Text||!(t.lineWrapping||r.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(r.from),l=t.posAtCoords({x:n==(a==en.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return pe.cursor(l,n?-1:1)}return pe.cursor(n?r.to:r.from,n?-1:1)}function Fx(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let a=e,l=null;;){let c=DV(r,s,o,a,n),u=UA;if(!c){if(r.number==(n?t.state.doc.lines:1))return a;u=`
`,r=t.state.doc.line(r.number+(n?1:-1)),s=t.bidiSpans(r),c=t.visualLineSide(r,!n)}if(l){if(!l(u))return a}else{if(!i)return c;l=i(u)}a=c}}function qV(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return s=>{let o=i(s);return r==nn.Space&&(r=o),r==o}}function UV(t,e,n,i){let r=e.head,s=n?1:-1;if(r==(n?t.state.doc.length:0))return pe.cursor(r,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(r,e.assoc||-1),u=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let m=t.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(r-m.from))),a=(s<0?m.top:m.bottom)+u}let f=l.left+o,d=i??t.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=a+(d+m)*s,y=ck(t,{x:f,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?y<r:y>r)){let O=t.docView.coordsForChar(y),_=!O||g<O.top?-1:1;return pe.cursor(y,_,void 0,o)}}}function Ph(t,e,n){for(;;){let i=0;for(let r of t)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||n||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function ug(t,e,n){let i=Ph(t.state.facet(By).map(r=>r(t)),n.from,e.head>n.from?-1:1);return i==n.from?n:pe.cursor(i,i<n.from?1:-1)}const zc="￿";class XV{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Tt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=zc}readRange(e,n){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==n)break;let a=Wt.get(r),l=Wt.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:hd(r))||hd(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,n),this}readTextNode(e){let n=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(i,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let n=Wt.get(e),i=n&&n.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}findPointInside(e,n){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(YV(e,i.node,i.offset)?n:0))}}function YV(t,e,n){for(;;){if(!e||n<cs(e))return!1;if(e==t)return!0;n=Ta(e)+1,e=e.parentNode}}class Bx{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class GV{constructor(e,n,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,i,0))){let a=s||o?[]:ZV(e),l=new XV(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=eQ(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Mv(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Mv(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((Fe.ios||Fe.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let f=Math.min(l,c),d=Math.max(l,c),m=u.from-f,g=u.to-d;(m==0||m==1||f==0)&&(g==0||g==-1||d==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=pe.single(c,l)}}}function uk(t,e){let n,{newSel:i}=e,r=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,c=null;(s===8||Fe.android&&e.text.length<a-o)&&(l=r.to,c="end");let u=JV(t.state.doc.sliceString(o,a,zc),e.text,l-o,c);u&&(Fe.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==zc+zc&&u.toB--,n={from:o+u.from,to:o+u.toA,insert:At.of(e.text.slice(u.from,u.toB).split(zc))})}else i&&(!t.hasFocus&&t.state.facet(Cs)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:(Fe.mac||Fe.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(i&&n.insert.length==2&&(i=pe.single(i.main.anchor-1,i.main.head-1)),n={from:n.from,to:n.to,insert:At.of([n.insert.toString().replace("."," ")])}):n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,r.to))}:Fe.chrome&&n&&n.from==n.to&&n.from==r.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(i&&(i=pe.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:At.of([" "])}),n)return jy(t,n,i,s);if(i&&!i.main.eq(r)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function jy(t,e,n,i=-1){if(Fe.ios&&t.inputState.flushIOSKey(e))return!0;let r=t.state.selection.main;if(Fe.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&t.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&xl(t.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&xl(t.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&xl(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=KV(t,e,n));return t.state.facet(JA).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function KV(t,e,n){let i,r=t.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=r.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),u,f=n&&lk(t,n.main.head);if(f){let g=e.insert.length-(e.to-e.from);u={from:f.from,to:f.to-g}}else u=t.state.doc.lineAt(s.head);let d=s.to-e.to,m=s.to-s.from;i=r.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:a,range:l||g.map(a)};let y=g.to-d,O=y-c.length;if(g.to-g.from!=m||t.state.sliceDoc(O,y)!=c||g.to>=u.from&&g.from<=u.to)return{range:g};let _=r.changes({from:O,to:y,insert:e.insert}),A=g.to-s.to;return{changes:_,range:l?pe.range(Math.max(0,l.anchor+A),Math.max(0,l.head+A)):g.map(_)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function JV(t,e,n,i){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function ZV(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new Bx(n,i)),(r!=n||s!=i)&&e.push(new Bx(r,s))),e}function eQ(t,e){if(t.length==0)return null;let n=t[0].pos,i=t.length==2?t[1].pos:n;return n>-1&&i>-1?pe.single(n+e,i+e):null}class tQ{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Fe.safari&&e.contentDOM.addEventListener("input",()=>null),Fe.gecko&&vQ(e.contentDOM.ownerDocument)}handleEvent(e){!cQ(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,n);for(let r of i.handlers){if(n.defaultPrevented)break;if(r(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=nQ(e),i=this.handlers,r=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(r.removeEventListener(s,this.handleEvent),a=null),a||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!n[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&hk.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Fe.android&&Fe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Fe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=fk.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||iQ.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,xl(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Fe.safari&&!Fe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Hx(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(r){fi(n.state,r)}}}function nQ(t){let e=Object.create(null);function n(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of t){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&n(s).handlers.push(Hx(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&n(s).observers.push(Hx(i.value,o))}}for(let i in Ar)n(i).handlers.push(Ar[i]);for(let i in cr)n(i).observers.push(cr[i]);return e}const fk=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],iQ="dthko",hk=[16,17,18,20,91,92,224,225],Jf=6;function Zf(t){return Math.max(0,t)*.7+8}function rQ(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class sQ{constructor(e,n,i,r){this.view=e,this.startEvent=n,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=pV(e.contentDOM),this.atoms=e.state.facet(By).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Tt.allowMultipleSelections)&&oQ(e,n),this.dragging=lQ(e,n)&&mk(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&rQ(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,i=0,r=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Hy(this.view);e.clientX-l.left<=r+Jf?n=-Zf(r-e.clientX):e.clientX+l.right>=o-Jf&&(n=Zf(e.clientX-o)),e.clientY-l.top<=s+Jf?i=-Zf(s-e.clientY):e.clientY+l.bottom>=a-Jf&&(i=Zf(e.clientY-a)),this.setScrollSpeed(n,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=Ph(this.atoms,r.from,0);o!=r.from&&(s=pe.cursor(o,-1))}else{let o=Ph(this.atoms,r.from,-1),a=Ph(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=pe.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(n||(n=e.ranges.slice()),n[i]=s)}return n?pe.create(n,e.mainIndex):e}select(e){let{view:n}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function oQ(t,e){let n=t.state.facet(XA);return n.length?n[0](e):Fe.mac?e.metaKey:e.ctrlKey}function aQ(t,e){let n=t.state.facet(YA);return n.length?n[0](e):Fe.mac?!e.altKey:!e.ctrlKey}function lQ(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=Cu(t.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function cQ(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,i;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(i=Wt.get(n))&&i.ignoreEvent(e))return!1;return!0}const Ar=Object.create(null),cr=Object.create(null),dk=Fe.ie&&Fe.ie_version<15||Fe.ios&&Fe.webkit_version<604;function uQ(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),pk(t,n.value)},50)}function Ep(t,e,n){for(let i of t.facet(e))n=i(n,t);return n}function pk(t,e){e=Ep(t.state,Ny,e);let{state:n}=t,i,r=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(Uv!=null&&n.selection.ranges.every(l=>l.empty)&&Uv==s.toString()){let l=-1;i=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=n.toText((o?s.line(r++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:f},range:pe.cursor(c.from+f.length)}})}else o?i=n.changeByRange(l=>{let c=s.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:pe.cursor(l.from+c.length)}}):i=n.replaceSelection(s);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}cr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Ar.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);cr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};cr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Ar.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(GA))if(n=i(t,e),n)break;if(!n&&e.button==0&&(n=dQ(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new sQ(t,e,n,i)),i&&t.observer.ignore(()=>{EA(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let r=t.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function jx(t,e,n,i){if(i==1)return pe.cursor(e,n);if(i==2)return HV(t.state,e,n);{let r=cn.find(t.docView,e),s=t.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,pe.range(o,a)}}let Vx=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function fQ(t,e,n,i){let r=cn.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&Vx(n,i,o))return-1;let a=r.coordsAt(s,1);return a&&Vx(n,i,a)?1:o&&o.bottom>=i?-1:1}function Qx(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:fQ(t,n,e.clientX,e.clientY)}}const hQ=Fe.ie&&Fe.ie_version<=11;let zx=null,Wx=0,qx=0;function mk(t){if(!hQ)return t.detail;let e=zx,n=qx;return zx=t,qx=Date.now(),Wx=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Wx+1)%3:1}function dQ(t,e){let n=Qx(t,e),i=mk(e),r=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),r=r.map(s.changes))},get(s,o,a){let l=Qx(t,s),c,u=jx(t,l.pos,l.bias,i);if(n.pos!=l.pos&&!o){let f=jx(t,n.pos,n.bias,i),d=Math.min(f.from,u.from),m=Math.max(f.to,u.to);u=d<u.from?pe.range(d,m):pe.range(m,d)}return o?r.replaceRange(r.main.extend(u.from,u.to)):a&&i==1&&r.ranges.length>1&&(c=pQ(r,l.pos))?c:a?r.addRange(u):pe.create([u])}}}function pQ(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:r}=t.ranges[n];if(i<=e&&r>=e)return pe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Ar.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=n.to||o<=n.from)&&(n=pe.range(s,o))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Ep(t.state,Iy,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ar.dragend=t=>(t.inputState.draggedContent=null,!1);function Ux(t,e,n,i){if(n=Ep(t.state,Ny,n),!n)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=i&&s&&aQ(t,e)?{from:s.from,to:s.to}:null,a={from:r,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Ar.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),r=0,s=()=>{++r==n.length&&Ux(t,e,i.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Ux(t,e,i,!0),!0}return!1};Ar.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=dk?null:e.clipboardData;return n?(pk(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(uQ(t),!1)};function mQ(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),t.focus()},50)}function gQ(t){let e=[],n=[],i=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let r=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>r&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),r=o.number}i=!0}return{text:Ep(t,Iy,e.join(t.lineBreak)),ranges:n,linewise:i}}let Uv=null;Ar.copy=Ar.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=gQ(t.state);if(!n&&!r)return!1;Uv=r?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=dk?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(mQ(t,n),!1)};const gk=Vs.define();function vk(t,e){let n=[];for(let i of t.facet(ZA)){let r=i(t,e);r&&n.push(r)}return n?t.update({effects:n,annotations:gk.of(!0)}):null}function bk(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=vk(t.state,e);n?t.dispatch(n):t.update([])}},10)}cr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),bk(t)};cr.blur=t=>{t.observer.clearSelectionRange(),bk(t)};cr.compositionstart=cr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};cr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Fe.chrome&&Fe.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};cr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Ar.beforeinput=(t,e)=>{var n,i;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return jy(t,{from:l,to:c,insert:t.state.toText(s)},null),!0}}let r;if(Fe.chrome&&Fe.android&&(r=fk.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Fe.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Fe.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>cr.compositionend(t,e),20),!1};const Xx=new Set;function vQ(t){Xx.has(t)||(Xx.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const Yx=["pre-wrap","normal","pre-line","break-spaces"];let ql=!1;function Gx(){ql=!1}class bQ{constructor(e){this.lineWrapping=e,this.doc=At.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let i=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((n-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Yx.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(n=!0,this.heightSamples[Math.floor(r*10)]=!0)}return n}refresh(e,n,i,r,s,o){let a=Yx.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=i,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class yQ{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Gr{constructor(e,n,i,r,s){this.from=e,this.length=n,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?pi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ko?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Gr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Jt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Jt||(Jt={}));const Mh=.001;class mi{constructor(e,n,i=2){this.length=e,this.height=n,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Mh&&(ql=!0),this.height=e)}replace(e,n,i){return mi.of(i)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,i,r){let s=this,o=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:f}=r[a],d=s.lineAt(l,Jt.ByPosNoHeight,i.setDoc(n),0,0),m=d.to>=c?d:s.lineAt(c,Jt.ByPosNoHeight,i,0,0);for(f+=m.to-c,c=m.to;a>0&&d.from<=r[a-1].toA;)l=r[a-1].fromA,u=r[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,Jt.ByPosNoHeight,i,0,0));u+=d.from-l,l=d.from;let g=Vy.build(i.setDoc(o),e,u,f);s=md(s,s.replace(l,c,g))}return s.updateHeight(i,0)}static empty(){return new Fi(0,0)}static of(e){if(e.length==1)return e[0];let n=0,i=e.length,r=0,s=0;for(;;)if(n==i)if(r>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(s>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[n++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,i++),new OQ(mi.of(e.slice(0,n)),o,mi.of(e.slice(i)))}}function md(t,e){return t==e?t:(t.constructor!=e.constructor&&(ql=!0),e)}mi.prototype.size=1;class yk extends mi{constructor(e,n,i){super(e,n),this.deco=i}blockAt(e,n,i,r){return new Gr(r,this.length,i,this.height,this.deco||0)}lineAt(e,n,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,n,i,r,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Fi extends yk{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,i,r){return new Gr(r,this.length,i,this.height,this.breaks)}replace(e,n,i){let r=i[0];return i.length==1&&(r instanceof Fi||r instanceof Mn&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Mn?r=new Fi(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):mi.of(i)}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more?this.setHeight(r.heights[r.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Mn extends mi{constructor(e){super(e,0)}heightMetrics(e,n){let i=e.doc.lineAt(n).number,r=e.doc.lineAt(n+this.length).number,s=r-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:a}}blockAt(e,n,i,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,r);if(n.lineWrapping){let c=r+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),u=n.doc.lineAt(c),f=a+u.length*l,d=Math.max(i,e-f/2);return new Gr(u.from,u.length,d,f,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:u,length:f}=n.doc.line(s+c);return new Gr(u,f,i+a*c,a,0)}}lineAt(e,n,i,r,s){if(n==Jt.ByHeight)return this.blockAt(e,i,r,s);if(n==Jt.ByPosNoHeight){let{from:m,to:g}=i.doc.lineAt(e);return new Gr(m,g-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),c=i.doc.lineAt(e),u=a+c.length*l,f=c.number-o,d=r+a*f+l*(c.from-s-f);return new Gr(c.from,c.length,Math.max(r,Math.min(d,r+this.height-u)),u,0)}forEachLine(e,n,i,r,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,s);for(let u=e,f=r;u<=n;){let d=i.doc.lineAt(u);if(u==e){let g=d.number-a;f+=l*g+c*(e-s-g)}let m=l+c*d.length;o(new Gr(d.from,d.length,f,m,0)),f+=m,u=d.to+1}}replace(e,n,i){let r=this.length-n;if(r>0){let s=i[i.length-1];s instanceof Mn?i[i.length-1]=new Mn(s.length+r):i.push(null,new Mn(r-1))}if(e>0){let s=i[0];s instanceof Mn?i[0]=new Mn(e+s.length):i.unshift(new Mn(e-1),null)}return mi.of(i)}decomposeLeft(e,n){n.push(new Mn(e-1),null)}decomposeRight(e,n){n.push(null,new Mn(this.length-e-1))}updateHeight(e,n=0,i=!1,r){let s=n+this.length;if(r&&r.from<=n+this.length&&r.more){let o=[],a=Math.max(n,r.from),l=-1;for(r.from>n&&o.push(new Mn(r.from-n-1).updateHeight(e,n));a<=s&&r.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let f=r.heights[r.index++];l==-1?l=f:Math.abs(f-l)>=Mh&&(l=-2);let d=new Fi(u,f);d.outdated=!1,o.push(d),a+=u+1}a<=s&&o.push(null,new Mn(s-a).updateHeight(e,a));let c=mi.of(o);return(l<0||Math.abs(c.height-this.height)>=Mh||Math.abs(l-this.heightMetrics(e,n).perLine)>=Mh)&&(ql=!0),md(this,c)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class OQ extends mi{constructor(e,n,i){super(e.length+n+i.length,e.height+i.height,n|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,n,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,n,i,r):this.right.blockAt(e,n,s,r+this.left.length+this.break)}lineAt(e,n,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=n==Jt.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,n,i,r,s):this.right.lineAt(e,n,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==Jt.ByPosNoHeight?Jt.ByPosNoHeight:Jt.ByPos;return l?c.join(this.right.lineAt(a,u,i,o,a)):this.left.lineAt(a,u,i,r,s).join(c)}forEachLine(e,n,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,i,r,s,o),n>=l&&this.right.forEachLine(e,n,i,a,l,o);else{let c=this.lineAt(l,Jt.ByPos,i,r,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,s,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,i,a,l,o)}}replace(e,n,i){let r=this.left.length+this.break;if(n<r)return this.balanced(this.left.replace(e,n,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,n-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&Kx(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),Kx(s,a)}return mi.of(s)}decomposeLeft(e,n){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(i++,e>=i&&n.push(null)),e>i&&this.right.decomposeLeft(e-i,n)}decomposeRight(e,n){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,n);e<i&&this.left.decomposeRight(e,n),this.break&&e<r&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?mi.of(this.break?[e,null,n]:[e,n]):(this.left=md(this.left,e),this.right=md(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,i=!1,r){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return r&&r.from<=n+s.length&&r.more?l=s=s.updateHeight(e,n,i,r):s.updateHeight(e,n,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Kx(t,e){let n,i;t[e]==null&&(n=t[e-1])instanceof Mn&&(i=t[e+1])instanceof Mn&&t.splice(e-1,3,new Mn(n.length+1+i.length))}const xQ=5;class Vy{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let i=Math.min(n,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Fi?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Fi(i-this.pos,-1)),this.writtenTo=i,n>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,i){if(e<n||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=n-e;i.block?this.addBlock(new yk(o,r,i)):(o||s||r>=xQ)&&this.addLineDeco(r,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Fi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let i=new Mn(n-e);return this.oracle.doc.lineAt(e).to==n&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Fi)return e;let n=new Fi(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=n,this.writtenTo=this.pos=this.pos+i}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Fi)&&!this.isCovered?this.nodes.push(new Fi(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Fi&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,n,i,r){let s=new Vy(i,e);return $t.spans(n,i,r,s,0),s.finish(i)}}function wQ(t,e,n){let i=new _Q;return $t.compare(t,e,n,i,0),i.changes}class _Q{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,i,r){(e<n||i&&i.heightRelevant||r&&r.heightRelevant)&&$h(e,n,this.changes,5)}}function SQ(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,s=Math.max(0,n.left),o=Math.min(r.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(r.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=i.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let d=u.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=Math.min(c==t.parentNode?r.innerHeight:l,d.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function CQ(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function TQ(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class fg{constructor(e,n,i,r){this.from=e,this.to=n,this.size=i,this.displaySize=r}static same(e,n){if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,n){return Ke.replace({widget:new AQ(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class AQ extends Qs{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Jx{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Zx,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=en.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Fy).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new bQ(n),this.stateDeco=e.facet(Au).filter(i=>typeof i!="function"),this.heightMap=mi.empty().applyChanges(this.stateDeco,At.empty,this.heightOracle.setDoc(e.doc),[new sr(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ke.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let i=0;i<=1;i++){let r=i?n.head:n.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new eh(s,o))}}return this.viewports=e.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Zx:new Qy(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Wc(e,this.scaler))})}update(e,n=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Au).filter(u=>typeof u!="function");let r=e.changedRanges,s=sr.extendWithRanges(r,wQ(i,this.stateDeco,e?e.changes:bn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Gx(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||ql)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(tk)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,i=window.getComputedStyle(n),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?en.RTL:en.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:T,scaleY:N}=kA(n,a);(T>.005&&Math.abs(this.scaleX-T)>.005||N>.005&&Math.abs(this.scaleY-N)>.005)&&(this.scaleX=T,this.scaleY=N,c|=16,o=l=!0)}let f=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=RA(e.scrollDOM);let g=(this.printing?TQ:SQ)(n,this.paddingTop),y=g.top-this.pixelViewport.top,O=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let _=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(_!=this.inView&&(this.inView=_,_&&(l=!0)),!this.inView&&!this.scrollTarget&&!CQ(e.dom))return 0;let A=a.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let T=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(T)&&(o=!0),o||r.lineWrapping&&Math.abs(A-this.contentDOMWidth)>r.charWidth){let{lineHeight:N,charWidth:I,textHeight:v}=e.docView.measureTextSize();o=N>0&&r.refresh(s,N,I,v,A/I,T),o&&(e.docView.minWidth=0,c|=16)}y>0&&O>0?u=Math.max(y,O):y<0&&O<0&&(u=Math.min(y,O)),Gx();for(let N of this.viewports){let I=N.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(N);this.heightMap=(o?mi.empty().applyChanges(this.stateDeco,At.empty,this.heightOracle,[new sr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new yQ(N.from,I))}ql&&(c|=2)}let R=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return R&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||R)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new eh(r.lineAt(o-i*1e3,Jt.ByHeight,s,0,0).from,r.lineAt(a+(1-i)*1e3,Jt.ByHeight,s,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(c,Jt.ByPos,s,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?d=f.top:d=f.bottom-u,l=new eh(r.lineAt(d-1e3/2,Jt.ByHeight,s,0,0).from,r.lineAt(d+u+1e3/2,Jt.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let i=n.mapPos(e.from,-1),r=n.mapPos(e.to,1);return new eh(this.heightMap.lineAt(i,Jt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Jt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Jt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Jt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let i=[];for(let r of e)n.touchesRange(r.from,r.to)||i.push(new fg(n.mapPos(r.from),n.mapPos(r.to),r.size,r.displaySize));return i}ensureLineGaps(e,n){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=en.LTR&&!i)return[];let a=[],l=(u,f,d,m)=>{if(f-u<s)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let _ of y)if(_>u&&_<f){l(u,_-10,d,m),l(_+10,f,d,m);return}let O=EQ(e,_=>_.from>=d.from&&_.to<=d.to&&Math.abs(_.from-u)<s&&Math.abs(_.to-f)<s&&!y.some(A=>_.from<A&&_.to>A));if(!O){if(f<d.to&&n&&i&&n.visibleRanges.some(R=>R.from<=f&&R.to>=f)){let R=n.moveToLineBoundary(pe.cursor(f),!1,!0).head;R>u&&(f=R)}let _=this.gapSize(d,u,f,m),A=i||_<2e6?_:2e6;O=new fg(u,f,_,A)}a.push(O)},c=u=>{if(u.length<o||u.type!=pi.Text)return;let f=kQ(u.from,u.to,this.stateDeco);if(f.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,m,g;if(i){let y=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,O,_;if(d!=null){let A=nh(f,d),R=((this.visibleBottom-this.visibleTop)/2+y)/u.height;O=A-R,_=A+R}else O=(this.visibleTop-u.top-y)/u.height,_=(this.visibleBottom-u.top+y)/u.height;m=th(f,O),g=th(f,_)}else{let y=f.total*this.heightOracle.charWidth,O=r*this.heightOracle.charWidth,_=0;if(y>2e6)for(let I of e)I.from>=u.from&&I.from<u.to&&I.size!=I.displaySize&&I.from*this.heightOracle.charWidth+_<this.pixelViewport.left&&(_=I.size-I.displaySize);let A=this.pixelViewport.left+_,R=this.pixelViewport.right+_,T,N;if(d!=null){let I=nh(f,d),v=((R-A)/2+O)/y;T=I-v,N=I+v}else T=(A-O)/y,N=(R+O)/y;m=th(f,T),g=th(f,N)}m>u.from&&l(u.from,m,u,f),g<u.to&&l(g,u.to,u,f)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,i,r){let s=nh(r,i)-nh(r,n);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){fg.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ke.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let i=[];$t.spans(n,this.viewport.from,this.viewport.to,{span(s,o){i.push({from:s,to:o})},point(){}},20);let r=0;if(i.length!=this.visibleRanges.length)r=12;else for(let s=0;s<i.length&&!(r&8);s++){let o=this.visibleRanges[s],a=i[s];(o.from!=a.from||o.to!=a.to)&&(r|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(r|=8))}return this.visibleRanges=i,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Wc(this.heightMap.lineAt(e,Jt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Wc(this.heightMap.lineAt(this.scaler.fromDOM(e),Jt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Wc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class eh{constructor(e,n){this.from=e,this.to=n}}function kQ(t,e,n){let i=[],r=t,s=0;return $t.spans(n,t,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function th({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function nh(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}function EQ(t,e){for(let n of t)if(e(n))return n}const Zx={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class Qy{constructor(e,n,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=n.lineAt(a,Jt.ByPos,e,0,0).top,u=n.lineAt(l,Jt.ByPos,e,0,0).bottom;return r+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(n.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}eq(e){return e instanceof Qy?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,i)=>n.from==e.viewports[i].from&&n.to==e.viewports[i].to):!1}}function Wc(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Gr(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map(r=>Wc(r,e)):t._content)}const ih=Be.define({combine:t=>t.join(" ")}),Xv=Be.define({combine:t=>t.indexOf(!0)>-1}),Yv=To.newName(),Ok=To.newName(),xk=To.newName(),wk={"&light":"."+Ok,"&dark":"."+xk};function Gv(t,e,n){return new To(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return t;if(!n||!n[r])throw new RangeError(`Unsupported selector: ${r}`);return n[r]}):t+" "+i}})}const DQ=Gv("."+Yv,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},wk),RQ={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},hg=Fe.ie&&Fe.ie_version<=11;class $Q{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new mV,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let i of n)this.queue.push(i);(Fe.ie&&Fe.ie_version<=11||Fe.ios&&e.composing)&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Fe.chrome&&Fe.chrome_version<126)&&(this.editContext=new MQ(e),e.state.facet(Cs)&&(e.contentDOM.editContext=this.editContext.editContext)),hg&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,i)=>n!=e[i]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Cs)?i.root.activeElement!=this.dom:!Rh(this.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Fe.ie&&Fe.ie_version<=11||Fe.android&&Fe.chrome)&&!i.state.selection.main.empty&&r.focusNode&&au(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Cu(e.root);if(!n)return!1;let i=Fe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&PQ(this.view,n)||n;if(!i||this.selectionRange.eq(i))return!1;let r=Rh(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&vV(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let i=this.dom;i;)if(i.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,RQ),hg&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),hg&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&xl(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),n==-1?{from:n,to:i}=o:(n=Math.min(o.from,n),i=Math.max(o.to,i)))}return{from:n,to:i,typeOver:r}}readChange(){let{from:e,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Rh(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new GV(this.view,e,n,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let i=this.view.state,r=uk(this.view,n);return this.view.state==i&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let i=ew(n,e.previousSibling||e.target.previousSibling,-1),r=ew(n,e.nextSibling||e.target.nextSibling,1);return{from:i?n.posAfter(i):n.posAtStart,to:r?n.posBefore(r):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Cs)!=e.state.facet(Cs)&&(e.view.contentDOM.editContext=e.state.facet(Cs)?this.editContext.editContext:null))}destroy(){var e,n,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function ew(t,e,n){for(;e;){let i=Wt.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function tw(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return au(o.node,o.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function PQ(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return tw(t,r)}let n=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",i,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),n?tw(t,n):null}class MQ{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let r=e.state.selection.main,{anchor:s,head:o}=r,a=this.toEditorPos(i.updateRangeStart),l=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:At.of(i.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let u=pe.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));u.main.eq(r)||e.dispatch({selection:u,userEvent:"select"});return}if((Fe.mac||Fe.android)&&c.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:At.of([i.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);jy(e,c,pe.single(this.toEditorPos(i.selectionStart,u),this.toEditorPos(i.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=i=>{let r=[],s=null;for(let o=this.toEditorPos(i.rangeStart),a=this.toEditorPos(i.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,r.push(s)}n.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let s of i.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;r.push(Ke.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:ik.of(Ke.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)n.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=Cu(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(i)return;let u=c.length-(o-s);if(r&&o>=r.to)if(r.from==s&&r.to==o&&r.insert.eq(c)){r=this.pendingContextChange=null,n+=u,this.to+=u;return}else r=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}n+=u}),r&&!i&&this.revertPending(e.state),!i}update(e){let n=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),r=this.toContextPos(n.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Me{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(r=>r.forEach(s=>i(s,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||gV(e.parent)||document,this.viewState=new Jx(e.state||Tt.create(e)),e.scrollTo&&e.scrollTo.is(Kf)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Vc).map(r=>new lg(r));for(let r of this.plugins)r.update(this);this.observer=new $Q(this),this.inputState=new tQ(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Px(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof hn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,i=!1,r,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(gk))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=vk(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(Tt.phrases)!=this.state.facet(Tt.phrases))return this.setState(s);r=pd.create(this,s,e),r.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:m}=d.state.selection;f=new wl(m.empty?m:pe.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of d.effects)m.is(Kf)&&(f=m.value.clip(this.state))}this.viewState.update(r,f),this.bidiCache=gd.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),n=this.docView.update(r),this.state.facet(Qc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(ih)!=r.state.facet(ih)&&(this.viewState.mustMeasureContent=!0),(n||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!r.empty)for(let d of this.state.facet(zv))try{d(r)}catch(m){fi(this.state,m,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!uk(this,u)&&c.force&&xl(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Jx(e),this.plugins=e.facet(Vc).map(i=>new lg(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Px(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Vc),i=e.state.facet(Vc);if(n!=i){let r=[];for(let s of i){let o=n.indexOf(s);if(o<0)r.push(new lg(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);n!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(i){fi(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(RA(i))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(r);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(m=>{try{return m.read(this)}catch(g){return fi(this.state,g),nw}}),f=pd.create(this,this.state,[]),d=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),d=this.docView.update(f),d&&this.docViewUpdate());for(let m=0;m<c.length;m++)if(u[m]!=nw)try{let g=c[m];g.write&&g.write(u[m],this)}catch(g){fi(this.state,g)}if(d&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){r=r+g,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(zv))a(n)}get themeClasses(){return Yv+" "+(this.state.facet(Xv)?xk:Ok)+" "+this.state.facet(ih)}updateAttrs(){let e=iw(this,rk,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Cs)?"true":"false",class:"cm-content",style:`${Fe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),iw(this,Fy,n);let i=this.observer.ignore(()=>{let r=Bv(this.contentDOM,this.contentAttrs,n),s=Bv(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=n,i}showAnnouncements(e){let n=!0;for(let i of e)for(let r of i.effects)if(r.is(Me.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Qc);let e=this.state.facet(Me.cspNonce);To.mount(this.root,this.styleModules.concat(DQ).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(i=>i.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,i){return ug(this,e,Fx(this,e,n,i))}moveByGroup(e,n){return ug(this,e,Fx(this,e,n,i=>qV(this,e.head,i)))}visualLineSide(e,n){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[n?i.length-1:0];return pe.cursor(s.side(n,r)+e.from,s.forward(!n,r)?1:-1)}moveToLineBoundary(e,n,i=!0){return WV(this,e,n,i)}moveVertically(e,n,i){return ug(this,e,UV(this,e,n,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),ck(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let i=this.docView.coordsAt(e,n);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[uo.find(s,e-r.from,-1,n)];return Ap(i,o.dir==en.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ek)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>LQ)return qA(e.length);let n=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||WA(s.isolates,i=$x(this,e))))return s.order;i||(i=$x(this,e));let r=EV(e.text,n,i);return this.bidiCache.push(new gd(e.from,e.to,n,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Fe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{EA(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Kf.of(new wl(typeof e=="number"?pe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Kf.of(new wl(pe.cursor(i.from),"start","start",i.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return an.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return an.define(()=>({}),{eventObservers:e})}static theme(e,n){let i=To.newName(),r=[ih.of(i),Qc.of(Gv(`.${i}`,e))];return n&&n.dark&&r.push(Xv.of(!0)),r}static baseTheme(e){return Fo.lowest(Qc.of(Gv("."+Yv,e,wk)))}static findFromDOM(e){var n;let i=e.querySelector(".cm-content"),r=i&&Wt.get(i)||Wt.get(e);return((n=r==null?void 0:r.rootView)===null||n===void 0?void 0:n.view)||null}}Me.styleModule=Qc;Me.inputHandler=JA;Me.clipboardInputFilter=Ny;Me.clipboardOutputFilter=Iy;Me.scrollHandler=nk;Me.focusChangeEffect=ZA;Me.perLineTextDirection=ek;Me.exceptionSink=KA;Me.updateListener=zv;Me.editable=Cs;Me.mouseSelectionStyle=GA;Me.dragMovesSelection=YA;Me.clickAddsSelectionRange=XA;Me.decorations=Au;Me.outerDecorations=sk;Me.atomicRanges=By;Me.bidiIsolatedRanges=ok;Me.scrollMargins=ak;Me.darkTheme=Xv;Me.cspNonce=Be.define({combine:t=>t.length?t[0]:""});Me.contentAttributes=Fy;Me.editorAttributes=rk;Me.lineWrapping=Me.contentAttributes.of({class:"cm-lineWrapping"});Me.announce=lt.define();const LQ=4096,nw={};class gd{constructor(e,n,i,r,s,o){this.from=e,this.to=n,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:en.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!n.touchesRange(o.from,o.to)&&i.push(new gd(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function iw(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(t):s;o&&Fv(o,n)}return n}const NQ=Fe.mac?"mac":Fe.windows?"win":Fe.linux?"linux":"key";function IQ(t,e){const n=t.split(/-(?!$)/);let i=n[n.length-1];i=="Space"&&(i=" ");let r,s,o,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function rh(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const FQ=Fo.default(Me.domEventHandlers({keydown(t,e){return Sk(_k(e.state),t,e,"editor")}})),Dp=Be.define({enables:FQ}),rw=new WeakMap;function _k(t){let e=t.facet(Dp),n=rw.get(e);return n||rw.set(e,n=jQ(e.reduce((i,r)=>i.concat(r),[]))),n}function BQ(t,e,n){return Sk(_k(t.state),e,t,n)}let so=null;const HQ=4e3;function jQ(t,e=NQ){let n=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var f,d;let m=n[o]||(n[o]=Object.create(null)),g=a.split(/ (?!$)/).map(_=>IQ(_,e));for(let _=1;_<g.length;_++){let A=g.slice(0,_).join(" ");r(A,!0),m[A]||(m[A]={preventDefault:!0,stopPropagation:!1,run:[R=>{let T=so={view:R,prefix:A,scope:o};return setTimeout(()=>{so==T&&(so=null)},HQ),!0}]})}let y=g.join(" ");r(y,!1);let O=m[y]||(m[y]={preventDefault:!1,stopPropagation:!1,run:((d=(f=m._any)===null||f===void 0?void 0:f.run)===null||d===void 0?void 0:d.slice())||[]});l&&O.run.push(l),c&&(O.preventDefault=!0),u&&(O.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let d in u)u[d].run.push(m=>f(m,Kv))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let Kv=null;function Sk(t,e,n,i){Kv=e;let r=fV(e),s=Oi(r,0),o=Yr(s)==r.length&&r!=" ",a="",l=!1,c=!1,u=!1;so&&so.view==n&&so.scope==i&&(a=so.prefix+" ",hk.indexOf(e.keyCode)<0&&(c=!0,so=null));let f=new Set,d=O=>{if(O){for(let _ of O.run)if(!f.has(_)&&(f.add(_),_(n)))return O.stopPropagation&&(u=!0),!0;O.preventDefault&&(O.stopPropagation&&(u=!0),c=!0)}return!1},m=t[i],g,y;return m&&(d(m[a+rh(r,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Fe.windows&&e.ctrlKey&&e.altKey)&&(g=Ao[e.keyCode])&&g!=r?(d(m[a+rh(g,e,!0)])||e.shiftKey&&(y=Su[e.keyCode])!=r&&y!=g&&d(m[a+rh(y,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(m[a+rh(r,e,!0)])&&(l=!0),!l&&d(m._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),Kv=null,l}class gf{constructor(e,n,i,r,s){this.className=e,this.left=n,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=Ck(e);return[new gf(n,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return VQ(e,n,i)}}function Ck(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==en.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function sw(t,e,n,i){let r=t.coordsAtPos(e,n*2);if(!r)return i;let s=t.dom.getBoundingClientRect(),o=(r.top+r.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?i:{from:Math.max(i.from,Math.min(a,l)),to:Math.min(i.to,Math.max(a,l))}}function VQ(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let i=Math.max(n.from,t.viewport.from),r=Math.min(n.to,t.viewport.to),s=t.textDirection==en.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=Ck(t),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=a.right-(u?parseInt(u.paddingRight):0),m=qv(t,i),g=qv(t,r),y=m.type==pi.Text?m:null,O=g.type==pi.Text?g:null;if(y&&(t.lineWrapping||m.widgetLineBreaks)&&(y=sw(t,i,1,y)),O&&(t.lineWrapping||g.widgetLineBreaks)&&(O=sw(t,r,-1,O)),y&&O&&y.from==O.from&&y.to==O.to)return A(R(n.from,n.to,y));{let N=y?R(n.from,null,y):T(m,!1),I=O?R(null,n.to,O):T(g,!0),v=[];return(y||m).to<(O||g).from-(y&&O?1:0)||m.widgetLineBreaks>1&&N.bottom+t.defaultLineHeight/2<I.top?v.push(_(f,N.bottom,d,I.top)):N.bottom<I.top&&t.elementAtHeight((N.bottom+I.top)/2).type==pi.Text&&(N.bottom=I.top=(N.bottom+I.top)/2),A(N).concat(v).concat(A(I))}function _(N,I,v,z){return new gf(e,N-l.left,I-l.top,v-N,z-I)}function A({top:N,bottom:I,horizontal:v}){let z=[];for(let G=0;G<v.length;G+=2)z.push(_(v[G],N,v[G+1],I));return z}function R(N,I,v){let z=1e9,G=-1e9,oe=[];function ve(le,W,V,te,be){let Le=t.coordsAtPos(le,le==v.to?-2:2),ot=t.coordsAtPos(V,V==v.from?2:-2);!Le||!ot||(z=Math.min(Le.top,ot.top,z),G=Math.max(Le.bottom,ot.bottom,G),be==en.LTR?oe.push(s&&W?f:Le.left,s&&te?d:ot.right):oe.push(!s&&te?f:ot.left,!s&&W?d:Le.right))}let ne=N??v.from,X=I??v.to;for(let le of t.visibleRanges)if(le.to>ne&&le.from<X)for(let W=Math.max(le.from,ne),V=Math.min(le.to,X);;){let te=t.state.doc.lineAt(W);for(let be of t.bidiSpans(te)){let Le=be.from+te.from,ot=be.to+te.from;if(Le>=V)break;ot>W&&ve(Math.max(Le,W),N==null&&Le<=ne,Math.min(ot,V),I==null&&ot>=X,be.dir)}if(W=te.to+1,W>=V)break}return oe.length==0&&ve(ne,N==null,X,I==null,t.textDirection),{top:z,bottom:G,horizontal:oe}}function T(N,I){let v=a.top+(I?N.top:N.bottom);return{top:v,bottom:v,horizontal:[]}}}function QQ(t,e){return t.constructor==e.constructor&&t.eq(e)}class zQ{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Lh)!=e.state.facet(Lh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,i=e.facet(Lh);for(;n<i.length&&i[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,i)=>!QQ(n,this.drawn[i]))){let n=this.dom.firstChild,i=0;for(let r of e)r.update&&n&&r.constructor&&this.drawn[i].constructor&&r.update(n,this.drawn[i])?(n=n.nextSibling,i++):this.dom.insertBefore(r.draw(),n);for(;n;){let r=n.nextSibling;n.remove(),n=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Lh=Be.define();function Tk(t){return[an.define(e=>new zQ(e,t)),Lh.of(t)]}const Ak=!(Fe.ios&&Fe.webkit&&Fe.webkit_version<534),ku=Be.define({combine(t){return us(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function WQ(t={}){return[ku.of(t),qQ,UQ,XQ,tk.of(!0)]}function kk(t){return t.startState.facet(ku)!=t.state.facet(ku)}const qQ=Tk({above:!0,markers(t){let{state:e}=t,n=e.facet(ku),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||Ak:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:pe.cursor(r.head,r.head>r.anchor?-1:1);for(let l of gf.forRange(t,o,a))i.push(l)}}return i},update(t,e){t.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=kk(t);return n&&ow(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){ow(e.state,t)},class:"cm-cursorLayer"});function ow(t,e){e.style.animationDuration=t.facet(ku).cursorBlinkRate+"ms"}const UQ=Tk({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:gf.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||kk(t)},class:"cm-selectionLayer"}),Jv={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};Ak&&(Jv[".cm-line"].caretColor=Jv[".cm-content"].caretColor="transparent !important");const XQ=Fo.highest(Me.theme(Jv)),Ek=lt.define({map(t,e){return t==null?null:e.mapPos(t)}}),qc=En.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,i)=>i.is(Ek)?i.value:n,t)}}),YQ=an.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(qc);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(qc)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(qc),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let i=t.scrollDOM.getBoundingClientRect();return{left:n.left-i.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-i.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(qc)!=t&&this.view.dispatch({effects:Ek.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function GQ(){return[qc,YQ]}function aw(t,e,n,i,r){e.lastIndex=0;for(let s=t.iterRange(n,i),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)r(o+a.index,a)}function KQ(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let i=[];for(let{from:r,to:s}of n)r=Math.max(t.state.doc.lineAt(r).from,r-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class JQ{constructor(e){const{regexp:n,decoration:i,decorate:r,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,r)this.addMatch=(a,l,c,u)=>r(u,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,u)=>{let f=i(a,l,c);f&&u(c,c+a[0].length,f)};else if(i)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new Ms,i=n.add.bind(n);for(let{from:r,to:s}of KQ(e,this.maxLength))aw(e.state.doc,this.regexp,r,s,(o,a)=>this.addMatch(a,e,o,i));return n.finish()}updateDeco(e,n){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(i=Math.min(a,i),r=Math.max(l,r))}),e.viewportMoved||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,n.map(e.changes),i,r):n}updateRange(e,n,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,r);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),f=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let d=[],m,g=(y,O,_)=>d.push(_.range(y,O));if(l==c)for(this.regexp.lastIndex=u-l.from;(m=this.regexp.exec(l.text))&&m.index<f-l.from;)this.addMatch(m,e,m.index+l.from,g);else aw(e.state.doc,this.regexp,u,f,(y,O)=>this.addMatch(O,e,y,g));n=n.update({filterFrom:u,filterTo:f,filter:(y,O)=>y<u||O>f,add:d})}}return n}}const Zv=/x/.unicode!=null?"gu":"g",ZQ=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Zv),e4={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let dg=null;function t4(){var t;if(dg==null&&typeof document<"u"&&document.body){let e=document.body.style;dg=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return dg||!1}const Nh=Be.define({combine(t){let e=us(t,{render:null,specialChars:ZQ,addSpecialChars:null});return(e.replaceTabs=!t4())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Zv)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Zv)),e}});function n4(t={}){return[Nh.of(t),i4()]}let lw=null;function i4(){return lw||(lw=an.fromClass(class{constructor(t){this.view=t,this.decorations=Ke.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Nh)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new JQ({regexp:t.specialChars,decoration:(e,n,i)=>{let{doc:r}=n.state,s=Oi(e[0],0);if(s==9){let o=r.lineAt(i),a=n.state.tabSize,l=hc(o.text,a,i-o.from);return Ke.replace({widget:new a4((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Ke.replace({widget:new o4(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Nh);t.startState.facet(Nh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const r4="•";function s4(t){return t>=32?r4:t==10?"␤":String.fromCharCode(9216+t)}class o4 extends Qs{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=s4(this.code),i=e.state.phrase("Control character")+" "+(e4[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,n);if(r)return r;let s=document.createElement("span");return s.textContent=n,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class a4 extends Qs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function l4(){return u4}const c4=Ke.line({class:"cm-activeLine"}),u4=an.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let i of t.state.selection.ranges){let r=t.lineBlockAt(i.head);r.from>e&&(n.push(c4.range(r.from)),e=r.from)}return Ke.set(n)}},{decorations:t=>t.decorations}),eb=2e3;function f4(t,e,n){let i=Math.min(e.line,n.line),r=Math.max(e.line,n.line),s=[];if(e.off>eb||n.off>eb||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=i;l<=r;l++){let c=t.doc.line(l);c.length<=a&&s.push(pe.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=i;l<=r;l++){let c=t.doc.line(l),u=Rv(c.text,o,t.tabSize,!0);if(u<0)s.push(pe.cursor(c.to));else{let f=Rv(c.text,a,t.tabSize);s.push(pe.range(c.from+u,c.from+f))}}}return s}function h4(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function cw(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.state.doc.lineAt(n),r=n-i.from,s=r>eb?-1:r==i.length?h4(t,e.clientX):hc(i.text,t.state.tabSize,n-i.from);return{line:i.number,col:s,off:r}}function d4(t,e){let n=cw(t,e),i=t.state.selection;return n?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(n.line).from),o=r.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let a=cw(t,r);if(!a)return i;let l=f4(t.state,n,a);return l.length?o?pe.create(l.concat(i.ranges)):pe.create(l):i}}:null}function p4(t){let e=n=>n.altKey&&n.button==0;return Me.mouseSelectionStyle.of((n,i)=>e(i)?d4(n,i):null)}const m4={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},g4={style:"cursor: crosshair"};function v4(t={}){let[e,n]=m4[t.key||"Alt"],i=an.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||n(r))},keyup(r){(r.keyCode==e||!n(r))&&this.set(!1)},mousemove(r){this.set(n(r))}}});return[i,Me.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?g4:null})]}const Mc="-10000px";class Dk{constructor(e,n,i,r){this.facet=n,this.createTooltipView=i,this.removeTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=i(o,s))}update(e,n){var i;let r=e.state.facet(this.facet),s=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let f=0;f<this.tooltips.length;f++){let d=this.tooltips[f];d&&d.create==c.create&&(u=f)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let f=o[l]=this.tooltipViews[u];a&&(a[l]=n[u]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function b4(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const pg=Be.define({combine:t=>{var e,n,i;return{position:Fe.ios?"absolute":((e=t.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(r=>r.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((i=t.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||b4}}}),uw=new WeakMap,zy=an.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(pg);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Dk(t,Wy,(n,i)=>this.createTooltip(n,i),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(pg);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),i=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.appendChild(r)}return n.dom.style.position=this.position,n.dom.style.top=Mc,n.dom.style.left="0px",this.container.insertBefore(n.dom,i),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(t=i.destroy)===null||t===void 0||t.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Fe.gecko)n=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Mc&&s.style.left=="0px"){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),r=Hy(this.view);return{visible:{left:i.left+r.left,top:i.top+r.top,right:i.right-r.right,bottom:i.bottom-r.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(pg).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:i,scaleX:r,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,f=t.pos[a],d=t.size[a];if(!f||l.clip!==!1&&(f.bottom<=Math.max(n.top,i.top)||f.top>=Math.min(n.bottom,i.bottom)||f.right<Math.max(n.left,i.left)-.1||f.left>Math.min(n.right,i.right)+.1)){u.style.top=Mc;continue}let m=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,y=d.right-d.left,O=(e=uw.get(c))!==null&&e!==void 0?e:d.bottom-d.top,_=c.offset||O4,A=this.view.textDirection==en.LTR,R=d.width>i.right-i.left?A?i.left:i.right-d.width:A?Math.max(i.left,Math.min(f.left-(m?14:0)+_.x,i.right-y)):Math.min(Math.max(i.left,f.left-y+(m?14:0)-_.x),i.right-y),T=this.above[a];!l.strictSide&&(T?f.top-O-g-_.y<i.top:f.bottom+O+g+_.y>i.bottom)&&T==i.bottom-f.bottom>f.top-i.top&&(T=this.above[a]=!T);let N=(T?f.top-i.top:i.bottom-f.bottom)-g;if(N<O&&c.resize!==!1){if(N<this.view.defaultLineHeight){u.style.top=Mc;continue}uw.set(c,O),u.style.height=(O=N)/s+"px"}else u.style.height&&(u.style.height="");let I=T?f.top-O-g-_.y:f.bottom+g+_.y,v=R+y;if(c.overlap!==!0)for(let z of o)z.left<v&&z.right>R&&z.top<I+O&&z.bottom>I&&(I=T?z.top-O-2-g:z.bottom+g+2);if(this.position=="absolute"?(u.style.top=(I-t.parent.top)/s+"px",fw(u,(R-t.parent.left)/r)):(u.style.top=I/s+"px",fw(u,R/r)),m){let z=f.left+(A?_.x:-_.x)-(R+14-7);m.style.left=z/r+"px"}c.overlap!==!0&&o.push({left:R,top:I,right:v,bottom:I+O}),u.classList.toggle("cm-tooltip-above",T),u.classList.toggle("cm-tooltip-below",!T),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Mc}},{eventObservers:{scroll(){this.maybeMeasure()}}});function fw(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const y4=Me.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),O4={x:0,y:0},Wy=Be.define({enables:[zy,y4]}),vd=Be.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class Rp{static create(e){return new Rp(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Dk(e,vd,(n,i)=>this.createHostedView(n,i),n=>n.dom.remove())}createHostedView(e,n){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const x4=Wy.compute([vd],t=>{let e=t.facet(vd);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var i;return(i=n.end)!==null&&i!==void 0?i:n.pos})),create:Rp.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class w4{constructor(e,n,i,r,s){this.view=e,this.source=n,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,i=e.docView.nearest(n.target);if(!i)return;let r,s=1;if(i instanceof co)r=i.posAtStart;else{if(r=e.posAtCoords(n),r==null)return;let a=e.coordsAtPos(r);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(r)).find(u=>u.from<=r&&u.to>=r),c=l&&l.dir==en.RTL?-1:1;s=n.x<a.left?-c:c}let o=this.source(e,r,s);if(o!=null&&o.then){let a=this.pending={pos:r};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>fi(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(zy),n=e?e.manager.tooltips.findIndex(i=>i.create==Rp.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:s}=this;if(r.length&&s&&!_4(s.dom,e)||this.pending){let{pos:o}=r[0]||this.pending,a=(i=(n=r[0])===null||n===void 0?void 0:n.end)!==null&&i!==void 0?i:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!S4(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=i=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const sh=4;function _4(t,e){let{left:n,right:i,top:r,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();r=Math.min(a.top,r),s=Math.max(a.bottom,s)}return e.clientX>=n-sh&&e.clientX<=i+sh&&e.clientY>=r-sh&&e.clientY<=s+sh}function S4(t,e,n,i,r,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>i||o.right<i||o.top>r||Math.min(o.bottom,a)<r)return!1;let l=t.posAtCoords({x:i,y:r},!1);return l>=e&&l<=n}function C4(t,e={}){let n=lt.define(),i=En.define({create(){return[]},update(r,s){if(r.length&&(e.hideOnChange&&(s.docChanged||s.selection)?r=[]:e.hideOn&&(r=r.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of r){let l=s.changes.mapPos(a.pos,-1,Nn.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}r=o}for(let o of s.effects)o.is(n)&&(r=o.value),o.is(T4)&&(r=[]);return r},provide:r=>vd.from(r)});return{active:i,extension:[i,an.define(r=>new w4(r,t,i,n,e.hoverTime||300)),x4]}}function Rk(t,e){let n=t.plugin(zy);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}const T4=lt.define(),hw=Be.define({combine(t){let e,n;for(let i of t)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Eu(t,e){let n=t.plugin($k),i=n?n.specs.indexOf(e):-1;return i>-1?n.panels[i]:null}const $k=an.fromClass(class{constructor(t){this.input=t.state.facet(Du),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(hw);this.top=new oh(t,!0,e.topContainer),this.bottom=new oh(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(hw);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new oh(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new oh(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Du);if(n!=this.input){let i=n.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of i){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),r.push(u),(u.top?s:o).push(u)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Me.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class oh{constructor(e,n,i){this.view=e,this.top=n,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=dw(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=dw(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function dw(t){let e=t.nextSibling;return t.remove(),e}const Du=Be.define({enables:$k});class Ns extends Ca{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ns.prototype.elementClass="";Ns.prototype.toDOM=void 0;Ns.prototype.mapMode=Nn.TrackBefore;Ns.prototype.startSide=Ns.prototype.endSide=-1;Ns.prototype.point=!0;const Ih=Be.define(),A4=Be.define(),k4={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>$t.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},cu=Be.define();function E4(t){return[Pk(),cu.of(Object.assign(Object.assign({},k4),t))]}const pw=Be.define({combine:t=>t.some(e=>e)});function Pk(t){return[D4]}const D4=an.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(cu).map(e=>new gw(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(pw),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(pw)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=$t.iter(this.view.state.facet(Ih),this.view.viewport.from),i=[],r=this.gutters.map(s=>new R4(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==pi.Text&&o){tb(n,i,a.from);for(let l of r)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of r)l.widget(this.view,a)}else if(s.type==pi.Text){tb(n,i,s.from);for(let o of r)o.line(this.view,s,i)}else if(s.widget)for(let o of r)o.widget(this.view,s);for(let s of r)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(cu),n=t.state.facet(cu),i=t.docChanged||t.heightChanged||t.viewportChanged||!$t.eq(t.startState.facet(Ih),t.state.facet(Ih),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let r of this.gutters)r.update(t)&&(i=!0);else{i=!0;let r=[];for(let s of n){let o=e.indexOf(s);o<0?r.push(new gw(this.view,s)):(this.gutters[o].update(t),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Me.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==en.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function mw(t){return Array.isArray(t)?t:[t]}function tb(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class R4{constructor(e,n,i){this.gutter=e,this.height=i,this.i=0,this.cursor=$t.iter(e.markers,n.from)}addElement(e,n,i){let{gutter:r}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==r.elements.length){let a=new Mk(e,o,s,i);r.elements.push(a),r.dom.appendChild(a.dom)}else r.elements[this.i].update(e,o,s,i);this.height=n.bottom,this.i++}line(e,n,i){let r=[];tb(this.cursor,r,n.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,n,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,r)}widget(e,n){let i=this.gutter.config.widgetMarker(e,n.widget,n),r=i?[i]:null;for(let s of e.state.facet(A4)){let o=s(e,n.widget,n);o&&(r||(r=[])).push(o)}r&&this.addElement(e,n,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class gw{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in n.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[i](e,a,r)&&r.preventDefault()});this.markers=mw(n.markers(e)),n.initialSpacer&&(this.spacer=new Mk(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=mw(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!$t.eq(this.markers,n,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Mk{constructor(e,n,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,i,r)}update(e,n,i,r){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),$4(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,n){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(i+=" "+u);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(r);let f=r.nextSibling;r.remove(),r=f}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&o++}this.dom.className=i,this.markers=n}destroy(){this.setMarkers(null,[])}}function $4(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const P4=Be.define(),M4=Be.define(),cl=Be.define({combine(t){return us(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let i=Object.assign({},e);for(let r in n){let s=i[r],o=n[r];i[r]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})}});class mg extends Ns{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function gg(t,e){return t.state.facet(cl).formatNumber(e,t.state)}const L4=cu.compute([cl],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(P4)},lineMarker(e,n,i){return i.some(r=>r.toDOM)?null:new mg(gg(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,i)=>{for(let r of e.state.facet(M4)){let s=r(e,n,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(cl)!=e.state.facet(cl),initialSpacer(e){return new mg(gg(e,vw(e.state.doc.lines)))},updateSpacer(e,n){let i=gg(n.view,vw(n.view.state.doc.lines));return i==e.number?e:new mg(i)},domEventHandlers:t.facet(cl).domEventHandlers}));function N4(t={}){return[cl.of(t),Pk(),L4]}function vw(t){let e=9;for(;e<t;)e=e*10+9;return e}const I4=new class extends Ns{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},F4=Ih.compute(["selection"],t=>{let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.head).from;r>n&&(n=r,e.push(I4.range(r)))}return $t.of(e)});function B4(){return F4}const Lk=1024;let H4=0;class vg{constructor(e,n){this.from=e,this.to=n}}class pt{constructor(e={}){this.id=H4++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ki.match(e)),n=>{let i=e(n);return i===void 0?null:[this,i]}}}pt.closedBy=new pt({deserialize:t=>t.split(" ")});pt.openedBy=new pt({deserialize:t=>t.split(" ")});pt.group=new pt({deserialize:t=>t.split(" ")});pt.isolate=new pt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});pt.contextHash=new pt({perNode:!0});pt.lookAhead=new pt({perNode:!0});pt.mounted=new pt({perNode:!0});class bd{constructor(e,n,i){this.tree=e,this.overlay=n,this.parser=i}static get(e){return e&&e.props&&e.props[pt.mounted.id]}}const j4=Object.create(null);class ki{constructor(e,n,i,r=0){this.name=e,this.props=n,this.id=i,this.flags=r}static define(e){let n=e.props&&e.props.length?Object.create(null):j4,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new ki(e.name||"",n,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(pt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let i in e)for(let r of i.split(" "))n[r]=e[i];return i=>{for(let r=i.prop(pt.group),s=-1;s<(r?r.length:0);s++){let o=n[s<0?i.name:r[s]];if(o)return o}}}}ki.none=new ki("",Object.create(null),0,8);class qy{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}n.push(r?new ki(i.name,r,i.id,i.flags):i)}return new qy(n)}}const ah=new WeakMap,bw=new WeakMap;var Tn;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Tn||(Tn={}));class dn{constructor(e,n,i,r,s){if(this.type=e,this.children=n,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=bd.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let i of this.children){let r=i.toString();r&&(n&&(n+=","),n+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new ib(this.topNode,e)}cursorAt(e,n=0,i=0){let r=ah.get(this)||this.topNode,s=new ib(r);return s.moveTo(e,n),ah.set(this,s._tree),s}get topNode(){return new or(this,0,0,null)}resolve(e,n=0){let i=Ru(ah.get(this)||this.topNode,e,n,!1);return ah.set(this,i),i}resolveInner(e,n=0){let i=Ru(bw.get(this)||this.topNode,e,n,!0);return bw.set(this,i),i}resolveStack(e,n=0){return z4(this,e,n)}iterate(e){let{enter:n,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&Tn.IncludeAnonymous)>0;for(let l=this.cursor(o|Tn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Yy(ki.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,r)=>new dn(this.type,n,i,r,this.propValues),e.makeTree||((n,i,r)=>new dn(ki.none,n,i,r)))}static build(e){return W4(e)}}dn.empty=new dn(ki.none,[],[],0);class Uy{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Uy(this.buffer,this.index)}}class Eo{constructor(e,n,i){this.buffer=e,this.length=n,this.set=i}get type(){return ki.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],i=this.buffer[e+3],r=this.set.types[n],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(Nk(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,n,i){let r=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=r[a++],s[l++]=r[a++]-i;let c=s[l++]=r[a++]-i;s[l++]=r[a++]-e,o=Math.max(o,c)}return new Eo(s,o,this.set)}}function Nk(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function Ru(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!i&&t instanceof or&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=i?0:Tn.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof or&&o.index<0&&((r=a.enter(e,n,s))===null||r===void 0?void 0:r.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class Ik{cursor(e=0){return new ib(this,e)}getChild(e,n=null,i=null){let r=yw(this,e,n,i);return r.length?r[0]:null}getChildren(e,n=null,i=null){return yw(this,e,n,i)}resolve(e,n=0){return Ru(this,e,n,!1)}resolveInner(e,n=0){return Ru(this,e,n,!0)}matchContext(e){return nb(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),i=this;for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(i=n,n=r.prevSibling):n=r}return i}get node(){return this}get next(){return this.parent}}class or extends Ik{constructor(e,n,i,r){super(),this._tree=e,this.from=n,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],f=l[e]+o.from;if(Nk(r,i,f,f+u.length)){if(u instanceof Eo){if(s&Tn.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,n,i-f,r);if(d>-1)return new fo(new V4(o,u,e,f),null,d)}else if(s&Tn.IncludeAnonymous||!u.type.isAnonymous||Xy(u)){let d;if(!(s&Tn.IgnoreMounts)&&(d=bd.get(u))&&!d.overlay)return new or(d.tree,f,e,o);let m=new or(u,f,e,o);return s&Tn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(n<0?u.children.length-1:0,n,i,r)}}}if(s&Tn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,i=0){let r;if(!(i&Tn.IgnoreOverlays)&&(r=bd.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new or(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function yw(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function nb(t,e,n=e.length-1){for(let i=t;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class V4{constructor(e,n,i,r){this.parent=e,this.buffer=n,this.index=i,this.start=r}}class fo extends Ik{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,i){super(),this.context=e,this._parent=n,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,n,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.context.start,i);return s<0?null:new fo(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,i=0){if(i&Tn.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new fo(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new fo(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new fo(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),n.push(0)}return new dn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Fk(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let i=n instanceof or&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new Q4(r,n)}class Q4{constructor(e,n){this.heads=e,this.node=n}get next(){return Fk(this.heads)}}function z4(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof or?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,n)),s=o}else{let o=bd.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new or(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Ru(a,e,n,!1))}}return r?Fk(r):i}class ib{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof or)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=n||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof or?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,i=this.mode){return this.buffer?i&Tn.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Tn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Tn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(n.findChild(r,this.index,-1,0,4))}else{let r=n.buffer[this.index+3];if(r<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:i}=r)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let s=n+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&Tn.IncludeAnonymous||a instanceof Eo||!a.type.isAnonymous||Xy(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;n=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)n=new fo(this.buffer,n,this.stack[r]);return this.bufferNode=new fo(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&n&&n(this),r=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return nb(this.node.parent,e);let{buffer:n}=this.buffer,{types:i}=n.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return nb(this._tree,e,r);let o=i[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Xy(t){return t.children.some(e=>e instanceof Eo||!e.type.isAnonymous||Xy(e))}function W4(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=Lk,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new Uy(n,n.length):n,l=i.types,c=0,u=0;function f(N,I,v,z,G,oe){let{id:ve,start:ne,end:X,size:le}=a,W=u,V=c;for(;le<0;)if(a.next(),le==-1){let it=s[ve];v.push(it),z.push(ne-N);return}else if(le==-3){c=ve;return}else if(le==-4){u=ve;return}else throw new RangeError(`Unrecognized record size: ${le}`);let te=l[ve],be,Le,ot=ne-N;if(X-ne<=r&&(Le=O(a.pos-I,G))){let it=new Uint16Array(Le.size-Le.skip),nt=a.pos-Le.size,mt=it.length;for(;a.pos>nt;)mt=_(Le.start,it,mt);be=new Eo(it,X-Le.start,i),ot=Le.start-N}else{let it=a.pos-le;a.next();let nt=[],mt=[],Pt=ve>=o?ve:-1,Ht=0,Nt=X;for(;a.pos>it;)Pt>=0&&a.id==Pt&&a.size>=0?(a.end<=Nt-r&&(g(nt,mt,ne,Ht,a.end,Nt,Pt,W,V),Ht=nt.length,Nt=a.end),a.next()):oe>2500?d(ne,it,nt,mt):f(ne,it,nt,mt,Pt,oe+1);if(Pt>=0&&Ht>0&&Ht<nt.length&&g(nt,mt,ne,Ht,ne,Nt,Pt,W,V),nt.reverse(),mt.reverse(),Pt>-1&&Ht>0){let ae=m(te,V);be=Yy(te,nt,mt,0,nt.length,0,X-ne,ae,ae)}else be=y(te,nt,mt,X-ne,W-X,V)}v.push(be),z.push(ot)}function d(N,I,v,z){let G=[],oe=0,ve=-1;for(;a.pos>I;){let{id:ne,start:X,end:le,size:W}=a;if(W>4)a.next();else{if(ve>-1&&X<ve)break;ve<0&&(ve=le-r),G.push(ne,X,le),oe++,a.next()}}if(oe){let ne=new Uint16Array(oe*4),X=G[G.length-2];for(let le=G.length-3,W=0;le>=0;le-=3)ne[W++]=G[le],ne[W++]=G[le+1]-X,ne[W++]=G[le+2]-X,ne[W++]=W;v.push(new Eo(ne,G[2]-X,i)),z.push(X-N)}}function m(N,I){return(v,z,G)=>{let oe=0,ve=v.length-1,ne,X;if(ve>=0&&(ne=v[ve])instanceof dn){if(!ve&&ne.type==N&&ne.length==G)return ne;(X=ne.prop(pt.lookAhead))&&(oe=z[ve]+ne.length+X)}return y(N,v,z,G,oe,I)}}function g(N,I,v,z,G,oe,ve,ne,X){let le=[],W=[];for(;N.length>z;)le.push(N.pop()),W.push(I.pop()+v-G);N.push(y(i.types[ve],le,W,oe-G,ne-oe,X)),I.push(G-v)}function y(N,I,v,z,G,oe,ve){if(oe){let ne=[pt.contextHash,oe];ve=ve?[ne].concat(ve):[ne]}if(G>25){let ne=[pt.lookAhead,G];ve=ve?[ne].concat(ve):[ne]}return new dn(N,I,v,z,ve)}function O(N,I){let v=a.fork(),z=0,G=0,oe=0,ve=v.end-r,ne={size:0,start:0,skip:0};e:for(let X=v.pos-N;v.pos>X;){let le=v.size;if(v.id==I&&le>=0){ne.size=z,ne.start=G,ne.skip=oe,oe+=4,z+=4,v.next();continue}let W=v.pos-le;if(le<0||W<X||v.start<ve)break;let V=v.id>=o?4:0,te=v.start;for(v.next();v.pos>W;){if(v.size<0)if(v.size==-3)V+=4;else break e;else v.id>=o&&(V+=4);v.next()}G=te,z+=le,oe+=V}return(I<0||z==N)&&(ne.size=z,ne.start=G,ne.skip=oe),ne.size>4?ne:void 0}function _(N,I,v){let{id:z,start:G,end:oe,size:ve}=a;if(a.next(),ve>=0&&z<o){let ne=v;if(ve>4){let X=a.pos-(ve-4);for(;a.pos>X;)v=_(N,I,v)}I[--v]=ne,I[--v]=oe-N,I[--v]=G-N,I[--v]=z}else ve==-3?c=z:ve==-4&&(u=z);return v}let A=[],R=[];for(;a.pos>0;)f(t.start||0,t.bufferStart||0,A,R,-1,0);let T=(e=t.length)!==null&&e!==void 0?e:A.length?R[0]+A[0].length:0;return new dn(l[t.topID],A.reverse(),R.reverse(),T)}const Ow=new WeakMap;function Fh(t,e){if(!t.isAnonymous||e instanceof Eo||e.type!=t)return 1;let n=Ow.get(e);if(n==null){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof dn)){n=1;break}n+=Fh(t,i)}Ow.set(e,n)}return n}function Yy(t,e,n,i,r,s,o,a,l){let c=0;for(let g=i;g<r;g++)c+=Fh(t,e[g]);let u=Math.ceil(c*1.5/8),f=[],d=[];function m(g,y,O,_,A){for(let R=O;R<_;){let T=R,N=y[R],I=Fh(t,g[R]);for(R++;R<_;R++){let v=Fh(t,g[R]);if(I+v>=u)break;I+=v}if(R==T+1){if(I>u){let v=g[T];m(v.children,v.positions,0,v.children.length,y[T]+A);continue}f.push(g[T])}else{let v=y[R-1]+g[R-1].length-N;f.push(Yy(t,g,y,T,R,N,v,null,l))}d.push(N+A-s)}}return m(e,n,i,r,0),(a||l)(f,d,o)}class pa{constructor(e,n,i,r,s=!1,o=!1){this.from=e,this.to=n,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],i=!1){let r=[new pa(0,e.length,e,0,!1,i)];for(let s of n)s.to>e.length&&r.push(s);return r}static applyChanges(e,n,i=128){if(!n.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,f=u?u.fromA:1e9;if(f-l>=i)for(;o&&o.from<f;){let d=o;if(l>=d.from||f<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,f)-c;d=m>=g?null:new pa(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&r.push(d),o.to>f)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return r}}let Bk=class{startParse(e,n,i){return typeof e=="string"&&(e=new q4(e)),i=i?i.length?i.map(r=>new vg(r.from,r.to)):[new vg(0,0)]:[new vg(0,e.length)],this.createParse(e,n||[],i)}parse(e,n,i){let r=this.startParse(e,n,i);for(;;){let s=r.advance();if(s)return s}}};class q4{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new pt({perNode:!0});let U4=0,ys=class rb{constructor(e,n,i,r){this.name=e,this.set=n,this.base=i,this.modified=r,this.id=U4++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let i=typeof e=="string"?e:"?";if(e instanceof rb&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let r=new rb(i,[],null,[]);if(r.set.push(r),n)for(let s of n.set)r.set.push(s);return r}static defineModifier(e){let n=new yd(e);return i=>i.modified.indexOf(n)>-1?i:yd.get(i.base||i,i.modified.concat(n).sort((r,s)=>r.id-s.id))}},X4=0;class yd{constructor(e){this.name=e,this.instances=[],this.id=X4++}static get(e,n){if(!n.length)return e;let i=n[0].instances.find(a=>a.base==e&&Y4(n,a.modified));if(i)return i;let r=[],s=new ys(e.name,r,e,n);for(let a of n)a.instances.push(s);let o=G4(n);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(yd.get(a,l));return s}}function Y4(t,e){return t.length==e.length&&t.every((n,i)=>n==e[i])}function G4(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort((n,i)=>i.length-n.length)}function $p(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let r of n.split(" "))if(r){let s=[],o=2,a=r;for(let f=0;;){if(a=="..."&&f>0&&f+3==r.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+r);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==r.length)break;let m=r[f++];if(f==r.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+r);a=r.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+r);let u=new Od(i,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return Hk.add(e)}const Hk=new pt;class Od{constructor(e,n,i,r){this.tags=e,this.mode=n,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Od.empty=new Od([],2,null);function jk(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function K4(t,e){let n=null;for(let i of t){let r=i.style(e);r&&(n=n?n+" "+r:r)}return n}function J4(t,e,n,i=0,r=t.length){let s=new Z4(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}class Z4{constructor(e,n,i){this.at=e,this.highlighters=n,this.span=i,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=n)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let c=r,u=ez(e)||Od.empty,f=K4(s,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(r+=(r?" ":"")+f)),this.startSpan(Math.max(n,a),c),u.opaque)return;let d=e.tree&&e.tree.prop(pt.mounted);if(d&&d.overlay){let m=e.node.enter(d.overlay[0].from+a,1),g=this.highlighters.filter(O=>!O.scope||O.scope(d.tree.type)),y=e.firstChild();for(let O=0,_=a;;O++){let A=O<d.overlay.length?d.overlay[O]:null,R=A?A.from+a:l,T=Math.max(n,_),N=Math.min(i,R);if(T<N&&y)for(;e.from<N&&(this.highlightRange(e,T,N,r,s),this.startSpan(Math.min(N,e.to),c),!(e.to>=R||!e.nextSibling())););if(!A||R>i)break;_=A.to+a,_>n&&(this.highlightRange(m.cursor(),Math.max(n,A.from+a),Math.min(i,_),"",g),this.startSpan(Math.min(i,_),c))}y&&e.parent()}else if(e.firstChild()){d&&(r="");do if(!(e.to<=n)){if(e.from>=i)break;this.highlightRange(e,n,i,r,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function ez(t){let e=t.type.prop(Hk);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const $e=ys.define,lh=$e(),no=$e(),xw=$e(no),ww=$e(no),io=$e(),ch=$e(io),bg=$e(io),Qr=$e(),Uo=$e(Qr),jr=$e(),Vr=$e(),sb=$e(),Lc=$e(sb),uh=$e(),U={comment:lh,lineComment:$e(lh),blockComment:$e(lh),docComment:$e(lh),name:no,variableName:$e(no),typeName:xw,tagName:$e(xw),propertyName:ww,attributeName:$e(ww),className:$e(no),labelName:$e(no),namespace:$e(no),macroName:$e(no),literal:io,string:ch,docString:$e(ch),character:$e(ch),attributeValue:$e(ch),number:bg,integer:$e(bg),float:$e(bg),bool:$e(io),regexp:$e(io),escape:$e(io),color:$e(io),url:$e(io),keyword:jr,self:$e(jr),null:$e(jr),atom:$e(jr),unit:$e(jr),modifier:$e(jr),operatorKeyword:$e(jr),controlKeyword:$e(jr),definitionKeyword:$e(jr),moduleKeyword:$e(jr),operator:Vr,derefOperator:$e(Vr),arithmeticOperator:$e(Vr),logicOperator:$e(Vr),bitwiseOperator:$e(Vr),compareOperator:$e(Vr),updateOperator:$e(Vr),definitionOperator:$e(Vr),typeOperator:$e(Vr),controlOperator:$e(Vr),punctuation:sb,separator:$e(sb),bracket:Lc,angleBracket:$e(Lc),squareBracket:$e(Lc),paren:$e(Lc),brace:$e(Lc),content:Qr,heading:Uo,heading1:$e(Uo),heading2:$e(Uo),heading3:$e(Uo),heading4:$e(Uo),heading5:$e(Uo),heading6:$e(Uo),contentSeparator:$e(Qr),list:$e(Qr),quote:$e(Qr),emphasis:$e(Qr),strong:$e(Qr),link:$e(Qr),monospace:$e(Qr),strikethrough:$e(Qr),inserted:$e(),deleted:$e(),changed:$e(),invalid:$e(),meta:uh,documentMeta:$e(uh),annotation:$e(uh),processingInstruction:$e(uh),definition:ys.defineModifier("definition"),constant:ys.defineModifier("constant"),function:ys.defineModifier("function"),standard:ys.defineModifier("standard"),local:ys.defineModifier("local"),special:ys.defineModifier("special")};for(let t in U){let e=U[t];e instanceof ys&&(e.name=t)}jk([{tag:U.link,class:"tok-link"},{tag:U.heading,class:"tok-heading"},{tag:U.emphasis,class:"tok-emphasis"},{tag:U.strong,class:"tok-strong"},{tag:U.keyword,class:"tok-keyword"},{tag:U.atom,class:"tok-atom"},{tag:U.bool,class:"tok-bool"},{tag:U.url,class:"tok-url"},{tag:U.labelName,class:"tok-labelName"},{tag:U.inserted,class:"tok-inserted"},{tag:U.deleted,class:"tok-deleted"},{tag:U.literal,class:"tok-literal"},{tag:U.string,class:"tok-string"},{tag:U.number,class:"tok-number"},{tag:[U.regexp,U.escape,U.special(U.string)],class:"tok-string2"},{tag:U.variableName,class:"tok-variableName"},{tag:U.local(U.variableName),class:"tok-variableName tok-local"},{tag:U.definition(U.variableName),class:"tok-variableName tok-definition"},{tag:U.special(U.variableName),class:"tok-variableName2"},{tag:U.definition(U.propertyName),class:"tok-propertyName tok-definition"},{tag:U.typeName,class:"tok-typeName"},{tag:U.namespace,class:"tok-namespace"},{tag:U.className,class:"tok-className"},{tag:U.macroName,class:"tok-macroName"},{tag:U.propertyName,class:"tok-propertyName"},{tag:U.operator,class:"tok-operator"},{tag:U.comment,class:"tok-comment"},{tag:U.meta,class:"tok-meta"},{tag:U.invalid,class:"tok-invalid"},{tag:U.punctuation,class:"tok-punctuation"}]);var yg;const ul=new pt;function tz(t){return Be.define({combine:t?e=>e.concat(t):void 0})}const nz=new pt;class Sr{constructor(e,n,i=[],r=""){this.data=e,this.name=r,Tt.prototype.hasOwnProperty("tree")||Object.defineProperty(Tt.prototype,"tree",{get(){return kn(this)}}),this.parser=n,this.extension=[Do.of(this),Tt.languageData.of((s,o,a)=>{let l=_w(s,o,a),c=l.type.prop(ul);if(!c)return[];let u=s.facet(c),f=l.type.prop(nz);if(f){let d=l.resolve(o-l.from,a);for(let m of f)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(i)}isActiveAt(e,n,i=-1){return _w(e,n,i).type.prop(ul)==this.data}findRegions(e){let n=e.facet(Do);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(ul)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(pt.mounted);if(a){if(a.tree.prop(ul)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof dn&&r(c,s.positions[l]+o)}};return r(kn(e),0),i}get allowsNesting(){return!0}}Sr.setState=lt.define();function _w(t,e,n){let i=t.facet(Do),r=kn(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,Tn.ExcludeBuffers))s.type.isTop&&(r=s);return r}class Ul extends Sr{constructor(e,n,i){super(e,n,[],i),this.parser=n}static define(e){let n=tz(e.languageData);return new Ul(n,e.parser.configure({props:[ul.add(i=>i.isTop?n:void 0)]}),e.name)}configure(e,n){return new Ul(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function kn(t){let e=t.field(Sr.state,!1);return e?e.tree:dn.empty}class iz{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let i=this.cursorPos-this.string.length;return e<i||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-i,n-i)}}let Nc=null;class xd{constructor(e,n,i=[],r,s,o,a,l){this.parser=e,this.state=n,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,i){return new xd(e,n,[],dn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new iz(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=dn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(pa.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(pa.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Nc;Nc=this;try{return e()}finally{Nc=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=Sw(e,n.from,n.to);return e}changes(e,n){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,f,d)=>l.push({fromA:c,toA:u,fromB:f,toB:d})),i=pa.applyChanges(i,l),r=dn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&a.push({from:u,to:f})}}}return new xd(this.parser,n,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=Sw(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Bk{createParse(n,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=Nc;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new dn(ki.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Nc}}function Sw(t,e,n){return pa.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Xl{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new Xl(n)}static init(e){let n=Math.min(3e3,e.doc.length),i=xd.create(e.facet(Do).parser,e,{from:0,to:n});return i.work(20,n)||i.takeTree(),new Xl(i)}}Sr.state=En.define({create:Xl.init,update(t,e){for(let n of e.effects)if(n.is(Sr.setState))return n.value;return e.startState.facet(Do)!=e.state.facet(Do)?Xl.init(e.state):t.apply(e)}});let Vk=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Vk=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Og=typeof navigator<"u"&&(!((yg=navigator.scheduling)===null||yg===void 0)&&yg.isInputPending)?()=>navigator.scheduling.isInputPending():null,rz=an.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Sr.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Sr.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=Vk(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Sr.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Og?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>Og&&Og()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Sr.setState.of(new Xl(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>fi(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Do=Be.define({combine(t){return t.length?t[0]:null},enables:t=>[Sr.state,rz,Me.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Qk{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const sz=Be.define(),Pp=Be.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function wd(t){let e=t.facet(Pp);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function $u(t,e){let n="",i=t.tabSize,r=t.facet(Pp)[0];if(r=="	"){for(;e>=i;)n+="	",e-=i;r=" "}for(let s=0;s<e;s++)n+=r;return n}function Gy(t,e){t instanceof Tt&&(t=new Mp(t));for(let i of t.state.facet(sz)){let r=i(t,e);if(r!==void 0)return r}let n=kn(t.state);return n.length>=e?oz(t,n,e):null}class Mp{constructor(e,n={}){this.state=e,this.options=n,this.unit=wd(e)}lineAt(e,n=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(n<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,n);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,n=e.length){return hc(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Ky=new pt;function oz(t,e,n){let i=e.resolveStack(n),r=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(r!=i.node){let s=[];for(let o=r;o&&!(o.from==i.node.from&&o.type==i.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return zk(i,t,n)}function zk(t,e,n){for(let i=t;i;i=i.next){let r=lz(i.node);if(r)return r(Jy.create(e,n,i))}return 0}function az(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function lz(t){let e=t.type.prop(Ky);if(e)return e;let n=t.firstChild,i;if(n&&(i=n.type.prop(pt.closedBy))){let r=t.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>Wk(o,!0,1,void 0,s&&!az(o)?r.from:void 0)}return t.parent==null?cz:null}function cz(){return 0}class Jy extends Mp{constructor(e,n,i){super(e.state,e.options),this.base=e,this.pos=n,this.context=i}get node(){return this.context.node}static create(e,n,i){return new Jy(e,n,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(n.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(uz(i,e))break;n=this.state.doc.lineAt(i.from)}return this.lineIndent(n.from)}continue(){return zk(this.context.next,this.base,this.pos)}}function uz(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function fz(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function Cw({closing:t,align:e=!0,units:n=1}){return i=>Wk(i,e,n,t)}function Wk(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?fz(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function Tw({except:t,units:e=1}={}){return n=>{let i=t&&t.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}const hz=200;function dz(){return Tt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:i}=t.newSelection.main,r=n.lineAt(i);if(i>r.from+hz)return t;let s=n.sliceString(r.from,i);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let f=Gy(o,u.from);if(f==null)continue;let d=/^\s*/.exec(u.text)[0],m=$u(o,f);d!=m&&l.push({from:u.from,to:u.from+d.length,insert:m})}return l.length?[t,{changes:l,sequential:!0}]:t})}const pz=Be.define(),Zy=new pt;function qk(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function mz(t,e,n){let i=kn(t);if(i.length<n)return null;let r=i.resolveStack(n,1),s=null;for(let o=r;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(Zy);if(l&&(a.to<i.length-50||i.length==t.doc.length||!gz(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(s=c)}}return s}function gz(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function _d(t,e,n){for(let i of t.facet(pz)){let r=i(t,e,n);if(r)return r}return mz(t,e,n)}function Uk(t,e){let n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);return n>=i?void 0:{from:n,to:i}}const Lp=lt.define({map:Uk}),vf=lt.define({map:Uk});function Xk(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(i=>i.from<=n&&i.to>=n)||e.push(t.lineBlockAt(n));return e}const Ea=En.define({create(){return Ke.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Lp)&&!vz(t,n.value.from,n.value.to)){let{preparePlaceholder:i}=e.state.facet(Kk),r=i?Ke.replace({widget:new Sz(i(e.state,n.value))}):Aw;t=t.update({add:[r.range(n.value.from,n.value.to)]})}else n.is(vf)&&(t=t.update({filter:(i,r)=>n.value.from!=i||n.value.to!=r,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:i}=e.selection.main;t.between(i,i,(r,s)=>{r<i&&s>i&&(n=!0)}),n&&(t=t.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return t},provide:t=>Me.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(i,r)=>{n.push(i,r)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let i=t[n++],r=t[n++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(Aw.range(i,r))}return Ke.set(e,!0)}});function Sd(t,e,n){var i;let r=null;return(i=t.field(Ea,!1))===null||i===void 0||i.between(e,n,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function vz(t,e,n){let i=!1;return t.between(e,e,(r,s)=>{r==e&&s==n&&(i=!0)}),i}function Yk(t,e){return t.field(Ea,!1)?e:e.concat(lt.appendConfig.of(Jk()))}const bz=t=>{for(let e of Xk(t)){let n=_d(t.state,e.from,e.to);if(n)return t.dispatch({effects:Yk(t.state,[Lp.of(n),Gk(t,n)])}),!0}return!1},yz=t=>{if(!t.state.field(Ea,!1))return!1;let e=[];for(let n of Xk(t)){let i=Sd(t.state,n.from,n.to);i&&e.push(vf.of(i),Gk(t,i,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function Gk(t,e,n=!0){let i=t.state.doc.lineAt(e.from).number,r=t.state.doc.lineAt(e.to).number;return Me.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${t.state.phrase("to")} ${r}.`)}const Oz=t=>{let{state:e}=t,n=[];for(let i=0;i<e.doc.length;){let r=t.lineBlockAt(i),s=_d(e,r.from,r.to);s&&n.push(Lp.of(s)),i=(s?t.lineBlockAt(s.to):r).to+1}return n.length&&t.dispatch({effects:Yk(t.state,n)}),!!n.length},xz=t=>{let e=t.state.field(Ea,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(i,r)=>{n.push(vf.of({from:i,to:r}))}),t.dispatch({effects:n}),!0},wz=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:bz},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:yz},{key:"Ctrl-Alt-[",run:Oz},{key:"Ctrl-Alt-]",run:xz}],_z={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Kk=Be.define({combine(t){return us(t,_z)}});function Jk(t){return[Ea,Az]}function Zk(t,e){let{state:n}=t,i=n.facet(Kk),r=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=Sd(t.state,a.from,a.to);l&&t.dispatch({effects:vf.of(l)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(t,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const Aw=Ke.replace({widget:new class extends Qs{toDOM(t){return Zk(t,null)}}});class Sz extends Qs{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Zk(e,this.value)}}const Cz={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class xg extends Ns{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Tz(t={}){let e=Object.assign(Object.assign({},Cz),t),n=new xg(e,!0),i=new xg(e,!1),r=an.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Do)!=o.state.facet(Do)||o.startState.field(Ea,!1)!=o.state.field(Ea,!1)||kn(o.startState)!=kn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Ms;for(let l of o.viewportLineBlocks){let c=Sd(o.state,l.from,l.to)?i:_d(o.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[r,E4({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(r))===null||a===void 0?void 0:a.markers)||$t.empty},initialSpacer(){return new xg(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=Sd(o.state,a.from,a.to);if(c)return o.dispatch({effects:vf.of(c)}),!0;let u=_d(o.state,a.from,a.to);return u?(o.dispatch({effects:Lp.of(u)}),!0):!1}})}),Jk()]}const Az=Me.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class bf{constructor(e,n){this.specs=e;let i;function r(a){let l=To.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?r(n.all):void 0,o=n.scope;this.scope=o instanceof Sr?a=>a.prop(ul)==o.data:o?a=>a==o:void 0,this.style=jk(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new To(i):null,this.themeType=n.themeType}static define(e,n){return new bf(e,n||{})}}const ob=Be.define(),eE=Be.define({combine(t){return t.length?[t[0]]:null}});function wg(t){let e=t.facet(ob);return e.length?e:t.facet(eE)}function tE(t,e){let n=[Ez],i;return t instanceof bf&&(t.module&&n.push(Me.styleModule.of(t.module)),i=t.themeType),e!=null&&e.fallback?n.push(eE.of(t)):i?n.push(ob.computeN([Me.darkTheme],r=>r.facet(Me.darkTheme)==(i=="dark")?[t]:[])):n.push(ob.of(t)),n}class kz{constructor(e){this.markCache=Object.create(null),this.tree=kn(e.state),this.decorations=this.buildDeco(e,wg(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=kn(e.state),i=wg(e.state),r=i!=wg(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!r&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||r)&&(this.tree=n,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Ke.none;let i=new Ms;for(let{from:r,to:s}of e.visibleRanges)J4(this.tree,n,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=Ke.mark({class:l})))},r,s);return i.finish()}}const Ez=Fo.high(an.fromClass(kz,{decorations:t=>t.decorations})),Dz=bf.define([{tag:U.meta,color:"#404740"},{tag:U.link,textDecoration:"underline"},{tag:U.heading,textDecoration:"underline",fontWeight:"bold"},{tag:U.emphasis,fontStyle:"italic"},{tag:U.strong,fontWeight:"bold"},{tag:U.strikethrough,textDecoration:"line-through"},{tag:U.keyword,color:"#708"},{tag:[U.atom,U.bool,U.url,U.contentSeparator,U.labelName],color:"#219"},{tag:[U.literal,U.inserted],color:"#164"},{tag:[U.string,U.deleted],color:"#a11"},{tag:[U.regexp,U.escape,U.special(U.string)],color:"#e40"},{tag:U.definition(U.variableName),color:"#00f"},{tag:U.local(U.variableName),color:"#30a"},{tag:[U.typeName,U.namespace],color:"#085"},{tag:U.className,color:"#167"},{tag:[U.special(U.variableName),U.macroName],color:"#256"},{tag:U.definition(U.propertyName),color:"#00c"},{tag:U.comment,color:"#940"},{tag:U.invalid,color:"#f00"}]),Rz=Me.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),nE=1e4,iE="()[]{}",rE=Be.define({combine(t){return us(t,{afterCursor:!0,brackets:iE,maxScanDistance:nE,renderMatch:Mz})}}),$z=Ke.mark({class:"cm-matchingBracket"}),Pz=Ke.mark({class:"cm-nonmatchingBracket"});function Mz(t){let e=[],n=t.matched?$z:Pz;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Lz=En.define({create(){return Ke.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet(rE);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=Jr(e.state,r.head,-1,i)||r.head>0&&Jr(e.state,r.head-1,1,i)||i.afterCursor&&(Jr(e.state,r.head,1,i)||r.head<e.state.doc.length&&Jr(e.state,r.head+1,-1,i));s&&(n=n.concat(i.renderMatch(s,e.state)))}return Ke.set(n,!0)},provide:t=>Me.decorations.from(t)}),Nz=[Lz,Rz];function Iz(t={}){return[rE.of(t),Nz]}const Fz=new pt;function ab(t,e,n){let i=t.prop(e<0?pt.openedBy:pt.closedBy);if(i)return i;if(t.name.length==1){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function lb(t){let e=t.type.prop(Fz);return e?e(t.node):t}function Jr(t,e,n,i={}){let r=i.maxScanDistance||nE,s=i.brackets||iE,o=kn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=ab(l.type,n,s);if(c&&l.from<l.to){let u=lb(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Bz(t,e,n,l,u,c,s)}}return Hz(t,e,n,o,a.type,r,s)}function Bz(t,e,n,i,r,s,o){let a=i.parent,l={from:r.from,to:r.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(i.from):u.childAfter(i.to)))do if(n<0?u.to<=i.from:u.from>=i.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let f=lb(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(ab(u.type,n,o))c++;else if(ab(u.type,-n,o)){if(c==0){let f=lb(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Hz(t,e,n,i,r,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let d=0;!u.next().done&&d<=s;){let m=u.value;n<0&&(d+=m.length);let g=e+d*n;for(let y=n>0?0:m.length-1,O=n>0?m.length:-1;y!=O;y+=n){let _=o.indexOf(m[y]);if(!(_<0||i.resolveInner(g+y,1).type!=r))if(_%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:g+y,to:g+y+1},matched:_>>1==l>>1};f--}}n>0&&(d+=m.length)}return u.done?{start:c,matched:!1}:null}const jz=Object.create(null),kw=[ki.none],Ew=[],Dw=Object.create(null),Vz=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Vz[t]=Qz(jz,e);function _g(t,e){Ew.indexOf(t)>-1||(Ew.push(t),console.warn(e))}function Qz(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||U[c];u?typeof u=="function"?l.length?l=l.map(u):_g(c,`Modifier ${c} used at start of tag`):l.length?_g(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:_g(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map(a=>a.id),s=Dw[r];if(s)return s.id;let o=Dw[r]=ki.define({id:kw.length,name:i,props:[$p({[i]:n})]});return kw.push(o),o.id}en.RTL,en.LTR;const zz=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=t0(t.state,n.from);return i.line?Wz(t):i.block?Uz(t):!1};function e0(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return r?(i(n.update(r)),!0):!1}}const Wz=e0(Gz,0),qz=e0(sE,0),Uz=e0((t,e)=>sE(t,e,Yz(e)),0);function t0(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Ic=50;function Xz(t,{open:e,close:n},i,r){let s=t.sliceDoc(i-Ic,i),o=t.sliceDoc(r,r+Ic),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let u,f;r-i<=2*Ic?u=f=t.sliceDoc(i,r):(u=t.sliceDoc(i,i+Ic),f=t.sliceDoc(r-Ic,r));let d=/^\s*/.exec(u)[0].length,m=/\s*$/.exec(f)[0].length,g=f.length-m-n.length;return u.slice(d,d+e.length)==e&&f.slice(g,g+n.length)==n?{open:{pos:i+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:r-m-n.length,margin:/\s/.test(f.charAt(g-1))?1:0}}:null}function Yz(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to);r.from>i.from&&r.from==n.to&&(r=n.to==i.to+1?i:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function sE(t,e,n=e.selection.ranges){let i=n.map(s=>t0(e,s.from).block);if(!i.every(s=>s))return null;let r=n.map((s,o)=>Xz(e,i[o],s.from,s.to));if(t!=2&&!r.every(s=>s))return{changes:e.changes(n.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(t!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=i[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function Gz(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of n){let a=i.length,l=1e9,c=t0(e,s).line;if(c){for(let u=s;u<=o;){let f=e.doc.lineAt(u);if(f.from>r&&(s==o||o>f.from)){r=f.from;let d=/^\s*/.exec(f.text)[0].length,m=d==f.length,g=f.text.slice(d,d+c.length)==c?d:-1;d<f.text.length&&d<l&&(l=d),i.push({line:f,comment:g,token:c,indent:d,empty:m,single:!1})}u=f.to+1}if(l<1e9)for(let u=a;u<i.length;u++)i[u].indent<i[u].line.text.length&&(i[u].indent=l);i.length==a+1&&(i[a].single=!0)}}if(t!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:f}of i)(f||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const cb=Vs.define(),Kz=Vs.define(),Jz=Be.define(),oE=Be.define({combine(t){return us(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(i,r)=>e(i,r)||n(i,r)})}}),aE=En.define({create(){return Zr.empty},update(t,e){let n=e.state.facet(oE),i=e.annotation(cb);if(i){let l=Si.fromTransaction(e,i.selection),c=i.side,u=c==0?t.undone:t.done;return l?u=Cd(u,u.length,n.minDepth,l):u=uE(u,e.startState.selection),new Zr(c==0?i.rest:u,c==0?u:i.rest)}let r=e.annotation(Kz);if((r=="full"||r=="before")&&(t=t.isolate()),e.annotation(hn.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Si.fromTransaction(e),o=e.annotation(hn.time),a=e.annotation(hn.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(r=="full"||r=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Zr(t.done.map(Si.fromJSON),t.undone.map(Si.fromJSON))}});function Zz(t={}){return[aE,oE.of(t),Me.domEventHandlers({beforeinput(e,n){let i=e.inputType=="historyUndo"?lE:e.inputType=="historyRedo"?ub:null;return i?(e.preventDefault(),i(n)):!1}})]}function Np(t,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let r=n.field(aE,!1);if(!r)return!1;let s=r.pop(t,n,e);return s?(i(s),!0):!1}}const lE=Np(0,!1),ub=Np(1,!1),eW=Np(0,!0),tW=Np(1,!0);class Si{constructor(e,n,i,r,s){this.changes=e,this.effects=n,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new Si(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Si(e.changes&&bn.fromJSON(e.changes),[],e.mapped&&rs.fromJSON(e.mapped),e.startSelection&&pe.fromJSON(e.startSelection),e.selectionsAfter.map(pe.fromJSON))}static fromTransaction(e,n){let i=Zi;for(let r of e.startState.facet(Jz)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new Si(e.changes.invert(e.startState.doc),i,void 0,n||e.startState.selection,Zi)}static selection(e){return new Si(void 0,Zi,void 0,void 0,e)}}function Cd(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function nW(t,e){let n=[],i=!1;return t.iterChangedRanges((r,s)=>n.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&o<=u&&(i=!0)}}),i}function iW(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,i)=>n.empty!=e.ranges[i].empty).length===0}function cE(t,e){return t.length?e.length?t.concat(e):t:e}const Zi=[],rW=200;function uE(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-rW));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),Cd(t,t.length-1,1e9,n.setSelAfter(i)))}else return[Si.selection([e])]}function sW(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Sg(t,e){if(!t.length)return t;let n=t.length,i=Zi;for(;n;){let r=oW(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=t.slice(0,n);return s[n-1]=r,s}else e=r.mapped,n--,i=r.selectionsAfter}return i.length?[Si.selection(i)]:Zi}function oW(t,e,n){let i=cE(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Zi,n);if(!t.changes)return Si.selection(i);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Si(r,lt.mapEffects(t.effects,e),o,t.startSelection.map(s),i)}const aW=/^(input\.type|delete)($|\.)/;class Zr{constructor(e,n,i=0,r=void 0){this.done=e,this.undone=n,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new Zr(this.done,this.undone):this}addChanges(e,n,i,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||aW.test(i))&&(!a.selectionsAfter.length&&n-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,nW(a.changes,e.changes))||i=="input.type.compose")?o=Cd(o,o.length-1,r.minDepth,new Si(e.changes.compose(a.changes),cE(lt.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Zi)):o=Cd(o,o.length,r.minDepth,e),new Zr(o,Zi,n,i)}addSelection(e,n,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Zi;return s.length>0&&n-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&iW(s[s.length-1],e)?this:new Zr(uE(this.done,e),this.undone,n,i)}addMapping(e){return new Zr(Sg(this.done,e),Sg(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],o=s.selectionsAfter[0]||n.selection;if(i&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:cb.of({side:e,rest:sW(r),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=r.length==1?Zi:r.slice(0,r.length-1);return s.mapped&&(a=Sg(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:cb.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Zr.empty=new Zr(Zi,Zi);const lW=[{key:"Mod-z",run:lE,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ub,preventDefault:!0},{linux:"Ctrl-Shift-z",run:ub,preventDefault:!0},{key:"Mod-u",run:eW,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:tW,preventDefault:!0}];function dc(t,e){return pe.create(t.ranges.map(e),t.mainIndex)}function fs(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Rr({state:t,dispatch:e},n){let i=dc(t.selection,n);return i.eq(t.selection,!0)?!1:(e(fs(t,i)),!0)}function Ip(t,e){return pe.cursor(e?t.to:t.from)}function fE(t,e){return Rr(t,n=>n.empty?t.moveByChar(n,e):Ip(n,e))}function Jn(t){return t.textDirectionAt(t.state.selection.main.head)==en.LTR}const hE=t=>fE(t,!Jn(t)),dE=t=>fE(t,Jn(t));function pE(t,e){return Rr(t,n=>n.empty?t.moveByGroup(n,e):Ip(n,e))}const cW=t=>pE(t,!Jn(t)),uW=t=>pE(t,Jn(t));function fW(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Fp(t,e,n){let i=kn(t).resolveInner(e.head),r=n?pt.closedBy:pt.openedBy;for(let l=e.head;;){let c=n?i.childAfter(l):i.childBefore(l);if(!c)break;fW(t,c,r)?i=c:l=n?c.to:c.from}let s=i.type.prop(r),o,a;return s&&(o=n?Jr(t,i.from,1):Jr(t,i.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?i.to:i.from,pe.cursor(a,n?-1:1)}const hW=t=>Rr(t,e=>Fp(t.state,e,!Jn(t))),dW=t=>Rr(t,e=>Fp(t.state,e,Jn(t)));function mE(t,e){return Rr(t,n=>{if(!n.empty)return Ip(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)})}const gE=t=>mE(t,!1),vE=t=>mE(t,!0);function bE(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,i=0,r;if(e){for(let s of t.state.facet(Me.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}r=t.scrollDOM.clientHeight-n-i}else r=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:e,height:Math.max(t.defaultLineHeight,r-5)}}function yE(t,e){let n=bE(t),{state:i}=t,r=dc(i.selection,o=>o.empty?t.moveVertically(o,e,n.height):Ip(o,e));if(r.eq(i.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(i.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(s=Me.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(fs(i,r),{effects:s}),!0}const Rw=t=>yE(t,!1),fb=t=>yE(t,!0);function Bo(t,e,n){let i=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let s=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=pe.cursor(i.from+s))}return r}const pW=t=>Rr(t,e=>Bo(t,e,!0)),mW=t=>Rr(t,e=>Bo(t,e,!1)),gW=t=>Rr(t,e=>Bo(t,e,!Jn(t))),vW=t=>Rr(t,e=>Bo(t,e,Jn(t))),bW=t=>Rr(t,e=>pe.cursor(t.lineBlockAt(e.head).from,1)),yW=t=>Rr(t,e=>pe.cursor(t.lineBlockAt(e.head).to,-1));function OW(t,e,n){let i=!1,r=dc(t.selection,s=>{let o=Jr(t,s.head,-1)||Jr(t,s.head,1)||s.head>0&&Jr(t,s.head-1,1)||s.head<t.doc.length&&Jr(t,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return pe.cursor(a)});return i?(e(fs(t,r)),!0):!1}const xW=({state:t,dispatch:e})=>OW(t,e);function fr(t,e){let n=dc(t.state.selection,i=>{let r=e(i);return pe.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(fs(t.state,n)),!0)}function OE(t,e){return fr(t,n=>t.moveByChar(n,e))}const xE=t=>OE(t,!Jn(t)),wE=t=>OE(t,Jn(t));function _E(t,e){return fr(t,n=>t.moveByGroup(n,e))}const wW=t=>_E(t,!Jn(t)),_W=t=>_E(t,Jn(t)),SW=t=>fr(t,e=>Fp(t.state,e,!Jn(t))),CW=t=>fr(t,e=>Fp(t.state,e,Jn(t)));function SE(t,e){return fr(t,n=>t.moveVertically(n,e))}const CE=t=>SE(t,!1),TE=t=>SE(t,!0);function AE(t,e){return fr(t,n=>t.moveVertically(n,e,bE(t).height))}const $w=t=>AE(t,!1),Pw=t=>AE(t,!0),TW=t=>fr(t,e=>Bo(t,e,!0)),AW=t=>fr(t,e=>Bo(t,e,!1)),kW=t=>fr(t,e=>Bo(t,e,!Jn(t))),EW=t=>fr(t,e=>Bo(t,e,Jn(t))),DW=t=>fr(t,e=>pe.cursor(t.lineBlockAt(e.head).from)),RW=t=>fr(t,e=>pe.cursor(t.lineBlockAt(e.head).to)),Mw=({state:t,dispatch:e})=>(e(fs(t,{anchor:0})),!0),Lw=({state:t,dispatch:e})=>(e(fs(t,{anchor:t.doc.length})),!0),Nw=({state:t,dispatch:e})=>(e(fs(t,{anchor:t.selection.main.anchor,head:0})),!0),Iw=({state:t,dispatch:e})=>(e(fs(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),$W=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),PW=({state:t,dispatch:e})=>{let n=Bp(t).map(({from:i,to:r})=>pe.range(i,Math.min(r+1,t.doc.length)));return e(t.update({selection:pe.create(n),userEvent:"select"})),!0},MW=({state:t,dispatch:e})=>{let n=dc(t.selection,i=>{let r=kn(t),s=r.resolveStack(i.from,1);if(i.empty){let o=r.resolveStack(i.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&o.next)return pe.range(a.to,a.from)}return i});return n.eq(t.selection)?!1:(e(fs(t,n)),!0)},LW=({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=pe.create([n.main]):n.main.empty||(i=pe.create([pe.cursor(n.main.head)])),i?(e(fs(t,i)),!0):!1};function yf(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,r=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=fh(t,l,!1)):l>o&&(n="delete.forward",l=fh(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=fh(t,o,!1),a=fh(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:pe.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(t.dispatch(i.update(r,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Me.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function fh(t,e,n){if(t instanceof Me)for(let i of t.state.facet(Me.atomicRanges).map(r=>r(t)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=n?s:r)});return e}const kE=(t,e,n)=>yf(t,i=>{let r=i.from,{state:s}=t,o=s.doc.lineAt(r),a,l;if(n&&!e&&r>o.from&&r<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,r-o.from))){if(a[a.length-1]=="	")return r-1;let c=hc(a,s.tabSize),u=c%wd(s)||wd(s);for(let f=0;f<u&&a[a.length-1-f]==" ";f++)r--;l=r}else l=In(o.text,r-o.from,e,e)+o.from,l==r&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,r-o.from))&&(l=In(o.text,l-o.from,!1,!1)+o.from);return l}),hb=t=>kE(t,!1,!0),EE=t=>kE(t,!0,!1),DE=(t,e)=>yf(t,n=>{let i=n.head,{state:r}=t,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==n.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=In(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||i!=n.head)&&(a=u),i=l}return i}),RE=t=>DE(t,!1),NW=t=>DE(t,!0),IW=t=>yf(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),FW=t=>yf(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),BW=t=>yf(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),HW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:At.of(["",""])},range:pe.cursor(i.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},jW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>{if(!i.empty||i.from==0||i.from==t.doc.length)return{range:i};let r=i.from,s=t.doc.lineAt(r),o=r==s.from?r-1:In(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:In(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(r,a).append(t.doc.slice(o,r))},range:pe.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Bp(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=t.doc.lineAt(i.to-1)),n>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function $E(t,e,n){if(t.readOnly)return!1;let i=[],r=[];for(let s of Bp(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)r.push(pe.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)r.push(pe.range(l.anchor-a,l.head-a))}}return i.length?(e(t.update({changes:i,scrollIntoView:!0,selection:pe.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const VW=({state:t,dispatch:e})=>$E(t,e,!1),QW=({state:t,dispatch:e})=>$E(t,e,!0);function PE(t,e,n){if(t.readOnly)return!1;let i=[];for(let r of Bp(t))n?i.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):i.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const zW=({state:t,dispatch:e})=>PE(t,e,!1),WW=({state:t,dispatch:e})=>PE(t,e,!0),qW=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Bp(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=dc(e.selection,r=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(r.head),a=t.coordsAtPos(r.head,r.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(r,!0,s)}).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function UW(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=kn(t).resolveInner(e),i=n.childBefore(e),r=n.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(pt.closedBy))&&s.indexOf(r.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(r.from).from&&!/\S/.test(t.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const Fw=ME(!1),XW=ME(!0);function ME(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!t&&s==o&&UW(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Mp(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=Gy(c,s);for(u==null&&(u=hc(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",$u(e,u)];return l&&f.push($u(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:At.of(f)},range:pe.cursor(s+1+f[1].length)}});return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function n0(t,e){let n=-1;return t.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=t.doc.lineAt(o);a.number>n&&(i.empty||i.to>a.from)&&(e(a,r,i),n=a.number),o=a.to+1}let s=t.changes(r);return{changes:r,range:pe.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const YW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new Mp(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),r=n0(t,(s,o,a)=>{let l=Gy(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=$u(t,l);(c!=u||a.from<s.from+c.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0},GW=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(n0(t,(n,i)=>{i.push({from:n.from,insert:t.facet(Pp)})}),{userEvent:"input.indent"})),!0),KW=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(n0(t,(n,i)=>{let r=/^\s*/.exec(n.text)[0];if(!r)return;let s=hc(r,t.tabSize),o=0,a=$u(t,Math.max(0,s-wd(t)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:n.from+o,to:n.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),JW=t=>(t.setTabFocusMode(),!0),ZW=[{key:"Ctrl-b",run:hE,shift:xE,preventDefault:!0},{key:"Ctrl-f",run:dE,shift:wE},{key:"Ctrl-p",run:gE,shift:CE},{key:"Ctrl-n",run:vE,shift:TE},{key:"Ctrl-a",run:bW,shift:DW},{key:"Ctrl-e",run:yW,shift:RW},{key:"Ctrl-d",run:EE},{key:"Ctrl-h",run:hb},{key:"Ctrl-k",run:IW},{key:"Ctrl-Alt-h",run:RE},{key:"Ctrl-o",run:HW},{key:"Ctrl-t",run:jW},{key:"Ctrl-v",run:fb}],eq=[{key:"ArrowLeft",run:hE,shift:xE,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cW,shift:wW,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:gW,shift:kW,preventDefault:!0},{key:"ArrowRight",run:dE,shift:wE,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:uW,shift:_W,preventDefault:!0},{mac:"Cmd-ArrowRight",run:vW,shift:EW,preventDefault:!0},{key:"ArrowUp",run:gE,shift:CE,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Mw,shift:Nw},{mac:"Ctrl-ArrowUp",run:Rw,shift:$w},{key:"ArrowDown",run:vE,shift:TE,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Lw,shift:Iw},{mac:"Ctrl-ArrowDown",run:fb,shift:Pw},{key:"PageUp",run:Rw,shift:$w},{key:"PageDown",run:fb,shift:Pw},{key:"Home",run:mW,shift:AW,preventDefault:!0},{key:"Mod-Home",run:Mw,shift:Nw},{key:"End",run:pW,shift:TW,preventDefault:!0},{key:"Mod-End",run:Lw,shift:Iw},{key:"Enter",run:Fw,shift:Fw},{key:"Mod-a",run:$W},{key:"Backspace",run:hb,shift:hb},{key:"Delete",run:EE},{key:"Mod-Backspace",mac:"Alt-Backspace",run:RE},{key:"Mod-Delete",mac:"Alt-Delete",run:NW},{mac:"Mod-Backspace",run:FW},{mac:"Mod-Delete",run:BW}].concat(ZW.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),tq=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:hW,shift:SW},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:dW,shift:CW},{key:"Alt-ArrowUp",run:VW},{key:"Shift-Alt-ArrowUp",run:zW},{key:"Alt-ArrowDown",run:QW},{key:"Shift-Alt-ArrowDown",run:WW},{key:"Escape",run:LW},{key:"Mod-Enter",run:XW},{key:"Alt-l",mac:"Ctrl-l",run:PW},{key:"Mod-i",run:MW,preventDefault:!0},{key:"Mod-[",run:KW},{key:"Mod-]",run:GW},{key:"Mod-Alt-\\",run:YW},{key:"Shift-Mod-k",run:qW},{key:"Shift-Mod-\\",run:xW},{key:"Mod-/",run:zz},{key:"Alt-A",run:qz},{key:"Ctrl-m",mac:"Shift-Alt-m",run:JW}].concat(eq);function Xt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];typeof r=="string"?t.setAttribute(i,r):r!=null&&(t[i]=r)}e++}for(;e<arguments.length;e++)LE(t,arguments[e]);return t}function LE(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)LE(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const Bw=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Yl{constructor(e,n,i=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?a=>s(Bw(a)):Bw,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Oi(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=Dy(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Yr(e);let r=this.normalize(n);if(r.length)for(let s=0,o=i;;s++){let a=r.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==r.length-1){if(l)return this.value=l,this;break}o==i&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,i){let r=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[s+1],to:i}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:i}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(Yl.prototype[Symbol.iterator]=function(){return this});const NE={from:-1,to:-1,match:/.*/.exec("")},i0="gm"+(/x/.unicode==null?"":"u");class IE{constructor(e,n,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=NE,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new FE(e,n,i,r,s);this.re=new RegExp(n,i0+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=Td(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let i=this.curLineStart+n.index,r=i+n[0].length;if(this.matchPos=Td(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Cg=new WeakMap;class _l{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,i){let r=Cg.get(e);if(!r||r.from>=i||r.to<=n){let a=new _l(n,e.sliceString(n,i));return Cg.set(e,a),a}if(r.from==n&&r.to==i)return r;let{text:s,from:o}=r;return o>n&&(s=e.sliceString(n,o)+s,o=n),r.to<i&&(s+=e.sliceString(r.to,i)),Cg.set(e,new _l(o,s)),new _l(n,s.slice(n-o,i-o))}}class FE{constructor(e,n,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=NE,this.matchPos=Td(e,r),this.re=new RegExp(n,i0+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=_l.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let i=this.flat.from+n.index,r=i+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this.matchPos=Td(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=_l.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(IE.prototype[Symbol.iterator]=FE.prototype[Symbol.iterator]=function(){return this});function nq(t){try{return new RegExp(t,i0),!0}catch{return!1}}function Td(t,e){if(e>=t.length)return e;let n=t.lineAt(e),i;for(;e<n.to&&(i=n.text.charCodeAt(e-n.from))>=56320&&i<57344;)e++;return e}function db(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=Xt("input",{class:"cm-textfield",name:"line",value:e}),i=Xt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:Ad.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),r())},onsubmit:s=>{s.preventDefault(),r()}},Xt("label",t.state.phrase("Go to line"),": ",n)," ",Xt("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,f]=s,d=u?+u.slice(1):0,m=c?+c:a.number;if(c&&f){let O=m/100;l&&(O=O*(l=="-"?-1:1)+a.number/o.doc.lines),m=Math.round(o.doc.lines*O)}else c&&l&&(m=m*(l=="-"?-1:1)+a.number);let g=o.doc.line(Math.max(1,Math.min(o.doc.lines,m))),y=pe.cursor(g.from+Math.max(0,Math.min(d,g.length)));t.dispatch({effects:[Ad.of(!1),Me.scrollIntoView(y.from,{y:"center"})],selection:y}),t.focus()}return{dom:i}}const Ad=lt.define(),Hw=En.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Ad)&&(t=n.value);return t},provide:t=>Du.from(t,e=>e?db:null)}),iq=t=>{let e=Eu(t,db);if(!e){let n=[Ad.of(!0)];t.state.field(Hw,!1)==null&&n.push(lt.appendConfig.of([Hw,rq])),t.dispatch({effects:n}),e=Eu(t,db)}return e&&e.dom.querySelector("input").select(),!0},rq=Me.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),sq={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},oq=Be.define({combine(t){return us(t,sq,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function aq(t){return[hq,fq]}const lq=Ke.mark({class:"cm-selectionMatch"}),cq=Ke.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function jw(t,e,n,i){return(n==0||t(e.sliceDoc(n-1,n))!=nn.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=nn.Word)}function uq(t,e,n,i){return t(e.sliceDoc(n,n+1))==nn.Word&&t(e.sliceDoc(i-1,i))==nn.Word}const fq=an.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(oq),{state:n}=t,i=n.selection;if(i.ranges.length>1)return Ke.none;let r=i.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return Ke.none;let l=n.wordAt(r.head);if(!l)return Ke.none;o=n.charCategorizer(r.head),s=n.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return Ke.none;if(e.wholeWords){if(s=n.sliceDoc(r.from,r.to),o=n.charCategorizer(r.head),!(jw(o,n,r.from,r.to)&&uq(o,n,r.from,r.to)))return Ke.none}else if(s=n.sliceDoc(r.from,r.to),!s)return Ke.none}let a=[];for(let l of t.visibleRanges){let c=new Yl(n.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!o||jw(o,n,u,f))&&(r.empty&&u<=r.from&&f>=r.to?a.push(cq.range(u,f)):(u>=r.to||f<=r.from)&&a.push(lq.range(u,f)),a.length>e.maxMatches))return Ke.none}}return Ke.set(a)}},{decorations:t=>t.decorations}),hq=Me.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),dq=({state:t,dispatch:e})=>{let{selection:n}=t,i=pe.create(n.ranges.map(r=>t.wordAt(r.head)||pe.cursor(r.head)),n.mainIndex);return i.eq(n)?!1:(e(t.update({selection:i})),!0)};function pq(t,e){let{main:n,ranges:i}=t.selection,r=t.wordAt(n.head),s=r&&r.from==n.from&&r.to==n.to;for(let o=!1,a=new Yl(t.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Yl(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const mq=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return dq({state:t,dispatch:e});let i=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=i))return!1;let r=pq(t,i);return r?(e(t.update({selection:t.selection.addRange(pe.range(r.from,r.to),!1),effects:Me.scrollIntoView(r.to)})),!0):!1},pc=Be.define({combine(t){return us(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Aq(e),scrollToMatch:e=>Me.scrollIntoView(e)})}});class BE{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||nq(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new yq(this):new vq(this)}getCursor(e,n=0,i){let r=e.doc?e:Tt.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?rl(this,r,n,i):il(this,r,n,i)}}class HE{constructor(e){this.spec=e}}function il(t,e,n,i){return new Yl(e.doc,t.unquoted,n,i,t.caseSensitive?void 0:r=>r.toLowerCase(),t.wholeWord?gq(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function gq(t,e){return(n,i,r,s)=>((s>n||s+r.length<i)&&(s=Math.max(0,n-2),r=t.sliceString(s,Math.min(t.length,i+2))),(e(kd(r,n-s))!=nn.Word||e(Ed(r,n-s))!=nn.Word)&&(e(Ed(r,i-s))!=nn.Word||e(kd(r,i-s))!=nn.Word))}class vq extends HE{constructor(e){super(e)}nextMatch(e,n,i){let r=il(this.spec,e,i,e.doc.length).nextOverlapping();if(r.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);r=il(this.spec,e,0,s).nextOverlapping()}return r.done||r.value.from==n&&r.value.to==i?null:r.value}prevMatchInRange(e,n,i){for(let r=i;;){let s=Math.max(n,r-1e4-this.spec.unquoted.length),o=il(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;r-=1e4}}prevMatch(e,n,i){let r=this.prevMatchInRange(e,0,n);return r||(r=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),r&&(r.from!=n||r.to!=i)?r:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let i=il(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=il(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function rl(t,e,n,i){return new IE(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?bq(e.charCategorizer(e.selection.main.head)):void 0},n,i)}function kd(t,e){return t.slice(In(t,e,!1),e)}function Ed(t,e){return t.slice(e,In(t,e))}function bq(t){return(e,n,i)=>!i[0].length||(t(kd(i.input,i.index))!=nn.Word||t(Ed(i.input,i.index))!=nn.Word)&&(t(Ed(i.input,i.index+i[0].length))!=nn.Word||t(kd(i.input,i.index+i[0].length))!=nn.Word)}class yq extends HE{nextMatch(e,n,i){let r=rl(this.spec,e,i,e.doc.length).next();return r.done&&(r=rl(this.spec,e,0,n).next()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=1;;r++){let s=Math.max(n,i-r*1e4),o=rl(this.spec,e,s,i),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let r=i.length;r>0;r--){let s=+i.slice(0,r);if(s>0&&s<e.match.length)return e.match[s]+i.slice(r)}return n})}matchAll(e,n){let i=rl(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=rl(this.spec,e,Math.max(0,n-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Pu=lt.define(),r0=lt.define(),bo=En.define({create(t){return new Tg(pb(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Pu)?t=new Tg(n.value.create(),t.panel):n.is(r0)&&(t=new Tg(t.query,n.value?s0:null));return t},provide:t=>Du.from(t,e=>e.panel)});class Tg{constructor(e,n){this.query=e,this.panel=n}}const Oq=Ke.mark({class:"cm-searchMatch"}),xq=Ke.mark({class:"cm-searchMatch cm-searchMatch-selected"}),wq=an.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(bo))}update(t){let e=t.state.field(bo);(e!=t.startState.field(bo)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Ke.none;let{view:n}=this,i=new Ms;for(let r=0,s=n.visibleRanges,o=s.length;r<o;r++){let{from:a,to:l}=s[r];for(;r<o-1&&l>s[r+1].from-2*250;)l=s[++r].to;t.highlight(n.state,a,l,(c,u)=>{let f=n.state.selection.ranges.some(d=>d.from==c&&d.to==u);i.add(c,u,f?xq:Oq)})}return i.finish()}},{decorations:t=>t.decorations});function Of(t){return e=>{let n=e.state.field(bo,!1);return n&&n.query.spec.valid?t(e,n):QE(e)}}const Dd=Of((t,{query:e})=>{let{to:n}=t.state.selection.main,i=e.nextMatch(t.state,n,n);if(!i)return!1;let r=pe.single(i.from,i.to),s=t.state.facet(pc);return t.dispatch({selection:r,effects:[o0(t,i),s.scrollToMatch(r.main,t)],userEvent:"select.search"}),VE(t),!0}),Rd=Of((t,{query:e})=>{let{state:n}=t,{from:i}=n.selection.main,r=e.prevMatch(n,i,i);if(!r)return!1;let s=pe.single(r.from,r.to),o=t.state.facet(pc);return t.dispatch({selection:s,effects:[o0(t,r),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),VE(t),!0}),_q=Of((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:pe.create(n.map(i=>pe.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),Sq=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:r}=n.main,s=[],o=0;for(let a=new Yl(t.doc,t.sliceDoc(i,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==i&&(o=s.length),s.push(pe.range(a.value.from,a.value.to))}return e(t.update({selection:pe.create(s,o),userEvent:"select.search.matches"})),!0},Vw=Of((t,{query:e})=>{let{state:n}=t,{from:i,to:r}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,i,i);if(!s)return!1;let o=s,a=[],l,c,u=[];if(o.from==i&&o.to==r&&(c=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(n,o.from,o.to),u.push(Me.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(i).number)+"."))),o){let f=a.length==0||a[0].from>=s.to?0:s.to-s.from-c.length;l=pe.single(o.from-f,o.to-f),u.push(o0(t,o)),u.push(n.facet(pc).scrollToMatch(l.main,t))}return t.dispatch({changes:a,selection:l,effects:u,userEvent:"input.replace"}),!0}),Cq=Of((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!n.length)return!1;let i=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Me.announce.of(i),userEvent:"input.replace.all"}),!0});function s0(t){return t.state.facet(pc).createPanel(t)}function pb(t,e){var n,i,r,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(pc);return new BE({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:c.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function jE(t){let e=Eu(t,s0);return e&&e.dom.querySelector("[main-field]")}function VE(t){let e=jE(t);e&&e==t.root.activeElement&&e.select()}const QE=t=>{let e=t.state.field(bo,!1);if(e&&e.panel){let n=jE(t);if(n&&n!=t.root.activeElement){let i=pb(t.state,e.query.spec);i.valid&&t.dispatch({effects:Pu.of(i)}),n.focus(),n.select()}}else t.dispatch({effects:[r0.of(!0),e?Pu.of(pb(t.state,e.query.spec)):lt.appendConfig.of(Eq)]});return!0},zE=t=>{let e=t.state.field(bo,!1);if(!e||!e.panel)return!1;let n=Eu(t,s0);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:r0.of(!1)}),!0},Tq=[{key:"Mod-f",run:QE,scope:"editor search-panel"},{key:"F3",run:Dd,shift:Rd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Dd,shift:Rd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:zE,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Sq},{key:"Mod-Alt-g",run:iq},{key:"Mod-d",run:mq,preventDefault:!0}];class Aq{constructor(e){this.view=e;let n=this.query=e.state.field(bo).query.spec;this.commit=this.commit.bind(this),this.searchField=Xt("input",{value:n.search,placeholder:Di(e,"Find"),"aria-label":Di(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Xt("input",{value:n.replace,placeholder:Di(e,"Replace"),"aria-label":Di(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Xt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Xt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Xt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function i(r,s,o){return Xt("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=Xt("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>Dd(e),[Di(e,"next")]),i("prev",()=>Rd(e),[Di(e,"previous")]),i("select",()=>_q(e),[Di(e,"all")]),Xt("label",null,[this.caseField,Di(e,"match case")]),Xt("label",null,[this.reField,Di(e,"regexp")]),Xt("label",null,[this.wordField,Di(e,"by word")]),...e.state.readOnly?[]:[Xt("br"),this.replaceField,i("replace",()=>Vw(e),[Di(e,"replace")]),i("replaceAll",()=>Cq(e),[Di(e,"replace all")])],Xt("button",{name:"close",onclick:()=>zE(e),"aria-label":Di(e,"close"),type:"button"},["×"])])}commit(){let e=new BE({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Pu.of(e)}))}keydown(e){BQ(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Rd:Dd)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Vw(this.view))}update(e){for(let n of e.transactions)for(let i of n.effects)i.is(Pu)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(pc).top}}function Di(t,e){return t.state.phrase(e)}const hh=30,dh=/[\s\.,:;?!]/;function o0(t,{from:e,to:n}){let i=t.state.doc.lineAt(e),r=t.state.doc.lineAt(n).to,s=Math.max(i.from,e-hh),o=Math.min(r,n+hh),a=t.state.sliceDoc(s,o);if(s!=i.from){for(let l=0;l<hh;l++)if(!dh.test(a[l+1])&&dh.test(a[l])){a=a.slice(l);break}}if(o!=r){for(let l=a.length-1;l>a.length-hh;l--)if(!dh.test(a[l-1])&&dh.test(a[l])){a=a.slice(0,l);break}}return Me.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${i.number}.`)}const kq=Me.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Eq=[bo,Fo.low(wq),kq];class WE{constructor(e,n,i,r){this.state=e,this.pos=n,this.explicit=i,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=kn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),r=n.text.slice(i-n.from,this.pos-n.from),s=r.search(qE(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function Qw(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Dq(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let s=1;s<r.length;s++)n[r[s]]=!0}let i=Qw(e)+Qw(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function Rq(t){let e=t.map(r=>typeof r=="string"?{label:r}:r),[n,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:Dq(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:n}:null}}let zw=class{constructor(e,n,i,r){this.completion=e,this.source=n,this.match=i,this.score=r}};function ma(t){return t.selection.main.from}function qE(t,e){var n;let{source:i}=t,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?t:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const a0=Vs.define();function $q(t,e,n,i){let{main:r}=t.selection,s=n-r.from,o=i-r.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=r&&n!=i&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,i))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:i==r.from?a.to:a.from+o,insert:l},range:pe.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Ww=new WeakMap;function Pq(t){if(!Array.isArray(t))return t;let e=Ww.get(t);return e||Ww.set(t,e=Rq(t)),e}const $d=lt.define(),Mu=lt.define();class Mq{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let i=Oi(e,n),r=Yr(i);this.chars.push(i);let s=e.slice(n,n+r),o=s.toUpperCase();this.folded.push(Oi(o==s?s.toLowerCase():o,0)),n+=r}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:i,any:r,precise:s,byWord:o}=this;if(n.length==1){let A=Oi(e,0),R=Yr(A),T=R==e.length?0:-100;if(A!=n[0])if(A==i[0])T+=-200;else return null;return this.ret(T,[0,R])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let A=0,R=Math.min(e.length,200);A<R&&c<l;){let T=Oi(e,A);(T==n[c]||T==i[c])&&(r[c++]=A),A+=Yr(T)}if(c<l)return null}let u=0,f=0,d=!1,m=0,g=-1,y=-1,O=/[a-z]/.test(e),_=!0;for(let A=0,R=Math.min(e.length,200),T=0;A<R&&f<l;){let N=Oi(e,A);a<0&&(u<l&&N==n[u]&&(s[u++]=A),m<l&&(N==n[m]||N==i[m]?(m==0&&(g=A),y=A+1,m++):m=0));let I,v=N<255?N>=48&&N<=57||N>=97&&N<=122?2:N>=65&&N<=90?1:0:(I=Dy(N))!=I.toLowerCase()?1:I!=I.toUpperCase()?2:0;(!A||v==1&&O||T==0&&v!=0)&&(n[f]==N||i[f]==N&&(d=!0)?o[f++]=A:o.length&&(_=!1)),T=v,A+=Yr(N)}return f==l&&o[0]==0&&_?this.result(-100+(d?-200:0),o,e):m==l&&g==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[g,y]):f==l?this.result(-100+(d?-200:0)+-700+(_?0:-1100),o,e):n.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,n,i){let r=[],s=0;for(let o of n){let a=o+(this.astral?Yr(Oi(i,o)):1);s&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return this.ret(e-i.length,r)}}class Lq{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),i=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,n.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const An=Be.define({combine(t){return us(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Nq,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>i=>qw(e(i),n(i)),optionClass:(e,n)=>i=>qw(e(i),n(i)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function qw(t,e){return t?e?t+" "+e:t:e}function Nq(t,e,n,i,r,s){let o=t.textDirection==en.RTL,a=o,l=!1,c="top",u,f,d=e.left-r.left,m=r.right-e.right,g=i.right-i.left,y=i.bottom-i.top;if(a&&d<Math.min(g,m)?a=!1:!a&&m<Math.min(g,d)&&(a=!0),g<=(a?d:m))u=Math.max(r.top,Math.min(n.top,r.bottom-y))-e.top,f=Math.min(400,a?d:m);else{l=!0,f=Math.min(400,(o?e.right:r.right-e.left)-30);let A=r.bottom-e.bottom;A>=y||A>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let O=(e.bottom-e.top)/s.offsetHeight,_=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/O}px; max-width: ${f/_}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function Iq(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),n.type&&i.classList.add(...n.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(n,i,r,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<s.length;){let u=s[c++],f=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(u,f))),d.className="cm-completionMatchedText",l=f}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=n.detail,i},position:80}),e.sort((n,i)=>n.position-i.position).map(n=>n.render)}function Ag(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class Fq{constructor(e,n,i){this.view=e,this.stateField=n,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:s,selected:o}=r.open,a=e.state.facet(An);this.optionContent=Iq(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Ag(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,f;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(f=/-(\d+)$/.exec(u.id))&&+f[1]<c.length){this.applyCompletion(e,c[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(An).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Mu.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:o,disabled:a}=i.open;(!r.open||r.open.options!=s)&&(this.range=Ag(s.length,o,e.state.facet(An).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),a!=((n=r.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of n.split(" "))i&&this.dom.classList.add(i);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Ag(n.options.length,n.selected,this.view.state.facet(An).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>fi(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,n){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),n=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return n&&Hq(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return r.top>Math.min(s.bottom,n.bottom)-10||r.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(An).positionInfo(this.view,n,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,i){const r=document.createElement("ul");r.id=n,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",o=>{o.target==r&&o.preventDefault()});let s=null;for(let o=i.from;o<i.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let d=typeof c=="string"?c:c.name;if(d!=s&&(o>i.from||i.from==0))if(s=d,typeof c!="string"&&c.header)r.appendChild(c.header(c));else{let m=r.appendChild(document.createElement("completion-section"));m.textContent=d}}const u=r.appendChild(document.createElement("li"));u.id=n+"-"+o,u.setAttribute("role","option");let f=this.optionClass(a);f&&(u.className=f);for(let d of this.optionContent){let m=d(a,this.view.state,this.view,l);m&&u.appendChild(m)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Bq(t,e){return n=>new Fq(n,t,e)}function Hq(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.height/t.offsetHeight;i.top<n.top?t.scrollTop-=(n.top-i.top)/r:i.bottom>n.bottom&&(t.scrollTop+=(i.bottom-n.bottom)/r)}function Uw(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function jq(t,e){let n=[],i=null,r=c=>{n.push(c);let{section:u}=c.completion;if(u){i||(i=[]);let f=typeof u=="string"?u:u.name;i.some(d=>d.name==f)||i.push(typeof u=="string"?{name:f}:u)}},s=e.facet(An);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let f of c.result.options)r(new zw(f,c.source,u?u(f):[],1e9-n.length));else{let f=e.sliceDoc(c.from,c.to),d,m=s.filterStrict?new Lq(f):new Mq(f);for(let g of c.result.options)if(d=m.match(g.label)){let y=g.displayLabel?u?u(g,d.matched):[]:d.matched;r(new zw(g,c.source,y,d.score+(g.boost||0)))}}}if(i){let c=Object.create(null),u=0,f=(d,m)=>{var g,y;return((g=d.rank)!==null&&g!==void 0?g:1e9)-((y=m.rank)!==null&&y!==void 0?y:1e9)||(d.name<m.name?-1:1)};for(let d of i.sort(f))u-=1e5,c[d.name]=u;for(let d of n){let{section:m}=d.completion;m&&(d.score+=c[typeof m=="string"?m:m.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of n.sort((u,f)=>f.score-u.score||l(u.completion,f.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):Uw(c.completion)>Uw(a)&&(o[o.length-1]=c),a=c.completion}return o}class fl{constructor(e,n,i,r,s,o){this.options=e,this.attrs=n,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new fl(this.options,Xw(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,i,r,s,o){if(r&&!o&&e.some(c=>c.isPending))return r.setDisabled();let a=jq(e,n);if(!a.length)return r&&e.some(c=>c.isPending)?r.setDisabled():null;let l=n.facet(An).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let c=r.options[r.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new fl(a,Xw(i,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:Uq,above:s.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(e){return new fl(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new fl(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Pd{constructor(e,n,i){this.active=e,this.id=n,this.open=i}static start(){return new Pd(Wq,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,i=n.facet(An),s=(i.override||n.languageDataAt("autocomplete",ma(n)).map(Pq)).map(l=>(this.active.find(u=>u.source==l)||new er(l,this.active.some(u=>u.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(l0));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Vq(s,this.active)||a?o=fl.build(s,n,this.id,o,i,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new er(l.source,0):l));for(let l of e.effects)l.is(XE)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new Pd(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Qq:zq}}function Vq(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;i<e.length&&!e[i].hasResult();)i++;let r=n==t.length,s=i==e.length;if(r||s)return r==s;if(t[n++].result!=e[i++].result)return!1}}const Qq={"aria-autocomplete":"list"},zq={};function Xw(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Wq=[];function UE(t,e){if(t.isUserEvent("input.complete")){let i=t.annotation(a0);if(i&&e.activateOnCompletion(i))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class er{constructor(e,n,i=!1){this.source=e,this.state=n,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let i=UE(e,n),r=this;(i&8||i&16&&this.touches(e))&&(r=new er(r.source,0)),i&4&&r.state==0&&(r=new er(this.source,1)),r=r.updateFor(e,i);for(let s of e.effects)if(s.is($d))r=new er(r.source,1,s.value);else if(s.is(Mu))r=new er(r.source,0);else if(s.is(l0))for(let o of s.value)o.source==r.source&&(r=o);return r}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ma(e.state))}}class Sl extends er{constructor(e,n,i,r,s,o){super(e,3,n),this.limit=i,this.result=r,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var i;if(!(n&3))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=ma(e.state);if(a>o||!r||n&2&&(ma(e.startState)==this.from||a<this.limit))return new er(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return qq(r.validFor,e.state,s,o)?new Sl(this.source,this.explicit,l,r,s,o):r.update&&(r=r.update(r,s,o,new WE(e.state,a,!1)))?new Sl(this.source,this.explicit,l,r,r.from,(i=r.to)!==null&&i!==void 0?i:ma(e.state)):new er(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Sl(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new er(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function qq(t,e,n,i){if(!t)return!1;let r=e.sliceDoc(n,i);return typeof t=="function"?t(r,n,i,e):qE(t,!0).test(r)}const l0=lt.define({map(t,e){return t.map(n=>n.map(e))}}),XE=lt.define(),wi=En.define({create(){return Pd.start()},update(t,e){return t.update(e)},provide:t=>[Wy.from(t,e=>e.tooltip),Me.contentAttributes.from(t,e=>e.attrs)]});function c0(t,e){const n=e.completion.apply||e.completion.label;let i=t.state.field(wi).active.find(r=>r.source==e.source);return i instanceof Sl?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},$q(t.state,n,i.from,i.to)),{annotations:a0.of(e.completion)})):n(t,e.completion,i.from,i.to),!0):!1}const Uq=Bq(wi,c0);function ph(t,e="option"){return n=>{let i=n.state.field(wi,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(An).interactionDelay)return!1;let r=1,s;e=="page"&&(s=Rk(n,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+r*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:XE.of(a)}),!0}}const Xq=t=>{let e=t.state.field(wi,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(An).interactionDelay?!1:c0(t,e.open.options[e.open.selected])},Yw=t=>t.state.field(wi,!1)?(t.dispatch({effects:$d.of(!0)}),!0):!1,Yq=t=>{let e=t.state.field(wi,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Mu.of(null)}),!0)};class Gq{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const Kq=50,Jq=1e3,Zq=an.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(wi).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(wi),n=t.state.facet(An);if(!t.selectionSet&&!t.docChanged&&t.startState.field(wi)==e)return;let i=t.transactions.some(s=>{let o=UE(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(i||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>Kq&&Date.now()-o.time>Jq){for(let a of o.context.abortListeners)try{a()}catch(l){fi(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is($d)))&&(this.pendingStart=!0);let r=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(wi);for(let n of e.active)n.isPending&&!this.running.some(i=>i.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(An).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=ma(e),i=new WE(e,n,t.explicit,this.view),r=new Gq(t,i);this.running.push(r),Promise.resolve(t.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Mu.of(null)}),fi(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(An).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(An),i=this.view.state.field(wi);for(let r=0;r<this.running.length;r++){let s=this.running[r];if(s.done===void 0)continue;if(this.running.splice(r--,1),s.done){let a=ma(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new Sl(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let u of s.updates)c=c.update(u,n);if(c.hasResult()){e.push(c);continue}}let o=i.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new er(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:l0.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(wi,!1);if(e&&e.tooltip&&this.view.state.facet(An).closeOnBlur){let n=e.open&&Rk(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Mu.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:$d.of(!1)}),20),this.composing=0}}}),e8=typeof navigator=="object"&&/Win/.test(navigator.platform),t8=Fo.highest(Me.domEventHandlers({keydown(t,e){let n=e.state.field(wi,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(e8&&t.altKey)||t.metaKey)return!1;let i=n.open.options[n.open.selected],r=n.active.find(o=>o.source==i.source),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&c0(e,i),!1}})),YE=Me.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class n8{constructor(e,n,i,r){this.field=e,this.line=n,this.from=i,this.to=r}}class u0{constructor(e,n,i){this.field=e,this.from=n,this.to=i}map(e){let n=e.mapPos(this.from,-1,Nn.TrackDel),i=e.mapPos(this.to,1,Nn.TrackDel);return n==null||i==null?null:new u0(this.field,n,i)}}class f0{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let i=[],r=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let f=0;f<u;f++)c+=e.facet(Pp);r.push(n+c.length-u),l=c+l.slice(u)}i.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new u0(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let n=[],i=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<n.length;f++)(a!=null?n[f].seq==a:u&&n[f].name==u)&&(c=f);if(c<0){let f=0;for(;f<n.length&&(a==null||n[f].seq!=null&&n[f].seq<a);)f++;n.splice(f,0,{seq:a,name:u}),c=f;for(let d of r)d.field>=c&&d.field++}r.push(new n8(c,i.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of r)u.line==i.length&&u.from>c&&(u.from--,u.to--);return l}),i.push(o)}return new f0(i,r)}}let i8=Ke.widget({widget:new class extends Qs{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),r8=Ke.mark({class:"cm-snippetField"});class mc{constructor(e,n){this.ranges=e,this.active=n,this.deco=Ke.set(e.map(i=>(i.from==i.to?i8:r8).range(i.from,i.to)))}map(e){let n=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;n.push(r)}return new mc(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(i=>i.field==this.active&&i.from<=n.from&&i.to>=n.to))}}const xf=lt.define({map(t,e){return t&&t.map(e)}}),s8=lt.define(),Lu=En.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(xf))return n.value;if(n.is(s8)&&t)return new mc(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Me.decorations.from(t,e=>e?e.deco:Ke.none)});function h0(t,e){return pe.create(t.filter(n=>n.field==e).map(n=>pe.range(n.from,n.to)))}function Xa(t){let e=f0.parse(t);return(n,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,r),{main:l}=n.state.selection,c={changes:{from:r,to:s==l.from?l.to:s,insert:At.of(o)},scrollIntoView:!0,annotations:i?[a0.of(i),hn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=h0(a,0)),a.some(u=>u.field>0)){let u=new mc(a,0),f=c.effects=[xf.of(u)];n.state.field(Lu,!1)===void 0&&f.push(lt.appendConfig.of([Lu,u8,f8,YE]))}n.dispatch(n.state.update(c))}}function GE(t){return({state:e,dispatch:n})=>{let i=e.field(Lu,!1);if(!i||t<0&&i.active==0)return!1;let r=i.active+t,s=t>0&&!i.ranges.some(o=>o.field==r+t);return n(e.update({selection:h0(i.ranges,r),effects:xf.of(s?null:new mc(i.ranges,r)),scrollIntoView:!0})),!0}}const o8=({state:t,dispatch:e})=>t.field(Lu,!1)?(e(t.update({effects:xf.of(null)})),!0):!1,a8=GE(1),l8=GE(-1),c8=[{key:"Tab",run:a8,shift:l8},{key:"Escape",run:o8}],Gw=Be.define({combine(t){return t.length?t[0]:c8}}),u8=Fo.highest(Dp.compute([Gw],t=>t.facet(Gw))),f8=Me.domEventHandlers({mousedown(t,e){let n=e.state.field(Lu,!1),i;if(!n||(i=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let r=n.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==n.active?!1:(e.dispatch({selection:h0(n.ranges,r.field),effects:xf.of(n.ranges.some(s=>s.field>r.field)?new mc(n.ranges,r.field):null),scrollIntoView:!0}),!0)}}),Nu={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},sa=lt.define({map(t,e){let n=e.mapPos(t,-1,Nn.TrackAfter);return n??void 0}}),d0=new class extends Ca{};d0.startSide=1;d0.endSide=-1;const KE=En.define({create(){return $t.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:i=>i>=n.from&&i<=n.to})}for(let n of e.effects)n.is(sa)&&(t=t.update({add:[d0.range(n.value,n.value+1)]}));return t}});function h8(){return[p8,KE]}const kg="()[]{}<>«»»«［］｛｝";function JE(t){for(let e=0;e<kg.length;e+=2)if(kg.charCodeAt(e)==t)return kg.charAt(e+1);return Dy(t<128?t:t+1)}function ZE(t,e){return t.languageDataAt("closeBrackets",e)[0]||Nu}const d8=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),p8=Me.inputHandler.of((t,e,n,i)=>{if((d8?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let r=t.state.selection.main;if(i.length>2||i.length==2&&Yr(Oi(i,0))==1||e!=r.from||n!=r.to)return!1;let s=v8(t.state,i);return s?(t.dispatch(s),!0):!1}),m8=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=ZE(t,t.selection.main.head).brackets||Nu.brackets,r=null,s=t.changeByRange(o=>{if(o.empty){let a=b8(t.doc,o.head);for(let l of i)if(l==a&&Hp(t.doc,o.head)==JE(Oi(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:pe.cursor(o.head-l.length)}}return{range:r=o}});return r||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},g8=[{key:"Backspace",run:m8}];function v8(t,e){let n=ZE(t,t.selection.main.head),i=n.brackets||Nu.brackets;for(let r of i){let s=JE(Oi(r,0));if(e==r)return s==r?x8(t,r,i.indexOf(r+r+r)>-1,n):y8(t,r,s,n.before||Nu.before);if(e==s&&eD(t,t.selection.main.from))return O8(t,r,s)}return null}function eD(t,e){let n=!1;return t.field(KE).between(0,t.doc.length,i=>{i==e&&(n=!0)}),n}function Hp(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Yr(Oi(n,0)))}function b8(t,e){let n=t.sliceString(e-2,e);return Yr(Oi(n,0))==n.length?n:n.slice(1)}function y8(t,e,n,i){let r=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:sa.of(o.to+e.length),range:pe.range(o.anchor+e.length,o.head+e.length)};let a=Hp(t.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:sa.of(o.head+e.length),range:pe.cursor(o.head+e.length)}:{range:r=o}});return r?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function O8(t,e,n){let i=null,r=t.changeByRange(s=>s.empty&&Hp(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:pe.cursor(s.head+n.length)}:i={range:s});return i?null:t.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function x8(t,e,n,i){let r=i.stringPrefixes||Nu.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:sa.of(a.to+e.length),range:pe.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Hp(t.doc,l),u;if(c==e){if(Kw(t,l))return{changes:{insert:e+e,from:l},effects:sa.of(l+e.length),range:pe.cursor(l+e.length)};if(eD(t,l)){let d=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:pe.cursor(l+d.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=Jw(t,l-2*e.length,r))>-1&&Kw(t,u))return{changes:{insert:e+e+e+e,from:l},effects:sa.of(l+e.length),range:pe.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=nn.Word&&Jw(t,l,r)>-1&&!w8(t,l,e,r))return{changes:{insert:e+e,from:l},effects:sa.of(l+e.length),range:pe.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Kw(t,e){let n=kn(t).resolveInner(e+1);return n.parent&&n.from==e}function w8(t,e,n,i){let r=kn(t).resolveInner(e,-1),s=i.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(r.from,Math.min(r.to,r.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&i.indexOf(a.slice(0,l))>-1){let u=r.firstChild;for(;u&&u.from==r.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function Jw(t,e,n){let i=t.charCategorizer(e);if(i(t.sliceDoc(e-1,e))!=nn.Word)return e;for(let r of n){let s=e-r.length;if(t.sliceDoc(s,e)==r&&i(t.sliceDoc(s-1,s))!=nn.Word)return s}return-1}function _8(t={}){return[t8,wi,An.of(t),Zq,S8,YE]}const tD=[{key:"Ctrl-Space",run:Yw},{mac:"Alt-`",run:Yw},{key:"Escape",run:Yq},{key:"ArrowDown",run:ph(!0)},{key:"ArrowUp",run:ph(!1)},{key:"PageDown",run:ph(!0,"page")},{key:"PageUp",run:ph(!1,"page")},{key:"Enter",run:Xq}],S8=Fo.highest(Dp.computeN([An],t=>t.facet(An).defaultKeymap?[tD]:[]));class Zw{constructor(e,n,i){this.from=e,this.to=n,this.diagnostic=i}}class Jo{constructor(e,n,i){this.diagnostics=e,this.panel=n,this.selected=i}static init(e,n,i){let r=e,s=i.facet(es).markerFilter;s&&(r=s(r,i));let o=e.slice().sort((f,d)=>f.from-d.from||f.to-d.to),a=new Ms,l=[],c=0;for(let f=0;;){let d=f==o.length?null:o[f];if(!d&&!l.length)break;let m,g;for(l.length?(m=c,g=l.reduce((O,_)=>Math.min(O,_.to),d&&d.from>m?d.from:1e8)):(m=d.from,g=d.to,l.push(d),f++);f<o.length;){let O=o[f];if(O.from==m&&(O.to>O.from||O.to==m))l.push(O),f++,g=Math.min(O.to,g);else{g=Math.min(O.from,g);break}}let y=H8(l);if(l.some(O=>O.from==O.to||O.from==O.to-1&&i.doc.lineAt(O.from).to==O.from))a.add(m,m,Ke.widget({widget:new N8(y),diagnostics:l.slice()}));else{let O=l.reduce((_,A)=>A.markClass?_+" "+A.markClass:_,"");a.add(m,g,Ke.mark({class:"cm-lintRange cm-lintRange-"+y+O,diagnostics:l.slice(),inclusiveEnd:l.some(_=>_.to>g)}))}c=g;for(let O=0;O<l.length;O++)l[O].to<=c&&l.splice(O--,1)}let u=a.finish();return new Jo(u,n,Gl(u))}}function Gl(t,e=null,n=0){let i=null;return t.between(n,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!i)i=new Zw(r,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new Zw(i.from,s,i.diagnostic)}}),i}function C8(t,e){let n=e.pos,i=e.end||n,r=t.state.facet(es).hideOn(t,n,i);if(r!=null)return r;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(p0))||t.changes.touchesRange(s.from,Math.max(s.to,i)))}function nD(t,e){return t.field(ji,!1)?e:e.concat(lt.appendConfig.of(oD))}function T8(t,e){return{effects:nD(t,[p0.of(e)])}}const p0=lt.define(),m0=lt.define(),iD=lt.define(),ji=En.define({create(){return new Jo(Ke.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),i=null,r=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);i=Gl(n,t.selected.diagnostic,s)||Gl(n,null,s)}!n.size&&r&&e.state.facet(es).autoPanel&&(r=null),t=new Jo(n,r,i)}for(let n of e.effects)if(n.is(p0)){let i=e.state.facet(es).autoPanel?n.value.length?Iu.open:null:t.panel;t=Jo.init(n.value,i,e.state)}else n.is(m0)?t=new Jo(t.diagnostics,n.value?Iu.open:null,t.selected):n.is(iD)&&(t=new Jo(t.diagnostics,t.panel,n.value));return t},provide:t=>[Du.from(t,e=>e.panel),Me.decorations.from(t,e=>e.diagnostics)]}),A8=Ke.mark({class:"cm-lintRange cm-lintRange-active"});function k8(t,e,n){let{diagnostics:i}=t.state.field(ji),r,s=-1,o=-1;i.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0)))return r=u.diagnostics,s=l,o=c,!1});let a=t.state.facet(es).tooltipFilter;return r&&a&&(r=a(r,t.state)),r?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:E8(t,r)}}}:null}function E8(t,e){return Xt("ul",{class:"cm-tooltip-lint"},e.map(n=>sD(t,n,!1)))}const D8=t=>{let e=t.state.field(ji,!1);(!e||!e.panel)&&t.dispatch({effects:nD(t.state,[m0.of(!0)])});let n=Eu(t,Iu.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},e_=t=>{let e=t.state.field(ji,!1);return!e||!e.panel?!1:(t.dispatch({effects:m0.of(!1)}),!0)},R8=t=>{let e=t.state.field(ji,!1);if(!e)return!1;let n=t.state.selection.main,i=e.diagnostics.iter(n.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to)?!1:(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},$8=[{key:"Mod-Shift-m",run:D8,preventDefault:!0},{key:"F8",run:R8}],P8=an.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(es);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(es);n.length&&M8(n.map(i=>Promise.resolve(i(this.view))),i=>{this.view.state.doc==e.doc&&this.view.dispatch(T8(this.view.state,i.reduce((r,s)=>r.concat(s))))},i=>{fi(this.view.state,i)})}}update(t){let e=t.state.facet(es);(t.docChanged||e!=t.startState.facet(es)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function M8(t,e,n){let i=[],r=-1;for(let s of t)s.then(o=>{i.push(o),clearTimeout(r),i.length==t.length?e(i):r=setTimeout(()=>e(i),200)},n)}const es=Be.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},us(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?i=>e(i)||n(i):e:n}))}});function L8(t,e={}){return[es.of({source:t,config:e}),P8,oD]}function rD(t){let e=[];if(t)e:for(let{name:n}of t){for(let i=0;i<n.length;i++){let r=n[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function sD(t,e,n){var i;let r=n?rD(e.actions):[];return Xt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Xt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let m=Gl(t.state.field(ji).diagnostics,e);m&&s.apply(t,m.from,m.to)},{name:c}=s,u=r[o]?c.indexOf(r[o]):-1,f=u<0?c:[c.slice(0,u),Xt("u",c.slice(u,u+1)),c.slice(u+1)];return Xt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${r[o]})"`}.`},f)}),e.source&&Xt("div",{class:"cm-diagnosticSource"},e.source))}class N8 extends Qs{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Xt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class t_{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=sD(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Iu{constructor(e){this.view=e,this.items=[];let n=r=>{if(r.keyCode==27)e_(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=rD(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=Gl(this.view.state.field(ji).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=Xt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:i}),this.dom=Xt("div",{class:"cm-panel-lint"},this.list,Xt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>e_(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(ji).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(ji),i=0,r=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let f=-1,d;for(let m=i;m<this.items.length;m++)if(this.items[m].diagnostic==u){f=m;break}f<0?(d=new t_(this.view,u),this.items.splice(i,0,d),r=!0):(d=this.items[f],f>i&&(this.items.splice(i,f-i),r=!0)),n&&d.diagnostic==n.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),s=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new t_(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function n(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)n();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(ji),i=Gl(n.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:iD.of(i)})}static open(e){return new Iu(e)}}function I8(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function mh(t){return I8(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const F8=Me.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:mh("#d11")},".cm-lintRange-warning":{backgroundImage:mh("orange")},".cm-lintRange-info":{backgroundImage:mh("#999")},".cm-lintRange-hint":{backgroundImage:mh("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function B8(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function H8(t){let e="hint",n=1;for(let i of t){let r=B8(i.severity);r>n&&(n=r,e=i.severity)}return e}const oD=[ji,Me.decorations.compute([ji],t=>{let{selected:e,panel:n}=t.field(ji);return!e||!n||e.from==e.to?Ke.none:Ke.set([A8.range(e.from,e.to)])}),C4(k8,{hideOn:C8}),F8],aD=[N4(),B4(),n4(),Zz(),Tz(),WQ(),GQ(),Tt.allowMultipleSelections.of(!0),dz(),tE(Dz,{fallback:!0}),Iz(),h8(),_8(),p4(),v4(),l4(),aq(),Dp.of([...g8,...tq,...Tq,...lW,...wz,...tD,...$8])];var n_={};let j8=class mb{constructor(e,n,i,r,s,o,a,l,c,u=0,f){this.p=e,this.stack=n,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,i=0){let r=e.parser.context;return new mb(e,[],n,i,i,0,[],0,r?new i_(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let i=e>>19,r=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(r);if(a&&(this.score+=a),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[r])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let f=l?this.stack[l-1]:0,d=this.bufferBase+this.buffer.length-f;if(r<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,c,m,d+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=s.getGoto(m,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,c)}storeNode(e,n,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==i)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,n,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,n,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||n<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(n,i),n<=o.maxNode&&this.buffer.push(n,i,r,4)}}apply(e,n,i,r){e&65536?this.reduce(e):this.shift(e,n,i,r)}useNode(e,n){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(n,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let i=e.buffer.slice(n),r=e.bufferBase+n;for(;e&&r==e.bufferBase;)e=e.parent;return new mb(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,i?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new V8(this);;){let i=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(i==0)return!1;if(!(i&65536))return!0;n.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(n[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<n.length;s+=2){let o=n[s+1];r.some((a,l)=>l&1&&a==o)||r.push(n[s],o)}n=r}let i=[];for(let r=0;r<n.length&&i.length<4;r+=2){let s=n[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[r],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let i=n>>19,r=n&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],i=(r,s)=>{if(!n.includes(r))return n.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new i_(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class i_{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class V8{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=r}}class Md{constructor(e,n,i){this.stack=e,this.pos=n,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Md(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Md(this.stack,this.pos,this.index)}}function gh(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let i=0,r=0;i<t.length;){let s=0;for(;;){let o=t.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[r++]=s:n=new e(s)}return n}class Bh{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const r_=new Bh;class Q8{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=r_,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;n<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,i,r;if(n>=0&&n<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,n=0){let i=n?this.resolveOffset(n,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=r_,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let i="";for(let r of this.ranges){if(r.from>=n)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,n)))}return i}}class Cl{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:i}=n.p;z8(this.data,e,n,this.id,i.data,i.tokenPrecTable)}}Cl.prototype.contextual=Cl.prototype.fallback=Cl.prototype.extend=!1;Cl.prototype.fallback=Cl.prototype.extend=!1;class jp{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function z8(t,e,n,i,r,s){let o=0,a=1<<i,{dialect:l}=n.p.parser;e:for(;a&t[o];){let c=t[o+1];for(let m=o+3;m<c;m+=2)if((t[m+1]&a)>0){let g=t[m];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||W8(g,e.token.value,r,s))){e.acceptToken(g);break}}let u=e.next,f=0,d=t[o+2];if(e.next<0&&d>f&&t[c+d*3-3]==65535){o=t[c+d*3-1];continue e}for(;f<d;){let m=f+d>>1,g=c+m+(m<<1),y=t[g],O=t[g+1]||65536;if(u<y)d=m;else if(u>=O)f=m+1;else{o=t[g+2],e.advance();continue e}}break}}function s_(t,e,n){for(let i=e,r;(r=t[i])!=65535;i++)if(r==n)return i-e;return-1}function W8(t,e,n,i){let r=s_(n,i,e);return r<0||s_(n,i,t)<r}const Ri=typeof process<"u"&&n_&&/\bparse\b/.test(n_.LOG);let Eg=null;function o_(t,e,n){let i=t.cursor(Tn.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}class q8{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?o_(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?o_(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let i=this.trees[n],r=this.index[n];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[n]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof dn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(pt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class U8{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Bh)}getActions(e){let n=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],f=this.tokens[c];if(!(i&&!u.fallback)&&((u.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,u,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let d=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!u.extend&&(i=f,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Bh,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,n=this.addActions(e,i.value,i.end,n)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Bh,{pos:i,p:r}=e;return n.start=i,n.end=Math.min(i+1,r.stream.end),n.value=i==r.stream.end?r.parser.eofTerm:0,n}updateCachedToken(e,n,i){let r=this.stream.clipPos(i.pos);if(n.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,n,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=n,this.actions[r++]=i,r}addActions(e,n,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Os(a,c+2);else{r==0&&a[c+1]==2&&(r=this.putAction(Os(a,c+2),n,i,r));break}a[c]==n&&(r=this.putAction(Os(a,c+1),n,i,r))}return r}}class X8{constructor(e,n,i,r){this.parser=e,this.input=n,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Q8(n,r),this.tokens=new U8(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[j8.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new q8(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&K8(r);if(o)return Ri&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Ri&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return Ri&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>n)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,i){let r=e.pos,{parser:s}=this,o=Ri?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(r);f;){let d=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(d>-1&&f.length&&(!c||(f.prop(pt.contextHash)||0)==u))return e.useNode(f,d),Ri&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof dn)||f.children.length==0||f.positions[0]>0)break;let m=f.children[0];if(m instanceof dn&&f.positions[0]==0)f=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Ri&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],f=l[c++],d=l[c++],m=c==l.length||!i,g=m?e:e.split(),y=this.tokens.mainToken;if(g.apply(u,f,y?y.start:g.pos,d),Ri&&console.log(o+this.stackID(g)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(f)} @ ${r}${g==e?"":", split"})`),m)return!0;g.pos>r?n.push(g):i.push(g)}return!1}advanceFully(e,n){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return a_(e,n),!0}}runRecovery(e,n,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],c=n[(o<<1)+1],u=Ri?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Ri&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let f=a.split(),d=u;for(let m=0;f.forceReduce()&&m<10&&(Ri&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));m++)Ri&&(d=this.stackID(f)+" -> ");for(let m of a.recoverByInsert(l))Ri&&console.log(u+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Ri&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),a_(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),dn.build({buffer:Md.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Eg||(Eg=new WeakMap)).get(e);return n||Eg.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function a_(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class Y8{constructor(e,n,i){this.source=e,this.flags=n,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const Dg=t=>t;class G8{constructor(e){this.start=e.start,this.shift=e.shift||Dg,this.reduce=e.reduce||Dg,this.reuse=e.reuse||Dg,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Kl extends Bk{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<n.length;a++)r.push([]);function s(a,l,c){r[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=pt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let f=a[c+-u];for(let d=-u;d>0;d--)s(a[c++],l,f);c++}}}this.nodeSet=new qy(n.map((a,l)=>ki.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Lk;let o=gh(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(l_),this.states=gh(e.states,Uint32Array),this.data=gh(e.stateData),this.goto=gh(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Cl(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,i){let r=new X8(this,e,n,i);for(let s of this.wrappers)r=s(r,e,n,i);return r}getGoto(e,n,i=!1){let r=this.goto;if(n>=r[0])return-1;for(let s=r[n+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,n){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=Os(i,s+2)];else{if(i[s+1]==2)return Os(i,s+2);break}if(o==n||o==0)return Os(i,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,i=>i==n?!0:null)}allActions(e,n){let i=this.stateSlot(e,4),r=i?n(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Os(this.data,s+2);else break;r=n(Os(this.data,s+1))}return r}nextStates(e){let n=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Os(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];n.some((s,o)=>o&1&&s==r)||n.push(this.data[i],r)}}return n}configure(e){let n=Object.assign(Object.create(Kl.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=i}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return n.specializers[r]=l_(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),i=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<n.length;s++)if(!i[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new Y8(e,i,r)}static deserialize(e){return new Kl(e)}}function Os(t,e){return t[e]|t[e+1]<<16}function K8(t){let e=null;for(let n of t){let i=n.p.stoppedAt;(n.pos==n.p.stream.end||i!=null&&n.pos>i)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function l_(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}const J8=$p({String:U.string,Number:U.number,"True False":U.bool,PropertyName:U.propertyName,Null:U.null,", :":U.separator,"[ ]":U.squareBracket,"{ }":U.brace}),Z8=Kl.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[J8],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),eU=Ul.define({name:"json",parser:Z8.configure({props:[Ky.add({Object:Tw({except:/^\s*\}/}),Array:Tw({except:/^\s*\]/})}),Zy.add({"Object Array":qk})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function tU(){return new Qk(eU)}const sl=63,c_=64,nU=1,iU=2,lD=3,rU=4,cD=5,sU=6,oU=7,uD=65,aU=66,lU=8,cU=9,uU=10,fU=11,hU=12,fD=13,dU=19,pU=20,mU=29,gU=33,vU=34,bU=47,yU=0,g0=1,gb=2,Fu=3,vb=4;class Zo{constructor(e,n,i){this.parent=e,this.depth=n,this.type=i,this.hash=(e?e.hash+e.hash<<8:0)+n+(n<<4)+i}}Zo.top=new Zo(null,-1,yU);function uu(t,e){for(let n=0,i=e-t.pos-1;;i--,n++){let r=t.peek(i);if(Is(r)||r==-1)return n}}function bb(t){return t==32||t==9}function Is(t){return t==10||t==13}function hD(t){return bb(t)||Is(t)}function oa(t){return t<0||hD(t)}const OU=new G8({start:Zo.top,reduce(t,e){return t.type==Fu&&(e==pU||e==vU)?t.parent:t},shift(t,e,n,i){if(e==lD)return new Zo(t,uu(i,i.pos),g0);if(e==uD||e==cD)return new Zo(t,uu(i,i.pos),gb);if(e==sl)return t.parent;if(e==dU||e==gU)return new Zo(t,0,Fu);if(e==fD&&t.type==vb)return t.parent;if(e==bU){let r=/[1-9]/.exec(i.read(i.pos,n.pos));if(r)return new Zo(t,t.depth+ +r[0],vb)}return t},hash(t){return t.hash}});function Jl(t,e,n=0){return t.peek(n)==e&&t.peek(n+1)==e&&t.peek(n+2)==e&&oa(t.peek(n+3))}const xU=new jp((t,e)=>{if(t.next==-1&&e.canShift(c_))return t.acceptToken(c_);let n=t.peek(-1);if((Is(n)||n<0)&&e.context.type!=Fu){if(Jl(t,45))if(e.canShift(sl))t.acceptToken(sl);else return t.acceptToken(nU,3);if(Jl(t,46))if(e.canShift(sl))t.acceptToken(sl);else return t.acceptToken(iU,3);let i=0;for(;t.next==32;)i++,t.advance();(i<e.context.depth||i==e.context.depth&&e.context.type==g0&&(t.next!=45||!oa(t.peek(1))))&&t.next!=-1&&!Is(t.next)&&t.next!=35&&t.acceptToken(sl,-i)}},{contextual:!0}),wU=new jp((t,e)=>{if(e.context.type==Fu){t.next==63&&(t.advance(),oa(t.next)&&t.acceptToken(oU));return}if(t.next==45)t.advance(),oa(t.next)&&t.acceptToken(e.context.type==g0&&e.context.depth==uu(t,t.pos-1)?rU:lD);else if(t.next==63)t.advance(),oa(t.next)&&t.acceptToken(e.context.type==gb&&e.context.depth==uu(t,t.pos-1)?sU:cD);else{let n=t.pos;for(;;)if(bb(t.next)){if(t.pos==n)return;t.advance()}else if(t.next==33)dD(t);else if(t.next==38)yb(t);else if(t.next==42){yb(t);break}else if(t.next==39||t.next==34){if(v0(t,!0))break;return}else if(t.next==91||t.next==123){if(!SU(t))return;break}else{pD(t,!0,!1,0);break}for(;bb(t.next);)t.advance();if(t.next==58){if(t.pos==n&&e.canShift(mU))return;let i=t.peek(1);oa(i)&&t.acceptTokenTo(e.context.type==gb&&e.context.depth==uu(t,n)?aU:uD,n)}}},{contextual:!0});function _U(t){return t>32&&t<127&&t!=34&&t!=37&&t!=44&&t!=60&&t!=62&&t!=92&&t!=94&&t!=96&&t!=123&&t!=124&&t!=125}function u_(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function f_(t,e){return t.next==37?(t.advance(),u_(t.next)&&t.advance(),u_(t.next)&&t.advance(),!0):_U(t.next)||e&&t.next==44?(t.advance(),!0):!1}function dD(t){if(t.advance(),t.next==60){for(t.advance();;)if(!f_(t,!0)){t.next==62&&t.advance();break}}else for(;f_(t,!1););}function yb(t){for(t.advance();!oa(t.next)&&Ld(t.tag)!="f";)t.advance()}function v0(t,e){let n=t.next,i=!1,r=t.pos;for(t.advance();;){let s=t.next;if(s<0)break;if(t.advance(),s==n)if(s==39)if(t.next==39)t.advance();else break;else break;else if(s==92&&n==34)t.next>=0&&t.advance();else if(Is(s)){if(e)return!1;i=!0}else if(e&&t.pos>=r+1024)return!1}return!i}function SU(t){for(let e=[],n=t.pos+1024;;)if(t.next==91||t.next==123)e.push(t.next),t.advance();else if(t.next==39||t.next==34){if(!v0(t,!0))return!1}else if(t.next==93||t.next==125){if(e[e.length-1]!=t.next-2)return!1;if(e.pop(),t.advance(),!e.length)return!0}else{if(t.next<0||t.pos>n||Is(t.next))return!1;t.advance()}}const CU="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function Ld(t){return t<33?"u":t>125?"s":CU[t-33]}function Rg(t,e){let n=Ld(t);return n!="u"&&!(e&&n=="f")}function pD(t,e,n,i){if(Ld(t.next)=="s"||(t.next==63||t.next==58||t.next==45)&&Rg(t.peek(1),n))t.advance();else return!1;let r=t.pos;for(;;){let s=t.next,o=0,a=i+1;for(;hD(s);){if(Is(s)){if(e)return!1;a=0}else a++;s=t.peek(++o)}if(!(s>=0&&(s==58?Rg(t.peek(o+1),n):s==35?t.peek(o-1)!=32:Rg(s,n)))||!n&&a<=i||a==0&&!n&&(Jl(t,45,o)||Jl(t,46,o)))break;if(e&&Ld(s)=="f")return!1;for(let c=o;c>=0;c--)t.advance();if(e&&t.pos>r+1024)return!1}return!0}const TU=new jp((t,e)=>{if(t.next==33)dD(t),t.acceptToken(hU);else if(t.next==38||t.next==42){let n=t.next==38?uU:fU;yb(t),t.acceptToken(n)}else t.next==39||t.next==34?(v0(t,!1),t.acceptToken(cU)):pD(t,!1,e.context.type==Fu,e.context.depth)&&t.acceptToken(lU)}),AU=new jp((t,e)=>{let n=e.context.type==vb?e.context.depth:-1,i=t.pos;e:for(;;){let r=0,s=t.next;for(;s==32;)s=t.peek(++r);if(!r&&(Jl(t,45,r)||Jl(t,46,r))||!Is(s)&&(n<0&&(n=Math.max(e.context.depth+1,r)),r<n))break;for(;;){if(t.next<0)break e;let o=Is(t.next);if(t.advance(),o)continue e;i=t.pos}}t.acceptTokenTo(fD,i)}),kU=$p({DirectiveName:U.keyword,DirectiveContent:U.attributeValue,"DirectiveEnd DocEnd":U.meta,QuotedLiteral:U.string,BlockLiteralHeader:U.special(U.string),BlockLiteralContent:U.content,Literal:U.content,"Key/Literal Key/QuotedLiteral":U.definition(U.propertyName),"Anchor Alias":U.labelName,Tag:U.typeName,Comment:U.lineComment,": , -":U.separator,"?":U.punctuation,"[ ]":U.squareBracket,"{ }":U.brace}),EU=Kl.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:"⚠ DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:OU,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[kU],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[xU,wU,TU,AU,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),DU=Ul.define({name:"yaml",parser:EU.configure({props:[Ky.add({Stream:t=>{for(let e=t.node.resolve(t.pos,-1);e&&e.to>=t.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return t.baseIndentFor(e);if(e.name=="BlockLiteral")return t.baseIndentFor(e)+t.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return t.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let n=t.column(e.from,1);if(n==t.lineIndent(e.from,1))return n;if(e.to>t.pos)return null}}return null},FlowMapping:Cw({closing:"}"}),FlowSequence:Cw({closing:"]"})}),Zy.add({"FlowMapping FlowSequence":qk,"Item Pair BlockLiteral":(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function RU(){return new Qk(DU)}const $U="#e5c07b",h_="#e06c75",PU="#56b6c2",MU="#ffffff",Hh="#abb2bf",Ob="#7d8799",LU="#61afef",NU="#98c379",d_="#d19a66",IU="#c678dd",FU="#21252b",p_="#2c313a",m_="#282c34",$g="#353a42",BU="#3E4451",g_="#528bff",HU=Me.theme({"&":{color:Hh,backgroundColor:m_},".cm-content":{caretColor:g_},".cm-cursor, .cm-dropCursor":{borderLeftColor:g_},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:BU},".cm-panels":{backgroundColor:FU,color:Hh},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:m_,color:Ob,border:"none"},".cm-activeLineGutter":{backgroundColor:p_},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:$g},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:$g,borderBottomColor:$g},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:p_,color:Hh}}},{dark:!0}),jU=bf.define([{tag:U.keyword,color:IU},{tag:[U.name,U.deleted,U.character,U.propertyName,U.macroName],color:h_},{tag:[U.function(U.variableName),U.labelName],color:LU},{tag:[U.color,U.constant(U.name),U.standard(U.name)],color:d_},{tag:[U.definition(U.name),U.separator],color:Hh},{tag:[U.typeName,U.className,U.number,U.changed,U.annotation,U.modifier,U.self,U.namespace],color:$U},{tag:[U.operator,U.operatorKeyword,U.url,U.escape,U.regexp,U.link,U.special(U.string)],color:PU},{tag:[U.meta,U.comment],color:Ob},{tag:U.strong,fontWeight:"bold"},{tag:U.emphasis,fontStyle:"italic"},{tag:U.strikethrough,textDecoration:"line-through"},{tag:U.link,color:Ob,textDecoration:"underline"},{tag:U.heading,fontWeight:"bold",color:h_},{tag:[U.atom,U.bool,U.special(U.variableName)],color:d_},{tag:[U.processingInstruction,U.string,U.inserted],color:NU},{tag:U.invalid,color:MU}]),VU=[HU,tE(jU)];/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function mD(t){return typeof t>"u"||t===null}function QU(t){return typeof t=="object"&&t!==null}function zU(t){return Array.isArray(t)?t:mD(t)?[]:[t]}function WU(t,e){var n,i,r,s;if(e)for(s=Object.keys(e),n=0,i=s.length;n<i;n+=1)r=s[n],t[r]=e[r];return t}function qU(t,e){var n="",i;for(i=0;i<e;i+=1)n+=t;return n}function UU(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var XU=mD,YU=QU,GU=zU,KU=qU,JU=UU,ZU=WU,On={isNothing:XU,isObject:YU,toArray:GU,repeat:KU,isNegativeZero:JU,extend:ZU};function gD(t,e){var n="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),i+" "+n):i}function Bu(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=gD(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Bu.prototype=Object.create(Error.prototype);Bu.prototype.constructor=Bu;Bu.prototype.toString=function(e){return this.name+": "+gD(this,e)};var ui=Bu;function Pg(t,e,n,i,r){var s="",o="",a=Math.floor(r/2)-1;return i-e>a&&(s=" ... ",e=i-a+s.length),n-i>a&&(o=" ...",n=i+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"→")+o,pos:i-e+s.length}}function Mg(t,e){return On.repeat(" ",e-t.length)+t}function eX(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],s,o=-1;s=n.exec(t.buffer);)r.push(s.index),i.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a="",l,c,u=Math.min(t.line+e.linesAfter,r.length).toString().length,f=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=Pg(t.buffer,i[o-l],r[o-l],t.position-(i[o]-i[o-l]),f),a=On.repeat(" ",e.indent)+Mg((t.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=Pg(t.buffer,i[o],r[o],t.position,f),a+=On.repeat(" ",e.indent)+Mg((t.line+1).toString(),u)+" | "+c.str+`
`,a+=On.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=r.length);l++)c=Pg(t.buffer,i[o+l],r[o+l],t.position-(i[o]-i[o+l]),f),a+=On.repeat(" ",e.indent)+Mg((t.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var tX=eX,nX=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],iX=["scalar","sequence","mapping"];function rX(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(i){e[String(i)]=n})}),e}function sX(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(nX.indexOf(n)===-1)throw new ui('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=rX(e.styleAliases||null),iX.indexOf(this.kind)===-1)throw new ui('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Fn=sX;function v_(t,e){var n=[];return t[e].forEach(function(i){var r=n.length;n.forEach(function(s,o){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(r=o)}),n[r]=i}),n}function oX(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function i(r){r.multi?(t.multi[r.kind].push(r),t.multi.fallback.push(r)):t[r.kind][r.tag]=t.fallback[r.tag]=r}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(i);return t}function xb(t){return this.extend(t)}xb.prototype.extend=function(e){var n=[],i=[];if(e instanceof Fn)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new ui("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Fn))throw new ui("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ui("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ui("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof Fn))throw new ui("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(xb.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=v_(r,"implicit"),r.compiledExplicit=v_(r,"explicit"),r.compiledTypeMap=oX(r.compiledImplicit,r.compiledExplicit),r};var vD=xb,bD=new Fn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),yD=new Fn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),OD=new Fn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),xD=new vD({explicit:[bD,yD,OD]});function aX(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function lX(){return null}function cX(t){return t===null}var wD=new Fn("tag:yaml.org,2002:null",{kind:"scalar",resolve:aX,construct:lX,predicate:cX,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function uX(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function fX(t){return t==="true"||t==="True"||t==="TRUE"}function hX(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var _D=new Fn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:uX,construct:fX,predicate:hX,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function dX(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function pX(t){return 48<=t&&t<=55}function mX(t){return 48<=t&&t<=57}function gX(t){if(t===null)return!1;var e=t.length,n=0,i=!1,r;if(!e)return!1;if(r=t[n],(r==="-"||r==="+")&&(r=t[++n]),r==="0"){if(n+1===e)return!0;if(r=t[++n],r==="b"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(!dX(t.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(!pX(t.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<e;n++)if(r=t[n],r!=="_"){if(!mX(t.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function vX(t){var e=t,n=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function bX(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!On.isNegativeZero(t)}var SD=new Fn("tag:yaml.org,2002:int",{kind:"scalar",resolve:gX,construct:vX,predicate:bX,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),yX=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function OX(t){return!(t===null||!yX.test(t)||t[t.length-1]==="_")}function xX(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var wX=/^[-+]?[0-9]+e/;function _X(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(On.isNegativeZero(t))return"-0.0";return n=t.toString(10),wX.test(n)?n.replace("e",".e"):n}function SX(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||On.isNegativeZero(t))}var CD=new Fn("tag:yaml.org,2002:float",{kind:"scalar",resolve:OX,construct:xX,predicate:SX,represent:_X,defaultStyle:"lowercase"}),TD=xD.extend({implicit:[wD,_D,SD,CD]}),AD=TD,kD=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ED=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function CX(t){return t===null?!1:kD.exec(t)!==null||ED.exec(t)!==null}function TX(t){var e,n,i,r,s,o,a,l=0,c=null,u,f,d;if(e=kD.exec(t),e===null&&(e=ED.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(n,i,r));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],f=+(e[11]||0),c=(u*60+f)*6e4,e[9]==="-"&&(c=-c)),d=new Date(Date.UTC(n,i,r,s,o,a,l)),c&&d.setTime(d.getTime()-c),d}function AX(t){return t.toISOString()}var DD=new Fn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:CX,construct:TX,instanceOf:Date,represent:AX});function kX(t){return t==="<<"||t===null}var RD=new Fn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:kX}),b0=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function EX(t){if(t===null)return!1;var e,n,i=0,r=t.length,s=b0;for(n=0;n<r;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function DX(t){var e,n,i=t.replace(/[\r\n=]/g,""),r=i.length,s=b0,o=0,a=[];for(e=0;e<r;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(i.charAt(e));return n=r%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}function RX(t){var e="",n=0,i,r,s=t.length,o=b0;for(i=0;i<s;i++)i%3===0&&i&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[i];return r=s%3,r===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):r===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):r===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}function $X(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var $D=new Fn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:EX,construct:DX,predicate:$X,represent:RX}),PX=Object.prototype.hasOwnProperty,MX=Object.prototype.toString;function LX(t){if(t===null)return!0;var e=[],n,i,r,s,o,a=t;for(n=0,i=a.length;n<i;n+=1){if(r=a[n],o=!1,MX.call(r)!=="[object Object]")return!1;for(s in r)if(PX.call(r,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function NX(t){return t!==null?t:[]}var PD=new Fn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:LX,construct:NX}),IX=Object.prototype.toString;function FX(t){if(t===null)return!0;var e,n,i,r,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(i=o[e],IX.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;s[e]=[r[0],i[r[0]]]}return!0}function BX(t){if(t===null)return[];var e,n,i,r,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)i=o[e],r=Object.keys(i),s[e]=[r[0],i[r[0]]];return s}var MD=new Fn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:FX,construct:BX}),HX=Object.prototype.hasOwnProperty;function jX(t){if(t===null)return!0;var e,n=t;for(e in n)if(HX.call(n,e)&&n[e]!==null)return!1;return!0}function VX(t){return t!==null?t:{}}var LD=new Fn("tag:yaml.org,2002:set",{kind:"mapping",resolve:jX,construct:VX}),y0=AD.extend({implicit:[DD,RD],explicit:[$D,PD,MD,LD]}),Ro=Object.prototype.hasOwnProperty,Nd=1,ND=2,ID=3,Id=4,Lg=1,QX=2,b_=3,zX=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,WX=/[\x85\u2028\u2029]/,qX=/[,\[\]\{\}]/,FD=/^(?:!|!!|![a-z\-]+!)$/i,BD=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function y_(t){return Object.prototype.toString.call(t)}function ss(t){return t===10||t===13}function ga(t){return t===9||t===32}function Ci(t){return t===9||t===32||t===10||t===13}function hl(t){return t===44||t===91||t===93||t===123||t===125}function UX(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function XX(t){return t===120?2:t===117?4:t===85?8:0}function YX(t){return 48<=t&&t<=57?t-48:-1}function O_(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}function GX(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var HD=new Array(256),jD=new Array(256);for(var Ya=0;Ya<256;Ya++)HD[Ya]=O_(Ya)?1:0,jD[Ya]=O_(Ya);function KX(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||y0,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function VD(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=tX(n),new ui(e,n)}function Ue(t,e){throw VD(t,e)}function Fd(t,e){t.onWarning&&t.onWarning.call(null,VD(t,e))}var x_={YAML:function(e,n,i){var r,s,o;e.version!==null&&Ue(e,"duplication of %YAML directive"),i.length!==1&&Ue(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&Ue(e,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),o=parseInt(r[2],10),s!==1&&Ue(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Fd(e,"unsupported YAML version of the document")},TAG:function(e,n,i){var r,s;i.length!==2&&Ue(e,"TAG directive accepts exactly two arguments"),r=i[0],s=i[1],FD.test(r)||Ue(e,"ill-formed tag handle (first argument) of the TAG directive"),Ro.call(e.tagMap,r)&&Ue(e,'there is a previously declared suffix for "'+r+'" tag handle'),BD.test(s)||Ue(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Ue(e,"tag prefix is malformed: "+s)}e.tagMap[r]=s}};function yo(t,e,n,i){var r,s,o,a;if(e<n){if(a=t.input.slice(e,n),i)for(r=0,s=a.length;r<s;r+=1)o=a.charCodeAt(r),o===9||32<=o&&o<=1114111||Ue(t,"expected valid JSON character");else zX.test(a)&&Ue(t,"the stream contains non-printable characters");t.result+=a}}function w_(t,e,n,i){var r,s,o,a;for(On.isObject(n)||Ue(t,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),o=0,a=r.length;o<a;o+=1)s=r[o],Ro.call(e,s)||(e[s]=n[s],i[s]=!0)}function dl(t,e,n,i,r,s,o,a,l){var c,u;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,u=r.length;c<u;c+=1)Array.isArray(r[c])&&Ue(t,"nested arrays are not supported inside keys"),typeof r=="object"&&y_(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&y_(r)==="[object Object]"&&(r="[object Object]"),r=String(r),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)w_(t,e,s[c],n);else w_(t,e,s,n);else!t.json&&!Ro.call(n,r)&&Ro.call(e,r)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,Ue(t,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[r]=s,delete n[r];return e}function O0(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Ue(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function fn(t,e,n){for(var i=0,r=t.input.charCodeAt(t.position);r!==0;){for(;ga(r);)r===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),r=t.input.charCodeAt(++t.position);if(e&&r===35)do r=t.input.charCodeAt(++t.position);while(r!==10&&r!==13&&r!==0);if(ss(r))for(O0(t),r=t.input.charCodeAt(t.position),i++,t.lineIndent=0;r===32;)t.lineIndent++,r=t.input.charCodeAt(++t.position);else break}return n!==-1&&i!==0&&t.lineIndent<n&&Fd(t,"deficient indentation"),i}function Vp(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Ci(n)))}function x0(t,e){e===1?t.result+=" ":e>1&&(t.result+=On.repeat(`
`,e-1))}function JX(t,e,n){var i,r,s,o,a,l,c,u,f=t.kind,d=t.result,m;if(m=t.input.charCodeAt(t.position),Ci(m)||hl(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(r=t.input.charCodeAt(t.position+1),Ci(r)||n&&hl(r)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;m!==0;){if(m===58){if(r=t.input.charCodeAt(t.position+1),Ci(r)||n&&hl(r))break}else if(m===35){if(i=t.input.charCodeAt(t.position-1),Ci(i))break}else{if(t.position===t.lineStart&&Vp(t)||n&&hl(m))break;if(ss(m))if(l=t.line,c=t.lineStart,u=t.lineIndent,fn(t,!1,-1),t.lineIndent>=e){a=!0,m=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=c,t.lineIndent=u;break}}a&&(yo(t,s,o,!1),x0(t,t.line-l),s=o=t.position,a=!1),ga(m)||(o=t.position+1),m=t.input.charCodeAt(++t.position)}return yo(t,s,o,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function ZX(t,e){var n,i,r;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(yo(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)i=t.position,t.position++,r=t.position;else return!0;else ss(n)?(yo(t,i,r,!0),x0(t,fn(t,!1,e)),i=r=t.position):t.position===t.lineStart&&Vp(t)?Ue(t,"unexpected end of the document within a single quoted scalar"):(t.position++,r=t.position);Ue(t,"unexpected end of the stream within a single quoted scalar")}function e9(t,e){var n,i,r,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return yo(t,n,t.position,!0),t.position++,!0;if(a===92){if(yo(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),ss(a))fn(t,!1,e);else if(a<256&&HD[a])t.result+=jD[a],t.position++;else if((o=XX(a))>0){for(r=o,s=0;r>0;r--)a=t.input.charCodeAt(++t.position),(o=UX(a))>=0?s=(s<<4)+o:Ue(t,"expected hexadecimal character");t.result+=GX(s),t.position++}else Ue(t,"unknown escape sequence");n=i=t.position}else ss(a)?(yo(t,n,i,!0),x0(t,fn(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Vp(t)?Ue(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}Ue(t,"unexpected end of the stream within a double quoted scalar")}function t9(t,e){var n=!0,i,r,s,o=t.tag,a,l=t.anchor,c,u,f,d,m,g=Object.create(null),y,O,_,A;if(A=t.input.charCodeAt(t.position),A===91)u=93,m=!1,a=[];else if(A===123)u=125,m=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),A=t.input.charCodeAt(++t.position);A!==0;){if(fn(t,!0,e),A=t.input.charCodeAt(t.position),A===u)return t.position++,t.tag=o,t.anchor=l,t.kind=m?"mapping":"sequence",t.result=a,!0;n?A===44&&Ue(t,"expected the node content, but found ','"):Ue(t,"missed comma between flow collection entries"),O=y=_=null,f=d=!1,A===63&&(c=t.input.charCodeAt(t.position+1),Ci(c)&&(f=d=!0,t.position++,fn(t,!0,e))),i=t.line,r=t.lineStart,s=t.position,Zl(t,e,Nd,!1,!0),O=t.tag,y=t.result,fn(t,!0,e),A=t.input.charCodeAt(t.position),(d||t.line===i)&&A===58&&(f=!0,A=t.input.charCodeAt(++t.position),fn(t,!0,e),Zl(t,e,Nd,!1,!0),_=t.result),m?dl(t,a,g,O,y,_,i,r,s):f?a.push(dl(t,null,g,O,y,_,i,r,s)):a.push(y),fn(t,!0,e),A=t.input.charCodeAt(t.position),A===44?(n=!0,A=t.input.charCodeAt(++t.position)):n=!1}Ue(t,"unexpected end of the stream within a flow collection")}function n9(t,e){var n,i,r=Lg,s=!1,o=!1,a=e,l=0,c=!1,u,f;if(f=t.input.charCodeAt(t.position),f===124)i=!1;else if(f===62)i=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)Lg===r?r=f===43?b_:QX:Ue(t,"repeat of a chomping mode identifier");else if((u=YX(f))>=0)u===0?Ue(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Ue(t,"repeat of an indentation width identifier"):(a=e+u-1,o=!0);else break;if(ga(f)){do f=t.input.charCodeAt(++t.position);while(ga(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!ss(f)&&f!==0)}for(;f!==0;){for(O0(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),ss(f)){l++;continue}if(t.lineIndent<a){r===b_?t.result+=On.repeat(`
`,s?1+l:l):r===Lg&&s&&(t.result+=`
`);break}for(i?ga(f)?(c=!0,t.result+=On.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=On.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=On.repeat(`
`,l):t.result+=On.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!ss(f)&&f!==0;)f=t.input.charCodeAt(++t.position);yo(t,n,t.position,!1)}return!0}function __(t,e){var n,i=t.tag,r=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ue(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!Ci(o))));){if(a=!0,t.position++,fn(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,Zl(t,e,ID,!1,!0),s.push(t.result),fn(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)Ue(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=i,t.anchor=r,t.kind="sequence",t.result=s,!0):!1}function i9(t,e,n){var i,r,s,o,a,l,c=t.tag,u=t.anchor,f={},d=Object.create(null),m=null,g=null,y=null,O=!1,_=!1,A;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),A=t.input.charCodeAt(t.position);A!==0;){if(!O&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ue(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),s=t.line,(A===63||A===58)&&Ci(i))A===63?(O&&(dl(t,f,d,m,g,null,o,a,l),m=g=y=null),_=!0,O=!0,r=!0):O?(O=!1,r=!0):Ue(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,A=i;else{if(o=t.line,a=t.lineStart,l=t.position,!Zl(t,n,ND,!1,!0))break;if(t.line===s){for(A=t.input.charCodeAt(t.position);ga(A);)A=t.input.charCodeAt(++t.position);if(A===58)A=t.input.charCodeAt(++t.position),Ci(A)||Ue(t,"a whitespace character is expected after the key-value separator within a block mapping"),O&&(dl(t,f,d,m,g,null,o,a,l),m=g=y=null),_=!0,O=!1,r=!1,m=t.tag,g=t.result;else if(_)Ue(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(_)Ue(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===s||t.lineIndent>e)&&(O&&(o=t.line,a=t.lineStart,l=t.position),Zl(t,e,Id,!0,r)&&(O?g=t.result:y=t.result),O||(dl(t,f,d,m,g,y,o,a,l),m=g=y=null),fn(t,!0,-1),A=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&A!==0)Ue(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return O&&dl(t,f,d,m,g,null,o,a,l),_&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=f),_}function r9(t){var e,n=!1,i=!1,r,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&Ue(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(i=!0,r="!!",o=t.input.charCodeAt(++t.position)):r="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):Ue(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ci(o);)o===33&&(i?Ue(t,"tag suffix cannot contain exclamation marks"):(r=t.input.slice(e-1,t.position+1),FD.test(r)||Ue(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),qX.test(s)&&Ue(t,"tag suffix cannot contain flow indicator characters")}s&&!BD.test(s)&&Ue(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Ue(t,"tag name is malformed: "+s)}return n?t.tag=s:Ro.call(t.tagMap,r)?t.tag=t.tagMap[r]+s:r==="!"?t.tag="!"+s:r==="!!"?t.tag="tag:yaml.org,2002:"+s:Ue(t,'undeclared tag handle "'+r+'"'),!0}function s9(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Ue(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Ci(n)&&!hl(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Ue(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function o9(t){var e,n,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!Ci(i)&&!hl(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&Ue(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Ro.call(t.anchorMap,n)||Ue(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],fn(t,!0,-1),!0}function Zl(t,e,n,i,r){var s,o,a,l=1,c=!1,u=!1,f,d,m,g,y,O;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Id===n||ID===n,i&&fn(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;r9(t)||s9(t);)fn(t,!0,-1)?(c=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||r),(l===1||Id===n)&&(Nd===n||ND===n?y=e:y=e+1,O=t.position-t.lineStart,l===1?a&&(__(t,O)||i9(t,O,y))||t9(t,y)?u=!0:(o&&n9(t,y)||ZX(t,y)||e9(t,y)?u=!0:o9(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&Ue(t,"alias node should not have any properties")):JX(t,y,Nd===n)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=a&&__(t,O))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Ue(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(g=t.implicitTypes[f],g.resolve(t.result)){t.result=g.construct(t.result),t.tag=g.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Ro.call(t.typeMap[t.kind||"fallback"],t.tag))g=t.typeMap[t.kind||"fallback"][t.tag];else for(g=null,m=t.typeMap.multi[t.kind||"fallback"],f=0,d=m.length;f<d;f+=1)if(t.tag.slice(0,m[f].tag.length)===m[f].tag){g=m[f];break}g||Ue(t,"unknown tag !<"+t.tag+">"),t.result!==null&&g.kind!==t.kind&&Ue(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+g.kind+'", not "'+t.kind+'"'),g.resolve(t.result,t.tag)?(t.result=g.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Ue(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function a9(t){var e=t.position,n,i,r,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(fn(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!Ci(o);)o=t.input.charCodeAt(++t.position);for(i=t.input.slice(n,t.position),r=[],i.length<1&&Ue(t,"directive name must not be less than one character in length");o!==0;){for(;ga(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!ss(o));break}if(ss(o))break;for(n=t.position;o!==0&&!Ci(o);)o=t.input.charCodeAt(++t.position);r.push(t.input.slice(n,t.position))}o!==0&&O0(t),Ro.call(x_,i)?x_[i](t,i,r):Fd(t,'unknown document directive "'+i+'"')}if(fn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,fn(t,!0,-1)):s&&Ue(t,"directives end mark is expected"),Zl(t,t.lineIndent-1,Id,!1,!0),fn(t,!0,-1),t.checkLineBreaks&&WX.test(t.input.slice(e,t.position))&&Fd(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Vp(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,fn(t,!0,-1));return}if(t.position<t.length-1)Ue(t,"end of the stream or a document separator is expected");else return}function QD(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new KX(t,e),i=t.indexOf("\0");for(i!==-1&&(n.position=i,Ue(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)a9(n);return n.documents}function l9(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var i=QD(t,n);if(typeof e!="function")return i;for(var r=0,s=i.length;r<s;r+=1)e(i[r])}function c9(t,e){var n=QD(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new ui("expected a single document in the stream, but found more")}}var u9=l9,f9=c9,zD={loadAll:u9,load:f9},WD=Object.prototype.toString,qD=Object.prototype.hasOwnProperty,w0=65279,h9=9,Hu=10,d9=13,p9=32,m9=33,g9=34,wb=35,v9=37,b9=38,y9=39,O9=42,UD=44,x9=45,Bd=58,w9=61,_9=62,S9=63,C9=64,XD=91,YD=93,T9=96,GD=123,A9=124,KD=125,Zn={};Zn[0]="\\0";Zn[7]="\\a";Zn[8]="\\b";Zn[9]="\\t";Zn[10]="\\n";Zn[11]="\\v";Zn[12]="\\f";Zn[13]="\\r";Zn[27]="\\e";Zn[34]='\\"';Zn[92]="\\\\";Zn[133]="\\N";Zn[160]="\\_";Zn[8232]="\\L";Zn[8233]="\\P";var k9=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],E9=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function D9(t,e){var n,i,r,s,o,a,l;if(e===null)return{};for(n={},i=Object.keys(e),r=0,s=i.length;r<s;r+=1)o=i[r],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&qD.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[o]=a;return n}function R9(t){var e,n,i;if(e=t.toString(16).toUpperCase(),t<=255)n="x",i=2;else if(t<=65535)n="u",i=4;else if(t<=4294967295)n="U",i=8;else throw new ui("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+On.repeat("0",i-e.length)+e}var $9=1,ju=2;function P9(t){this.schema=t.schema||y0,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=On.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=D9(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?ju:$9,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function S_(t,e){for(var n=On.repeat(" ",e),i=0,r=-1,s="",o,a=t.length;i<a;)r=t.indexOf(`
`,i),r===-1?(o=t.slice(i),i=a):(o=t.slice(i,r+1),i=r+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}function _b(t,e){return`
`+On.repeat(" ",t.indent*e)}function M9(t,e){var n,i,r;for(n=0,i=t.implicitTypes.length;n<i;n+=1)if(r=t.implicitTypes[n],r.resolve(e))return!0;return!1}function Hd(t){return t===p9||t===h9}function Vu(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==w0||65536<=t&&t<=1114111}function C_(t){return Vu(t)&&t!==w0&&t!==d9&&t!==Hu}function T_(t,e,n){var i=C_(t),r=i&&!Hd(t);return(n?i:i&&t!==UD&&t!==XD&&t!==YD&&t!==GD&&t!==KD)&&t!==wb&&!(e===Bd&&!r)||C_(e)&&!Hd(e)&&t===wb||e===Bd&&r}function L9(t){return Vu(t)&&t!==w0&&!Hd(t)&&t!==x9&&t!==S9&&t!==Bd&&t!==UD&&t!==XD&&t!==YD&&t!==GD&&t!==KD&&t!==wb&&t!==b9&&t!==O9&&t!==m9&&t!==A9&&t!==w9&&t!==_9&&t!==y9&&t!==g9&&t!==v9&&t!==C9&&t!==T9}function N9(t){return!Hd(t)&&t!==Bd}function Uc(t,e){var n=t.charCodeAt(e),i;return n>=55296&&n<=56319&&e+1<t.length&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function JD(t){var e=/^\n* /;return e.test(t)}var ZD=1,Sb=2,eR=3,tR=4,ol=5;function I9(t,e,n,i,r,s,o,a){var l,c=0,u=null,f=!1,d=!1,m=i!==-1,g=-1,y=L9(Uc(t,0))&&N9(Uc(t,t.length-1));if(e||o)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Uc(t,l),!Vu(c))return ol;y=y&&T_(c,u,a),u=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Uc(t,l),c===Hu)f=!0,m&&(d=d||l-g-1>i&&t[g+1]!==" ",g=l);else if(!Vu(c))return ol;y=y&&T_(c,u,a),u=c}d=d||m&&l-g-1>i&&t[g+1]!==" "}return!f&&!d?y&&!o&&!r(t)?ZD:s===ju?ol:Sb:n>9&&JD(t)?ol:o?s===ju?ol:Sb:d?tR:eR}function F9(t,e,n,i,r){t.dump=function(){if(e.length===0)return t.quotingType===ju?'""':"''";if(!t.noCompatMode&&(k9.indexOf(e)!==-1||E9.test(e)))return t.quotingType===ju?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=i||t.flowLevel>-1&&n>=t.flowLevel;function l(c){return M9(t,c)}switch(I9(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!i,r)){case ZD:return e;case Sb:return"'"+e.replace(/'/g,"''")+"'";case eR:return"|"+A_(e,t.indent)+k_(S_(e,s));case tR:return">"+A_(e,t.indent)+k_(S_(B9(e,o),s));case ol:return'"'+H9(e)+'"';default:throw new ui("impossible error: invalid scalar style")}}()}function A_(t,e){var n=JD(t)?String(e):"",i=t[t.length-1]===`
`,r=i&&(t[t.length-2]===`
`||t===`
`),s=r?"+":i?"":"-";return n+s+`
`}function k_(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function B9(t,e){for(var n=/(\n+)([^\n]*)/g,i=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,n.lastIndex=c,E_(t.slice(0,c),e)}(),r=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",i+=a+(!r&&!s&&l!==""?`
`:"")+E_(l,e),r=s}return i}function E_(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,i,r=0,s,o=0,a=0,l="";i=n.exec(t);)a=i.index,a-r>e&&(s=o>r?o:a,l+=`
`+t.slice(r,s),r=s+1),o=a;return l+=`
`,t.length-r>e&&o>r?l+=t.slice(r,o)+`
`+t.slice(o+1):l+=t.slice(r),l.slice(1)}function H9(t){for(var e="",n=0,i,r=0;r<t.length;n>=65536?r+=2:r++)n=Uc(t,r),i=Zn[n],!i&&Vu(n)?(e+=t[r],n>=65536&&(e+=t[r+1])):e+=i||R9(n);return e}function j9(t,e,n){var i="",r=t.tag,s,o,a;for(s=0,o=n.length;s<o;s+=1)a=n[s],t.replacer&&(a=t.replacer.call(n,String(s),a)),(Fs(t,e,a,!1,!1)||typeof a>"u"&&Fs(t,e,null,!1,!1))&&(i!==""&&(i+=","+(t.condenseFlow?"":" ")),i+=t.dump);t.tag=r,t.dump="["+i+"]"}function D_(t,e,n,i){var r="",s=t.tag,o,a,l;for(o=0,a=n.length;o<a;o+=1)l=n[o],t.replacer&&(l=t.replacer.call(n,String(o),l)),(Fs(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Fs(t,e+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=_b(t,e)),t.dump&&Hu===t.dump.charCodeAt(0)?r+="-":r+="- ",r+=t.dump);t.tag=s,t.dump=r||"[]"}function V9(t,e,n){var i="",r=t.tag,s=Object.keys(n),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",i!==""&&(u+=", "),t.condenseFlow&&(u+='"'),l=s[o],c=n[l],t.replacer&&(c=t.replacer.call(n,l,c)),Fs(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Fs(t,e,c,!1,!1)&&(u+=t.dump,i+=u));t.tag=r,t.dump="{"+i+"}"}function Q9(t,e,n,i){var r="",s=t.tag,o=Object.keys(n),a,l,c,u,f,d;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new ui("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!i||r!=="")&&(d+=_b(t,e)),c=o[a],u=n[c],t.replacer&&(u=t.replacer.call(n,c,u)),Fs(t,e+1,c,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&Hu===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=_b(t,e)),Fs(t,e+1,u,!0,f)&&(t.dump&&Hu===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,r+=d));t.tag=s,t.dump=r||"{}"}function R_(t,e,n){var i,r,s,o,a,l;for(r=n?t.explicitTypes:t.implicitTypes,s=0,o=r.length;s<o;s+=1)if(a=r[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,WD.call(a.represent)==="[object Function]")i=a.represent(e,l);else if(qD.call(a.represent,l))i=a.represent[l](e,l);else throw new ui("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=i}return!0}return!1}function Fs(t,e,n,i,r,s,o){t.tag=null,t.dump=n,R_(t,n,!1)||R_(t,n,!0);var a=WD.call(t.dump),l=i,c;i&&(i=t.flowLevel<0||t.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",f,d;if(u&&(f=t.duplicates.indexOf(n),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(r=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(u&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),a==="[object Object]")i&&Object.keys(t.dump).length!==0?(Q9(t,e,t.dump,r),d&&(t.dump="&ref_"+f+t.dump)):(V9(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object Array]")i&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?D_(t,e-1,t.dump,r):D_(t,e,t.dump,r),d&&(t.dump="&ref_"+f+t.dump)):(j9(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&F9(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new ui("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}function z9(t,e){var n=[],i=[],r,s;for(Cb(t,n,i),r=0,s=i.length;r<s;r+=1)e.duplicates.push(n[i[r]]);e.usedDuplicates=new Array(s)}function Cb(t,e,n){var i,r,s;if(t!==null&&typeof t=="object")if(r=e.indexOf(t),r!==-1)n.indexOf(r)===-1&&n.push(r);else if(e.push(t),Array.isArray(t))for(r=0,s=t.length;r<s;r+=1)Cb(t[r],e,n);else for(i=Object.keys(t),r=0,s=i.length;r<s;r+=1)Cb(t[i[r]],e,n)}function W9(t,e){e=e||{};var n=new P9(e);n.noRefs||z9(t,n);var i=t;return n.replacer&&(i=n.replacer.call({"":i},"",i)),Fs(n,0,i,!0,!0)?n.dump+`
`:""}var q9=W9,U9={dump:q9};function _0(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var X9=Fn,Y9=vD,G9=xD,K9=TD,J9=AD,Z9=y0,e6=zD.load,t6=zD.loadAll,n6=U9.dump,i6=ui,r6={binary:$D,float:CD,map:OD,null:wD,pairs:MD,set:LD,timestamp:DD,bool:_D,int:SD,merge:RD,omap:PD,seq:yD,str:bD},s6=_0("safeLoad","load"),o6=_0("safeLoadAll","loadAll"),a6=_0("safeDump","dump"),va={Type:X9,Schema:Y9,FAILSAFE_SCHEMA:G9,JSON_SCHEMA:K9,CORE_SCHEMA:J9,DEFAULT_SCHEMA:Z9,load:e6,loadAll:t6,dump:n6,YAMLException:i6,types:r6,safeLoad:s6,safeLoadAll:o6,safeDump:a6};const nR=Kn({__name:"CodeMirrorEditor",props:{Content:{type:String,required:!0},ContentType:{type:String,required:!0,validator:t=>["JSON","YAML"].includes(t)},editorHeight:{type:String,required:!0}},emits:["update:Content","toast"],setup(t,{emit:e}){const n=t,i=e,r=ht(null);let s=null;const o=Me.theme({"&":{height:n.editorHeight+"px"},".cm-scroller":{overflow:"auto"}}),a=(f,d)=>{const m=d==="JSON"?tU():RU();return Tt.create({doc:f,extensions:[aD,m,VU,o,Me.updateListener.of(g=>{g.docChanged&&i("update:Content",s==null?void 0:s.state.doc.toString())})]})},l=f=>{u(f)},c=f=>{try{return JSON.parse(f),"JSON"}catch{try{return va.load(f),"YAML"}catch(m){return console.log("Not a valid content",m),null}}},u=f=>{let d="";if(s){if(f==="JSON"){const m=c(s.state.doc.toString());if(m==="JSON"){d=s.state.doc.toString(),n.editorHeight!=="300"&&i("toast",{message:`Error: Already in ${m} Mode, no conversion needed`,toastClass:"bg-warning"});return}else try{d=JSON.stringify(va.load(s.state.doc.toString()),null,2)}catch(g){g instanceof Error?i("toast",{message:g.message,toastClass:"bg-danger"}):(console.error("An unknown error occurred",g),i("toast",{message:"An unknown error occurred",toastClass:"bg-danger"}));return}}else if(f==="YAML"){const m=c(s.state.doc.toString());if(m==="YAML"){if(d=s.state.doc.toString(),n.editorHeight!=="300"){i("toast",{message:`Error: Already in ${m} Mode, no conversion needed`,toastClass:"bg-warning"});return}}else try{d=va.dump(JSON.parse(s.state.doc.toString()))}catch(g){g instanceof Error?i("toast",{message:g.message,toastClass:"bg-danger"}):(console.error("An unknown error occurred",g),i("toast",{message:"An unknown error occurred",toastClass:"bg-danger"}));return}}}s==null||s.setState(a(d,f))};return Mo(()=>{r.value&&(s=new Me({state:a(n.Content,n.ContentType),parent:r.value}))}),ks(()=>n.Content,f=>{f!==(s==null?void 0:s.state.doc.toString())&&(s==null||s.dispatch({changes:{from:0,to:s.state.doc.length,insert:f}}))}),ks([()=>n.ContentType],([f])=>{u(f)}),(f,d)=>(K(),Z(Ye,null,[t.editorHeight!=="300"?(K(),Z("button",{key:0,type:"button",onClick:d[0]||(d[0]=Hi(m=>l("JSON"),["prevent"])),class:"btn btn-primary btn-sm"},"JSON View")):dt("",!0),d[2]||(d[2]=jt("  ")),t.editorHeight!=="300"?(K(),Z("button",{key:1,type:"button",onClick:d[1]||(d[1]=Hi(m=>l("YAML"),["prevent"])),class:"btn btn-warning btn-sm"},"YAML View")):dt("",!0),x("div",{ref_key:"editorContainer",ref:r,class:"editor-container"},null,512)],64))}}),l6=["data-bs-target"],c6=["data-bs-target"],u6=["id"],f6={class:"modal-dialog modal-xl",role:"document"},h6={class:"modal-content"},d6={class:"modal-body"},p6={class:"row"},m6={class:"col mb-12"},g6={for:"configuration",class:"form-label"},v6={style:{"text-transform":"lowercase",color:"#007bff !important"}},b6={class:"modal-footer"},iR=Kn({__name:"EditConfig",props:{configType:{type:String,required:!0},rulesFile:{type:String,required:!0},save_configuration:{type:Function,required:!0},Content:{type:String,required:!0},ContentType:{type:String,required:!0}},emits:["toast"],setup(t,{emit:e}){const n=t,i=ht(n.Content),r=s=>{i.value=s};return(s,o)=>(K(),Z(Ye,null,[x("button",{type:"button",class:"btn btn-primary btn-sm",id:"add_rule","data-bs-toggle":"modal","data-bs-target":`#rule_modal_${n.configType}_0`},"Add Alert Rule",8,l6),o[6]||(o[6]=jt("   ")),x("button",{type:"button",class:"btn btn-warning btn-sm",id:"edit_configuration","data-bs-toggle":"modal","data-bs-target":`#edit_${n.configType}_config`},"Edit Configuration",8,c6),x("div",{class:"modal fade",id:`edit_${n.configType}_config`,tabindex:"-1"},[x("div",f6,[x("div",h6,[o[5]||(o[5]=x("div",{class:"modal-header"},[x("h5",{class:"modal-title",id:"exampleModalLabel4"},"Edit Configuration"),x("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),x("div",d6,[x("div",p6,[x("div",m6,[x("label",g6,[o[2]||(o[2]=jt("Configuration File: ")),x("span",v6,xe(t.rulesFile),1)]),o[3]||(o[3]=jt("    ")),Ot(nR,{"onUpdate:Content":r,ref:"codeMirrorRef",editorHeight:"600",Content:t.Content,ContentType:t.ContentType,onToast:o[0]||(o[0]=a=>s.$emit("toast",a))},null,8,["Content","ContentType"])])])]),x("div",b6,[o[4]||(o[4]=x("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Close",-1)),x("button",{type:"button",onClick:o[1]||(o[1]=Hi(a=>t.save_configuration(n.configType,i.value,`edit_${n.configType}_config`),["prevent"])),class:"btn btn-primary"},"Save changes")])])])],8,u6)],64))}}),y6=158,O6=159,x6=1,w6=2,_6=3,S6=4,C6=5,T6=6,A6=7,k6=8,E6=9,D6=10,R6=11,$6=12,P6=13,M6=14,L6=15,N6=16,I6=17,F6=18,B6=19,H6=20,j6=21,V6=22,Q6=23,z6=24,W6=25,q6=26,U6=27,X6=28,Y6={inf:y6,nan:O6,bool:x6,ignoring:w6,on:_6,group_left:S6,group_right:C6,offset:T6},$_=(t,e)=>Y6[t.toLowerCase()]||-1,G6={avg:k6,atan2:A6,bottomk:E6,count:D6,count_values:R6,group:$6,max:P6,min:M6,quantile:L6,limitk:N6,limit_ratio:I6,stddev:F6,stdvar:B6,sum:H6,topk:j6,by:V6,without:Q6,and:z6,or:W6,unless:q6,start:U6,end:X6},P_=(t,e)=>G6[t.toLowerCase()]||-1,K6=$p({LineComment:U.comment,LabelName:U.labelName,StringLiteral:U.string,NumberDurationLiteral:U.number,NumberDurationLiteralInDurationContext:U.number,Identifier:U.variableName,"Abs Absent AbsentOverTime Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramAvg HistogramCount HistogramFraction HistogramQuantile HistogramSum DoubleExponentialSmoothing Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc SortByLabel SortByLabelDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Time Timestamp Vector Year":U.function(U.variableName),"Avg Bottomk Count Count_values Group LimitK LimitRatio Max Min Quantile Stddev Stdvar Sum Topk":U.operatorKeyword,"By Without Bool On Ignoring GroupLeft GroupRight Offset Start End":U.modifier,"And Unless Or":U.logicOperator,"Sub Add Mul Mod Div Atan2 Eql Neq Lte Lss Gte Gtr EqlRegex EqlSingle NeqRegex Pow At":U.operator,UnaryOp:U.arithmeticOperator,"( )":U.paren,"[ ]":U.squareBracket,"{ }":U.brace,"⚠":U.invalid}),J6={__proto__:null,absent_over_time:335,absent:337,abs:339,acos:341,acosh:343,asin:345,asinh:347,atan:349,atanh:351,avg_over_time:353,ceil:355,changes:357,clamp:359,clamp_max:361,clamp_min:363,cos:365,cosh:367,count_over_time:369,days_in_month:371,day_of_month:373,day_of_week:375,day_of_year:377,deg:379,delta:381,deriv:383,exp:385,floor:387,histogram_count:389,histogram_fraction:391,histogram_quantile:393,histogram_stddev:395,histogram_stdvar:397,histogram_sum:399,histogram_avg:401,double_exponential_smoothing:403,hour:405,idelta:407,increase:409,info:411,irate:413,label_replace:415,label_join:417,last_over_time:419,ln:421,log10:423,log2:425,mad_over_time:427,max_over_time:429,min_over_time:431,minute:433,month:435,pi:437,predict_linear:439,present_over_time:441,quantile_over_time:443,rad:445,rate:447,resets:449,round:451,scalar:453,sgn:455,sin:457,sinh:459,sort:461,sort_desc:463,sort_by_label:465,sort_by_label_desc:467,sqrt:469,stddev_over_time:471,stdvar_over_time:473,sum_over_time:475,tan:477,tanh:479,timestamp:481,time:483,vector:485,year:487},Z6=Kl.deserialize({version:14,states:"9bOYQPOOO'tQPOOOOQO'#C|'#C|O'yQPO'#C{Q(UQQOOOOQO'#De'#DeO(PQPO'#DdOOQO'#FY'#FYO)cQPO'#F_OYQPO'#F[OYQPO'#F^O0WQSO'#FaO0cQQO'#F`OOQO'#F`'#F`OOQO'#Ft'#FtOOQO'#Df'#DfOOQO'#Dh'#DhOOQO'#Di'#DiOOQO'#Dj'#DjOOQO'#Dk'#DkOOQO'#Dl'#DlOOQO'#Dm'#DmOOQO'#Dn'#DnOOQO'#Do'#DoOOQO'#Dp'#DpOOQO'#Dq'#DqOOQO'#Dr'#DrOOQO'#Ds'#DsOOQO'#Dt'#DtOOQO'#Du'#DuOOQO'#Dv'#DvOOQO'#Dw'#DwOOQO'#Dx'#DxOOQO'#Dy'#DyOOQO'#Dz'#DzOOQO'#D{'#D{OOQO'#D|'#D|OOQO'#D}'#D}OOQO'#EO'#EOOOQO'#EP'#EPOOQO'#EQ'#EQOOQO'#ER'#EROOQO'#ES'#ESOOQO'#ET'#ETOOQO'#EU'#EUOOQO'#EV'#EVOOQO'#EW'#EWOOQO'#EX'#EXOOQO'#EY'#EYOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#E]'#E]OOQO'#E^'#E^OOQO'#E_'#E_OOQO'#E`'#E`OOQO'#Ea'#EaOOQO'#Eb'#EbOOQO'#Ec'#EcOOQO'#Ed'#EdOOQO'#Ee'#EeOOQO'#Ef'#EfOOQO'#Eg'#EgOOQO'#Eh'#EhOOQO'#Ei'#EiOOQO'#Ej'#EjOOQO'#Ek'#EkOOQO'#El'#ElOOQO'#Em'#EmOOQO'#En'#EnOOQO'#Eo'#EoOOQO'#Ep'#EpOOQO'#Eq'#EqOOQO'#Er'#ErOOQO'#Es'#EsOOQO'#Et'#EtOOQO'#Eu'#EuOOQO'#Ev'#EvOOQO'#Ew'#EwOOQO'#Ex'#ExOOQO'#Ey'#EyOOQO'#Ez'#EzOOQO'#E{'#E{OOQO'#E|'#E|OOQO'#E}'#E}OOQO'#FO'#FOOOQO'#FP'#FPOOQO'#FQ'#FQOOQO'#FR'#FROOQO'#FS'#FSOOQO'#FT'#FTOOQO'#FU'#FUOOQO'#FV'#FVQOQPOOO1|QPO'#C}O2RQPO'#DSO(PQPO,59gO2YQQO,59gO3vQPO,59oO3vQPO,59oO3vQPO,59oO3vQPO,59oO3vQPO,59oO:kQPO,5;rO:kQPO,5;uO:|QPO,5<SOOQO,5:O,5:OOOQO,5;t,5;tO;eQQO,5;vO;lQQO,5;xOOQO'#DQ'#DQO=SQPO'#FbO=bQPO,5;{OOQO,5;{,5;{O=nQPO,5;{OOQO,5;z,5;zO=vQSO'#DOOOQO,59i,59iOOQO,59n,59nO>RQQO,59nOOQO1G/R1G/ROOQO'#DV'#DVO1|QPO'#DWOOQO'#Fx'#FxO>]QPO'#FxOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOOQO'#FX'#FXOD}QPO'#FXOEYQSO1G1^OOQO1G1a1G1aOEbQPO'#FYOOQO'#Fj'#FjOOQO1G1n1G1nOEmQPO1G1nOOQO1G1b1G1bOOQO'#Fc'#FcOErQPO,5;|OEwQPO,5<ROE|QSO1G1gOFXQPO1G1gOOQO1G1g1G1gOOQO,59j,59jOFaQPO,59jOYQPO'#FmOFiQPO1G/YOOQO1G/Y1G/YOFqQPO,59rOOQO,5<d,5<dONmQQO7+$uON}QQO7+$uO!!cQQO7+$uO!!yQQO7+$uO!$bQQO7+$uOOQO,5;s,5;sOOQO7+&x7+&xO!${QPO7+&}O!%SQPO7+'YOOQO1G1h1G1hOOQO1G1m1G1mO!%XQPO,5<YOOQO,5<Y,5<YOOQO7+'R7+'RO!%mQSO7+'ROOQO-E9l-E9lO!%xQSO1G/UO!&TQPO1G/UOOQO1G/U1G/UO!&]QQO,5<XOOQO-E9k-E9kOOQO7+$t7+$tO!&gQPO1G/^OOQO<<Ji<<JiO!-RQPO<<JiOOQO<<Jt<<JtOOQO<<Jm<<JmP!-WQSO'#FnOOQO,5<W,5<WOOQO7+$p7+$pO!-`QSO7+$pOOQO-E9j-E9jOOQO7+$x7+$xOOQOAN@TAN@TOOQO<<H[<<H[P!-kQSO'#Fl",stateData:"!-s~O$gOSmOS~OWQOXQOYQOZQO[QO]QO^QO_QO`QOaQObQOcQOdQOeQOu^O!Z[O$dVO$eVO$iXO$m_O$n`O$oaO$pbO$qcO$rdO$seO$tfO$ugO$vhO$wiO$xjO$ykO$zlO${mO$|nO$}oO%OpO%PqO%QrO%RsO%StO%TuO%UvO%VwO%WxO%XyO%YzO%Z{O%[|O%]}O%^!OO%_!PO%`!QO%a!RO%b!SO%c!TO%d!UO%e!VO%f!WO%g!XO%h!YO%i!ZO%j![O%k!]O%l!^O%m!_O%n!`O%o!aO%p!bO%q!cO%r!dO%s!eO%t!fO%u!gO%v!hO%w!iO%x!jO%y!kO%z!lO%{!mO%|!nO%}!oO&O!pO&P!qO&Q!rO&R!sO&S!tO&T!uO&U!vO&V!wO&W!xO&X!yO&Y!zO&Z!{O&[!|O&]!}O&_WO&`WO&aVO&dZO~O!Z#OO~Of#POg#PO$i#QO~OU#ZOV#TOh#WOi#XOj#WOx#TO{#TO|#TO}#TO!O#UO!P#UO!Q#VO!R#VO!S#VO!T#VO!U#VO!V#VO$]#[O&^#YO~O$d#^O$e#^O&a#^OW$RXX$RXY$RXZ$RX[$RX]$RX^$RX_$RX`$RXa$RXb$RXc$RXd$RXe$RXu$RX!Z$RX$d$RX$e$RX$i$RX$m$RX$n$RX$o$RX$p$RX$q$RX$r$RX$s$RX$t$RX$u$RX$v$RX$w$RX$x$RX$y$RX$z$RX${$RX$|$RX$}$RX%O$RX%P$RX%Q$RX%R$RX%S$RX%T$RX%U$RX%V$RX%W$RX%X$RX%Y$RX%Z$RX%[$RX%]$RX%^$RX%_$RX%`$RX%a$RX%b$RX%c$RX%d$RX%e$RX%f$RX%g$RX%h$RX%i$RX%j$RX%k$RX%l$RX%m$RX%n$RX%o$RX%p$RX%q$RX%r$RX%s$RX%t$RX%u$RX%v$RX%w$RX%x$RX%y$RX%z$RX%{$RX%|$RX%}$RX&O$RX&P$RX&Q$RX&R$RX&S$RX&T$RX&U$RX&V$RX&W$RX&X$RX&Y$RX&Z$RX&[$RX&]$RX&_$RX&`$RX&a$RX&d$RX~Os#bOu#aO&e#dO~O&dZOU$SXV$SXh$SXi$SXj$SXx$SX{$SX|$SX}$SX!O$SX!P$SX!Q$SX!R$SX!S$SX!T$SX!U$SX!V$SX$]$SX$c$SX&^$SX$k$SX$j$SX~O$i#gO~O$k#iO~PYOf#POg#POUoaVoahoaioajoaxoa{oa|oa}oa!Ooa!Poa!Qoa!Roa!Soa!Toa!Uoa!Voa$]oa$coa&^oa$koa$joa~OP#lOQ#mOR#mOW$lPX$lPY$lPZ$lP[$lP]$lP^$lP_$lP`$lPa$lPb$lPc$lPd$lPe$lPu$lP!Z$lP$d$lP$e$lP$i$lP$m$lP$n$lP$o$lP$p$lP$q$lP$r$lP$s$lP$t$lP$u$lP$v$lP$w$lP$x$lP$y$lP$z$lP${$lP$|$lP$}$lP%O$lP%P$lP%Q$lP%R$lP%S$lP%T$lP%U$lP%V$lP%W$lP%X$lP%Y$lP%Z$lP%[$lP%]$lP%^$lP%_$lP%`$lP%a$lP%b$lP%c$lP%d$lP%e$lP%f$lP%g$lP%h$lP%i$lP%j$lP%k$lP%l$lP%m$lP%n$lP%o$lP%p$lP%q$lP%r$lP%s$lP%t$lP%u$lP%v$lP%w$lP%x$lP%y$lP%z$lP%{$lP%|$lP%}$lP&O$lP&P$lP&Q$lP&R$lP&S$lP&T$lP&U$lP&V$lP&W$lP&X$lP&Y$lP&Z$lP&[$lP&]$lP&_$lP&`$lP&a$lP&d$lP~O$d#uO$e#uO&_#vO&`#vO&a#uO~Ok#zOl#zO$dVO$eVO&_#yO&`#yO&aVO~O$k#}O~P(UOx#TOU$QaV$Qah$Qai$Qaj$Qa{$Qa|$Qa}$Qa!O$Qa!P$Qa!Q$Qa!R$Qa!S$Qa!T$Qa!U$Qa!V$Qa$]$Qa$c$Qa&^$Qa$k$Qa$j$Qa~O!V$OO$W$OO$X$OO$Y$OO~O!V$OO$W$OO$X$OO$Y$OO$j$RO&e$TO~Os$VOu#aO$k$UO~O$j$WO$k$YO~P(UOQ#mOR#mOW$lXX$lXY$lXZ$lX[$lX]$lX^$lX_$lX`$lXa$lXb$lXc$lXd$lXe$lXu$lX!Z$lX$d$lX$e$lX$i$lX$m$lX$n$lX$o$lX$p$lX$q$lX$r$lX$s$lX$t$lX$u$lX$v$lX$w$lX$x$lX$y$lX$z$lX${$lX$|$lX$}$lX%O$lX%P$lX%Q$lX%R$lX%S$lX%T$lX%U$lX%V$lX%W$lX%X$lX%Y$lX%Z$lX%[$lX%]$lX%^$lX%_$lX%`$lX%a$lX%b$lX%c$lX%d$lX%e$lX%f$lX%g$lX%h$lX%i$lX%j$lX%k$lX%l$lX%m$lX%n$lX%o$lX%p$lX%q$lX%r$lX%s$lX%t$lX%u$lX%v$lX%w$lX%x$lX%y$lX%z$lX%{$lX%|$lX%}$lX&O$lX&P$lX&Q$lX&R$lX&S$lX&T$lX&U$lX&V$lX&W$lX&X$lX&Y$lX&Z$lX&[$lX&]$lX&_$lX&`$lX&a$lX&d$lX~O$d$bO$e$bO&a$bO~O&b$cO&c$dO~O$d#^O$e#^O&a#^O~O$i$eO~Ou$fO~Ou$gO~Os#bOu#aO&e$jO~O$j$kO&e$jO~O$j$mO$k$oO~O$j$WO$k$rO~OS$sOT$sOWzaXzaYzaZza[za]za^za_za`zaazabzaczadzaezauza!Zza$dza$eza$iza$mza$nza$oza$pza$qza$rza$sza$tza$uza$vza$wza$xza$yza$zza${za$|za$}za%Oza%Pza%Qza%Rza%Sza%Tza%Uza%Vza%Wza%Xza%Yza%Zza%[za%]za%^za%_za%`za%aza%bza%cza%dza%eza%fza%gza%hza%iza%jza%kza%lza%mza%nza%oza%pza%qza%rza%sza%tza%uza%vza%wza%xza%yza%zza%{za%|za%}za&Oza&Pza&Qza&Rza&Sza&Tza&Uza&Vza&Wza&Xza&Yza&Zza&[za&]za&_za&`za&aza&dza~Ox#TOUwqhwqiwqjwq!Owq!Pwq!Qwq!Rwq!Swq!Twq!Uwq!Vwq$]wq$cwq&^wq$kwq$jwq~OVwq{wq|wq}wq~PMcOV#TO{#TO|#TO}#TO~PMcOV#TOx#TO{#TO|#TO}#TO!O#UO!P#UOUwqhwqiwqjwq$]wq$cwq&^wq$kwq$jwq~O!Qwq!Rwq!Swq!Twq!Uwq!Vwq~P! _O!Q#VO!R#VO!S#VO!T#VO!U#VO!V#VO~P! _OV#TOh#WOj#WOx#TO{#TO|#TO}#TO!O#UO!P#UO!Q#VO!R#VO!S#VO!T#VO!U#VO!V#VO~OUwqiwq$]wq$cwq&^wq$kwq$jwq~P!#aO&b$tO~P:kO$k$vO~O!V$OO$W$OO$X$OO$Y$OO$j$ba&e$ba~Os#bOu#aO&e$wO~Os$yOu#aO$k$zO~O$j${O$k$zO~O$j$aa$k$aa~P(UO$i#gOWziXziYziZzi[zi]zi^zi_zi`ziazibziczidzieziuzi!Zzi$dzi$ezi$mzi$nzi$ozi$pzi$qzi$rzi$szi$tzi$uzi$vzi$wzi$xzi$yzi$zzi${zi$|zi$}zi%Ozi%Pzi%Qzi%Rzi%Szi%Tzi%Uzi%Vzi%Wzi%Xzi%Yzi%Zzi%[zi%]zi%^zi%_zi%`zi%azi%bzi%czi%dzi%ezi%fzi%gzi%hzi%izi%jzi%kzi%lzi%mzi%nzi%ozi%pzi%qzi%rzi%szi%tzi%uzi%vzi%wzi%xzi%yzi%zzi%{zi%|zi%}zi&Ozi&Pzi&Qzi&Rzi&Szi&Tzi&Uzi&Vzi&Wzi&Xzi&Yzi&Zzi&[zi&]zi&_zi&`zi&azi&dzi~O&b%OO~Os#bOu#aO~Os$yOu#aO$k%PO~Os$yOu#aO~O",goto:")v$mPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP$n$z%W%^P%gP%w$nP&Q&XPPPPPPPPPPP$n&c&oP&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o&o$n&{'U$n$n$n$n'e$n'q(Q(YPPP(Q$nP(aP(d(j(pPPPPP(wPPP)ge^OXY#Q#p#q#r#s#t$WeROXY#Q#p#q#r#s#t$WQ#RRR#k#SQ#h#PQ$Z#mR$}$sQ#cZQ$V#gU$h$R$k$xV$y$m${%QQ#SRQ#]UR#k#RZ#o#T#U#V#W#XY#n#T#U#V#W#XR$[#oeUOXY#Q#p#q#r#s#t$WeTOXY#Q#p#q#r#s#t$WQ#w#YQ#x#ZR$u$dd^OXY#Q#p#q#r#s#t$WR#{#[eYOXY#Q#p#q#r#s#t$Wd]OXY#Q#p#q#r#s#t$WR#f[Q#eZV$i$R$k$xQ$P#bT$Q#c$hR#|#[Q$n$VR$|$nQ$X#jR$q$XS$S#c#eR$l$SQSOQ#_XQ#`YQ#j#QQ$]#pQ$^#qQ$_#rQ$`#sQ$a#tR$p$WQ#p#TQ#q#UQ#r#VQ#s#WR#t#X",nodeNames:"⚠ Bool Ignoring On GroupLeft GroupRight Offset Atan2 Avg Bottomk Count CountValues Group Max Min Quantile LimitK LimitRatio Stddev Stdvar Sum Topk By Without And Or Unless Start End LineComment PromQL AggregateExpr AggregateOp AggregateModifier GroupingLabels LabelName QuotedLabelName StringLiteral FunctionCallBody BinaryExpr Pow BoolModifier MatchingModifierClause Mul Div Mod Add Sub Eql Gte Gtr Lte Lss Neq FunctionCall FunctionIdentifier AbsentOverTime Identifier Absent Abs Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramCount HistogramFraction HistogramQuantile HistogramStdDev HistogramStdVar HistogramSum HistogramAvg DoubleExponentialSmoothing Hour Idelta Increase Info Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MadOverTime MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc SortByLabel SortByLabelDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Timestamp Time Vector Year MatrixSelector NumberDurationLiteralInDurationContext NumberDurationLiteral OffsetExpr ParenExpr SubqueryExpr UnaryExpr UnaryOp VectorSelector LabelMatchers UnquotedLabelMatcher MatchOp EqlSingle EqlRegex NeqRegex QuotedLabelMatcher StepInvariantExpr At AtModifierPreprocessors MetricName",maxTerm:251,nodeProps:[["group",-12,31,37,39,54,134,136,137,138,139,140,142,150,"Expr"]],propSources:[K6],skippedNodes:[0,29],repeatNodeCount:3,tokenData:"4k~RwX^#lpq#lqr$ars$tst&luv'Twx'Yxy({yz)Qz{)V{|)[|})c}!O)h!O!P)o!P!Q*u!Q!R*z!R![+u![!]1O!^!_1z!_!`2X!`!a2n!b!c2{!c!}3Q!}#O3h#P#Q3m#Q#R3r#R#S3Q#S#T3w#T#o3Q#o#p4a#q#r4f#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~#qY$g~X^#lpq#l#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~$dQ!_!`$j#r#s$o~$oO!V~~$tO$Y~~$yWu~OY$tZr$trs%cs#O$t#O#P%h#P;'S$t;'S;=`&f<%lO$t~%hOu~~%kRO;'S$t;'S;=`%t;=`O$t~%yXu~OY$tZr$trs%cs#O$t#O#P%h#P;'S$t;'S;=`&f;=`<%l$t<%lO$t~&iP;=`<%l$t~&qSm~OY&lZ;'S&l;'S;=`&}<%lO&l~'QP;=`<%l&l~'YO}~~'_Wu~OY'YZw'Ywx%cx#O'Y#O#P'w#P;'S'Y;'S;=`(u<%lO'Y~'zRO;'S'Y;'S;=`(T;=`O'Y~(YXu~OY'YZw'Ywx%cx#O'Y#O#P'w#P;'S'Y;'S;=`(u;=`<%l'Y<%lO'Y~(xP;=`<%l'Y~)QO$i~~)VO$k~~)[O{~R)cO&`P!OQ~)hO$j~R)oO&_P!PQ~)rP!Q![)u~)zS&a~!Q![)u!g!h*W#R#S)o#X#Y*W~*ZR{|*d}!O*d!Q![*j~*gP!Q![*j~*oQ&a~!Q![*j#R#S*d~*zO|~~+P[&a~!O!P)o!Q![+u!g!h*W#R#S,m#W#X-X#X#Y*W#[#]-p#a#b.U#g#h.x#k#l/Z#l#m0d#m#n/u~+zZ&a~!O!P)o!Q![+u!g!h*W#R#S,m#W#X-X#X#Y*W#[#]-p#a#b.U#g#h.x#k#l/Z#m#n/u~,pP!Q![,s~,xT&a~!O!P)o!Q![,s!g!h*W#R#S,m#X#Y*W~-^P&a~!Q![-a~-dS!Q![-a#[#]-p#a#b.U#g#h.x~-uP&a~!Q![-x~-{R!Q![-x#a#b.U#g#h.x~.ZQ&a~!Q![.a#g#h.s~.dR!Q![.a#a#b.m#g#h.x~.pP#g#h.s~.xO&a~~.}P&a~!Q![/Q~/TQ!Q![/Q#a#b.m~/`P&a~!Q![/c~/fT!Q![/c#W#X-X#[#]-p#a#b.U#g#h.x~/zP&a~!Q![/}~0QU!Q![/}#W#X-X#[#]-p#a#b.U#g#h.x#k#l/Z~0gR!Q![0p!c!i0p#T#Z0p~0uR&a~!Q![0p!c!i0p#T#Z0pV1VT&cS!ZR!Q![1f![!]1f!c!}1f#R#S1f#T#o1fR1kT!ZR!Q![1f![!]1f!c!}1f#R#S1f#T#o1f~2PP!U~!_!`2S~2XO!T~~2^Q$WP!_!`2d#r#s2iQ2iO!QQ~2nO$X~~2sP!S~!_!`2v~2{O!R~~3QO$]~V3XT!ZRsS!Q![3Q![!]1f!c!}3Q#R#S3Q#T#o3Q~3mO&^~~3rO&b~~3wOx~~3zTO#S3w#S#T%c#T;'S3w;'S;=`4Z<%lO3w~4^P;=`<%l3w~4fO&d~~4kO&e~",tokenizers:[0,1,2],topRules:{PromQL:[0,30],MetricName:[1,153]},specialized:[{term:57,get:(t,e)=>$_(t)<<1,external:$_},{term:57,get:(t,e)=>P_(t)<<1|1,external:P_,extend:!0},{term:57,get:t=>J6[t]||-1}],tokenPrec:0}),e7=3,t7=4,n7=5,rR=9,sR=11,i7=15,oR=16,aR=17,lR=21,S0=24,C0=25,T0=26,r7=30,Qp=31,s7=32,fu=34,Qu=35,zu=36,Wu=37,ba=38,Tl=39,o7=40,cR=41,a7=42,l7=43,c7=44,u7=45,f7=46,h7=47,Tb=48,Ab=49,kb=50,Eb=51,Db=52,qu=53,uR=54,d7=56,jd=57,p7=58,m7=59,g7=60,v7=61,b7=62,y7=63,O7=64,x7=65,w7=66,_7=67,S7=68,C7=69,T7=70,A7=71,k7=72,E7=73,D7=74,R7=75,$7=76,P7=77,M7=78,L7=79,N7=80,I7=81,F7=82,B7=83,H7=84,j7=85,V7=86,Q7=87,z7=88,W7=89,q7=90,U7=91,X7=92,Y7=93,G7=94,K7=95,J7=96,Z7=97,eY=98,tY=99,nY=100,iY=101,rY=102,sY=103,oY=104,aY=105,lY=106,cY=107,uY=108,fY=109,hY=110,dY=111,pY=112,mY=113,gY=114,vY=115,bY=116,yY=117,OY=118,xY=119,wY=120,_Y=121,SY=122,CY=123,TY=124,AY=125,kY=126,EY=127,DY=128,RY=129,$Y=130,PY=131,MY=132,LY=133,Uu=134,Vd=135,A0=136,Xu=137,fR=138,ec=139,hR=140,wf=142,hu=143,aa=144,Qd=145,_f=146,dR=147,pR=148,Al=149,k0=150;var H;(function(t){t.none="none",t.vector="vector",t.scalar="scalar",t.matrix="matrix",t.string="string"})(H||(H={}));const NY={[m7]:{name:"abs",argTypes:[H.vector],variadic:0,returnType:H.vector},[p7]:{name:"absent",argTypes:[H.vector],variadic:0,returnType:H.vector},[d7]:{name:"absent_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[g7]:{name:"acos",argTypes:[H.vector],variadic:0,returnType:H.vector},[v7]:{name:"acosh",argTypes:[H.vector],variadic:0,returnType:H.vector},[b7]:{name:"asin",argTypes:[H.vector],variadic:0,returnType:H.vector},[y7]:{name:"asinh",argTypes:[H.vector],variadic:0,returnType:H.vector},[O7]:{name:"atan",argTypes:[H.vector],variadic:0,returnType:H.vector},[x7]:{name:"atanh",argTypes:[H.vector],variadic:0,returnType:H.vector},[w7]:{name:"avg_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[_7]:{name:"ceil",argTypes:[H.vector],variadic:0,returnType:H.vector},[S7]:{name:"changes",argTypes:[H.matrix],variadic:0,returnType:H.vector},[C7]:{name:"clamp",argTypes:[H.vector,H.scalar,H.scalar],variadic:0,returnType:H.vector},[T7]:{name:"clamp_max",argTypes:[H.vector,H.scalar],variadic:0,returnType:H.vector},[A7]:{name:"clamp_min",argTypes:[H.vector,H.scalar],variadic:0,returnType:H.vector},[k7]:{name:"cos",argTypes:[H.vector],variadic:0,returnType:H.vector},[E7]:{name:"Cosh",argTypes:[H.vector],variadic:0,returnType:H.vector},[D7]:{name:"count_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[R7]:{name:"days_in_month",argTypes:[H.vector],variadic:1,returnType:H.vector},[$7]:{name:"day_of_month",argTypes:[H.vector],variadic:1,returnType:H.vector},[P7]:{name:"day_of_week",argTypes:[H.vector],variadic:1,returnType:H.vector},[M7]:{name:"day_of_year",argTypes:[H.vector],variadic:1,returnType:H.vector},[L7]:{name:"deg",argTypes:[H.vector],variadic:0,returnType:H.vector},[N7]:{name:"delta",argTypes:[H.matrix],variadic:0,returnType:H.vector},[I7]:{name:"deriv",argTypes:[H.matrix],variadic:0,returnType:H.vector},[F7]:{name:"exp",argTypes:[H.vector],variadic:0,returnType:H.vector},[B7]:{name:"floor",argTypes:[H.vector],variadic:0,returnType:H.vector},[q7]:{name:"histogram_avg",argTypes:[H.vector],variadic:0,returnType:H.vector},[H7]:{name:"histogram_count",argTypes:[H.vector],variadic:0,returnType:H.vector},[j7]:{name:"histogram_fraction",argTypes:[H.scalar,H.scalar,H.vector],variadic:0,returnType:H.vector},[V7]:{name:"histogram_quantile",argTypes:[H.scalar,H.vector],variadic:0,returnType:H.vector},[Q7]:{name:"histogram_stddev",argTypes:[H.vector],variadic:0,returnType:H.vector},[z7]:{name:"histogram_stdvar",argTypes:[H.vector],variadic:0,returnType:H.vector},[W7]:{name:"histogram_sum",argTypes:[H.vector],variadic:0,returnType:H.vector},[U7]:{name:"double_exponential_smoothing",argTypes:[H.matrix,H.scalar,H.scalar],variadic:0,returnType:H.vector},[X7]:{name:"hour",argTypes:[H.vector],variadic:1,returnType:H.vector},[Y7]:{name:"idelta",argTypes:[H.matrix],variadic:0,returnType:H.vector},[G7]:{name:"increase",argTypes:[H.matrix],variadic:0,returnType:H.vector},[K7]:{name:"info",argTypes:[H.vector,H.vector],variadic:1,returnType:H.vector},[J7]:{name:"irate",argTypes:[H.matrix],variadic:0,returnType:H.vector},[Z7]:{name:"label_replace",argTypes:[H.vector,H.string,H.string,H.string,H.string],variadic:0,returnType:H.vector},[eY]:{name:"label_join",argTypes:[H.vector,H.string,H.string,H.string],variadic:-1,returnType:H.vector},[tY]:{name:"last_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[nY]:{name:"ln",argTypes:[H.vector],variadic:0,returnType:H.vector},[iY]:{name:"log10",argTypes:[H.vector],variadic:0,returnType:H.vector},[rY]:{name:"log2",argTypes:[H.vector],variadic:0,returnType:H.vector},[sY]:{name:"mad_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[oY]:{name:"max_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[aY]:{name:"min_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[lY]:{name:"minute",argTypes:[H.vector],variadic:1,returnType:H.vector},[cY]:{name:"month",argTypes:[H.vector],variadic:1,returnType:H.vector},[uY]:{name:"pi",argTypes:[],variadic:0,returnType:H.vector},[fY]:{name:"predict_linear",argTypes:[H.matrix,H.scalar],variadic:0,returnType:H.vector},[hY]:{name:"present_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[dY]:{name:"quantile_over_time",argTypes:[H.scalar,H.matrix],variadic:0,returnType:H.vector},[pY]:{name:"rad",argTypes:[H.vector],variadic:0,returnType:H.vector},[mY]:{name:"rate",argTypes:[H.matrix],variadic:0,returnType:H.vector},[gY]:{name:"resets",argTypes:[H.matrix],variadic:0,returnType:H.vector},[vY]:{name:"round",argTypes:[H.vector,H.scalar],variadic:1,returnType:H.vector},[bY]:{name:"scalar",argTypes:[H.vector],variadic:0,returnType:H.scalar},[yY]:{name:"sgn",argTypes:[H.vector],variadic:0,returnType:H.vector},[OY]:{name:"sin",argTypes:[H.vector],variadic:0,returnType:H.vector},[xY]:{name:"Sinh",argTypes:[H.vector],variadic:0,returnType:H.vector},[wY]:{name:"sort",argTypes:[H.vector],variadic:0,returnType:H.vector},[_Y]:{name:"sort_desc",argTypes:[H.vector],variadic:0,returnType:H.vector},[SY]:{name:"sort_by_label",argTypes:[H.vector,H.string],variadic:-1,returnType:H.vector},[CY]:{name:"sort_by_label_desc",argTypes:[H.vector,H.string],variadic:-1,returnType:H.vector},[TY]:{name:"sqrt",argTypes:[H.vector],variadic:0,returnType:H.vector},[AY]:{name:"stddev_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[kY]:{name:"stdvar_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[EY]:{name:"sum_over_time",argTypes:[H.matrix],variadic:0,returnType:H.vector},[DY]:{name:"tan",argTypes:[H.vector],variadic:0,returnType:H.vector},[RY]:{name:"tanh",argTypes:[H.vector],variadic:0,returnType:H.vector},[PY]:{name:"time",argTypes:[],variadic:0,returnType:H.scalar},[$Y]:{name:"timestamp",argTypes:[H.vector],variadic:0,returnType:H.vector},[MY]:{name:"vector",argTypes:[H.scalar],variadic:0,returnType:H.vector},[LY]:{name:"year",argTypes:[H.vector],variadic:1,returnType:H.vector}};function mR(t){return NY[t]}class gR{constructor(e,n,i){this.type=e,this.name=n,this.value=i}matchesEmpty(){switch(this.type){case _f:return this.value==="";case qu:return this.value!=="";default:return!1}}}var Kr;(function(t){t.CardOneToOne="one-to-one",t.CardManyToOne="many-to-one",t.CardOneToMany="one-to-many",t.CardManyToMany="many-to-many"})(Kr||(Kr={}));function IY(t,e){const n=new gR(0,"",""),i=t.cursor();switch(i.type.id){case Al:if(!i.next())return n;do switch(i.type.id){case zu:n.name=e.sliceDoc(i.from,i.to).slice(1,-1);break;case Qd:const r=i.node.firstChild;r&&(n.type=r.type.id);break;case Wu:n.value=e.sliceDoc(i.from,i.to).slice(1,-1);break}while(i.nextSibling());break;case aa:if(!i.next())return n;do switch(i.type.id){case Qu:n.name=e.sliceDoc(i.from,i.to);break;case Qd:const r=i.node.firstChild;r&&(n.type=r.type.id);break;case Wu:n.value=e.sliceDoc(i.from,i.to).slice(1,-1);break}while(i.nextSibling());break;case zu:n.name="__name__",n.value=e.sliceDoc(i.from,i.to).slice(1,-1),n.type=_f;break}return n}function vR(t,e){const n=[];return t.forEach(i=>{n.push(IY(i,e))}),n}function FY(t,e,n){if(!e||e.length===0)return t;let i="";for(const r of e){if(r.name===n||r.value==="")continue;let s="";switch(r.type){case _f:s="=";break;case qu:s="!=";break;case pR:s="!~";break;case dR:s="=~";break;default:s="="}const o=`${r.name}${s}"${r.value}"`;i===""?i=o:i=`${i},${o}`}return`${t}{${i}}`}function E0(t,e){for(;;){if(!t||t.type.id===e)return t;t=t.parent}return null}function ho(t,...e){const n=t.cursor();if(!n.next())return!1;let i=!1;do i=e.some(r=>n.type.id===r||n.type.name===r);while(!i&&n.nextSibling());return i}function M_(t,...e){const n=t.cursor();if(!n.next())return!1;let i=0;do n.type.is(e[i])&&i++;while(i<e.length&&n.nextSibling());return i>=e.length}function Go(t){var e;if(!t)return H.none;switch(t.type.id){case Qp:return H.vector;case wf:return H.vector;case Xu:return Go(t.firstChild);case Wu:return H.string;case A0:return H.scalar;case Uu:return H.matrix;case ec:return H.matrix;case fR:return Go(t.getChild("Expr"));case hR:return Go(t.getChild("Expr"));case Tl:const n=Go(t.firstChild),i=Go(t.lastChild);return n===H.scalar&&i===H.scalar?H.scalar:H.vector;case uR:const r=(e=t.firstChild)===null||e===void 0?void 0:e.firstChild;return r?mR(r.type.id).returnType:H.none;case k0:return Go(t.getChild("Expr"));default:return H.none}}function BY(t,e){if(!e||e.type.id!==Tl)return null;const n={card:Kr.CardOneToOne,matchingLabels:[],on:!1,include:[]},i=e.getChild(a7);if(i){n.on=i.getChild(e7)!==null;const s=i.getChild(fu),o=s?s.getChildren(Qu):[];for(const u of o)n.matchingLabels.push(t.sliceDoc(u.from,u.to));const a=i.getChild(t7),l=i.getChild(n7),c=a||l;if(c){n.card=a?Kr.CardManyToOne:Kr.CardOneToMany;const u=c.nextSibling,f=(u==null?void 0:u.getChildren(Qu))||[];for(const d of f)n.include.push(t.sliceDoc(d.from,d.to))}}return ho(e,S0,C0,T0)&&n.card===Kr.CardOneToOne&&(n.card=Kr.CardManyToMany),n}class HY{constructor(e){this.tree=kn(e),this.state=e,this.diagnostics=[]}getDiagnostics(){return this.diagnostics.sort((e,n)=>e.from-n.from)}analyze(){this.checkAST(this.tree.topNode.firstChild),this.diagnoseAllErrorNodes()}diagnoseAllErrorNodes(){const e=this.tree.cursor();for(;e.next();)if(e.type.id===0&&e.to!==this.tree.topNode.to){const n=e.node.parent;this.diagnostics.push({severity:"error",message:"unexpected expression",from:n?n.from:e.from,to:n?n.to:e.to})}}checkAST(e){if(!e)return H.none;switch(e.type.id){case Qp:this.checkAggregationExpr(e);break;case Tl:this.checkBinaryExpr(e);break;case uR:this.checkCallFunction(e);break;case fR:this.checkAST(e.getChild("Expr"));break;case hR:const n=this.checkAST(e.getChild("Expr"));n!==H.scalar&&n!==H.vector&&this.addDiagnostic(e,`unary expression only allowed on expressions of type scalar or instant vector, got ${n}`);break;case ec:const i=this.checkAST(e.getChild("Expr"));i!==H.vector&&this.addDiagnostic(e,`subquery is only allowed on instant vector, got ${i} in ${e.name} instead`);break;case Uu:this.checkAST(e.getChild("Expr"));break;case wf:this.checkVectorSelector(e);break;case k0:const r=this.checkAST(e.getChild("Expr"));r!==H.vector&&r!==H.matrix&&this.addDiagnostic(e,"@ modifier must be preceded by an instant selector vector or range vector selector or a subquery");break}return Go(e)}checkAggregationExpr(e){var n;const i=(n=e.firstChild)===null||n===void 0?void 0:n.firstChild;if(!i){this.addDiagnostic(e,"aggregation operator expected in aggregation expression but got nothing");return}const r=e.getChild(ba),s=r?r.getChildren("Expr"):[];if(!s.length){this.addDiagnostic(e,"unable to find the parameter for the expression");return}this.expectType(s[s.length-1],H.vector,"aggregation expression"),(i.type.id===lR||i.type.id===rR||i.type.id===oR||i.type.id===aR||i.type.id===i7)&&this.expectType(s[0],H.scalar,"aggregation parameter"),i.type.id===sR&&this.expectType(s[0],H.string,"aggregation parameter")}checkBinaryExpr(e){const n=e.firstChild,i=e.lastChild;if(!n||!i){this.addDiagnostic(e,"left or right expression is missing in binary expression");return}const r=this.checkAST(n),s=this.checkAST(i),o=e.getChild(cR),a=ho(e,Tb,qu,Eb,Db,Ab,kb),l=ho(e,S0,C0,T0);o?a||this.addDiagnostic(e,"bool modifier can only be used on comparison operators"):a&&r===H.scalar&&s===H.scalar&&this.addDiagnostic(e,"comparisons between scalars must use BOOL modifier");const c=BY(this.state,e);if(c!==null&&c.on)for(const u of c.matchingLabels)for(const f of c.include)u===f&&this.addDiagnostic(e,`label "${u}" must not occur in ON and GROUP clause at once`);r!==H.scalar&&r!==H.vector&&this.addDiagnostic(n,"binary expression must contain only scalar and instant vector types"),s!==H.scalar&&s!==H.vector&&this.addDiagnostic(i,"binary expression must contain only scalar and instant vector types"),(r!==H.vector||s!==H.vector)&&c!==null?c.matchingLabels.length>0&&this.addDiagnostic(e,"vector matching only allowed between instant vectors"):l&&(((c==null?void 0:c.card)===Kr.CardOneToMany||(c==null?void 0:c.card)===Kr.CardManyToOne)&&this.addDiagnostic(e,"no grouping allowed for set operations"),(c==null?void 0:c.card)!==Kr.CardManyToMany&&this.addDiagnostic(e,"set operations must always be many-to-many")),(r===H.scalar||s===H.scalar)&&l&&this.addDiagnostic(e,"set operator not allowed in binary scalar expression")}checkCallFunction(e){var n;const i=(n=e.firstChild)===null||n===void 0?void 0:n.firstChild;if(!i){this.addDiagnostic(e,"function not defined");return}const r=e.getChild(ba),s=r?r.getChildren("Expr"):[],o=mR(i.type.id),a=o.argTypes.length;if(o.variadic===0)s.length!==a&&this.addDiagnostic(e,`expected ${a} argument(s) in call to "${o.name}", got ${s.length}`);else{const c=a-1;if(c>s.length)this.addDiagnostic(e,`expected at least ${c} argument(s) in call to "${o.name}", got ${s.length}`);else{const u=c+o.variadic;o.variadic>0&&u<s.length&&this.addDiagnostic(e,`expected at most ${u} argument(s) in call to "${o.name}", got ${s.length}`)}}o.name==="info"&&s.length>1&&s[1].getChild(jd)&&this.addDiagnostic(e,`expected label selectors as the second argument to "info" function, got ${s[1].type}`);let l=0;for(let c=0;c<s.length;c++){if(l=c,l>=o.argTypes.length){if(o.variadic===0)break;l=o.argTypes.length-1}this.expectType(s[c],o.argTypes[l],`call to function "${o.name}"`)}}checkVectorSelector(e){const n=e.getChild(hu),i=[zu,Al,aa];let r=[];for(const l of i)r=r.concat(vR(n?n.getChildren(l):[],this.state));let s="";const o=e.getChild(jd);if(o&&(s=this.state.sliceDoc(o.from,o.to)),s!==""){const l=r.find(c=>c.name==="__name__");l&&this.addDiagnostic(e,`metric name must not be set twice: ${s} or ${l.value}`),r.push(new gR(_f,"__name__",s))}else{const l=r.filter(c=>c.name==="__name__");l.length>1&&this.addDiagnostic(e,`metric name must not be set twice: ${l[0].value} or ${l[1].value}`)}r.every(l=>l.matchesEmpty())&&this.addDiagnostic(e,"vector selector must contain at least one non-empty matcher")}expectType(e,n,i){const r=this.checkAST(e);r!==n&&this.addDiagnostic(e,`expected type ${n} in ${i}, got ${r}`)}addDiagnostic(e,n){this.diagnostics.push({severity:"error",message:n,from:e.from,to:e.to})}}const bR=[{label:"y"},{label:"w"},{label:"d"},{label:"h"},{label:"m"},{label:"s"},{label:"ms"}],jY=[{label:"="},{label:"!="},{label:"=~"},{label:"!~"}],yR=[{label:"^"},{label:"*"},{label:"/"},{label:"%"},{label:"+"},{label:"-"},{label:"=="},{label:">="},{label:">"},{label:"<"},{label:"<="},{label:"!="},{label:"atan2"},{label:"and"},{label:"or"},{label:"unless"}],VY=[{label:"on",info:"Match only on specified labels",type:"keyword"},{label:"ignoring",info:"Ignore specified labels for matching",type:"keyword"},{label:"group_left",info:"Allow many-to-one matching",type:"keyword"},{label:"group_right",info:"Allow one-to-many matching",type:"keyword"}],QY=[{label:"start()",info:"resolve to the start of the query",type:"keyword"},{label:"end()",info:"resolve to the end of the query",type:"keyword"}],zY=[{label:"abs",detail:"function",info:"Return absolute values of input series",type:"function"},{label:"absent",detail:"function",info:"Determine whether input vector is empty",type:"function"},{label:"absent_over_time",detail:"function",info:"Determine whether input range vector is empty",type:"function"},{label:"acos",detail:"function",info:"Calculate the arccosine, in radians, for input series",type:"function"},{label:"acosh",detail:"function",info:"Calculate the inverse hyperbolic cosine, in radians, for input series",type:"function"},{label:"asin",detail:"function",info:"Calculate the arcsine, in radians, for input series",type:"function"},{label:"asinh",detail:"function",info:"Calculate the inverse hyperbolic sine, in radians, for input series",type:"function"},{label:"atan",detail:"function",info:"Calculate the arctangent, in radians, for input series",type:"function"},{label:"atanh",detail:"function",info:"Calculate the inverse hyperbolic tangent, in radians, for input series",type:"function"},{label:"avg_over_time",detail:"function",info:"Average series values over time",type:"function"},{label:"ceil",detail:"function",info:"Round up values of input series to nearest integer",type:"function"},{label:"changes",detail:"function",info:"Return number of value changes in input series over time",type:"function"},{label:"clamp",detail:"function",info:"Limit the value of input series between a minimum and a maximum",type:"function"},{label:"clamp_max",detail:"function",info:"Limit the value of input series to a maximum",type:"function"},{label:"clamp_min",detail:"function",info:"Limit the value of input series to a minimum",type:"function"},{label:"cos",detail:"function",info:"Calculate the cosine, in radians, for input series",type:"function",boost:-1},{label:"cosh",detail:"function",info:"Calculate the hyperbolic cosine, in radians, for input series",type:"function",boost:-1},{label:"count_over_time",detail:"function",info:"Count the number of values for each input series",type:"function"},{label:"days_in_month",detail:"function",info:"Return the number of days in current month for provided timestamps",type:"function"},{label:"day_of_month",detail:"function",info:"Return the day of the month for provided timestamps",type:"function"},{label:"day_of_week",detail:"function",info:"Return the day of the week for provided timestamps",type:"function"},{label:"day_of_year",detail:"function",info:"Return the day of the year for provided timestamps",type:"function"},{label:"deg",detail:"function",info:"Convert radians to degrees for input series",type:"function",boost:-1},{label:"delta",detail:"function",info:"Calculate the difference between beginning and end of a range vector (for gauges)",type:"function"},{label:"deriv",detail:"function",info:"Calculate the per-second derivative over series in a range vector (for gauges)",type:"function"},{label:"exp",detail:"function",info:"Calculate exponential function for input vector values",type:"function"},{label:"floor",detail:"function",info:"Round down values of input series to nearest integer",type:"function"},{label:"histogram_avg",detail:"function",info:"Return the average of observations from a native histogram (experimental feature)",type:"function"},{label:"histogram_count",detail:"function",info:"Return the count of observations from a native histogram (experimental feature)",type:"function"},{label:"histogram_fraction",detail:"function",info:"Calculate fractions of observations within an interval from a native histogram (experimental feature)",type:"function"},{label:"histogram_quantile",detail:"function",info:"Calculate quantiles from native histograms (experimental) and from conventional histogram buckets",type:"function"},{label:"histogram_sum",detail:"function",info:"Return the sum of observations from a native histogram (experimental feature)",type:"function"},{label:"histogram_stddev",detail:"function",info:"Estimate the standard deviation of observations from a native histogram (experimental feature)",type:"function"},{label:"histogram_stdvar",detail:"function",info:"Estimate the standard variance of observations from a native histogram (experimental feature)",type:"function"},{label:"double_exponential_smoothing",detail:"function",info:"Calculate smoothed value of input series",type:"function"},{label:"hour",detail:"function",info:"Return the hour of the day for provided timestamps",type:"function"},{label:"idelta",detail:"function",info:"Calculate the difference between the last two samples of a range vector (for counters)",type:"function"},{label:"increase",detail:"function",info:"Calculate the increase in value over a range of time (for counters)",type:"function"},{label:"info",detail:"function",info:"Add data labels from corresponding info metrics",type:"function"},{label:"irate",detail:"function",info:"Calculate the per-second increase over the last two samples of a range vector (for counters)",type:"function"},{label:"label_replace",detail:"function",info:"Set or replace label values",type:"function"},{label:"label_join",detail:"function",info:"Join together label values into new label",type:"function"},{label:"last_over_time",detail:"function",info:"The most recent point value in specified interval.",type:"function"},{label:"ln",detail:"function",info:"Calculate natural logarithm of input series",type:"function"},{label:"log10",detail:"function",info:"Calulcate base-10 logarithm of input series",type:"function"},{label:"log2",detail:"function",info:"Calculate base-2 logarithm of input series",type:"function"},{label:"mad_over_time",detail:"function",info:"Return the median absolute deviation over time for input series",type:"function"},{label:"max_over_time",detail:"function",info:"Return the maximum value over time for input series",type:"function"},{label:"min_over_time",detail:"function",info:"Return the minimum value over time for input series",type:"function"},{label:"minute",detail:"function",info:"Return the minute of the hour for provided timestamps",type:"function"},{label:"month",detail:"function",info:"Return the month for provided timestamps",type:"function"},{label:"pi",detail:"function",info:"Return pi",type:"function"},{label:"predict_linear",detail:"function",info:"Predict the value of a gauge into the future",type:"function"},{label:"present_over_time",detail:"function",info:"the value 1 for any series in the specified interval",type:"function"},{label:"quantile_over_time",detail:"function",info:"Calculate value quantiles over time for input series",type:"function"},{label:"rad",detail:"function",info:"Convert degrees to radians for input series",type:"function",boost:-1},{label:"rate",detail:"function",info:"Calculate per-second increase over a range vector (for counters)",type:"function"},{label:"resets",detail:"function",info:"Return number of value decreases (resets) in input series of time",type:"function"},{label:"round",detail:"function",info:"Round values of input series to nearest integer",type:"function"},{label:"scalar",detail:"function",info:"Convert single-element series vector into scalar value",type:"function"},{label:"sgn",detail:"function",info:"Returns the sign of the instant vector",type:"function"},{label:"sin",detail:"function",info:"Calculate the sine, in radians, for input series",type:"function"},{label:"sinh",detail:"function",info:"Calculate the hyperbolic sine, in radians, for input series",type:"function"},{label:"sort",detail:"function",info:"Sort input series ascendingly by value",type:"function"},{label:"sort_desc",detail:"function",info:"Sort input series descendingly by value",type:"function"},{label:"sort_by_label",detail:"function",info:"Sort input series ascendingly by label value",type:"function"},{label:"sort_by_label_desc",detail:"function",info:"Sort input series descendingly by value value",type:"function"},{label:"sqrt",detail:"function",info:"Return the square root for input series",type:"function"},{label:"stddev_over_time",detail:"function",info:"Calculate the standard deviation within input series over time",type:"function"},{label:"stdvar_over_time",detail:"function",info:"Calculate the standard variance within input series over time",type:"function"},{label:"sum_over_time",detail:"function",info:"Calculate the sum over the values of input series over time",type:"function"},{label:"tan",detail:"function",info:"Calculate the tangent, in radians, for input series",type:"function"},{label:"tanh",detail:"function",info:"Calculate the hyperbolic tangent, in radians, for input series",type:"function"},{label:"time",detail:"function",info:"Return the Unix timestamp at the current evaluation time",type:"function"},{label:"timestamp",detail:"function",info:"Return the Unix timestamp for the samples in the input vector",type:"function"},{label:"vector",detail:"function",info:"Convert a scalar value into a single-element series vector",type:"function"},{label:"year",detail:"function",info:"Return the year for provided timestamps",type:"function"}],OR=[{label:"avg",detail:"aggregation",info:"Calculate the average over dimensions",type:"keyword"},{label:"bottomk",detail:"aggregation",info:"Smallest k elements by sample value",type:"keyword"},{label:"count",detail:"aggregation",info:"Count number of elements in the vector",type:"keyword"},{label:"count_values",detail:"aggregation",info:"Count number of elements with the same value",type:"keyword"},{label:"group",detail:"aggregation",info:"Group series, while setting the sample value to 1",type:"keyword"},{label:"limitk",detail:"aggregation",info:"Sample k elements",type:"keyword"},{label:"limit_ratio",detail:"aggregation",info:"Sample given ratio of elements",type:"keyword"},{label:"max",detail:"aggregation",info:"Select maximum over dimensions",type:"keyword"},{label:"min",detail:"aggregation",info:"Select minimum over dimensions",type:"keyword"},{label:"quantile",detail:"aggregation",info:"Calculate φ-quantile (0 ≤ φ ≤ 1) over dimensions",type:"keyword"},{label:"stddev",detail:"aggregation",info:"Calculate population standard deviation over dimensions",type:"keyword"},{label:"stdvar",detail:"aggregation",info:"Calculate population standard variance over dimensions",type:"keyword"},{label:"sum",detail:"aggregation",info:"Calculate sum over dimensions",type:"keyword"},{label:"topk",detail:"aggregation",info:"Largest k elements by sample value",type:"keyword"}],WY=[{label:"by",info:"Keep the listed labels, remove all others.",type:"keyword"},{label:"without",info:"Remove the listed labels, preserve all others.",type:"keyword"}],qY=[{label:"nan",info:"Floating-point NaN value",type:"constant"},{label:"inf",info:"Floating-point infinity",type:"constant"}],UY=[{label:"sum(rate(__input_vector__[5m]))",type:"function",detail:"snippet",info:"Sum over rates of increase",apply:Xa("sum(rate(${__input_vector__}[5m]))")},{label:"histogram_quantile(__quantile__, sum by(le) (rate(__histogram_metric__[5m])))",type:"function",detail:"snippet",info:"Approximate a quantile value from an aggregated histogram",apply:Xa("histogram_quantile(${__quantile__}, sum by(le) (rate(${__histogram_metric__}[5m])))")},{label:'label_replace(__input_vector__, "__dst__", "__replacement__", "__src__", "__regex__")',type:"function",detail:"snippet",info:"Set or replace a label value in an input vector",apply:Xa('label_replace(${__input_vector__}, "${__dst__}", "${__replacement__}", "${__src__}", "${__regex__}")')},{label:"topk(__rank_number__, __input_vector__)",type:"function",detail:"snippet",info:"Largest k elements by sample value",apply:Xa("topk(${__rank_number__}, ${__input_vector__})")},{label:"bottomk(__rank_number__, __input_vector__)",type:"function",detail:"snippet",info:"Smallest k elements by sample value",apply:Xa("bottomk(${__rank_number__}, ${__input_vector__})")},{label:'count_values("__label_name__", __input_vector__)',type:"function",detail:"snippet",info:"Count the number of series per distinct sample value",apply:Xa('count_values("${__label_name__}", ${__metric__})')}],gs={matchOp:jY,binOp:yR,duration:bR,binOpModifier:VY,atModifier:QY,functionIdentifier:zY,aggregateOp:OR,aggregateOpModifier:WY,number:qY};var Ve;(function(t){t[t.MetricName=0]="MetricName",t[t.LabelName=1]="LabelName",t[t.LabelValue=2]="LabelValue",t[t.Function=3]="Function",t[t.Aggregation=4]="Aggregation",t[t.BinOpModifier=5]="BinOpModifier",t[t.BinOp=6]="BinOp",t[t.MatchOp=7]="MatchOp",t[t.AggregateOpModifier=8]="AggregateOpModifier",t[t.Duration=9]="Duration",t[t.Offset=10]="Offset",t[t.Bool=11]="Bool",t[t.AtModifiers=12]="AtModifiers",t[t.Number=13]="Number"})(Ve||(Ve={}));function XY(t,e){const n=E0(t,Qp);if(!n)return"";let i="";return n.cursor().iterate(r=>{if(r.type.id===wf&&(i=Xc(r.node,e),i))return!1}),i}function Xc(t,e){let n=E0(t,wf);return!n||(n=n.getChild(jd),!n)?"":e.sliceDoc(n.from,n.to)}function YY(t,e,n,i=!1,r=!0){const s=t;return i&&s.push(...UY),{from:e,to:n,options:s,validFor:r?/^[a-zA-Z0-9_:]+$/:void 0}}function GY(t,e){let n=t.from+1;return t.firstChild!==null&&(n=e),n}function KY(t,e,n){var i,r,s,o,a,l,c;const u=t.doc.slice(e.from,n).toString();let f=e.from;return e.type.id===hu||e.type.id===fu?f=GY(e,n):e.type.id===ba&&e.firstChild===null||e.type.id===Wu&&(((i=e.parent)===null||i===void 0?void 0:i.type.id)===aa||((r=e.parent)===null||r===void 0?void 0:r.type.id)===Al)?f++:(e.type.id===Xu||e.type.id===Vd&&!bR.map(d=>d.label).includes(u[u.length-1])||e.type.id===A0&&((s=e.parent)===null||s===void 0?void 0:s.type.id)===0&&((o=e.parent.parent)===null||o===void 0?void 0:o.type.id)===ec||e.type.id===ba&&xR(e)&&e.firstChild!==null||e.type.id===0&&(((a=e.parent)===null||a===void 0?void 0:a.type.id)===Xu||((l=e.parent)===null||l===void 0?void 0:l.type.id)===Uu||((c=e.parent)===null||c===void 0?void 0:c.type.id)===ec&&ho(e.parent,Vd)))&&(f=n),f}function xR(t){var e;const n=t.parent;if(n!==null&&((e=n.firstChild)===null||e===void 0?void 0:e.type.id)===s7){const i=n.firstChild.firstChild;if(i!==null&&[lR,rR,oR,aR,sR].includes(i.type.id))return!0}return!1}function JY(t,e,n){var i,r,s,o,a,l,c,u,f,d,m,g,y,O,_,A,R,T,N,I,v;const z=[];switch(e.type.id){case 0:if(((i=e.parent)===null||i===void 0?void 0:i.type.id)===Xu){z.push({kind:Ve.Duration});break}if(((r=e.parent)===null||r===void 0?void 0:r.type.id)===aa||((s=e.parent)===null||s===void 0?void 0:s.type.id)===Al){z.push({kind:Ve.MatchOp});break}if(((o=e.parent)===null||o===void 0?void 0:o.type.id)===Uu){z.push({kind:Ve.Duration});break}if(((a=e.parent)===null||a===void 0?void 0:a.type.id)===ec&&ho(e.parent,Vd)){z.push({kind:Ve.Duration});break}const G=t.sliceDoc(e.from,e.to);yR.filter(ne=>ne.label.includes(G)).length>0&&z.push({kind:Ve.BinOp});break;case jd:if(((l=e.parent)===null||l===void 0?void 0:l.type.id)===0){const ne=e.parent.parent;if((ne==null?void 0:ne.type.id)===k0){z.push({kind:Ve.AtModifiers});break}if((ne==null?void 0:ne.type.id)===Qp){z.push({kind:Ve.AggregateOpModifier},{kind:Ve.BinOp});break}if((ne==null?void 0:ne.type.id)===wf){const X=Xc(e,t);OR.filter(le=>le.label===X).length>0&&z.push({kind:Ve.AggregateOpModifier}),z.push({kind:Ve.BinOp},{kind:Ve.Offset});break}if(ne&&M_(ne,"Expr")){z.push({kind:Ve.BinOp},{kind:Ve.Offset});break}}const oe=(c=e.parent)===null||c===void 0?void 0:c.parent;if(!oe){z.push({kind:Ve.MetricName,metricName:t.sliceDoc(e.from,e.to)});break}M_(oe,"Expr","Expr")&&oe.type.id!==ba?oe.type.id===Tl&&!ho(oe,0)&&(z.push({kind:Ve.MetricName,metricName:t.sliceDoc(e.from,e.to)},{kind:Ve.Function},{kind:Ve.Aggregation},{kind:Ve.BinOpModifier},{kind:Ve.Number}),ho(oe,Tb,Ab,kb,Eb,Db,qu)&&!ho(oe,cR)&&z.push({kind:Ve.Bool})):(z.push({kind:Ve.MetricName,metricName:t.sliceDoc(e.from,e.to)},{kind:Ve.Function},{kind:Ve.Aggregation}),oe.type.id!==ba&&oe.type.id!==Uu&&z.push({kind:Ve.Number}));break;case r7:e.firstChild!==null&&e.firstChild.type.id===0&&z.push({kind:Ve.MetricName,metricName:""},{kind:Ve.Function},{kind:Ve.Aggregation},{kind:Ve.Number});break;case fu:z.push({kind:Ve.LabelName,metricName:XY(e,t)});break;case hu:z.push({kind:Ve.LabelName,metricName:Xc(e,t)});break;case Qu:((u=e.parent)===null||u===void 0?void 0:u.type.id)===fu?z.push({kind:Ve.LabelName}):((f=e.parent)===null||f===void 0?void 0:f.type.id)===aa&&z.push({kind:Ve.LabelName,metricName:Xc(e,t)});break;case Wu:if(((d=e.parent)===null||d===void 0?void 0:d.type.id)===aa||((m=e.parent)===null||m===void 0?void 0:m.type.id)===Al){let ne="";((g=e.parent.firstChild)===null||g===void 0?void 0:g.type.id)===Qu?ne=t.sliceDoc(e.parent.firstChild.from,e.parent.firstChild.to):((y=e.parent.firstChild)===null||y===void 0?void 0:y.type.id)===zu&&(ne=t.sliceDoc(e.parent.firstChild.from,e.parent.firstChild.to).slice(1,-1));const X=Xc(e,t),le=E0(e,hu),W=[zu,Al,aa];let V=[];for(const te of W)V=V.concat(vR(le?le.getChildren(te):[],t));z.push({kind:Ve.LabelValue,metricName:X,labelName:ne,matchers:V})}else((_=(O=e.parent)===null||O===void 0?void 0:O.parent)===null||_===void 0?void 0:_.type.id)===fu?z.push({kind:Ve.LabelName}):((R=(A=e.parent)===null||A===void 0?void 0:A.parent)===null||R===void 0?void 0:R.type.id)===hu&&z.push({kind:Ve.MetricName,metricName:t.sliceDoc(e.from,e.to).slice(1,-1)});break;case A0:((T=e.parent)===null||T===void 0?void 0:T.type.id)===0&&((N=e.parent.parent)===null||N===void 0?void 0:N.type.id)===ec?z.push({kind:Ve.Duration}):z.push({kind:Ve.Number});break;case Vd:case Xu:z.push({kind:Ve.Duration});break;case ba:if(xR(e)){if(e.firstChild===null||e.firstChild.from<=n&&e.firstChild.to>=n){z.push({kind:Ve.Number});break}z.push({kind:Ve.MetricName,metricName:""},{kind:Ve.Function},{kind:Ve.Aggregation});break}z.push({kind:Ve.MetricName,metricName:""},{kind:Ve.Function},{kind:Ve.Aggregation});break;case qu:((I=e.parent)===null||I===void 0?void 0:I.type.id)===Qd?z.push({kind:Ve.MatchOp}):((v=e.parent)===null||v===void 0?void 0:v.type.id)===Tl&&z.push({kind:Ve.BinOp});break;case _f:case dR:case pR:case Qd:z.push({kind:Ve.MatchOp});break;case o7:case l7:case c7:case u7:case f7:case h7:case Tb:case Ab:case kb:case Eb:case Db:case S0:case T0:case C0:case Tl:z.push({kind:Ve.BinOp});break}return z}class Ng{constructor(e,n=1e4){this.prometheusClient=e,this.maxMetricsMetadata=n}getPrometheusClient(){return this.prometheusClient}promQL(e){const{state:n,pos:i}=e,r=kn(n).resolve(i,-1),s=JY(n,r,i);let o=Promise.resolve([]),a=!1,l=!0;for(const c of s)switch(c.kind){case Ve.Aggregation:a=!0,o=o.then(u=>u.concat(gs.aggregateOp));break;case Ve.Function:a=!0,o=o.then(u=>u.concat(gs.functionIdentifier));break;case Ve.BinOpModifier:o=o.then(u=>u.concat(gs.binOpModifier));break;case Ve.BinOp:o=o.then(u=>u.concat(gs.binOp));break;case Ve.MatchOp:o=o.then(u=>u.concat(gs.matchOp));break;case Ve.AggregateOpModifier:o=o.then(u=>u.concat(gs.aggregateOpModifier));break;case Ve.Duration:l=!1,o=o.then(u=>u.concat(gs.duration));break;case Ve.Offset:o=o.then(u=>u.concat([{label:"offset"}]));break;case Ve.Bool:o=o.then(u=>u.concat([{label:"bool"}]));break;case Ve.AtModifiers:o=o.then(u=>u.concat(gs.atModifier));break;case Ve.Number:o=o.then(u=>u.concat(gs.number));break;case Ve.MetricName:o=o.then(u=>this.autocompleteMetricName(u,c));break;case Ve.LabelName:o=o.then(u=>this.autocompleteLabelName(u,c));break;case Ve.LabelValue:o=o.then(u=>this.autocompleteLabelValue(u,c))}return o.then(c=>YY(c,KY(n,r,i),i,a,l))}autocompleteMetricName(e,n){if(!this.prometheusClient)return e;const i=new Map;return this.prometheusClient.metricNames(n.metricName).then(r=>{var s;for(const o of r)i.set(o,{label:o,type:"constant"});if(r.length<=this.maxMetricsMetadata)return(s=this.prometheusClient)===null||s===void 0?void 0:s.metricMetadata()}).then(r=>{if(r)for(const[s,o]of i){const a=r[s.replace(/(_count|_sum|_bucket)$/,"")];if(a){if(a.length>1)for(const l of a)o.detail===""?o.detail=l.type:o.detail!==l.type&&(o.detail="unknown",o.info="multiple different definitions for this metric"),o.info===""?o.info=l.help:o.info!==l.help&&(o.info="multiple different definitions for this metric");else if(a.length===1){let{type:l,help:c}=a[0];(l==="histogram"||l==="summary")&&(s.endsWith("_count")&&(l="counter",c=`The total number of observations for: ${c}`),s.endsWith("_sum")&&(l="counter",c=`The total sum of observations for: ${c}`),s.endsWith("_bucket")&&(l="counter",c=`The total count of observations for a bucket in the histogram: ${c}`)),o.detail=l,o.info=c}}}return e.concat(Array.from(i.values()))})}autocompleteLabelName(e,n){return this.prometheusClient?this.prometheusClient.labelNames(n.metricName).then(i=>e.concat(i.map(r=>({label:r,type:"constant"})))):e}autocompleteLabelValue(e,n){return!this.prometheusClient||!n.labelName?e:this.prometheusClient.labelValues(n.labelName,n.metricName,n.matchers).then(i=>e.concat(i.map(r=>({label:r,type:"text"}))))}}const Ga=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,wR=new Set,Rb=typeof process=="object"&&process?process:{},_R=(t,e,n,i)=>{typeof Rb.emitWarning=="function"?Rb.emitWarning(t,e,n,i):console.error(`[${n}] ${e}: ${t}`)};let zd=globalThis.AbortController,L_=globalThis.AbortSignal;var bS;if(typeof zd>"u"){L_=class{constructor(){tn(this,"onabort");tn(this,"_onabort",[]);tn(this,"reason");tn(this,"aborted",!1)}addEventListener(i,r){this._onabort.push(r)}},zd=class{constructor(){tn(this,"signal",new L_);e()}abort(i){var r,s;if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const o of this.signal._onabort)o(i);(s=(r=this.signal).onabort)==null||s.call(r,i)}}};let t=((bS=Rb.env)==null?void 0:bS.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,_R("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const ZY=t=>!wR.has(t),Gs=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),SR=t=>Gs(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?jh:null:null;class jh extends Array{constructor(e){super(e),this.fill(0)}}var Dl;const ea=class ea{constructor(e,n){tn(this,"heap");tn(this,"length");if(!P(ea,Dl))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}static create(e){const n=SR(e);if(!n)return[];Ze(ea,Dl,!0);const i=new ea(e,n);return Ze(ea,Dl,!1),i}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};Dl=new WeakMap,Rt(ea,Dl,!1);let $b=ea;var yS,OS,mr,Pi,gr,vr,Rl,$l,vn,br,ln,Kt,at,si,Mi,Hn,_n,yr,Sn,Or,xr,Li,wr,ao,oi,Pe,Pb,ca,xs,Zu,Ni,CR,ua,Pl,ef,Ks,Js,Mb,Vh,Qh,Gt,Lb,Yc,Zs,Nb;const J0=class J0{constructor(e){Rt(this,Pe);Rt(this,mr);Rt(this,Pi);Rt(this,gr);Rt(this,vr);Rt(this,Rl);Rt(this,$l);tn(this,"ttl");tn(this,"ttlResolution");tn(this,"ttlAutopurge");tn(this,"updateAgeOnGet");tn(this,"updateAgeOnHas");tn(this,"allowStale");tn(this,"noDisposeOnSet");tn(this,"noUpdateTTL");tn(this,"maxEntrySize");tn(this,"sizeCalculation");tn(this,"noDeleteOnFetchRejection");tn(this,"noDeleteOnStaleGet");tn(this,"allowStaleOnFetchAbort");tn(this,"allowStaleOnFetchRejection");tn(this,"ignoreFetchAbort");Rt(this,vn);Rt(this,br);Rt(this,ln);Rt(this,Kt);Rt(this,at);Rt(this,si);Rt(this,Mi);Rt(this,Hn);Rt(this,_n);Rt(this,yr);Rt(this,Sn);Rt(this,Or);Rt(this,xr);Rt(this,Li);Rt(this,wr);Rt(this,ao);Rt(this,oi);Rt(this,ca,()=>{});Rt(this,xs,()=>{});Rt(this,Zu,()=>{});Rt(this,Ni,()=>!1);Rt(this,ua,e=>{});Rt(this,Pl,(e,n,i)=>{});Rt(this,ef,(e,n,i,r)=>{if(i||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});tn(this,yS,"LRUCache");const{max:n=0,ttl:i,ttlResolution:r=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:f,noUpdateTTL:d,maxSize:m=0,maxEntrySize:g=0,sizeCalculation:y,fetchMethod:O,memoMethod:_,noDeleteOnFetchRejection:A,noDeleteOnStaleGet:R,allowStaleOnFetchRejection:T,allowStaleOnFetchAbort:N,ignoreFetchAbort:I}=e;if(n!==0&&!Gs(n))throw new TypeError("max option must be a nonnegative integer");const v=n?SR(n):Array;if(!v)throw new Error("invalid max value: "+n);if(Ze(this,mr,n),Ze(this,Pi,m),this.maxEntrySize=g||P(this,Pi),this.sizeCalculation=y,this.sizeCalculation){if(!P(this,Pi)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(_!==void 0&&typeof _!="function")throw new TypeError("memoMethod must be a function if defined");if(Ze(this,$l,_),O!==void 0&&typeof O!="function")throw new TypeError("fetchMethod must be a function if specified");if(Ze(this,Rl,O),Ze(this,ao,!!O),Ze(this,ln,new Map),Ze(this,Kt,new Array(n).fill(void 0)),Ze(this,at,new Array(n).fill(void 0)),Ze(this,si,new v(n)),Ze(this,Mi,new v(n)),Ze(this,Hn,0),Ze(this,_n,0),Ze(this,yr,$b.create(n)),Ze(this,vn,0),Ze(this,br,0),typeof c=="function"&&Ze(this,gr,c),typeof u=="function"?(Ze(this,vr,u),Ze(this,Sn,[])):(Ze(this,vr,void 0),Ze(this,Sn,void 0)),Ze(this,wr,!!P(this,gr)),Ze(this,oi,!!P(this,vr)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!A,this.allowStaleOnFetchRejection=!!T,this.allowStaleOnFetchAbort=!!N,this.ignoreFetchAbort=!!I,this.maxEntrySize!==0){if(P(this,Pi)!==0&&!Gs(P(this,Pi)))throw new TypeError("maxSize must be a positive integer if specified");if(!Gs(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");je(this,Pe,CR).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!R,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Gs(r)||r===0?r:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!Gs(this.ttl))throw new TypeError("ttl must be a positive integer if specified");je(this,Pe,Pb).call(this)}if(P(this,mr)===0&&this.ttl===0&&P(this,Pi)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!P(this,mr)&&!P(this,Pi)){const z="LRU_CACHE_UNBOUNDED";ZY(z)&&(wR.add(z),_R("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",z,J0))}}static unsafeExposeInternals(e){return{starts:P(e,xr),ttls:P(e,Li),sizes:P(e,Or),keyMap:P(e,ln),keyList:P(e,Kt),valList:P(e,at),next:P(e,si),prev:P(e,Mi),get head(){return P(e,Hn)},get tail(){return P(e,_n)},free:P(e,yr),isBackgroundFetch:n=>{var i;return je(i=e,Pe,Gt).call(i,n)},backgroundFetch:(n,i,r,s)=>{var o;return je(o=e,Pe,Qh).call(o,n,i,r,s)},moveToTail:n=>{var i;return je(i=e,Pe,Yc).call(i,n)},indexes:n=>{var i;return je(i=e,Pe,Ks).call(i,n)},rindexes:n=>{var i;return je(i=e,Pe,Js).call(i,n)},isStale:n=>{var i;return P(i=e,Ni).call(i,n)}}}get max(){return P(this,mr)}get maxSize(){return P(this,Pi)}get calculatedSize(){return P(this,br)}get size(){return P(this,vn)}get fetchMethod(){return P(this,Rl)}get memoMethod(){return P(this,$l)}get dispose(){return P(this,gr)}get disposeAfter(){return P(this,vr)}getRemainingTTL(e){return P(this,ln).has(e)?1/0:0}*entries(){for(const e of je(this,Pe,Ks).call(this))P(this,at)[e]!==void 0&&P(this,Kt)[e]!==void 0&&!je(this,Pe,Gt).call(this,P(this,at)[e])&&(yield[P(this,Kt)[e],P(this,at)[e]])}*rentries(){for(const e of je(this,Pe,Js).call(this))P(this,at)[e]!==void 0&&P(this,Kt)[e]!==void 0&&!je(this,Pe,Gt).call(this,P(this,at)[e])&&(yield[P(this,Kt)[e],P(this,at)[e]])}*keys(){for(const e of je(this,Pe,Ks).call(this)){const n=P(this,Kt)[e];n!==void 0&&!je(this,Pe,Gt).call(this,P(this,at)[e])&&(yield n)}}*rkeys(){for(const e of je(this,Pe,Js).call(this)){const n=P(this,Kt)[e];n!==void 0&&!je(this,Pe,Gt).call(this,P(this,at)[e])&&(yield n)}}*values(){for(const e of je(this,Pe,Ks).call(this))P(this,at)[e]!==void 0&&!je(this,Pe,Gt).call(this,P(this,at)[e])&&(yield P(this,at)[e])}*rvalues(){for(const e of je(this,Pe,Js).call(this))P(this,at)[e]!==void 0&&!je(this,Pe,Gt).call(this,P(this,at)[e])&&(yield P(this,at)[e])}[(OS=Symbol.iterator,yS=Symbol.toStringTag,OS)](){return this.entries()}find(e,n={}){for(const i of je(this,Pe,Ks).call(this)){const r=P(this,at)[i],s=je(this,Pe,Gt).call(this,r)?r.__staleWhileFetching:r;if(s!==void 0&&e(s,P(this,Kt)[i],this))return this.get(P(this,Kt)[i],n)}}forEach(e,n=this){for(const i of je(this,Pe,Ks).call(this)){const r=P(this,at)[i],s=je(this,Pe,Gt).call(this,r)?r.__staleWhileFetching:r;s!==void 0&&e.call(n,s,P(this,Kt)[i],this)}}rforEach(e,n=this){for(const i of je(this,Pe,Js).call(this)){const r=P(this,at)[i],s=je(this,Pe,Gt).call(this,r)?r.__staleWhileFetching:r;s!==void 0&&e.call(n,s,P(this,Kt)[i],this)}}purgeStale(){let e=!1;for(const n of je(this,Pe,Js).call(this,{allowStale:!0}))P(this,Ni).call(this,n)&&(je(this,Pe,Zs).call(this,P(this,Kt)[n],"expire"),e=!0);return e}info(e){const n=P(this,ln).get(e);if(n===void 0)return;const i=P(this,at)[n],r=je(this,Pe,Gt).call(this,i)?i.__staleWhileFetching:i;if(r===void 0)return;const s={value:r};if(P(this,Li)&&P(this,xr)){const o=P(this,Li)[n],a=P(this,xr)[n];if(o&&a){const l=o-(Ga.now()-a);s.ttl=l,s.start=Date.now()}}return P(this,Or)&&(s.size=P(this,Or)[n]),s}dump(){const e=[];for(const n of je(this,Pe,Ks).call(this,{allowStale:!0})){const i=P(this,Kt)[n],r=P(this,at)[n],s=je(this,Pe,Gt).call(this,r)?r.__staleWhileFetching:r;if(s===void 0||i===void 0)continue;const o={value:s};if(P(this,Li)&&P(this,xr)){o.ttl=P(this,Li)[n];const a=Ga.now()-P(this,xr)[n];o.start=Math.floor(Date.now()-a)}P(this,Or)&&(o.size=P(this,Or)[n]),e.unshift([i,o])}return e}load(e){this.clear();for(const[n,i]of e){if(i.start){const r=Date.now()-i.start;i.start=Ga.now()-r}this.set(n,i.value,i)}}set(e,n,i={}){var d,m,g,y,O;if(n===void 0)return this.delete(e),this;const{ttl:r=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i;let{noUpdateTTL:c=this.noUpdateTTL}=i;const u=P(this,ef).call(this,e,n,i.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),je(this,Pe,Zs).call(this,e,"set"),this;let f=P(this,vn)===0?void 0:P(this,ln).get(e);if(f===void 0)f=P(this,vn)===0?P(this,_n):P(this,yr).length!==0?P(this,yr).pop():P(this,vn)===P(this,mr)?je(this,Pe,Vh).call(this,!1):P(this,vn),P(this,Kt)[f]=e,P(this,at)[f]=n,P(this,ln).set(e,f),P(this,si)[P(this,_n)]=f,P(this,Mi)[f]=P(this,_n),Ze(this,_n,f),Lf(this,vn)._++,P(this,Pl).call(this,f,u,l),l&&(l.set="add"),c=!1;else{je(this,Pe,Yc).call(this,f);const _=P(this,at)[f];if(n!==_){if(P(this,ao)&&je(this,Pe,Gt).call(this,_)){_.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:A}=_;A!==void 0&&!o&&(P(this,wr)&&((d=P(this,gr))==null||d.call(this,A,e,"set")),P(this,oi)&&((m=P(this,Sn))==null||m.push([A,e,"set"])))}else o||(P(this,wr)&&((g=P(this,gr))==null||g.call(this,_,e,"set")),P(this,oi)&&((y=P(this,Sn))==null||y.push([_,e,"set"])));if(P(this,ua).call(this,f),P(this,Pl).call(this,f,u,l),P(this,at)[f]=n,l){l.set="replace";const A=_&&je(this,Pe,Gt).call(this,_)?_.__staleWhileFetching:_;A!==void 0&&(l.oldValue=A)}}else l&&(l.set="update")}if(r!==0&&!P(this,Li)&&je(this,Pe,Pb).call(this),P(this,Li)&&(c||P(this,Zu).call(this,f,r,s),l&&P(this,xs).call(this,l,f)),!o&&P(this,oi)&&P(this,Sn)){const _=P(this,Sn);let A;for(;A=_==null?void 0:_.shift();)(O=P(this,vr))==null||O.call(this,...A)}return this}pop(){var e;try{for(;P(this,vn);){const n=P(this,at)[P(this,Hn)];if(je(this,Pe,Vh).call(this,!0),je(this,Pe,Gt).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(P(this,oi)&&P(this,Sn)){const n=P(this,Sn);let i;for(;i=n==null?void 0:n.shift();)(e=P(this,vr))==null||e.call(this,...i)}}}has(e,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=n,s=P(this,ln).get(e);if(s!==void 0){const o=P(this,at)[s];if(je(this,Pe,Gt).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(P(this,Ni).call(this,s))r&&(r.has="stale",P(this,xs).call(this,r,s));else return i&&P(this,ca).call(this,s),r&&(r.has="hit",P(this,xs).call(this,r,s)),!0}else r&&(r.has="miss");return!1}peek(e,n={}){const{allowStale:i=this.allowStale}=n,r=P(this,ln).get(e);if(r===void 0||!i&&P(this,Ni).call(this,r))return;const s=P(this,at)[r];return je(this,Pe,Gt).call(this,s)?s.__staleWhileFetching:s}async fetch(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:O=!1,status:_,signal:A}=n;if(!P(this,ao))return _&&(_.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,status:_});const R={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:g,ignoreFetchAbort:m,status:_,signal:A};let T=P(this,ln).get(e);if(T===void 0){_&&(_.fetch="miss");const N=je(this,Pe,Qh).call(this,e,T,R,y);return N.__returned=N}else{const N=P(this,at)[T];if(je(this,Pe,Gt).call(this,N)){const oe=i&&N.__staleWhileFetching!==void 0;return _&&(_.fetch="inflight",oe&&(_.returnedStale=!0)),oe?N.__staleWhileFetching:N.__returned=N}const I=P(this,Ni).call(this,T);if(!O&&!I)return _&&(_.fetch="hit"),je(this,Pe,Yc).call(this,T),r&&P(this,ca).call(this,T),_&&P(this,xs).call(this,_,T),N;const v=je(this,Pe,Qh).call(this,e,T,R,y),G=v.__staleWhileFetching!==void 0&&i;return _&&(_.fetch=I?"stale":"refresh",G&&I&&(_.returnedStale=!0)),G?v.__staleWhileFetching:v.__returned=v}}async forceFetch(e,n={}){const i=await this.fetch(e,n);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(e,n={}){const i=P(this,$l);if(!i)throw new Error("no memoMethod provided to constructor");const{context:r,forceRefresh:s,...o}=n,a=this.get(e,o);if(!s&&a!==void 0)return a;const l=i(e,a,{options:o,context:r});return this.set(e,l,o),l}get(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=n,a=P(this,ln).get(e);if(a!==void 0){const l=P(this,at)[a],c=je(this,Pe,Gt).call(this,l);return o&&P(this,xs).call(this,o,a),P(this,Ni).call(this,a)?(o&&(o.get="stale"),c?(o&&i&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),i?l.__staleWhileFetching:void 0):(s||je(this,Pe,Zs).call(this,e,"expire"),o&&i&&(o.returnedStale=!0),i?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(je(this,Pe,Yc).call(this,a),r&&P(this,ca).call(this,a),l))}else o&&(o.get="miss")}delete(e){return je(this,Pe,Zs).call(this,e,"delete")}clear(){return je(this,Pe,Nb).call(this,"delete")}};mr=new WeakMap,Pi=new WeakMap,gr=new WeakMap,vr=new WeakMap,Rl=new WeakMap,$l=new WeakMap,vn=new WeakMap,br=new WeakMap,ln=new WeakMap,Kt=new WeakMap,at=new WeakMap,si=new WeakMap,Mi=new WeakMap,Hn=new WeakMap,_n=new WeakMap,yr=new WeakMap,Sn=new WeakMap,Or=new WeakMap,xr=new WeakMap,Li=new WeakMap,wr=new WeakMap,ao=new WeakMap,oi=new WeakMap,Pe=new WeakSet,Pb=function(){const e=new jh(P(this,mr)),n=new jh(P(this,mr));Ze(this,Li,e),Ze(this,xr,n),Ze(this,Zu,(s,o,a=Ga.now())=>{if(n[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{P(this,Ni).call(this,s)&&je(this,Pe,Zs).call(this,P(this,Kt)[s],"expire")},o+1);l.unref&&l.unref()}}),Ze(this,ca,s=>{n[s]=e[s]!==0?Ga.now():0}),Ze(this,xs,(s,o)=>{if(e[o]){const a=e[o],l=n[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=i||r();const c=s.now-l;s.remainingTTL=a-c}});let i=0;const r=()=>{const s=Ga.now();if(this.ttlResolution>0){i=s;const o=setTimeout(()=>i=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=P(this,ln).get(s);if(o===void 0)return 0;const a=e[o],l=n[o];if(!a||!l)return 1/0;const c=(i||r())-l;return a-c},Ze(this,Ni,s=>{const o=n[s],a=e[s];return!!a&&!!o&&(i||r())-o>a})},ca=new WeakMap,xs=new WeakMap,Zu=new WeakMap,Ni=new WeakMap,CR=function(){const e=new jh(P(this,mr));Ze(this,br,0),Ze(this,Or,e),Ze(this,ua,n=>{Ze(this,br,P(this,br)-e[n]),e[n]=0}),Ze(this,ef,(n,i,r,s)=>{if(je(this,Pe,Gt).call(this,i))return 0;if(!Gs(r))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(r=s(i,n),!Gs(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r}),Ze(this,Pl,(n,i,r)=>{if(e[n]=i,P(this,Pi)){const s=P(this,Pi)-e[n];for(;P(this,br)>s;)je(this,Pe,Vh).call(this,!0)}Ze(this,br,P(this,br)+e[n]),r&&(r.entrySize=i,r.totalCalculatedSize=P(this,br))})},ua=new WeakMap,Pl=new WeakMap,ef=new WeakMap,Ks=function*({allowStale:e=this.allowStale}={}){if(P(this,vn))for(let n=P(this,_n);!(!je(this,Pe,Mb).call(this,n)||((e||!P(this,Ni).call(this,n))&&(yield n),n===P(this,Hn)));)n=P(this,Mi)[n]},Js=function*({allowStale:e=this.allowStale}={}){if(P(this,vn))for(let n=P(this,Hn);!(!je(this,Pe,Mb).call(this,n)||((e||!P(this,Ni).call(this,n))&&(yield n),n===P(this,_n)));)n=P(this,si)[n]},Mb=function(e){return e!==void 0&&P(this,ln).get(P(this,Kt)[e])===e},Vh=function(e){var s,o;const n=P(this,Hn),i=P(this,Kt)[n],r=P(this,at)[n];return P(this,ao)&&je(this,Pe,Gt).call(this,r)?r.__abortController.abort(new Error("evicted")):(P(this,wr)||P(this,oi))&&(P(this,wr)&&((s=P(this,gr))==null||s.call(this,r,i,"evict")),P(this,oi)&&((o=P(this,Sn))==null||o.push([r,i,"evict"]))),P(this,ua).call(this,n),e&&(P(this,Kt)[n]=void 0,P(this,at)[n]=void 0,P(this,yr).push(n)),P(this,vn)===1?(Ze(this,Hn,Ze(this,_n,0)),P(this,yr).length=0):Ze(this,Hn,P(this,si)[n]),P(this,ln).delete(i),Lf(this,vn)._--,n},Qh=function(e,n,i,r){const s=n===void 0?void 0:P(this,at)[n];if(je(this,Pe,Gt).call(this,s))return s;const o=new zd,{signal:a}=i;a==null||a.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});const l={signal:o.signal,options:i,context:r},c=(y,O=!1)=>{const{aborted:_}=o.signal,A=i.ignoreFetchAbort&&y!==void 0;if(i.status&&(_&&!O?(i.status.fetchAborted=!0,i.status.fetchError=o.signal.reason,A&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),_&&!A&&!O)return f(o.signal.reason);const R=m;return P(this,at)[n]===m&&(y===void 0?R.__staleWhileFetching?P(this,at)[n]=R.__staleWhileFetching:je(this,Pe,Zs).call(this,e,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(e,y,l.options))),y},u=y=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=y),f(y)),f=y=>{const{aborted:O}=o.signal,_=O&&i.allowStaleOnFetchAbort,A=_||i.allowStaleOnFetchRejection,R=A||i.noDeleteOnFetchRejection,T=m;if(P(this,at)[n]===m&&(!R||T.__staleWhileFetching===void 0?je(this,Pe,Zs).call(this,e,"fetch"):_||(P(this,at)[n]=T.__staleWhileFetching)),A)return i.status&&T.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw y},d=(y,O)=>{var A;const _=(A=P(this,Rl))==null?void 0:A.call(this,e,s,l);_&&_ instanceof Promise&&_.then(R=>y(R===void 0?void 0:R),O),o.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(y(void 0),i.allowStaleOnFetchAbort&&(y=R=>c(R,!0)))})};i.status&&(i.status.fetchDispatched=!0);const m=new Promise(d).then(c,u),g=Object.assign(m,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return n===void 0?(this.set(e,g,{...l.options,status:void 0}),n=P(this,ln).get(e)):P(this,at)[n]=g,g},Gt=function(e){if(!P(this,ao))return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof zd},Lb=function(e,n){P(this,Mi)[n]=e,P(this,si)[e]=n},Yc=function(e){e!==P(this,_n)&&(e===P(this,Hn)?Ze(this,Hn,P(this,si)[e]):je(this,Pe,Lb).call(this,P(this,Mi)[e],P(this,si)[e]),je(this,Pe,Lb).call(this,P(this,_n),e),Ze(this,_n,e))},Zs=function(e,n){var r,s,o,a;let i=!1;if(P(this,vn)!==0){const l=P(this,ln).get(e);if(l!==void 0)if(i=!0,P(this,vn)===1)je(this,Pe,Nb).call(this,n);else{P(this,ua).call(this,l);const c=P(this,at)[l];if(je(this,Pe,Gt).call(this,c)?c.__abortController.abort(new Error("deleted")):(P(this,wr)||P(this,oi))&&(P(this,wr)&&((r=P(this,gr))==null||r.call(this,c,e,n)),P(this,oi)&&((s=P(this,Sn))==null||s.push([c,e,n]))),P(this,ln).delete(e),P(this,Kt)[l]=void 0,P(this,at)[l]=void 0,l===P(this,_n))Ze(this,_n,P(this,Mi)[l]);else if(l===P(this,Hn))Ze(this,Hn,P(this,si)[l]);else{const u=P(this,Mi)[l];P(this,si)[u]=P(this,si)[l];const f=P(this,si)[l];P(this,Mi)[f]=P(this,Mi)[l]}Lf(this,vn)._--,P(this,yr).push(l)}}if(P(this,oi)&&((o=P(this,Sn))!=null&&o.length)){const l=P(this,Sn);let c;for(;c=l==null?void 0:l.shift();)(a=P(this,vr))==null||a.call(this,...c)}return i},Nb=function(e){var n,i,r;for(const s of je(this,Pe,Js).call(this,{allowStale:!0})){const o=P(this,at)[s];if(je(this,Pe,Gt).call(this,o))o.__abortController.abort(new Error("deleted"));else{const a=P(this,Kt)[s];P(this,wr)&&((n=P(this,gr))==null||n.call(this,o,a,e)),P(this,oi)&&((i=P(this,Sn))==null||i.push([o,a,e]))}}if(P(this,ln).clear(),P(this,at).fill(void 0),P(this,Kt).fill(void 0),P(this,Li)&&P(this,xr)&&(P(this,Li).fill(0),P(this,xr).fill(0)),P(this,Or)&&P(this,Or).fill(0),Ze(this,Hn,0),Ze(this,_n,0),P(this,yr).length=0,Ze(this,br,0),Ze(this,vn,0),P(this,oi)&&P(this,Sn)){const s=P(this,Sn);let o;for(;o=s==null?void 0:s.shift();)(r=P(this,vr))==null||r.call(this,...o)}};let Wd=J0;const eG=400,tG=422,nG=503;class iG{constructor(e){this.lookbackInterval=60*60*1e3*12,this.httpMethod="POST",this.apiPrefix="/api/v1",this.fetchFn=(n,i)=>fetch(n,i),this.requestHeaders=new Headers,this.url=e.url?e.url:"",this.errorHandler=e.httpErrorHandler,e.lookbackInterval&&(this.lookbackInterval=e.lookbackInterval),e.fetchFn&&(this.fetchFn=e.fetchFn),e.httpMethod&&(this.httpMethod=e.httpMethod),e.apiPrefix&&(this.apiPrefix=e.apiPrefix),e.requestHeaders&&(this.requestHeaders=e.requestHeaders)}labelNames(e){const n=new Date,i=new Date(n.getTime()-this.lookbackInterval);if(e===void 0||e===""){const r=this.buildRequest(this.labelsEndpoint(),new URLSearchParams({start:i.toISOString(),end:n.toISOString()}));return this.fetchAPI(r.uri,{method:this.httpMethod,body:r.body}).catch(s=>(this.errorHandler&&this.errorHandler(s),[]))}return this.series(e).then(r=>{const s=new Set;for(const o of r)for(const[a]of Object.entries(o))a!=="__name__"&&s.add(a);return Array.from(s)})}labelValues(e,n,i){const r=new Date,s=new Date(r.getTime()-this.lookbackInterval);if(!n||n.length===0){const o=new URLSearchParams({start:s.toISOString(),end:r.toISOString()});return this.fetchAPI(`${this.labelValuesEndpoint().replace(/:name/gi,e)}?${o}`).catch(a=>(this.errorHandler&&this.errorHandler(a),[]))}return this.series(n,i,e).then(o=>{const a=new Set;for(const l of o)for(const[c,u]of Object.entries(l))c!=="__name__"&&c===e&&a.add(u);return Array.from(a)})}metricMetadata(){return this.fetchAPI(this.metricMetadataEndpoint()).catch(e=>(this.errorHandler&&this.errorHandler(e),{}))}series(e,n,i){const r=new Date,s=new Date(r.getTime()-this.lookbackInterval),o=this.buildRequest(this.seriesEndpoint(),new URLSearchParams({start:s.toISOString(),end:r.toISOString(),"match[]":FY(e,n,i)}));return this.fetchAPI(o.uri,{method:this.httpMethod,body:o.body}).catch(a=>(this.errorHandler&&this.errorHandler(a),[]))}metricNames(){return this.labelValues("__name__")}flags(){return this.fetchAPI(this.flagsEndpoint()).catch(e=>(this.errorHandler&&this.errorHandler(e),{}))}fetchAPI(e,n){return n?n.headers=this.requestHeaders:n={headers:this.requestHeaders},this.fetchFn(this.url+e,n).then(i=>{if(!i.ok&&![eG,tG,nG].includes(i.status))throw new Error(i.statusText);return i}).then(i=>i.json()).then(i=>{if(i.status==="error")throw new Error(i.error!==void 0?i.error:'missing "error" field in response JSON');if(i.data===void 0)throw new Error('missing "data" field in response JSON');return i.data})}buildRequest(e,n){let i=e,r=n;return this.httpMethod==="GET"&&(i=`${i}?${n}`,r=null),{uri:i,body:r}}labelsEndpoint(){return`${this.apiPrefix}/labels`}labelValuesEndpoint(){return`${this.apiPrefix}/label/:name/values`}seriesEndpoint(){return`${this.apiPrefix}/series`}metricMetadataEndpoint(){return`${this.apiPrefix}/metadata`}flagsEndpoint(){return`${this.apiPrefix}/status/flags`}}class rG{constructor(e){const n={ttl:e&&e.maxAge?e.maxAge:3e5,ttlAutopurge:!1};this.completeAssociation=new Wd(n),this.metricMetadata={},this.labelValues=new Wd(n),this.labelNames=[],this.flags={},e!=null&&e.initialMetricList&&this.setLabelValues("__name__",e.initialMetricList)}setAssociations(e,n){n.forEach(i=>{let r=this.completeAssociation.get(e);r||(r=new Map,this.completeAssociation.set(e,r));for(const[s,o]of Object.entries(i)){if(s==="__name__")continue;const a=r.get(s);a===void 0?r.set(s,new Set([o])):a.add(o)}})}setFlags(e){this.flags=e}getFlags(){return this.flags}setMetricMetadata(e){this.metricMetadata=e}getMetricMetadata(){return this.metricMetadata}setLabelNames(e){this.labelNames=e}getLabelNames(e){if(!e||e.length===0)return this.labelNames;const n=this.completeAssociation.get(e);return n?Array.from(n.keys()):[]}setLabelValues(e,n){this.labelValues.set(e,n)}getLabelValues(e,n){if(!n||n.length===0){const r=this.labelValues.get(e);return r||[]}const i=this.completeAssociation.get(n);if(i){const r=i.get(e);return r?Array.from(r):[]}return[]}}class sG{constructor(e,n){this.client=e,this.cache=new rG(n)}labelNames(e){const n=this.cache.getLabelNames(e);return n&&n.length>0?Promise.resolve(n):e===void 0||e===""?this.client.labelNames().then(i=>(this.cache.setLabelNames(i),i)):this.series(e).then(()=>this.cache.getLabelNames(e))}labelValues(e,n){const i=this.cache.getLabelValues(e,n);return i&&i.length>0?Promise.resolve(i):n===void 0||n===""?this.client.labelValues(e).then(r=>(this.cache.setLabelValues(e,r),r)):this.series(n).then(()=>this.cache.getLabelValues(e,n))}metricMetadata(){const e=this.cache.getMetricMetadata();return e&&Object.keys(e).length>0?Promise.resolve(e):this.client.metricMetadata().then(n=>(this.cache.setMetricMetadata(n),n))}series(e){return this.client.series(e).then(n=>(this.cache.setAssociations(e,n),n))}metricNames(){return this.labelValues("__name__")}flags(){const e=this.cache.getFlags();return e&&Object.keys(e).length>0?Promise.resolve(e):this.client.flags().then(n=>(this.cache.setFlags(n),n))}}function oG(t){const e=t;return typeof e.labelNames=="function"&&typeof e.labelValues=="function"&&typeof e.metricMetadata=="function"&&typeof e.series=="function"&&typeof e.metricNames=="function"}function N_(t){return t!=null&&t.completeStrategy?t.completeStrategy:t!=null&&t.remote?oG(t.remote)?new Ng(t.remote,t.maxMetricsMetadata):new Ng(new sG(new iG(t.remote),t.remote.cache),t.maxMetricsMetadata):new Ng}class aG{promQL(){return e=>{const n=new HY(e.state);return n.analyze(),n.getDiagnostics()}}}function lG(){return new aG}function cG(t,e){return L8(t.call(e))}var Ib;(function(t){t.PromQL="PromQL",t.MetricName="MetricName"})(Ib||(Ib={}));function uG(t){return Ul.define({parser:Z6.configure({top:t}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"#"}}})}class fG{constructor(){this.complete=N_(),this.lint=lG(),this.enableLinter=!0,this.enableCompletion=!0}setComplete(e){return this.complete=N_(e),this}getComplete(){return this.complete}activateCompletion(e){return this.enableCompletion=e,this}setLinter(e){return this.lint=e,this}getLinter(){return this.lint}activateLinter(e){return this.enableLinter=e,this}asExtension(e=Ib.PromQL){const n=uG(e);let i=[n];if(this.enableCompletion){const r=n.data.of({autocomplete:s=>this.complete.promQL(s)});i=i.concat(r)}return this.enableLinter&&(i=i.concat(cG(this.lint.promQL,this.lint))),i}}const hG=["id"],dG=Kn({__name:"PromQLEditor",props:{url:{type:String,required:!0},promQLurl:{type:String,required:!0},editorId:{type:String,required:!0},editorRule:{type:String,required:!0}},emits:["update:editorRule"],setup(t,{emit:e}){const n=t,i=e,r=ht(null);return Mo(()=>{try{const s=document.getElementById(n.editorId);if(!s){console.error(`Element with ID '${n.editorId}' not found.`);return}const o=new fG;o.setComplete({maxMetricsMetadata:1e4,remote:{httpErrorHandler:a=>console.error(a),httpMethod:"GET",url:`${n.url}/proxy?url=${n.promQLurl}`}}),r.value=new Me({state:Tt.create({doc:n.editorRule,extensions:[aD,o.asExtension(),Me.updateListener.of(a=>{var l;a.docChanged&&i("update:editorRule",((l=r.value)==null?void 0:l.state.doc.toString())||"")})]}),parent:s})}catch(s){console.error("Error initializing the editor:",s)}}),ks(()=>n.editorRule,s=>{r.value&&r.value.state.doc.toString()!==s&&r.value.dispatch({changes:{from:0,to:r.value.state.doc.length,insert:s}})}),(s,o)=>(K(),Z("div",{id:t.editorId,class:"promql-container"},o[0]||(o[0]=[x("div",{class:"promql"},null,-1)]),8,hG))}}),pG=["id"],mG={class:"modal-dialog modal-xl",role:"document"},gG={class:"modal-content"},vG={class:"modal-header"},bG={class:"modal-title",id:"exampleModalLabel4"},yG={class:"modal-body"},OG={class:"row"},xG={class:"col mb-12"},wG=["id"],_G={class:"row g-6"},SG={class:"col mb-0"},CG=["for"],TG=["id"],AG={class:"row"},kG={class:"col mb-6"},EG=["for"],DG=["id"],RG={class:"row"},$G={class:"col mb-0"},PG=["for"],MG=["id"],LG={class:"row"},NG={class:"col mb-6"},IG=["for"],FG=["id"],BG={class:"row"},HG={class:"col mb-6"},jG=["for"],VG=["id"],QG=["selected"],zG=["selected"],WG=["selected"],qG={class:"col mb-0"},UG=["for"],XG={class:"form-check form-switch"},YG=["id"],GG=["id","for"],KG={class:"col mb-6"},JG=["for"],ZG={class:"form-check form-switch"},eK=["id"],tK=["id","for"],nK={class:"col mb-6"},iK=["for"],rK=["id"],sK=["selected"],oK=["selected"],aK=["selected"],lK=["selected"],cK={class:"modal-footer"},qd=Kn({__name:"RuleModals",props:{configType:{type:String,required:!0},url:{type:String,required:!0},promQLurl:{type:String,required:!0},configuration:Object,save_configuration:{type:Function,required:!0},updateClass:Function,ruleRow:Function,row:{type:Object,required:!0},index:{type:Number,required:!0},selectedClass:String},emits:["toast"],setup(t,{emit:e}){const n=t,i=n.configuration,r=Ts({alert:n.row.alert,annotations:{description:n.row.annotations.description},expr:n.row.expr,for:n.row.for||"",labels:{category:n.configType==="generic"?"generic":"service",disabled:n.row.labels.disabled||!1,nhc:n.row.labels.nhc,severity:n.row.labels.severity}});ks(()=>n.row,g=>{r.alert=g.alert,r.annotations.description=g.annotations.description,r.expr=g.expr,r.for=g.for||"",r.labels.disabled=g.labels.disabled||!1,r.labels.nhc=g.labels.nhc,r.labels.category=g.labels.category||n.index===0?n.configType==="generic"?"generic":"service":n.row.labels.category,r.labels.severity=g.labels.severity},{deep:!0,immediate:!0});const s=ht("HTML"),o=()=>{},a=e,l=g=>{try{s.value==="JSON"?Object.assign(r,JSON.parse(g)):s.value==="YAML"&&Object.assign(r,va.load(g))}catch(y){y instanceof Error?a("toast",{message:y.message,toastClass:"bg-danger"}):a("toast",{message:"An unknown error occurred",toastClass:"bg-danger"})}},c=g=>{g===s.value?a("toast",{message:`Error: Already in ${g} Mode, no conversion needed`,toastClass:"bg-warning"}):s.value=g},u=Wn(()=>s.value==="JSON"?JSON.stringify(r,null,2):s.value==="YAML"?va.dump(r):""),f=(g,y)=>{var O,_;(_=(O=i==null?void 0:i.groups)==null?void 0:O[0])!=null&&_.rules&&y>=0&&y<i.groups[0].rules.length?i.groups[0].rules[y]=g:console.error("Invalid index or rules array not found")};function d(g){var O,_;let y=!1;if(r.alert===""&&(a("toast",{message:"Alert Name is required.",toastClass:"bg-danger"}),y=!0),r.annotations.description===""&&(a("toast",{message:"Alert Description is required.",toastClass:"bg-danger"}),y=!0),r.expr===""&&(a("toast",{message:"Alert Expression is required.",toastClass:"bg-danger"}),y=!0),y===!1){r.for===""&&(r.for="null");const A=Mt(r);if(g===0){const R=JSON.parse(JSON.stringify(n.configuration));(_=(O=R==null?void 0:R.groups)==null?void 0:O[0])!=null&&_.rules?R.groups[0].rules.push(A):console.error("Cannot add row: Invalid configuration structure"),n.save_configuration(n.configType,R,`rule_modal_${n.configType}_${g}`)}else f(A,g-1),n.save_configuration(n.configType,i,`rule_modal_${n.configType}_${g}`)}}const m=g=>Wn({get:()=>g!==!0,set:y=>{y?(g=!1,r.labels.disabled=!1):(g=!0,r.labels.disabled=!0)}});return(g,y)=>(K(),Z("div",{class:"modal fade",id:`rule_modal_${n.configType}_${t.index}`,tabindex:"-1"},[x("div",mG,[x("div",gG,[x("div",vG,[x("h5",bG,"RULE: "+xe(t.index===0?"Add a new Rule":t.row.alert),1),y[14]||(y[14]=x("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),x("div",yG,[x("div",OG,[x("div",xG,[x("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:y[0]||(y[0]=Hi(O=>c("HTML"),["prevent"]))},"HTML View"),y[15]||(y[15]=jt("  ")),x("button",{type:"button",class:"btn btn-primary btn-sm",onClick:y[1]||(y[1]=Hi(O=>c("JSON"),["prevent"]))},"JSON View"),y[16]||(y[16]=jt("  ")),x("button",{type:"button",class:"btn btn-warning btn-sm",onClick:y[2]||(y[2]=Hi(O=>c("YAML"),["prevent"]))},"YAML View"),y[17]||(y[17]=x("br",null,null,-1))])]),s.value!=="HTML"?(K(),Zh(nR,{key:0,"onUpdate:Content":l,ref:"codeMirrorRef",editorHeight:"300",Content:u.value,ContentType:s.value,onToast:y[3]||(y[3]=O=>g.$emit("toast",O))},null,8,["Content","ContentType"])):dt("",!0),s.value==="HTML"?(K(),Z("form",{key:1,onInput:o},[x("div",{id:`model-form_${t.index}`},[x("div",_G,[x("div",SG,[x("label",{for:`${n.configType}_rule_name_${t.index}`,class:"form-label"},"Rule Name",8,CG),Zt(x("input",{type:"text","onUpdate:modelValue":y[4]||(y[4]=O=>r.alert=O),id:`${n.configType}_rule_name_${t.index}`,class:"form-control",placeholder:"Enter Rule Name",required:""},null,8,TG),[[Ur,r.alert]])])]),x("div",AG,[x("div",kG,[x("label",{for:`${n.configType}_rule_description_${t.index}`,class:"form-label"},"Rule Description",8,EG),Zt(x("input",{type:"text","onUpdate:modelValue":y[5]||(y[5]=O=>r.annotations.description=O),id:`${n.configType}_rule_description_${t.index}`,class:"form-control",required:"",placeholder:"Enter Rule Description"},null,8,DG),[[Ur,r.annotations.description]])])]),x("div",RG,[x("div",$G,[x("label",{for:`${n.configType}_rule_for_${t.index}`,class:"form-label"},"Rule For",8,PG),Zt(x("input",{type:"text","onUpdate:modelValue":y[6]||(y[6]=O=>r.for=O),id:`${n.configType}_rule_for_${t.index}`,class:"form-control",placeholder:"Enter Rule For"},null,8,MG),[[Ur,r.for]])])]),x("div",LG,[x("div",NG,[x("label",{for:`${n.configType}_exprInput_${t.index}`,class:"form-label"},"Rule Expr",8,IG),Ot(dG,{url:t.url,promQLurl:t.promQLurl,"editor-id":`${n.configType}_editor_${n.configType}_${t.index}`,editorRule:r.expr,"onUpdate:editorRule":y[7]||(y[7]=O=>r.expr=O)},{default:eC(()=>y[18]||(y[18]=[x("div",{class:"promql"},null,-1)])),_:1},8,["url","promQLurl","editor-id","editorRule"]),Zt(x("input",{type:"hidden","onUpdate:modelValue":y[8]||(y[8]=O=>r.expr=O),id:`${n.configType}_rule_editor__${t.index}`,required:"",class:"form-control"},null,8,FG),[[Ur,r.expr]])])]),x("div",BG,[x("div",HG,[x("label",{for:`${n.configType}_rule_category_${t.index}`,class:"form-label"},"Rule Category",8,jG),Zt(x("select",{"onUpdate:modelValue":y[9]||(y[9]=O=>r.labels.category=O),disabled:"",id:`${n.configType}_rule_category_${t.index}`,class:un(["form-select","form-select-sm",r.labels.category==="generic"?"btn-info":r.labels.category==="service"?"btn-warning":r.labels.category==="hardware"?"btn-dark":"btn-primary"])},[y[19]||(y[19]=x("option",{class:"btn-primary",value:""},"Set Category",-1)),x("option",{class:"btn-info",value:"generic",selected:r.labels.category==="generic"},"Generic",8,QG),x("option",{class:"btn-warning",value:"service",selected:r.labels.category==="service"},"Service",8,zG),x("option",{class:"btn-dark",value:"hardware",selected:r.labels.category==="hardware"},"Hardware",8,WG)],10,VG),[[nd,r.labels.category]])]),x("div",qG,[x("label",{for:`${n.configType}_rule_status_${t.index}`,class:"form-label"},"Enable",8,UG),x("div",XG,[Zt(x("input",{"onUpdate:modelValue":y[10]||(y[10]=O=>m(r.labels.disabled).value=O),type:"checkbox",id:`${n.configType}_rule_status_${t.index}`,class:"form-check-input"},null,8,YG),[[$s,m(r.labels.disabled).value]]),x("label",{id:`${n.configType}_rule_status_label_${t.index}`,for:`${n.configType}_rule_status_${t.index}`,class:"form-check-label"},xe(r.labels.disabled!==!0?"ON":"OFF"),9,GG)])]),x("div",KG,[x("label",{for:`${n.configType}_rule_nhc_${t.index}`,class:"form-label"},"Rule NHC",8,JG),x("div",ZG,[Zt(x("input",{type:"checkbox","onUpdate:modelValue":y[11]||(y[11]=O=>r.labels.nhc=O),id:`${n.configType}_rule_nhc_${t.index}`,class:"form-check-input","data-toggle":"switch","true-value":!0,"false-value":!1},null,8,eK),[[$s,r.labels.nhc]]),x("label",{id:`${n.configType}_rule_nhc_label_${t.index}`,for:`${n.configType}_rule_nhc_${t.index}`,class:"form-check-label"},xe(r.labels.nhc===!0?"ON":"OFF"),9,tK)])]),x("div",nK,[x("label",{for:`${n.configType}_rule_severity_${t.index}`,class:"form-label"},"Set Severity",8,iK),Zt(x("select",{"onUpdate:modelValue":y[12]||(y[12]=O=>r.labels.severity=O),id:`${n.configType}_rule_severity_${t.index}`,class:un(["form-select","form-select-sm",r.labels.severity==="critical"?"btn-dark":r.labels.severity?"btn-"+r.labels.severity:"btn-primary"])},[y[20]||(y[20]=x("option",{class:"btn-primary",value:""},"Set Severity",-1)),x("option",{class:"btn-dark",value:"critical",selected:r.labels.severity==="critical"},"Critical",8,sK),x("option",{class:"btn-danger",value:"danger",selected:r.labels.severity==="danger"},"Danger",8,oK),x("option",{class:"btn-warning",value:"warning",selected:r.labels.severity==="warning"},"Warning",8,aK),x("option",{class:"btn-info",value:"info",selected:r.labels.severity==="info"},"Informational",8,lK)],10,rK),[[nd,r.labels.severity]])])])],8,wG)],32)):dt("",!0)]),x("div",cK,[y[21]||(y[21]=x("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Close",-1)),x("button",{type:"button",onClick:y[13]||(y[13]=Hi(O=>{d(t.index)},["prevent"])),class:"btn btn-primary"},"Save Rule")])])])],8,pG))}}),uK={class:"container-xxl flex-grow-1 container-p-y",style:{"max-width":"none"}},fK={style:{float:"right"}},hK={class:"card"},dK={class:"card-body"},pK={class:"table-responsive text-nowrap"},mK={id:"alert-table",class:"table table-bordered table-striped table-hover table-responsive"},gK={scope:"row"},vK=["onClick"],bK=["id","value"],yK=["id","value"],OK=["id","value"],xK=["id","value"],wK=["id","value"],_K=["id","value"],SK={class:"form-check form-switch mb-2"},CK=["onUpdate:modelValue","onClick","id"],TK=["for"],AK={class:"form-check form-switch mb-2"},kK=["onUpdate:modelValue","onClick","id"],EK=["for"],DK=["id","onChange","onUpdate:modelValue"],RK=["selected"],$K=["selected"],PK=["selected"],MK=["selected"],LK={style:{display:"inline-block"},class:"tooltip-wrapper","data-bs-toggle":"tooltip","data-bs-html":"true","data-bs-original-title":"<i class='bx bxs-arrow-from-left bx-xs'></i> <span>Edit This Rule</span>"},NK=["data-bs-target"],IK=["onClick"],FK={key:1},BK={key:1},HK=Kn({__name:"TabConfiguration",props:{isActive:{type:Boolean,required:!0,default:!1},rulesFile:{type:String,required:!0},save_configuration:{type:Function,required:!0},Content:{type:String,required:!0},ContentType:{type:String,required:!0},update_configuration:{type:Function,required:!0},url:{type:String,required:!0},promQLurl:{type:String,required:!0},configuration:Object,updateClass:Function,ruleRow:Function,selectedClass:String},emits:["toast"],setup(t,{emit:e}){const n=t,i=ht(null),r=a=>{const l=document.getElementById(`rule_modal_generic_${a}`);l?(i.value=new Ai(l,{backdrop:!0}),i.value.show()):console.error(`Modal with ID rule_modal_${a} not found`)};function s(a){var l,c;if(window.confirm("Are you sure you want to delete this rule?")){const u=JSON.parse(JSON.stringify(n.configuration));(c=(l=u==null?void 0:u.groups)==null?void 0:l[0])!=null&&c.rules&&(u.groups[0].rules.splice(a,1),n.save_configuration("generic",u,"On Page"))}}const o=a=>Wn({get:()=>a!==!0,set:l=>{l===!0?a=!1:a=!0}});return(a,l)=>{var c,u,f;return K(),Z("div",uK,[x("span",fK,[Ot(iR,{configType:"generic",rulesFile:t.rulesFile,save_configuration:t.save_configuration,Content:t.Content,ContentType:t.ContentType,onToast:l[0]||(l[0]=d=>a.$emit("toast",d))},null,8,["rulesFile","save_configuration","Content","ContentType"])]),l[10]||(l[10]=x("h4",{class:"fw-bold py-3 mb-4"},[x("span",{class:"text-muted fw-light"}," Monitoring /"),jt(" Generic Rules ")],-1)),x("div",hK,[l[9]||(l[9]=x("h5",{class:"card-header"},"Rules",-1)),x("div",dK,[x("div",pK,[Ot(qd,{configType:"generic",url:t.url,promQLurl:t.promQLurl,configuration:t.configuration,save_configuration:t.save_configuration,updateClass:t.updateClass,ruleRow:t.ruleRow,row:{alert:"",annotations:{description:""},for:"",expr:"",labels:{category:"",disabled:!1,nhc:!1,severity:"info"}},index:0,selectedClass:t.selectedClass,onToast:l[1]||(l[1]=d=>a.$emit("toast",d))},null,8,["url","promQLurl","configuration","save_configuration","updateClass","ruleRow","selectedClass"]),x("table",mK,[l[8]||(l[8]=x("thead",null,[x("tr",null,[x("th",{scope:"col"},"#"),x("th",{scope:"col"},"Group"),x("th",{scope:"col"},"Rule"),x("th",{scope:"col"},"Time"),x("th",{scope:"col"},"Enable"),x("th",{scope:"col"},"NHC"),x("th",{scope:"col"},"Severity"),x("th",{scope:"col"},"Actions")])],-1)),(c=n.configuration)!=null&&c.groups&&((u=n.configuration)==null?void 0:u.groups.length)>0?(K(!0),Z(Ye,{key:0},yn((f=n.configuration)==null?void 0:f.groups,(d,m)=>(K(),Z("tbody",{key:d.name},[d.rules&&d.rules.length>0?(K(!0),Z(Ye,{key:0},yn(d.rules,(g,y)=>(K(),Z("tr",{key:y},[x("th",gK,xe(y+1),1),x("td",null,xe(d.name),1),x("td",null,[x("a",{href:"#",onClick:Hi(O=>r(y+1),["prevent"])},xe(g.alert),9,vK),x("input",{type:"hidden",id:`generic_group_name_${m+1}`,value:`${d.name}`},null,8,bK),x("input",{type:"hidden",id:`generic_rule_name_${y+1}`,value:`${g.alert}`},null,8,yK),x("input",{type:"hidden",id:`generic_rule_description_${y+1}`,value:`${g.annotations.description}`},null,8,OK),x("input",{type:"hidden",id:`generic_rule_for_${y+1}`,value:`${g.for}`},null,8,xK),x("input",{type:"hidden",id:`generic_rule_editor_${y+1}`,value:`${g.expr}`},null,8,wK),x("input",{type:"hidden",id:`generic_rule_category_${y+1}`,value:`${g.labels.category}`},null,8,_K)]),x("td",null,xe(g.for),1),x("td",null,[x("div",SK,[Zt(x("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":O=>o(g.labels.disabled).value=O,onClick:O=>{n.update_configuration("generic",y+1)},id:`generic_rule_status_${y+1}`,"data-toggle":"switch"},null,8,CK),[[$s,o(g.labels.disabled).value]]),x("label",{class:"form-check-label",for:`generic_rule_status_${y+1}`},xe(g.labels.disabled!==!0?"ON":"OFF"),9,TK)])]),x("td",null,[x("div",AK,[Zt(x("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":O=>g.labels.nhc=O,onClick:O=>{n.update_configuration("generic",y+1)},id:`generic_rule_nhc_${y+1}`,"data-toggle":"switch","true-value":!0,"false-value":!1},null,8,kK),[[$s,g.labels.nhc]]),x("label",{class:"form-check-label",for:`generic_rule_nhc_${y+1}`},xe(g.labels.nhc===!0?"ON":"OFF"),9,EK)])]),x("td",null,[Zt(x("select",{id:`generic_severity_${y+1}`,onChange:O=>{n.update_configuration("generic",y+1)},"onUpdate:modelValue":O=>g.labels.severity=O,class:un(["form-select","form-select-sm",g.labels.severity==="critical"?"btn-dark":"btn-"+g.labels.severity])},[l[3]||(l[3]=x("option",{class:"btn-primary",value:""},"Set Priority",-1)),x("option",{class:"btn-dark",value:"critical",selected:g.labels.severity==="critical"},"Critical",8,RK),x("option",{class:"btn-danger",value:"danger",selected:g.labels.severity==="danger"},"Danger",8,$K),x("option",{class:"btn-warning",value:"warning",selected:g.labels.severity==="warning"},"Warning",8,PK),x("option",{class:"btn-info",value:"info",selected:g.labels.severity==="info"},"Informational",8,MK)],42,DK),[[nd,g.labels.severity]])]),x("td",null,[x("div",LK,[x("button",{class:"tooltip-modal-link",id:"actions","data-bs-target":`#rule_modal_generic_${y+1}`,"data-bs-toggle":"modal"},l[4]||(l[4]=[x("box-icon",{name:"edit",color:"#696cff",size:"md"},null,-1)]),8,NK)]),x("button",{style:{display:"inline-block"},class:"tooltip-modal-link",onClick:Hi(O=>{s(y)},["prevent"]),id:"actions","data-bs-toggle":"tooltip","data-bs-offset":"0,4","data-bs-placement":"top","data-bs-html":"true","data-bs-original-title":"<i class='bx bxs-arrow-from-left bx-xs'></i> <span>Delete This Rule</span>"},l[5]||(l[5]=[x("box-icon",{name:"trash",color:"red",size:"md"},null,-1)]),8,IK),Ot(qd,{configType:"generic",url:t.url,promQLurl:t.promQLurl,configuration:t.configuration,save_configuration:t.save_configuration,updateClass:t.updateClass,ruleRow:t.ruleRow,row:g,index:y+1,selectedClass:t.selectedClass,onToast:l[2]||(l[2]=O=>a.$emit("toast",O))},null,8,["url","promQLurl","configuration","save_configuration","updateClass","ruleRow","row","index","selectedClass"])])]))),128)):(K(),Z("tr",FK,l[6]||(l[6]=[x("td",{colspan:"100%",style:{"text-align":"center"}},[x("span",{style:{color:"red","font-weight":"bold","font-style":"italic"}}," --- No Generic rules available --- ")],-1)])))]))),128)):(K(),Z("tbody",BK,l[7]||(l[7]=[x("tr",null,[x("td",{colspan:"100%",style:{"text-align":"center"}},[x("span",{style:{color:"red","font-weight":"bold","font-style":"italic"}}," --- No Generic rules available --- ")])],-1)])))])])])])])}}}),jK={props:{isActive:{type:Boolean,required:!0,default:!1},url:{type:String,required:!0},promQLurl:{type:String,required:!0}},setup(t){const e=ht(!0),n=ht(!0),i=ht([]),r=ht([]),s=ht([]),o=ht(""),a=ht(""),l=ht([]),c=ht(""),u=ht("all"),f=ht([]),d=ht(!1),m=ht(""),g=ht([]),y=ht("");function O(X,le){f.value.push({message:X,toastClassName:le}),_()}function _(){if(!d.value&&f.value.length>0){const X=f.value.shift();if(X){const{message:le,toastClassName:W}=X;m.value=le,y.value=W,d.value=!0,setTimeout(()=>{d.value=!1,_()},3e3)}}}const A=async()=>{try{const X=await kt.get(`${t.url}/get_nodes`);X.status===200?i.value=X.data.map(le=>({hostname:le.hostname,status:le.status,message:le.status?"":le.message,rules:le.data?le.data.groups[0].rules:[],class:le.status?"primary":"secondary"})):O(`Error fetching nodes: ${X.status}`,"bg-secondary")}catch(X){O("Failed to fetch nodes.","bg-secondary"),console.error("Error fetching nodes:",X)}},R=Wn(()=>{let X=i.value;if(c.value){const le=c.value.toLowerCase();X=X.filter(W=>W.hostname.toLowerCase().includes(le))}return u.value==="secondary"&&(X=X.filter(le=>le.class==="secondary")),X}),T=X=>{const le=l.value.indexOf(X);le===-1?(l.value.push(X),ve(X),ne(X)):(l.value.splice(le,1),l.value.length===0?(s.value=[],a.value="",r.value=[],o.value=""):(ve(l.value[l.value.length-1]),ne(l.value[l.value.length-1])))},N=()=>{l.value=i.value.map((X,le)=>le)},I=()=>{l.value=[],s.value=[],a.value="",r.value=[],o.value=""},v=()=>{l.value=i.value.map((X,le)=>X.class==="secondary"?le:-1).filter(X=>X!==-1)},z=async()=>{if(g.value=[],l.value.length===0)O("Please select at least one node.","bg-warning");else{const le=l.value.map(W=>i.value[W]).map(W=>({hostname:W.hostname,force:!0}));try{const W=await kt.post(`${t.url}/save_nodes`,le);W.status===200&&W.data.response.forEach(V=>{V.status===!0?O(`SUCCESS[RESET] :: Node ${V.hostname} is Reset.`,"bg-success"):g.value.push(V.message.replace(/(.{200})/g,`$1
`))})}catch(W){O("Error saving selected nodes.","bg-secondary"),console.error("Error saving nodes:",W)}I(),A()}},G=async()=>{try{const X=await kt.get(`${t.url}/get_global`);X.status===200?(X.data.hw.disabled===!1?e.value=!0:e.value=!1,X.data.hw.nhc===!0?n.value=!0:n.value=!1):O(`ERROR[Global Settings] :: ${X.status}`,"bg-secondary")}catch(X){O("Failed to fetch Global Settings.","bg-secondary"),console.error("Error fetching nodes:",X)}},oe=async X=>{g.value=[];const le=X.target,W=le.name;let V=le.checked,te="",be=!1,Le="";W==="disabled"&&V===!0?(V=!1,te="Enable",be=!0):W==="disabled"&&V===!1?(V=!0,te="Enable",be=!1):(te="NHC",be=V);const ot={hw:{[W]:V}};try{const it=await kt.post(`${t.url}/set_global`,ot);it.status===200&&(Le=it.data.response,it.data.response.length===0?O(`Global[${te}] is set to [${be}] for All Nodes.`,"bg-success"):it.data.response.forEach(nt=>{let mt="",Pt="";nt.status?(mt=`Global[${te}] for ${nt.hostname} is set to [${be}].`,Pt="bg-success",O(mt,Pt)):(mt=`ERROR :: Global[${te}] for ${nt.hostname} is ${nt.message}.`,Pt="bg-secondary",g.value.push(mt))}))}catch(it){O(`ERROR :: ${Le} ${it}`,"bg-secondary"),console.error("Error saving nodes:",it)}},ve=async X=>{const le=i.value[X].hostname,W=`${t.url}/proxy?url=${t.promQLurl}/api/v1/query?query=lshw_device%7Bhostname%3D%7E%22${le}%22%2C+id%3D%7E%22cpu%7Cdisplay%7Cnetwork%7Cdisk%7Cbank%3A.*%22%7D`;try{const V=await kt.get(W);V.status===200?(s.value=V.data.data.result.map((te,be)=>({id:be+1,luna_group:te.metric.luna_group?te.metric.luna_group:"N/A",hostname:te.metric.hostname?te.metric.hostname:"N/A",class:te.metric.class?te.metric.class:"N/A",vendor:te.metric.vendor?te.metric.vendor:"N/A",description:te.metric.description?te.metric.description:"N/A",size:te.metric.size?te.metric.size:"N/A",clock:te.metric.clock?te.metric.clock:"N/A",serial:te.metric.serial?te.metric.serial:"N/A",product:te.metric.product?te.metric.product:"N/A",handle:te.metric.handle?te.metric.handle:"N/A",physid:te.metric.physid?te.metric.physid:"N/A",version:te.metric.version?te.metric.version:"N/A",slot:te.metric.slot?te.metric.slot:"N/A"})),s.value.length===0&&(a.value=`There is no Hardware Configuration is available for ${le}.`)):(O(`Error fetching Hardware: ${V.status}`,"bg-secondary"),a.value=`Error fetching Hardware: ${V.status} `)}catch(V){console.error("Error fetching URL:",V),a.value=`Failed to fetch Hardware Inventory for ${le}: ${V}`}},ne=async X=>{const le=i.value[X].hostname,W=i.value[X].rules;r.value=W.map((V,te)=>({id:te+1,rule:V.alert,severity:V.labels.severity,time:V.for??"",expr:V.expr,description:V.annotations.description,hostname:le})),r.value.length===0&&(o.value=`There is no Rule Configuration is available for ${le}.`)};return ks(()=>t.isActive,async X=>{X&&(A(),G())}),Mo(()=>{t.isActive&&(A(),G())}),{nodes:i,selectedIndices:l,searchTerm:c,toggleSelect:T,selectAllNodes:N,revertSelection:I,selectFailedNodes:v,resetSelectedNodes:z,filteredNodes:R,showToast:d,toastClass:y,toastMessage:m,processQueue:_,showRules:ne,showInventory:ve,nodeStatus:e,nodeNHC:n,inventory:s,hardware_message:a,nodes_rules:r,rule_message:o,fetchGlobalSettings:G,setGlobalSettings:oe,error_message:g}}},VK={key:0},QK={class:"row"},zK={class:"col-md-1 d-flex align-items-center"},WK={class:"form-check form-switch mb-2 ms-5 align-self-center"},qK={class:"form-check-label",for:"rule_status_"},UK={class:"col-md-1 d-flex align-items-center"},XK={class:"form-check form-switch mb-2 ms-5 align-self-center"},YK={class:"form-check-label",for:"rule_nhc_"},GK={class:"row"},KK={class:"col-md-1"},JK={class:"col-md-1"},ZK={class:"col-md-1"},eJ={class:"col-md-4"},tJ={class:"input-group input-group-sm"},nJ={class:"row"},iJ={class:"col-md-4 d-flex align-items-center"},rJ={class:"form-check form-switch mb-2 ms-5 align-self-center"},sJ={class:"row node_pan"},oJ=["onClick"],aJ={class:"card-body node-body"},lJ={class:"card-text"},cJ={class:"toast-header"},uJ={class:"toast-body"},fJ={class:"row"},hJ={key:0,class:"table table-bordered table-striped table-hover table-responsive text-nowrap"},dJ={class:"table table-bordered table-striped table-hover caption-top"},pJ={key:1,class:"alert alert-danger",role:"alert"},mJ={class:"row"},gJ={key:0,class:"table table-bordered table-striped table-hover table-responsive text-nowrap"},vJ={class:"table table-bordered table-striped table-hover caption-top"},bJ={key:1,class:"alert alert-danger",role:"alert"};function yJ(t,e,n,i,r,s){return K(),Z(Ye,null,[e[28]||(e[28]=x("h4",{class:"fw-bold py-3 mb-4"},[x("span",{class:"text-muted fw-light"}," Monitoring /"),jt(" Node Hardware ")],-1)),i.error_message.length?(K(),Z("div",VK,[(K(!0),Z(Ye,null,yn(i.error_message,o=>(K(),Z("div",{key:o,class:"alert alert-danger alert-dismissible",role:"alert"},[x("pre",null,xe(o),1),e[10]||(e[10]=x("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1))]))),128))])):dt("",!0),x("div",null,[x("div",QK,[e[13]||(e[13]=x("div",{class:"col-md-1"},[x("span",{class:"nav_head"},"Global Settings: ")],-1)),x("div",zK,[e[11]||(e[11]=x("strong",{class:"align-self-center"},"Enable",-1)),x("div",WK,[Zt(x("input",{class:"form-check-input",type:"checkbox",checked:"","data-toggle":"switch",name:"disabled",onChange:e[0]||(e[0]=o=>i.setGlobalSettings(o)),"onUpdate:modelValue":e[1]||(e[1]=o=>i.nodeStatus=o)},null,544),[[$s,i.nodeStatus]]),x("label",qK,xe(i.nodeStatus?"ON":"OFF"),1)])]),e[14]||(e[14]=x("div",{class:"col-md-1"},null,-1)),x("div",UK,[e[12]||(e[12]=x("strong",{class:"align-self-center"},"NHC",-1)),x("div",XK,[Zt(x("input",{class:"form-check-input",type:"checkbox",checked:"","data-toggle":"switch",name:"nhc",onChange:e[2]||(e[2]=o=>i.setGlobalSettings(o)),"onUpdate:modelValue":e[3]||(e[3]=o=>i.nodeNHC=o)},null,544),[[$s,i.nodeNHC]]),x("label",YK,xe(i.nodeNHC?"ON":"OFF"),1)])])]),e[20]||(e[20]=x("br",null,null,-1)),x("div",GK,[e[16]||(e[16]=x("div",{class:"col-md-1"},[x("span",{class:"nav_head"},"Filter:")],-1)),x("div",KK,[x("button",{type:"button",class:"btn btn-sm btn-primary",onClick:e[4]||(e[4]=(...o)=>i.selectAllNodes&&i.selectAllNodes(...o))},"Select All")]),x("div",JK,[x("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:e[5]||(e[5]=(...o)=>i.selectFailedNodes&&i.selectFailedNodes(...o))},"Select Failed")]),x("div",ZK,[x("button",{type:"button",class:"btn btn-sm btn-dark",onClick:e[6]||(e[6]=(...o)=>i.revertSelection&&i.revertSelection(...o))},"Deselect All")]),x("div",eJ,[x("div",tJ,[e[15]||(e[15]=x("span",{class:"input-group-text"},[x("box-icon",{name:"search",color:"blue",size:"sm"})],-1)),Zt(x("input",{type:"text",class:"form-control",placeholder:"Filter By Name","onUpdate:modelValue":e[7]||(e[7]=o=>i.searchTerm=o)},null,512),[[Ur,i.searchTerm]])])])]),e[21]||(e[21]=x("br",null,null,-1)),x("div",nJ,[e[19]||(e[19]=x("div",{class:"col-md-1"},[x("span",{class:"nav_head"},"Actions: ")],-1)),x("div",iJ,[e[18]||(e[18]=x("strong",{class:"align-self-center"},"Reset Selected Nodes",-1)),x("div",rJ,[x("button",{type:"button",class:"btn btn-sm btn-warning",onClick:e[8]||(e[8]=(...o)=>i.resetSelectedNodes&&i.resetSelectedNodes(...o))},e[17]||(e[17]=[x("strong",null,"Reset Nodes",-1)]))])])]),e[22]||(e[22]=x("br",null,null,-1)),x("div",sJ,[(K(!0),Z(Ye,null,yn(i.filteredNodes,(o,a)=>(K(),Z("div",{key:a,class:un(["col-md-1 node-box",{selected:i.selectedIndices.includes(a)}]),onClick:l=>i.toggleSelect(a)},[x("div",{class:un(["card text-white",`bg-${o.class}`])},[x("div",aJ,[x("p",lJ,xe(o.hostname),1)])],2)],10,oJ))),128))])]),i.showToast?(K(),Z("div",{key:1,class:un(`bs-toast toast toast-placement-ex m-2 fade ${i.toastClass} top-0 end-0 show`),role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":"3000"},[x("div",cJ,[e[23]||(e[23]=x("i",{class:"bx bx-bell me-2"},null,-1)),e[24]||(e[24]=x("div",{class:"me-auto fw-medium"},"Configuration",-1)),e[25]||(e[25]=x("small",null,"Just now",-1)),x("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close",onClick:e[9]||(e[9]=o=>{i.showToast=!1,i.processQueue()})})]),x("div",uJ,xe(i.toastMessage),1)],2)):dt("",!0),e[29]||(e[29]=x("br",null,null,-1)),x("div",fJ,[i.nodes_rules.length>0?(K(),Z("div",hJ,[x("h3",null,"Rules Configurations for "+xe(i.nodes_rules[i.nodes_rules.length-1].hostname),1),x("table",dJ,[e[26]||(e[26]=x("thead",null,[x("tr",null,[x("th",null,"#"),x("th",null,"Rule"),x("th",null,"Severity"),x("th",null,"For Time"),x("th",null,"Expr"),x("th",null,"Description")])],-1)),x("tbody",null,[(K(!0),Z(Ye,null,yn(i.nodes_rules,o=>(K(),Z("tr",{key:o.id},[x("td",null,xe(o.id),1),x("td",null,xe(o.rule),1),x("td",null,xe(o.severity),1),x("td",null,xe(o.time),1),x("td",null,xe(o.expr),1),x("td",null,xe(o.description),1)]))),128))])])])):i.rule_message?(K(),Z("div",pJ,xe(i.rule_message),1)):dt("",!0)]),x("div",mJ,[i.inventory.length>0?(K(),Z("div",gJ,[x("h3",null,"Hardware Inventory for "+xe(i.inventory[i.inventory.length-1].hostname),1),x("table",vJ,[e[27]||(e[27]=x("thead",null,[x("tr",null,[x("th",null,"#"),x("th",null,"Luna Group"),x("th",null,"Hostname"),x("th",null,"Class"),x("th",null,"Vendor"),x("th",null,"Description"),x("th",null,"Size"),x("th",null,"Clock"),x("th",null,"Serial"),x("th",null,"Product"),x("th",null,"Handle"),x("th",null,"Physid"),x("th",null,"Version"),x("th",null,"Slot")])],-1)),x("tbody",null,[(K(!0),Z(Ye,null,yn(i.inventory,o=>(K(),Z("tr",{key:o.id},[x("td",null,xe(o.id),1),x("td",null,xe(o.luna_group),1),x("td",null,xe(o.hostname),1),x("td",null,xe(o.class),1),x("td",null,xe(o.vendor),1),x("td",null,xe(o.description),1),x("td",null,xe(o.size),1),x("td",null,xe(o.clock),1),x("td",null,xe(o.serial),1),x("td",null,xe(o.product),1),x("td",null,xe(o.handle),1),x("td",null,xe(o.physid),1),x("td",null,xe(o.version),1),x("td",null,xe(o.slot),1)]))),128))])])])):i.hardware_message?(K(),Z("div",bJ,xe(i.hardware_message),1)):dt("",!0)])],64)}const OJ=Pa(jK,[["render",yJ]]),xJ={class:"container-xxl flex-grow-1 container-p-y",style:{"max-width":"none"}},wJ={style:{float:"right"}},_J={class:"card"},SJ={class:"card-body"},CJ={class:"table-responsive text-nowrap"},TJ={id:"alert-table",class:"table table-bordered table-striped table-hover table-responsive"},AJ={scope:"row"},kJ=["onClick"],EJ=["id","value"],DJ=["id","value"],RJ=["id","value"],$J=["id","value"],PJ=["id","value"],MJ=["id","value"],LJ={class:"form-check form-switch mb-2"},NJ=["onUpdate:modelValue","onClick","id"],IJ=["for"],FJ={class:"form-check form-switch mb-2"},BJ=["onUpdate:modelValue","onClick","id"],HJ=["for"],jJ=["id","onChange","onUpdate:modelValue"],VJ=["selected"],QJ=["selected"],zJ=["selected"],WJ=["selected"],qJ={style:{display:"inline-block"},class:"tooltip-wrapper","data-bs-toggle":"tooltip","data-bs-html":"true","data-bs-original-title":"<i class='bx bxs-arrow-from-left bx-xs'></i> <span>Edit This Rule</span>"},UJ=["data-bs-target"],XJ=["onClick"],YJ={key:1},GJ={key:1},KJ=Kn({__name:"TabService",props:{isActive:{type:Boolean,required:!0,default:!1},rulesFile:{type:String,required:!0},save_configuration:{type:Function,required:!0},Content:{type:String,required:!0},ContentType:{type:String,required:!0},update_configuration:{type:Function,required:!0},url:{type:String,required:!0},promQLurl:{type:String,required:!0},configuration:Object,updateClass:Function,ruleRow:Function,selectedClass:String},emits:["toast"],setup(t,{emit:e}){const n=t,i=ht(null),r=a=>{const l=document.getElementById(`rule_modal_service_${a}`);l?(i.value=new Ai(l,{backdrop:!0}),i.value.show()):console.error(`Modal with ID rule_modal_${a} not found`)};function s(a){var l,c;if(window.confirm("Are you sure you want to delete this rule?")){const u=JSON.parse(JSON.stringify(n.configuration));(c=(l=u==null?void 0:u.groups)==null?void 0:l[0])!=null&&c.rules&&(u.groups[0].rules.splice(a,1),n.save_configuration("service",u,"On Page"))}}const o=a=>Wn({get:()=>a!==!0,set:l=>{l===!0?a=!1:a=!0}});return(a,l)=>{var c,u,f;return K(),Z("div",xJ,[x("span",wJ,[Ot(iR,{configType:"service",rulesFile:t.rulesFile,save_configuration:t.save_configuration,Content:t.Content,ContentType:t.ContentType,onToast:l[0]||(l[0]=d=>a.$emit("toast",d))},null,8,["rulesFile","save_configuration","Content","ContentType"])]),l[10]||(l[10]=x("h4",{class:"fw-bold py-3 mb-4"},[x("span",{class:"text-muted fw-light"}," Monitoring /"),jt(" Services ")],-1)),x("div",_J,[l[9]||(l[9]=x("h5",{class:"card-header"},"Rules",-1)),x("div",SJ,[x("div",CJ,[Ot(qd,{configType:"service",url:t.url,promQLurl:t.promQLurl,configuration:t.configuration,save_configuration:t.save_configuration,updateClass:t.updateClass,ruleRow:t.ruleRow,row:{alert:"",annotations:{description:""},for:"",expr:"",labels:{category:"",disabled:!1,nhc:!1,severity:"info"}},index:0,selectedClass:t.selectedClass,onToast:l[1]||(l[1]=d=>a.$emit("toast",d))},null,8,["url","promQLurl","configuration","save_configuration","updateClass","ruleRow","selectedClass"]),x("table",TJ,[l[8]||(l[8]=x("thead",null,[x("tr",null,[x("th",{scope:"col"},"#"),x("th",{scope:"col"},"Group"),x("th",{scope:"col"},"Rule"),x("th",{scope:"col"},"Time"),x("th",{scope:"col"},"Enable"),x("th",{scope:"col"},"NHC"),x("th",{scope:"col"},"Severity"),x("th",{scope:"col"},"Actions")])],-1)),(c=n.configuration)!=null&&c.groups&&((u=n.configuration)==null?void 0:u.groups.length)>0?(K(!0),Z(Ye,{key:0},yn((f=n.configuration)==null?void 0:f.groups,(d,m)=>(K(),Z("tbody",{key:d.name},[d.rules&&d.rules.length>0?(K(!0),Z(Ye,{key:0},yn(d.rules,(g,y)=>(K(),Z("tr",{key:y},[x("th",AJ,xe(y+1),1),x("td",null,xe(d.name),1),x("td",null,[x("a",{href:"#",onClick:Hi(O=>r(y+1),["prevent"])},xe(g.alert),9,kJ),x("input",{type:"hidden",id:`service_group_name_${m+1}`,value:`${d.name}`},null,8,EJ),x("input",{type:"hidden",id:`service_rule_name_${y+1}`,value:`${g.alert}`},null,8,DJ),x("input",{type:"hidden",id:`service_rule_description_${y+1}`,value:`${g.annotations.description}`},null,8,RJ),x("input",{type:"hidden",id:`service_rule_for_${y+1}`,value:`${g.for}`},null,8,$J),x("input",{type:"hidden",id:`service_rule_editor_${y+1}`,value:`${g.expr}`},null,8,PJ),x("input",{type:"hidden",id:`service_rule_category_${y+1}`,value:`${g.labels.category}`},null,8,MJ)]),x("td",null,xe(g.for),1),x("td",null,[x("div",LJ,[Zt(x("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":O=>o(g.labels.disabled).value=O,onClick:O=>{n.update_configuration("service",y+1)},id:`service_rule_status_${y+1}`,"data-toggle":"switch"},null,8,NJ),[[$s,o(g.labels.disabled).value]]),x("label",{class:"form-check-label",for:`service_rule_status_${y+1}`},xe(g.labels.disabled!==!0?"ON":"OFF"),9,IJ)])]),x("td",null,[x("div",FJ,[Zt(x("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":O=>g.labels.nhc=O,onClick:O=>{n.update_configuration("service",y+1)},id:`service_rule_nhc_${y+1}`,"data-toggle":"switch","true-value":!0,"false-value":!1},null,8,BJ),[[$s,g.labels.nhc]]),x("label",{class:"form-check-label",for:`service_rule_nhc_${y+1}`},xe(g.labels.nhc===!0?"ON":"OFF"),9,HJ)])]),x("td",null,[Zt(x("select",{id:`service_severity_${y+1}`,onChange:O=>{n.update_configuration("service",y+1)},"onUpdate:modelValue":O=>g.labels.severity=O,class:un(["form-select","form-select-sm",g.labels.severity==="critical"?"btn-dark":"btn-"+g.labels.severity])},[l[3]||(l[3]=x("option",{class:"btn-primary",value:""},"Set Priority",-1)),x("option",{class:"btn-dark",value:"critical",selected:g.labels.severity==="critical"},"Critical",8,VJ),x("option",{class:"btn-danger",value:"danger",selected:g.labels.severity==="danger"},"Danger",8,QJ),x("option",{class:"btn-warning",value:"warning",selected:g.labels.severity==="warning"},"Warning",8,zJ),x("option",{class:"btn-info",value:"info",selected:g.labels.severity==="info"},"Informational",8,WJ)],42,jJ),[[nd,g.labels.severity]])]),x("td",null,[x("div",qJ,[x("button",{class:"tooltip-modal-link",id:"actions","data-bs-target":`#rule_modal_service_${y+1}`,"data-bs-toggle":"modal"},l[4]||(l[4]=[x("box-icon",{name:"edit",color:"#696cff",size:"md"},null,-1)]),8,UJ)]),x("button",{style:{display:"inline-block"},class:"tooltip-modal-link",onClick:Hi(O=>{s(y)},["prevent"]),id:"actions","data-bs-toggle":"tooltip","data-bs-offset":"0,4","data-bs-placement":"top","data-bs-html":"true","data-bs-original-title":"<i class='bx bxs-arrow-from-left bx-xs'></i> <span>Delete This Rule</span>"},l[5]||(l[5]=[x("box-icon",{name:"trash",color:"red",size:"md"},null,-1)]),8,XJ),Ot(qd,{configType:"service",url:t.url,promQLurl:t.promQLurl,configuration:t.configuration,save_configuration:t.save_configuration,updateClass:t.updateClass,ruleRow:t.ruleRow,row:g,index:y+1,selectedClass:t.selectedClass,onToast:l[2]||(l[2]=O=>a.$emit("toast",O))},null,8,["url","promQLurl","configuration","save_configuration","updateClass","ruleRow","row","index","selectedClass"])])]))),128)):(K(),Z("tr",YJ,l[6]||(l[6]=[x("td",{colspan:"100%",style:{"text-align":"center"}},[x("span",{style:{color:"red","font-weight":"bold","font-style":"italic"}}," --- No service rules available --- ")],-1)])))]))),128)):(K(),Z("tbody",GJ,l[7]||(l[7]=[x("tr",null,[x("td",{colspan:"100%",style:{"text-align":"center"}},[x("span",{style:{color:"red","font-weight":"bold","font-style":"italic"}}," --- No service rules available --- ")])],-1)])))])])])])])}}}),JJ={name:"FooterBar",props:{url:{type:String,required:!0}}},ZJ={class:"content-footer footer bg-footer-theme"},eZ={class:"container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column"},tZ=["href"];function nZ(t,e,n,i,r,s){return K(),Z(Ye,null,[e[3]||(e[3]=x("hr",{class:"my-5"},null,-1)),x("footer",ZJ,[x("div",eZ,[e[2]||(e[2]=x("div",{class:"mb-2 mb-md-0"},[jt("© 2025, made with ❤️ by "),x("a",{href:"https://clustervision.com/",target:"_blank",class:"footer-link fw-bolder"},"ClusterVision")],-1)),x("div",null,[x("a",{href:`${t.$props.url}/license`,class:"footer-link me-4",target:"_blank"},"License",8,tZ),e[0]||(e[0]=x("a",{href:"https://github.com/clustervision/trinityX",target:"_blank",class:"footer-link me-4"},"Documentation",-1)),e[1]||(e[1]=x("a",{href:"https://support.clustervision.com/",target:"_blank",class:"footer-link me-4"},"Support",-1))])])])],64)}const iZ=Pa(JJ,[["render",nZ]]),rZ={class:"layout-wrapper layout-content-navbar"},sZ={class:"layout-container"},oZ={class:"content-wrapper"},aZ={key:0,id:"spinner-overlay",class:"spinner-overlay"},lZ={class:"col-xl-12"},cZ={class:"nav-align-top mb-6"},uZ={class:"nav nav-pills mb-4 nav-fill tab-bar",role:"tablist"},fZ={class:"nav-item mb-1 mb-sm-0",role:"presentation"},hZ={class:"nav-item mb-1 mb-sm-0",role:"presentation"},dZ={class:"nav-item mb-1 mb-sm-0",role:"presentation"},pZ={class:"nav-item",role:"presentation"},mZ={class:"nav-item",role:"presentation"},gZ={class:"tab-content"},vZ={class:"tab-pane fade active show",id:"tab-overview",role:"tabpanel"},bZ={class:"tab-pane fade",id:"tab-alerts",role:"tabpanel"},yZ={class:"tab-pane fade",id:"tab-rules",role:"tabpanel"},OZ={class:"tab-pane fade",id:"tab-hardware",role:"tabpanel"},xZ={class:"tab-pane fade",id:"tab-service",role:"tabpanel"},wZ={class:"toast-body"},_Z="/trinity/local/etc/prometheus_server/rules/trix.generic.rules",SZ="/trinity/local/etc/prometheus_server/rules/trix.service.rules",I_="JSON",CZ=Kn({__name:"App",setup(t){const e=ht(window.PROMQL_URL||"https://localhost:9090"),n=ht(window.ALERT_URL||"http://localhost:9093"),i=e.value+"/api/v1/rules",r=n.value.replace(/\/alerts$/,"/silences"),s=e.value+"/api/v1/query?query=max+by%28hostname%29+%28up%29",o=ht("overview");function a(W){o.value=W}Mo(()=>{(async()=>{await z()})()});const l=ht("btn-primary"),c={critical:"btn-dark",danger:"btn-danger",warning:"btn-warning",info:"btn-info"};function u(W){const V=W.target;if(V&&V.value){const te=V.value;l.value=c[te]||"btn-primary"}}const f=window.APP_URL||"http://localhost:7755";function d(W){return Array.isArray(W)?W.map(d).filter(V=>V!==null):W!==null&&typeof W=="object"?Object.fromEntries(Object.entries(W).filter(([,V])=>V!==null&&V!=="null").map(([V,te])=>[V,d(te)])):W}async function m(W){var te,be;const V=d(W);try{const Le=await kt.post(f+"/save_config",V);return{status:Le.status,message:Le.data.response}}catch(Le){return kt.isAxiosError(Le)?(console.log(Le),{status:((te=Le.response)==null?void 0:te.status)||500,message:((be=Le.response)==null?void 0:be.data.response)||"An error occurred during the request."}):{status:500,message:"An unknown error occurred."}}}const g=(W,V)=>{let te;const be={alert:W.alert,annotations:{description:W.annotations.description},for:W.for,expr:W.expr,labels:{disabled:W.labels.disabled,nhc:W.labels.nhc,severity:W.labels.severity}};return V==="JSON"?te=JSON.stringify(be,null,2):V==="YAML"&&(te=va.dump(be)),te},y=ht(""),O=ht(""),_=ht(!1),A=ht(!1);let R=Ts({groups:[]});const T=Ts({groups:[]}),N=Ts({groups:[]});let I=JSON.stringify({},null,2),v=JSON.stringify({},null,2);async function z(){var W;try{const V=await kt.get(f+"/get_rules");R=Ts(V.data),Object.assign(R,V.data);const te=G("generic"),be=G("service");Object.assign(T,te),Object.assign(N,be),I=JSON.stringify(T,null,2),v=JSON.stringify(N,null,2)}catch(V){kt.isAxiosError(V)?O.value=((W=V.response)==null?void 0:W.data.response)||V.message:O.value="An unknown error occurred.",ve(`ERROR :: While Getting Rules ${O.value}`,"bg-danger")}return R}function G(W){return{groups:R.groups.map(V=>({...V,rules:V.rules.filter(te=>te.labels.category===W)}))}}function oe(W,V){return{groups:[{name:"trinityx",rules:[...W.groups[0].rules,...V.groups[0].rules]}]}}function ve(W,V){_.value=!0,A.value=!0,typeof W=="string"?(O.value=W,y.value=V):typeof W=="object"&&W!==null&&"message"in W&&"toastClass"in W?(O.value=W.message,y.value=W.toastClass):(O.value="Unknown message: "+W,y.value="bg-dark"),setTimeout(()=>{_.value=!1,A.value=!1},3e3)}function ne(W){A.value=W}function X(W,V){let te=!1,be=!1,Le="info";const it=document.getElementById(`${W}_rule_name_${V}`).value,mt=document.getElementById(`${W}_rule_description_${V}`).value,Ht=document.getElementById(`${W}_rule_for_${V}`).value,ae=document.getElementById(`${W}_rule_editor_${V}`).value,Ce=document.getElementById(`${W}_rule_category_${V}`).value,De=document.getElementById(`${W}_rule_status_${V}`);De&&(De.checked===!0?te=!1:te=!0),be=document.getElementById(`${W}_rule_nhc_${V}`).checked;const M=document.getElementById(`${W}_severity_${V}`);M&&(Le=M.value),W==="generic"?(T.groups[0].rules[V-1].alert=it,T.groups[0].rules[V-1].annotations.description=mt,T.groups[0].rules[V-1].for=Ht,T.groups[0].rules[V-1].expr=ae,T.groups[0].rules[V-1].labels.category=Ce,T.groups[0].rules[V-1].labels.disabled=te,T.groups[0].rules[V-1].labels.nhc=be,T.groups[0].rules[V-1].labels.severity=Le,le(W,T,"On Page")):(N.groups[0].rules[V-1].alert=it,N.groups[0].rules[V-1].annotations.description=mt,N.groups[0].rules[V-1].for=Ht,N.groups[0].rules[V-1].expr=ae,N.groups[0].rules[V-1].labels.category=Ce,N.groups[0].rules[V-1].labels.disabled=te,N.groups[0].rules[V-1].labels.nhc=be,N.groups[0].rules[V-1].labels.severity=Le,le(W,N,"On Page"))}async function le(W,V,te){let be;typeof V=="object"?(V=Mt(V),be=JSON.stringify(V)):be=V;try{be=va.load(be)}catch(Le){Le instanceof Error?ve(O.value=Le.message,y.value="bg-danger"):ve(O.value="An unknown error occurred",y.value="bg-danger");try{be=JSON.parse(be)}catch(ot){ot instanceof Error?ve(O.value=ot.message,y.value="bg-danger"):ve(O.value="An unknown error occurred",y.value="bg-danger"),be=!1}}if(be){W==="generic"?be=oe(be,JSON.parse(JSON.stringify(N))):be=oe(JSON.parse(JSON.stringify(T)),be);const Le=await m(be);if(O.value=Le.message,Le.status===200){y.value="bg-success";const ot=document.getElementById(te);if(ot){const it=Ai.getInstance(ot);it==null||it.hide()}z()}else Le.status===400?y.value="bg-warning":y.value="bg-danger";ve(O.value,y.value)}}return(W,V)=>(K(),Z(Ye,null,[x("header",null,[Ot($L,{url:jn(f)},null,8,["url"])]),x("div",rZ,[x("div",sZ,[x("div",oZ,[A.value?(K(),Z("div",aZ,V[5]||(V[5]=[x("div",{id:"spinner",class:"d-flex justify-content-center"},[x("div",{class:"spinner-border spinner-border-lg text-success",style:{width:"10rem",height:"10rem"},role:"status"},[x("span",{class:"visually-hidden"},"Saving Configuration...")])],-1)]))):dt("",!0),x("div",lZ,[x("div",cZ,[x("ul",uZ,[x("li",fZ,[x("button",{type:"button",class:"nav-link active",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-overview","aria-controls":"tab-overview","aria-selected":"true",onClick:V[0]||(V[0]=te=>a("overview"))},V[6]||(V[6]=[x("span",{class:"d-none d-sm-block"},[x("box-icon",{name:"detail",class:"align-text-bottom icon-color"}),jt(" Overview")],-1)]))]),x("li",hZ,[x("button",{type:"button",class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-alerts","aria-controls":"tab-alerts","aria-selected":"true",onClick:V[1]||(V[1]=te=>a("alerts"))},V[7]||(V[7]=[x("span",{class:"d-none d-sm-block"},[x("box-icon",{name:"stats",class:"align-text-bottom icon-color"}),jt(" Alerts")],-1)]))]),x("li",dZ,[x("button",{type:"button",class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-rules","aria-controls":"tab-rules","aria-selected":"false",tabindex:"-1",onClick:V[2]||(V[2]=te=>a("generic"))},V[8]||(V[8]=[x("span",{class:"d-none d-sm-block"},[x("box-icon",{name:"bracket",class:"align-text-bottom icon-color"}),jt(" Generic Rules")],-1)]))]),x("li",pZ,[x("button",{type:"button",class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-service","aria-controls":"tab-service","aria-selected":"false",tabindex:"-1",onClick:V[3]||(V[3]=te=>a("service"))},V[9]||(V[9]=[x("span",{class:"d-none d-sm-block"},[x("box-icon",{name:"wrench",class:"align-text-bottom icon-color"}),jt(" Services")],-1)]))]),x("li",mZ,[x("button",{type:"button",class:"nav-link",role:"tab","data-bs-toggle":"tab","data-bs-target":"#tab-hardware","aria-controls":"tab-hardware","aria-selected":"false",tabindex:"-1",onClick:V[4]||(V[4]=te=>a("hardware"))},V[10]||(V[10]=[x("span",{class:"d-none d-sm-block"},[x("box-icon",{name:"desktop",class:"align-text-bottom icon-color"}),jt(" Node H/W")],-1)]))])]),x("div",gZ,[x("div",vZ,[Ot(HF,{isActive:o.value==="overview",url:jn(f),alertURL:n.value,statusAPI:i,nodeListAPI:s,"onUpdate:showSpinner":ne},null,8,["isActive","url","alertURL"])]),x("div",bZ,[Ot(Vj,{isActive:o.value==="alerts",url:jn(f),alertURL:n.value,statusAPI:i,silenceAPI:jn(r),"onUpdate:showSpinner":ne},null,8,["isActive","url","alertURL","silenceAPI"])]),x("div",yZ,[Ot(HK,{isActive:o.value==="generic",rulesFile:_Z,save_configuration:le,update_configuration:X,Content:jn(I),ContentType:I_,onToast:ve,url:jn(f),promQLurl:e.value,configuration:T,updateClass:u,ruleRow:g,selectedClass:l.value},null,8,["isActive","Content","url","promQLurl","configuration","selectedClass"])]),x("div",OZ,[Ot(OJ,{isActive:o.value==="hardware",url:jn(f),promQLurl:e.value},null,8,["isActive","url","promQLurl"])]),x("div",xZ,[Ot(KJ,{isActive:o.value==="service",rulesFile:SZ,save_configuration:le,update_configuration:X,Content:jn(v),ContentType:I_,onToast:ve,url:jn(f),promQLurl:e.value,configuration:N,updateClass:u,ruleRow:g,selectedClass:l.value},null,8,["isActive","Content","url","promQLurl","configuration","selectedClass"])])])])]),Ot(iZ,{url:jn(f)},null,8,["url"]),V[11]||(V[11]=x("div",{class:"content-backdrop fade"},null,-1))])]),V[12]||(V[12]=x("div",{class:"layout-overlay layout-menu-toggle"},null,-1))]),_.value?(K(),Z("div",{key:0,class:un(`bs-toast toast toast-placement-ex m-2 fade ${y.value} top-0 end-0 show`),role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":"2000"},[V[13]||(V[13]=x("div",{class:"toast-header"},[x("i",{class:"bx bx-bell me-2"}),x("div",{class:"me-auto fw-medium"},"Configuration"),x("small",null,"0 seconds ago"),x("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1)),x("div",wZ,xe(O.value),1)],2)):dt("",!0)],64))}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const al=typeof document<"u";function TR(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function TZ(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&TR(t.default)}const It=Object.assign;function Ig(t,e){const n={};for(const i in e){const r=e[i];n[i]=kr(r)?r.map(t):t(r)}return n}const du=()=>{},kr=Array.isArray,AR=/#/g,AZ=/&/g,kZ=/\//g,EZ=/=/g,DZ=/\?/g,kR=/\+/g,RZ=/%5B/g,$Z=/%5D/g,ER=/%5E/g,PZ=/%60/g,DR=/%7B/g,MZ=/%7C/g,RR=/%7D/g,LZ=/%20/g;function D0(t){return encodeURI(""+t).replace(MZ,"|").replace(RZ,"[").replace($Z,"]")}function NZ(t){return D0(t).replace(DR,"{").replace(RR,"}").replace(ER,"^")}function Fb(t){return D0(t).replace(kR,"%2B").replace(LZ,"+").replace(AR,"%23").replace(AZ,"%26").replace(PZ,"`").replace(DR,"{").replace(RR,"}").replace(ER,"^")}function IZ(t){return Fb(t).replace(EZ,"%3D")}function FZ(t){return D0(t).replace(AR,"%23").replace(DZ,"%3F")}function BZ(t){return t==null?"":FZ(t).replace(kZ,"%2F")}function Yu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const HZ=/\/$/,jZ=t=>t.replace(HZ,"");function Fg(t,e,n="/"){let i,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=WZ(i??e,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:Yu(o)}}function VZ(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function F_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function QZ(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&tc(e.matched[i],n.matched[r])&&$R(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function tc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function $R(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!zZ(t[n],e[n]))return!1;return!0}function zZ(t,e){return kr(t)?B_(t,e):kr(e)?B_(e,t):t===e}function B_(t,e){return kr(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function WZ(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const Ys={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Gu;(function(t){t.pop="pop",t.push="push"})(Gu||(Gu={}));var pu;(function(t){t.back="back",t.forward="forward",t.unknown=""})(pu||(pu={}));function qZ(t){if(!t)if(al){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),jZ(t)}const UZ=/^[^#]+#/;function XZ(t,e){return t.replace(UZ,"#")+e}function YZ(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const zp=()=>({left:window.scrollX,top:window.scrollY});function GZ(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=YZ(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function H_(t,e){return(history.state?history.state.position-e:-1)+t}const Bb=new Map;function KZ(t,e){Bb.set(t,e)}function JZ(t){const e=Bb.get(t);return Bb.delete(t),e}let ZZ=()=>location.protocol+"//"+location.host;function PR(t,e){const{pathname:n,search:i,hash:r}=e,s=t.indexOf("#");if(s>-1){let a=r.includes(t.slice(s))?t.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),F_(l,"")}return F_(n,t)+i+r}function eee(t,e,n,i){let r=[],s=[],o=null;const a=({state:d})=>{const m=PR(t,location),g=n.value,y=e.value;let O=0;if(d){if(n.value=m,e.value=d,o&&o===g){o=null;return}O=y?d.position-y.position:0}else i(m);r.forEach(_=>{_(n.value,g,{delta:O,type:Gu.pop,direction:O?O>0?pu.forward:pu.back:pu.unknown})})};function l(){o=n.value}function c(d){r.push(d);const m=()=>{const g=r.indexOf(d);g>-1&&r.splice(g,1)};return s.push(m),m}function u(){const{history:d}=window;d.state&&d.replaceState(It({},d.state,{scroll:zp()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function j_(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?zp():null}}function tee(t){const{history:e,location:n}=window,i={value:PR(t,n)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:ZZ()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(m){console.error(m),n[u?"replace":"assign"](d)}}function o(l,c){const u=It({},e.state,j_(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=It({},r.value,e.state,{forward:l,scroll:zp()});s(u.current,u,!0);const f=It({},j_(i.value,l,null),{position:u.position+1},c);s(l,f,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function nee(t){t=qZ(t);const e=tee(t),n=eee(t,e.state,e.location,e.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=It({location:"",base:t,go:i,createHref:XZ.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function iee(t){return typeof t=="string"||t&&typeof t=="object"}function MR(t){return typeof t=="string"||typeof t=="symbol"}const LR=Symbol("");var V_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(V_||(V_={}));function nc(t,e){return It(new Error,{type:t,[LR]:!0},e)}function vs(t,e){return t instanceof Error&&LR in t&&(e==null||!!(t.type&e))}const Q_="[^/]+?",ree={sensitive:!1,strict:!1,start:!0,end:!0},see=/[.+*?^${}()[\]/\\]/g;function oee(t,e){const n=It({},ree,e),i=[];let r=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let m=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(see,"\\$&"),m+=40;else if(d.type===1){const{value:g,repeatable:y,optional:O,regexp:_}=d;s.push({name:g,repeatable:y,optional:O});const A=_||Q_;if(A!==Q_){m+=10;try{new RegExp(`(${A})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+T.message)}}let R=y?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;f||(R=O&&c.length<2?`(?:/${R})`:"/"+R),O&&(R+="?"),r+=R,m+=20,O&&(m+=-8),y&&(m+=-20),A===".*"&&(m+=-50)}u.push(m)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const m=u[d]||"",g=s[d-1];f[g.name]=m&&g.repeatable?m.split("/"):m}return f}function l(c){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const m of d)if(m.type===0)u+=m.value;else if(m.type===1){const{value:g,repeatable:y,optional:O}=m,_=g in c?c[g]:"";if(kr(_)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=kr(_)?_.join("/"):_;if(!A)if(O)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);u+=A}}return u||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function aee(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function NR(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const s=aee(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(z_(i))return 1;if(z_(r))return-1}return r.length-i.length}function z_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const lee={type:0,value:""},cee=/[a-zA-Z0-9_]/;function uee(t){if(!t)return[[]];if(t==="/")return[[lee]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",u="";function f(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:cee.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function fee(t,e,n){const i=oee(uee(t.path),n),r=It(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function hee(t,e){const n=[],i=new Map;e=X_({strict:!1,end:!0,sensitive:!1},e);function r(f){return i.get(f)}function s(f,d,m){const g=!m,y=q_(f);y.aliasOf=m&&m.record;const O=X_(e,f),_=[y];if("alias"in f){const T=typeof f.alias=="string"?[f.alias]:f.alias;for(const N of T)_.push(q_(It({},y,{components:m?m.record.components:y.components,path:N,aliasOf:m?m.record:y})))}let A,R;for(const T of _){const{path:N}=T;if(d&&N[0]!=="/"){const I=d.record.path,v=I[I.length-1]==="/"?"":"/";T.path=d.record.path+(N&&v+N)}if(A=fee(T,d,O),m?m.alias.push(A):(R=R||A,R!==A&&R.alias.push(A),g&&f.name&&!U_(A)&&o(f.name)),IR(A)&&l(A),y.children){const I=y.children;for(let v=0;v<I.length;v++)s(I[v],A,m&&m.children[v])}m=m||A}return R?()=>{o(R)}:du}function o(f){if(MR(f)){const d=i.get(f);d&&(i.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&i.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=mee(f,n);n.splice(d,0,f),f.record.name&&!U_(f)&&i.set(f.record.name,f)}function c(f,d){let m,g={},y,O;if("name"in f&&f.name){if(m=i.get(f.name),!m)throw nc(1,{location:f});O=m.record.name,g=It(W_(d.params,m.keys.filter(R=>!R.optional).concat(m.parent?m.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),f.params&&W_(f.params,m.keys.map(R=>R.name))),y=m.stringify(g)}else if(f.path!=null)y=f.path,m=n.find(R=>R.re.test(y)),m&&(g=m.parse(y),O=m.record.name);else{if(m=d.name?i.get(d.name):n.find(R=>R.re.test(d.path)),!m)throw nc(1,{location:f,currentLocation:d});O=m.record.name,g=It({},d.params,f.params),y=m.stringify(g)}const _=[];let A=m;for(;A;)_.unshift(A.record),A=A.parent;return{name:O,path:y,params:g,matched:_,meta:pee(_)}}t.forEach(f=>s(f));function u(){n.length=0,i.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function W_(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function q_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:dee(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function dee(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function U_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function pee(t){return t.reduce((e,n)=>It(e,n.meta),{})}function X_(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function mee(t,e){let n=0,i=e.length;for(;n!==i;){const s=n+i>>1;NR(t,e[s])<0?i=s:n=s+1}const r=gee(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function gee(t){let e=t;for(;e=e.parent;)if(IR(e)&&NR(t,e)===0)return e}function IR({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function vee(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(kR," "),o=s.indexOf("="),a=Yu(o<0?s:s.slice(0,o)),l=o<0?null:Yu(s.slice(o+1));if(a in e){let c=e[a];kr(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Y_(t){let e="";for(let n in t){const i=t[n];if(n=IZ(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(kr(i)?i.map(s=>s&&Fb(s)):[i&&Fb(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function bee(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=kr(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const yee=Symbol(""),G_=Symbol(""),R0=Symbol(""),FR=Symbol(""),Hb=Symbol("");function Fc(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ro(t,e,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(nc(4,{from:n,to:e})):d instanceof Error?l(d):iee(d)?l(nc(2,{from:e,to:d})):(o&&i.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>t.call(i&&i.instances[r],e,n,c));let f=Promise.resolve(u);t.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function Bg(t,e,n,i,r=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(TR(l)){const u=(l.__vccOpts||l)[e];u&&s.push(ro(u,n,i,o,a,r))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=TZ(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const m=(f.__vccOpts||f)[e];return m&&ro(m,n,i,o,a,r)()}))}}return s}function K_(t){const e=As(R0),n=As(FR),i=Wn(()=>{const l=jn(t.to);return e.resolve(l)}),r=Wn(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(tc.bind(null,u));if(d>-1)return d;const m=J_(l[c-2]);return c>1&&J_(u)===m&&f[f.length-1].path!==m?f.findIndex(tc.bind(null,l[c-2])):d}),s=Wn(()=>r.value>-1&&See(n.params,i.value.params)),o=Wn(()=>r.value>-1&&r.value===n.matched.length-1&&$R(n.params,i.value.params));function a(l={}){if(_ee(l)){const c=e[jn(t.replace)?"replace":"push"](jn(t.to)).catch(du);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:Wn(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function Oee(t){return t.length===1?t[0]:t}const xee=Kn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:K_,setup(t,{slots:e}){const n=Ts(K_(t)),{options:i}=As(R0),r=Wn(()=>({[Z_(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Z_(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&Oee(e.default(n));return t.custom?s:TC("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),wee=xee;function _ee(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function See(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!kr(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function J_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Z_=(t,e,n)=>t??e??n,Cee=Kn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=As(Hb),r=Wn(()=>t.route||i.value),s=As(G_,0),o=Wn(()=>{let c=jn(s);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Wn(()=>r.value.matched[o.value]);Oh(G_,Wn(()=>o.value+1)),Oh(yee,a),Oh(Hb,r);const l=ht();return ks(()=>[l.value,a.value,t.name],([c,u,f],[d,m,g])=>{u&&(u.instances[f]=c,m&&m!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!tc(u,m)||!d)&&(u.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return eS(n.default,{Component:d,route:c});const m=f.props[u],g=m?m===!0?c.params:typeof m=="function"?m(c):m:null,O=TC(d,It({},g,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return eS(n.default,{Component:O,route:c})||O}}});function eS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Tee=Cee;function Aee(t){const e=hee(t.routes,t),n=t.parseQuery||vee,i=t.stringifyQuery||Y_,r=t.history,s=Fc(),o=Fc(),a=Fc(),l=LP(Ys);let c=Ys;al&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ig.bind(null,ae=>""+ae),f=Ig.bind(null,BZ),d=Ig.bind(null,Yu);function m(ae,Re){let Ce,De;return MR(ae)?(Ce=e.getRecordMatcher(ae),De=Re):De=ae,e.addRoute(De,Ce)}function g(ae){const Re=e.getRecordMatcher(ae);Re&&e.removeRoute(Re)}function y(){return e.getRoutes().map(ae=>ae.record)}function O(ae){return!!e.getRecordMatcher(ae)}function _(ae,Re){if(Re=It({},Re||l.value),typeof ae=="string"){const q=Fg(n,ae,Re.path),he=e.resolve({path:q.path},Re),de=r.createHref(q.fullPath);return It(q,he,{params:d(he.params),hash:Yu(q.hash),redirectedFrom:void 0,href:de})}let Ce;if(ae.path!=null)Ce=It({},ae,{path:Fg(n,ae.path,Re.path).path});else{const q=It({},ae.params);for(const he in q)q[he]==null&&delete q[he];Ce=It({},ae,{params:f(q)}),Re.params=f(Re.params)}const De=e.resolve(Ce,Re),gt=ae.hash||"";De.params=u(d(De.params));const M=VZ(i,It({},ae,{hash:NZ(gt),path:De.path})),F=r.createHref(M);return It({fullPath:M,hash:gt,query:i===Y_?bee(ae.query):ae.query||{}},De,{redirectedFrom:void 0,href:F})}function A(ae){return typeof ae=="string"?Fg(n,ae,l.value.path):It({},ae)}function R(ae,Re){if(c!==ae)return nc(8,{from:Re,to:ae})}function T(ae){return v(ae)}function N(ae){return T(It(A(ae),{replace:!0}))}function I(ae){const Re=ae.matched[ae.matched.length-1];if(Re&&Re.redirect){const{redirect:Ce}=Re;let De=typeof Ce=="function"?Ce(ae):Ce;return typeof De=="string"&&(De=De.includes("?")||De.includes("#")?De=A(De):{path:De},De.params={}),It({query:ae.query,hash:ae.hash,params:De.path!=null?{}:ae.params},De)}}function v(ae,Re){const Ce=c=_(ae),De=l.value,gt=ae.state,M=ae.force,F=ae.replace===!0,q=I(Ce);if(q)return v(It(A(q),{state:typeof q=="object"?It({},gt,q.state):gt,force:M,replace:F}),Re||Ce);const he=Ce;he.redirectedFrom=Re;let de;return!M&&QZ(i,De,Ce)&&(de=nc(16,{to:he,from:De}),it(De,De,!0,!1)),(de?Promise.resolve(de):oe(he,De)).catch(ue=>vs(ue)?vs(ue,2)?ue:ot(ue):be(ue,he,De)).then(ue=>{if(ue){if(vs(ue,2))return v(It({replace:F},A(ue.to),{state:typeof ue.to=="object"?It({},gt,ue.to.state):gt,force:M}),Re||he)}else ue=ne(he,De,!0,F,gt);return ve(he,De,ue),ue})}function z(ae,Re){const Ce=R(ae,Re);return Ce?Promise.reject(Ce):Promise.resolve()}function G(ae){const Re=Pt.values().next().value;return Re&&typeof Re.runWithContext=="function"?Re.runWithContext(ae):ae()}function oe(ae,Re){let Ce;const[De,gt,M]=kee(ae,Re);Ce=Bg(De.reverse(),"beforeRouteLeave",ae,Re);for(const q of De)q.leaveGuards.forEach(he=>{Ce.push(ro(he,ae,Re))});const F=z.bind(null,ae,Re);return Ce.push(F),Nt(Ce).then(()=>{Ce=[];for(const q of s.list())Ce.push(ro(q,ae,Re));return Ce.push(F),Nt(Ce)}).then(()=>{Ce=Bg(gt,"beforeRouteUpdate",ae,Re);for(const q of gt)q.updateGuards.forEach(he=>{Ce.push(ro(he,ae,Re))});return Ce.push(F),Nt(Ce)}).then(()=>{Ce=[];for(const q of M)if(q.beforeEnter)if(kr(q.beforeEnter))for(const he of q.beforeEnter)Ce.push(ro(he,ae,Re));else Ce.push(ro(q.beforeEnter,ae,Re));return Ce.push(F),Nt(Ce)}).then(()=>(ae.matched.forEach(q=>q.enterCallbacks={}),Ce=Bg(M,"beforeRouteEnter",ae,Re,G),Ce.push(F),Nt(Ce))).then(()=>{Ce=[];for(const q of o.list())Ce.push(ro(q,ae,Re));return Ce.push(F),Nt(Ce)}).catch(q=>vs(q,8)?q:Promise.reject(q))}function ve(ae,Re,Ce){a.list().forEach(De=>G(()=>De(ae,Re,Ce)))}function ne(ae,Re,Ce,De,gt){const M=R(ae,Re);if(M)return M;const F=Re===Ys,q=al?history.state:{};Ce&&(De||F?r.replace(ae.fullPath,It({scroll:F&&q&&q.scroll},gt)):r.push(ae.fullPath,gt)),l.value=ae,it(ae,Re,Ce,F),ot()}let X;function le(){X||(X=r.listen((ae,Re,Ce)=>{if(!Ht.listening)return;const De=_(ae),gt=I(De);if(gt){v(It(gt,{replace:!0,force:!0}),De).catch(du);return}c=De;const M=l.value;al&&KZ(H_(M.fullPath,Ce.delta),zp()),oe(De,M).catch(F=>vs(F,12)?F:vs(F,2)?(v(It(A(F.to),{force:!0}),De).then(q=>{vs(q,20)&&!Ce.delta&&Ce.type===Gu.pop&&r.go(-1,!1)}).catch(du),Promise.reject()):(Ce.delta&&r.go(-Ce.delta,!1),be(F,De,M))).then(F=>{F=F||ne(De,M,!1),F&&(Ce.delta&&!vs(F,8)?r.go(-Ce.delta,!1):Ce.type===Gu.pop&&vs(F,20)&&r.go(-1,!1)),ve(De,M,F)}).catch(du)}))}let W=Fc(),V=Fc(),te;function be(ae,Re,Ce){ot(ae);const De=V.list();return De.length?De.forEach(gt=>gt(ae,Re,Ce)):console.error(ae),Promise.reject(ae)}function Le(){return te&&l.value!==Ys?Promise.resolve():new Promise((ae,Re)=>{W.add([ae,Re])})}function ot(ae){return te||(te=!ae,le(),W.list().forEach(([Re,Ce])=>ae?Ce(ae):Re()),W.reset()),ae}function it(ae,Re,Ce,De){const{scrollBehavior:gt}=t;if(!al||!gt)return Promise.resolve();const M=!Ce&&JZ(H_(ae.fullPath,0))||(De||!Ce)&&history.state&&history.state.scroll||null;return Ml().then(()=>gt(ae,Re,M)).then(F=>F&&GZ(F)).catch(F=>be(F,ae,Re))}const nt=ae=>r.go(ae);let mt;const Pt=new Set,Ht={currentRoute:l,listening:!0,addRoute:m,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:O,getRoutes:y,resolve:_,options:t,push:T,replace:N,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:V.add,isReady:Le,install(ae){const Re=this;ae.component("RouterLink",wee),ae.component("RouterView",Tee),ae.config.globalProperties.$router=Re,Object.defineProperty(ae.config.globalProperties,"$route",{enumerable:!0,get:()=>jn(l)}),al&&!mt&&l.value===Ys&&(mt=!0,T(r.location).catch(gt=>{}));const Ce={};for(const gt in Ys)Object.defineProperty(Ce,gt,{get:()=>l.value[gt],enumerable:!0});ae.provide(R0,Re),ae.provide(FR,zS(Ce)),ae.provide(Hb,l);const De=ae.unmount;Pt.add(ae),ae.unmount=function(){Pt.delete(ae),Pt.size<1&&(c=Ys,X&&X(),X=null,l.value=Ys,mt=!1,te=!1),De()}}};function Nt(ae){return ae.reduce((Re,Ce)=>Re.then(()=>G(Ce)),Promise.resolve())}return Ht}function kee(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>tc(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>tc(c,l))||r.push(l))}return[n,i,r]}const Eee={};function Dee(t,e,n,i,r,s){return K(),Z("div")}const Ree=Pa(Eee,[["render",Dee]]),$ee=Aee({history:nee("/"),routes:[{path:"/",name:"home",component:Ree}]});var zh={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var Pee=zh.exports,tS;function Mee(){return tS||(tS=1,function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:Pee,function(e,n){var i=[],r=Object.getPrototypeOf,s=i.slice,o=i.flat?function(h){return i.flat.call(h)}:function(h){return i.concat.apply([],h)},a=i.push,l=i.indexOf,c={},u=c.toString,f=c.hasOwnProperty,d=f.toString,m=d.call(Object),g={},y=function(p){return typeof p=="function"&&typeof p.nodeType!="number"&&typeof p.item!="function"},O=function(p){return p!=null&&p===p.window},_=e.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function R(h,p,b){b=b||_;var w,S,C=b.createElement("script");if(C.text=h,p)for(w in A)S=p[w]||p.getAttribute&&p.getAttribute(w),S&&C.setAttribute(w,S);b.head.appendChild(C).parentNode.removeChild(C)}function T(h){return h==null?h+"":typeof h=="object"||typeof h=="function"?c[u.call(h)]||"object":typeof h}var N="3.7.1",I=/HTML$/i,v=function(h,p){return new v.fn.init(h,p)};v.fn=v.prototype={jquery:N,constructor:v,length:0,toArray:function(){return s.call(this)},get:function(h){return h==null?s.call(this):h<0?this[h+this.length]:this[h]},pushStack:function(h){var p=v.merge(this.constructor(),h);return p.prevObject=this,p},each:function(h){return v.each(this,h)},map:function(h){return this.pushStack(v.map(this,function(p,b){return h.call(p,b,p)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(v.grep(this,function(h,p){return(p+1)%2}))},odd:function(){return this.pushStack(v.grep(this,function(h,p){return p%2}))},eq:function(h){var p=this.length,b=+h+(h<0?p:0);return this.pushStack(b>=0&&b<p?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},v.extend=v.fn.extend=function(){var h,p,b,w,S,C,k=arguments[0]||{},B=1,L=arguments.length,Q=!1;for(typeof k=="boolean"&&(Q=k,k=arguments[B]||{},B++),typeof k!="object"&&!y(k)&&(k={}),B===L&&(k=this,B--);B<L;B++)if((h=arguments[B])!=null)for(p in h)w=h[p],!(p==="__proto__"||k===w)&&(Q&&w&&(v.isPlainObject(w)||(S=Array.isArray(w)))?(b=k[p],S&&!Array.isArray(b)?C=[]:!S&&!v.isPlainObject(b)?C={}:C=b,S=!1,k[p]=v.extend(Q,C,w)):w!==void 0&&(k[p]=w));return k},v.extend({expando:"jQuery"+(N+Math.random()).replace(/\D/g,""),isReady:!0,error:function(h){throw new Error(h)},noop:function(){},isPlainObject:function(h){var p,b;return!h||u.call(h)!=="[object Object]"?!1:(p=r(h),p?(b=f.call(p,"constructor")&&p.constructor,typeof b=="function"&&d.call(b)===m):!0)},isEmptyObject:function(h){var p;for(p in h)return!1;return!0},globalEval:function(h,p,b){R(h,{nonce:p&&p.nonce},b)},each:function(h,p){var b,w=0;if(z(h))for(b=h.length;w<b&&p.call(h[w],w,h[w])!==!1;w++);else for(w in h)if(p.call(h[w],w,h[w])===!1)break;return h},text:function(h){var p,b="",w=0,S=h.nodeType;if(!S)for(;p=h[w++];)b+=v.text(p);return S===1||S===11?h.textContent:S===9?h.documentElement.textContent:S===3||S===4?h.nodeValue:b},makeArray:function(h,p){var b=p||[];return h!=null&&(z(Object(h))?v.merge(b,typeof h=="string"?[h]:h):a.call(b,h)),b},inArray:function(h,p,b){return p==null?-1:l.call(p,h,b)},isXMLDoc:function(h){var p=h&&h.namespaceURI,b=h&&(h.ownerDocument||h).documentElement;return!I.test(p||b&&b.nodeName||"HTML")},merge:function(h,p){for(var b=+p.length,w=0,S=h.length;w<b;w++)h[S++]=p[w];return h.length=S,h},grep:function(h,p,b){for(var w,S=[],C=0,k=h.length,B=!b;C<k;C++)w=!p(h[C],C),w!==B&&S.push(h[C]);return S},map:function(h,p,b){var w,S,C=0,k=[];if(z(h))for(w=h.length;C<w;C++)S=p(h[C],C,b),S!=null&&k.push(S);else for(C in h)S=p(h[C],C,b),S!=null&&k.push(S);return o(k)},guid:1,support:g}),typeof Symbol=="function"&&(v.fn[Symbol.iterator]=i[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(h,p){c["[object "+p+"]"]=p.toLowerCase()});function z(h){var p=!!h&&"length"in h&&h.length,b=T(h);return y(h)||O(h)?!1:b==="array"||p===0||typeof p=="number"&&p>0&&p-1 in h}function G(h,p){return h.nodeName&&h.nodeName.toLowerCase()===p.toLowerCase()}var oe=i.pop,ve=i.sort,ne=i.splice,X="[\\x20\\t\\r\\n\\f]",le=new RegExp("^"+X+"+|((?:^|[^\\\\])(?:\\\\.)*)"+X+"+$","g");v.contains=function(h,p){var b=p&&p.parentNode;return h===b||!!(b&&b.nodeType===1&&(h.contains?h.contains(b):h.compareDocumentPosition&&h.compareDocumentPosition(b)&16))};var W=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function V(h,p){return p?h==="\0"?"�":h.slice(0,-1)+"\\"+h.charCodeAt(h.length-1).toString(16)+" ":"\\"+h}v.escapeSelector=function(h){return(h+"").replace(W,V)};var te=_,be=a;(function(){var h,p,b,w,S,C=be,k,B,L,Q,ie,fe=v.expando,J=0,we=0,rt=Rf(),Ct=Rf(),ft=Rf(),Pn=Rf(),gn=function(E,j){return E===j&&(S=!0),0},Pr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mr="(?:\\\\[\\da-fA-F]{1,6}"+X+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",St="\\["+X+"*("+Mr+")(?:"+X+"*([*^$|!~]?=)"+X+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Mr+"))|)"+X+"*\\]",Qo=":("+Mr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+St+")*)|.*)\\)|)",Dt=new RegExp(X+"+","g"),rn=new RegExp("^"+X+"*,"+X+"*"),Sc=new RegExp("^"+X+"*([>+~]|"+X+")"+X+"*"),gm=new RegExp(X+"|>"),Lr=new RegExp(Qo),Cc=new RegExp("^"+Mr+"$"),Nr={ID:new RegExp("^#("+Mr+")"),CLASS:new RegExp("^\\.("+Mr+")"),TAG:new RegExp("^("+Mr+"|[*])"),ATTR:new RegExp("^"+St),PSEUDO:new RegExp("^"+Qo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+X+"*(even|odd|(([+-]|)(\\d*)n|)"+X+"*(?:([+-]|)"+X+"*(\\d+)|))"+X+"*\\)|)","i"),bool:new RegExp("^(?:"+Pr+")$","i"),needsContext:new RegExp("^"+X+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+X+"*((?:-\\d)?\\d*)"+X+"*\\)|)(?=[^-]|$)","i")},Ws=/^(?:input|select|textarea|button)$/i,qs=/^h\d$/i,Yi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vm=/[+~]/,hs=new RegExp("\\\\[\\da-fA-F]{1,6}"+X+"?|\\\\([^\\r\\n\\f])","g"),ds=function(E,j){var Y="0x"+E.slice(1)-65536;return j||(Y<0?String.fromCharCode(Y+65536):String.fromCharCode(Y>>10|55296,Y&1023|56320))},X$=function(){Us()},Y$=Pf(function(E){return E.disabled===!0&&G(E,"fieldset")},{dir:"parentNode",next:"legend"});function G$(){try{return k.activeElement}catch{}}try{C.apply(i=s.call(te.childNodes),te.childNodes),i[te.childNodes.length].nodeType}catch{C={apply:function(j,Y){be.apply(j,s.call(Y))},call:function(j){be.apply(j,s.call(arguments,1))}}}function Bt(E,j,Y,ee){var ce,ke,Ne,We,Ie,bt,tt,st=j&&j.ownerDocument,yt=j?j.nodeType:9;if(Y=Y||[],typeof E!="string"||!E||yt!==1&&yt!==9&&yt!==11)return Y;if(!ee&&(Us(j),j=j||k,L)){if(yt!==11&&(Ie=Yi.exec(E)))if(ce=Ie[1]){if(yt===9)if(Ne=j.getElementById(ce)){if(Ne.id===ce)return C.call(Y,Ne),Y}else return Y;else if(st&&(Ne=st.getElementById(ce))&&Bt.contains(j,Ne)&&Ne.id===ce)return C.call(Y,Ne),Y}else{if(Ie[2])return C.apply(Y,j.getElementsByTagName(E)),Y;if((ce=Ie[3])&&j.getElementsByClassName)return C.apply(Y,j.getElementsByClassName(ce)),Y}if(!Pn[E+" "]&&(!Q||!Q.test(E))){if(tt=E,st=j,yt===1&&(gm.test(E)||Sc.test(E))){for(st=vm.test(E)&&bm(j.parentNode)||j,(st!=j||!g.scope)&&((We=j.getAttribute("id"))?We=v.escapeSelector(We):j.setAttribute("id",We=fe)),bt=Tc(E),ke=bt.length;ke--;)bt[ke]=(We?"#"+We:":scope")+" "+$f(bt[ke]);tt=bt.join(",")}try{return C.apply(Y,st.querySelectorAll(tt)),Y}catch{Pn(E,!0)}finally{We===fe&&j.removeAttribute("id")}}}return C1(E.replace(le,"$1"),j,Y,ee)}function Rf(){var E=[];function j(Y,ee){return E.push(Y+" ")>p.cacheLength&&delete j[E.shift()],j[Y+" "]=ee}return j}function pr(E){return E[fe]=!0,E}function Va(E){var j=k.createElement("fieldset");try{return!!E(j)}catch{return!1}finally{j.parentNode&&j.parentNode.removeChild(j),j=null}}function K$(E){return function(j){return G(j,"input")&&j.type===E}}function J$(E){return function(j){return(G(j,"input")||G(j,"button"))&&j.type===E}}function _1(E){return function(j){return"form"in j?j.parentNode&&j.disabled===!1?"label"in j?"label"in j.parentNode?j.parentNode.disabled===E:j.disabled===E:j.isDisabled===E||j.isDisabled!==!E&&Y$(j)===E:j.disabled===E:"label"in j?j.disabled===E:!1}}function zo(E){return pr(function(j){return j=+j,pr(function(Y,ee){for(var ce,ke=E([],Y.length,j),Ne=ke.length;Ne--;)Y[ce=ke[Ne]]&&(Y[ce]=!(ee[ce]=Y[ce]))})})}function bm(E){return E&&typeof E.getElementsByTagName<"u"&&E}function Us(E){var j,Y=E?E.ownerDocument||E:te;return Y==k||Y.nodeType!==9||!Y.documentElement||(k=Y,B=k.documentElement,L=!v.isXMLDoc(k),ie=B.matches||B.webkitMatchesSelector||B.msMatchesSelector,B.msMatchesSelector&&te!=k&&(j=k.defaultView)&&j.top!==j&&j.addEventListener("unload",X$),g.getById=Va(function(ee){return B.appendChild(ee).id=v.expando,!k.getElementsByName||!k.getElementsByName(v.expando).length}),g.disconnectedMatch=Va(function(ee){return ie.call(ee,"*")}),g.scope=Va(function(){return k.querySelectorAll(":scope")}),g.cssHas=Va(function(){try{return k.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(p.filter.ID=function(ee){var ce=ee.replace(hs,ds);return function(ke){return ke.getAttribute("id")===ce}},p.find.ID=function(ee,ce){if(typeof ce.getElementById<"u"&&L){var ke=ce.getElementById(ee);return ke?[ke]:[]}}):(p.filter.ID=function(ee){var ce=ee.replace(hs,ds);return function(ke){var Ne=typeof ke.getAttributeNode<"u"&&ke.getAttributeNode("id");return Ne&&Ne.value===ce}},p.find.ID=function(ee,ce){if(typeof ce.getElementById<"u"&&L){var ke,Ne,We,Ie=ce.getElementById(ee);if(Ie){if(ke=Ie.getAttributeNode("id"),ke&&ke.value===ee)return[Ie];for(We=ce.getElementsByName(ee),Ne=0;Ie=We[Ne++];)if(ke=Ie.getAttributeNode("id"),ke&&ke.value===ee)return[Ie]}return[]}}),p.find.TAG=function(ee,ce){return typeof ce.getElementsByTagName<"u"?ce.getElementsByTagName(ee):ce.querySelectorAll(ee)},p.find.CLASS=function(ee,ce){if(typeof ce.getElementsByClassName<"u"&&L)return ce.getElementsByClassName(ee)},Q=[],Va(function(ee){var ce;B.appendChild(ee).innerHTML="<a id='"+fe+"' href='' disabled='disabled'></a><select id='"+fe+"-\r\\' disabled='disabled'><option selected=''></option></select>",ee.querySelectorAll("[selected]").length||Q.push("\\["+X+"*(?:value|"+Pr+")"),ee.querySelectorAll("[id~="+fe+"-]").length||Q.push("~="),ee.querySelectorAll("a#"+fe+"+*").length||Q.push(".#.+[+~]"),ee.querySelectorAll(":checked").length||Q.push(":checked"),ce=k.createElement("input"),ce.setAttribute("type","hidden"),ee.appendChild(ce).setAttribute("name","D"),B.appendChild(ee).disabled=!0,ee.querySelectorAll(":disabled").length!==2&&Q.push(":enabled",":disabled"),ce=k.createElement("input"),ce.setAttribute("name",""),ee.appendChild(ce),ee.querySelectorAll("[name='']").length||Q.push("\\["+X+"*name"+X+"*="+X+`*(?:''|"")`)}),g.cssHas||Q.push(":has"),Q=Q.length&&new RegExp(Q.join("|")),gn=function(ee,ce){if(ee===ce)return S=!0,0;var ke=!ee.compareDocumentPosition-!ce.compareDocumentPosition;return ke||(ke=(ee.ownerDocument||ee)==(ce.ownerDocument||ce)?ee.compareDocumentPosition(ce):1,ke&1||!g.sortDetached&&ce.compareDocumentPosition(ee)===ke?ee===k||ee.ownerDocument==te&&Bt.contains(te,ee)?-1:ce===k||ce.ownerDocument==te&&Bt.contains(te,ce)?1:w?l.call(w,ee)-l.call(w,ce):0:ke&4?-1:1)}),k}Bt.matches=function(E,j){return Bt(E,null,null,j)},Bt.matchesSelector=function(E,j){if(Us(E),L&&!Pn[j+" "]&&(!Q||!Q.test(j)))try{var Y=ie.call(E,j);if(Y||g.disconnectedMatch||E.document&&E.document.nodeType!==11)return Y}catch{Pn(j,!0)}return Bt(j,k,null,[E]).length>0},Bt.contains=function(E,j){return(E.ownerDocument||E)!=k&&Us(E),v.contains(E,j)},Bt.attr=function(E,j){(E.ownerDocument||E)!=k&&Us(E);var Y=p.attrHandle[j.toLowerCase()],ee=Y&&f.call(p.attrHandle,j.toLowerCase())?Y(E,j,!L):void 0;return ee!==void 0?ee:E.getAttribute(j)},Bt.error=function(E){throw new Error("Syntax error, unrecognized expression: "+E)},v.uniqueSort=function(E){var j,Y=[],ee=0,ce=0;if(S=!g.sortStable,w=!g.sortStable&&s.call(E,0),ve.call(E,gn),S){for(;j=E[ce++];)j===E[ce]&&(ee=Y.push(ce));for(;ee--;)ne.call(E,Y[ee],1)}return w=null,E},v.fn.uniqueSort=function(){return this.pushStack(v.uniqueSort(s.apply(this)))},p=v.expr={cacheLength:50,createPseudo:pr,match:Nr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(E){return E[1]=E[1].replace(hs,ds),E[3]=(E[3]||E[4]||E[5]||"").replace(hs,ds),E[2]==="~="&&(E[3]=" "+E[3]+" "),E.slice(0,4)},CHILD:function(E){return E[1]=E[1].toLowerCase(),E[1].slice(0,3)==="nth"?(E[3]||Bt.error(E[0]),E[4]=+(E[4]?E[5]+(E[6]||1):2*(E[3]==="even"||E[3]==="odd")),E[5]=+(E[7]+E[8]||E[3]==="odd")):E[3]&&Bt.error(E[0]),E},PSEUDO:function(E){var j,Y=!E[6]&&E[2];return Nr.CHILD.test(E[0])?null:(E[3]?E[2]=E[4]||E[5]||"":Y&&Lr.test(Y)&&(j=Tc(Y,!0))&&(j=Y.indexOf(")",Y.length-j)-Y.length)&&(E[0]=E[0].slice(0,j),E[2]=Y.slice(0,j)),E.slice(0,3))}},filter:{TAG:function(E){var j=E.replace(hs,ds).toLowerCase();return E==="*"?function(){return!0}:function(Y){return G(Y,j)}},CLASS:function(E){var j=rt[E+" "];return j||(j=new RegExp("(^|"+X+")"+E+"("+X+"|$)"))&&rt(E,function(Y){return j.test(typeof Y.className=="string"&&Y.className||typeof Y.getAttribute<"u"&&Y.getAttribute("class")||"")})},ATTR:function(E,j,Y){return function(ee){var ce=Bt.attr(ee,E);return ce==null?j==="!=":j?(ce+="",j==="="?ce===Y:j==="!="?ce!==Y:j==="^="?Y&&ce.indexOf(Y)===0:j==="*="?Y&&ce.indexOf(Y)>-1:j==="$="?Y&&ce.slice(-Y.length)===Y:j==="~="?(" "+ce.replace(Dt," ")+" ").indexOf(Y)>-1:j==="|="?ce===Y||ce.slice(0,Y.length+1)===Y+"-":!1):!0}},CHILD:function(E,j,Y,ee,ce){var ke=E.slice(0,3)!=="nth",Ne=E.slice(-4)!=="last",We=j==="of-type";return ee===1&&ce===0?function(Ie){return!!Ie.parentNode}:function(Ie,bt,tt){var st,yt,Je,qt,bi,Bn=ke!==Ne?"nextSibling":"previousSibling",Gi=Ie.parentNode,Ir=We&&Ie.nodeName.toLowerCase(),Qa=!tt&&!We,ti=!1;if(Gi){if(ke){for(;Bn;){for(Je=Ie;Je=Je[Bn];)if(We?G(Je,Ir):Je.nodeType===1)return!1;bi=Bn=E==="only"&&!bi&&"nextSibling"}return!0}if(bi=[Ne?Gi.firstChild:Gi.lastChild],Ne&&Qa){for(yt=Gi[fe]||(Gi[fe]={}),st=yt[E]||[],qt=st[0]===J&&st[1],ti=qt&&st[2],Je=qt&&Gi.childNodes[qt];Je=++qt&&Je&&Je[Bn]||(ti=qt=0)||bi.pop();)if(Je.nodeType===1&&++ti&&Je===Ie){yt[E]=[J,qt,ti];break}}else if(Qa&&(yt=Ie[fe]||(Ie[fe]={}),st=yt[E]||[],qt=st[0]===J&&st[1],ti=qt),ti===!1)for(;(Je=++qt&&Je&&Je[Bn]||(ti=qt=0)||bi.pop())&&!((We?G(Je,Ir):Je.nodeType===1)&&++ti&&(Qa&&(yt=Je[fe]||(Je[fe]={}),yt[E]=[J,ti]),Je===Ie)););return ti-=ce,ti===ee||ti%ee===0&&ti/ee>=0}}},PSEUDO:function(E,j){var Y,ee=p.pseudos[E]||p.setFilters[E.toLowerCase()]||Bt.error("unsupported pseudo: "+E);return ee[fe]?ee(j):ee.length>1?(Y=[E,E,"",j],p.setFilters.hasOwnProperty(E.toLowerCase())?pr(function(ce,ke){for(var Ne,We=ee(ce,j),Ie=We.length;Ie--;)Ne=l.call(ce,We[Ie]),ce[Ne]=!(ke[Ne]=We[Ie])}):function(ce){return ee(ce,0,Y)}):ee}},pseudos:{not:pr(function(E){var j=[],Y=[],ee=wm(E.replace(le,"$1"));return ee[fe]?pr(function(ce,ke,Ne,We){for(var Ie,bt=ee(ce,null,We,[]),tt=ce.length;tt--;)(Ie=bt[tt])&&(ce[tt]=!(ke[tt]=Ie))}):function(ce,ke,Ne){return j[0]=ce,ee(j,null,Ne,Y),j[0]=null,!Y.pop()}}),has:pr(function(E){return function(j){return Bt(E,j).length>0}}),contains:pr(function(E){return E=E.replace(hs,ds),function(j){return(j.textContent||v.text(j)).indexOf(E)>-1}}),lang:pr(function(E){return Cc.test(E||"")||Bt.error("unsupported lang: "+E),E=E.replace(hs,ds).toLowerCase(),function(j){var Y;do if(Y=L?j.lang:j.getAttribute("xml:lang")||j.getAttribute("lang"))return Y=Y.toLowerCase(),Y===E||Y.indexOf(E+"-")===0;while((j=j.parentNode)&&j.nodeType===1);return!1}}),target:function(E){var j=e.location&&e.location.hash;return j&&j.slice(1)===E.id},root:function(E){return E===B},focus:function(E){return E===G$()&&k.hasFocus()&&!!(E.type||E.href||~E.tabIndex)},enabled:_1(!1),disabled:_1(!0),checked:function(E){return G(E,"input")&&!!E.checked||G(E,"option")&&!!E.selected},selected:function(E){return E.parentNode&&E.parentNode.selectedIndex,E.selected===!0},empty:function(E){for(E=E.firstChild;E;E=E.nextSibling)if(E.nodeType<6)return!1;return!0},parent:function(E){return!p.pseudos.empty(E)},header:function(E){return qs.test(E.nodeName)},input:function(E){return Ws.test(E.nodeName)},button:function(E){return G(E,"input")&&E.type==="button"||G(E,"button")},text:function(E){var j;return G(E,"input")&&E.type==="text"&&((j=E.getAttribute("type"))==null||j.toLowerCase()==="text")},first:zo(function(){return[0]}),last:zo(function(E,j){return[j-1]}),eq:zo(function(E,j,Y){return[Y<0?Y+j:Y]}),even:zo(function(E,j){for(var Y=0;Y<j;Y+=2)E.push(Y);return E}),odd:zo(function(E,j){for(var Y=1;Y<j;Y+=2)E.push(Y);return E}),lt:zo(function(E,j,Y){var ee;for(Y<0?ee=Y+j:Y>j?ee=j:ee=Y;--ee>=0;)E.push(ee);return E}),gt:zo(function(E,j,Y){for(var ee=Y<0?Y+j:Y;++ee<j;)E.push(ee);return E})}},p.pseudos.nth=p.pseudos.eq;for(h in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})p.pseudos[h]=K$(h);for(h in{submit:!0,reset:!0})p.pseudos[h]=J$(h);function S1(){}S1.prototype=p.filters=p.pseudos,p.setFilters=new S1;function Tc(E,j){var Y,ee,ce,ke,Ne,We,Ie,bt=Ct[E+" "];if(bt)return j?0:bt.slice(0);for(Ne=E,We=[],Ie=p.preFilter;Ne;){(!Y||(ee=rn.exec(Ne)))&&(ee&&(Ne=Ne.slice(ee[0].length)||Ne),We.push(ce=[])),Y=!1,(ee=Sc.exec(Ne))&&(Y=ee.shift(),ce.push({value:Y,type:ee[0].replace(le," ")}),Ne=Ne.slice(Y.length));for(ke in p.filter)(ee=Nr[ke].exec(Ne))&&(!Ie[ke]||(ee=Ie[ke](ee)))&&(Y=ee.shift(),ce.push({value:Y,type:ke,matches:ee}),Ne=Ne.slice(Y.length));if(!Y)break}return j?Ne.length:Ne?Bt.error(E):Ct(E,We).slice(0)}function $f(E){for(var j=0,Y=E.length,ee="";j<Y;j++)ee+=E[j].value;return ee}function Pf(E,j,Y){var ee=j.dir,ce=j.next,ke=ce||ee,Ne=Y&&ke==="parentNode",We=we++;return j.first?function(Ie,bt,tt){for(;Ie=Ie[ee];)if(Ie.nodeType===1||Ne)return E(Ie,bt,tt);return!1}:function(Ie,bt,tt){var st,yt,Je=[J,We];if(tt){for(;Ie=Ie[ee];)if((Ie.nodeType===1||Ne)&&E(Ie,bt,tt))return!0}else for(;Ie=Ie[ee];)if(Ie.nodeType===1||Ne)if(yt=Ie[fe]||(Ie[fe]={}),ce&&G(Ie,ce))Ie=Ie[ee]||Ie;else{if((st=yt[ke])&&st[0]===J&&st[1]===We)return Je[2]=st[2];if(yt[ke]=Je,Je[2]=E(Ie,bt,tt))return!0}return!1}}function ym(E){return E.length>1?function(j,Y,ee){for(var ce=E.length;ce--;)if(!E[ce](j,Y,ee))return!1;return!0}:E[0]}function Z$(E,j,Y){for(var ee=0,ce=j.length;ee<ce;ee++)Bt(E,j[ee],Y);return Y}function Mf(E,j,Y,ee,ce){for(var ke,Ne=[],We=0,Ie=E.length,bt=j!=null;We<Ie;We++)(ke=E[We])&&(!Y||Y(ke,ee,ce))&&(Ne.push(ke),bt&&j.push(We));return Ne}function Om(E,j,Y,ee,ce,ke){return ee&&!ee[fe]&&(ee=Om(ee)),ce&&!ce[fe]&&(ce=Om(ce,ke)),pr(function(Ne,We,Ie,bt){var tt,st,yt,Je,qt=[],bi=[],Bn=We.length,Gi=Ne||Z$(j||"*",Ie.nodeType?[Ie]:Ie,[]),Ir=E&&(Ne||!j)?Mf(Gi,qt,E,Ie,bt):Gi;if(Y?(Je=ce||(Ne?E:Bn||ee)?[]:We,Y(Ir,Je,Ie,bt)):Je=Ir,ee)for(tt=Mf(Je,bi),ee(tt,[],Ie,bt),st=tt.length;st--;)(yt=tt[st])&&(Je[bi[st]]=!(Ir[bi[st]]=yt));if(Ne){if(ce||E){if(ce){for(tt=[],st=Je.length;st--;)(yt=Je[st])&&tt.push(Ir[st]=yt);ce(null,Je=[],tt,bt)}for(st=Je.length;st--;)(yt=Je[st])&&(tt=ce?l.call(Ne,yt):qt[st])>-1&&(Ne[tt]=!(We[tt]=yt))}}else Je=Mf(Je===We?Je.splice(Bn,Je.length):Je),ce?ce(null,We,Je,bt):C.apply(We,Je)})}function xm(E){for(var j,Y,ee,ce=E.length,ke=p.relative[E[0].type],Ne=ke||p.relative[" "],We=ke?1:0,Ie=Pf(function(st){return st===j},Ne,!0),bt=Pf(function(st){return l.call(j,st)>-1},Ne,!0),tt=[function(st,yt,Je){var qt=!ke&&(Je||yt!=b)||((j=yt).nodeType?Ie(st,yt,Je):bt(st,yt,Je));return j=null,qt}];We<ce;We++)if(Y=p.relative[E[We].type])tt=[Pf(ym(tt),Y)];else{if(Y=p.filter[E[We].type].apply(null,E[We].matches),Y[fe]){for(ee=++We;ee<ce&&!p.relative[E[ee].type];ee++);return Om(We>1&&ym(tt),We>1&&$f(E.slice(0,We-1).concat({value:E[We-2].type===" "?"*":""})).replace(le,"$1"),Y,We<ee&&xm(E.slice(We,ee)),ee<ce&&xm(E=E.slice(ee)),ee<ce&&$f(E))}tt.push(Y)}return ym(tt)}function eP(E,j){var Y=j.length>0,ee=E.length>0,ce=function(ke,Ne,We,Ie,bt){var tt,st,yt,Je=0,qt="0",bi=ke&&[],Bn=[],Gi=b,Ir=ke||ee&&p.find.TAG("*",bt),Qa=J+=Gi==null?1:Math.random()||.1,ti=Ir.length;for(bt&&(b=Ne==k||Ne||bt);qt!==ti&&(tt=Ir[qt])!=null;qt++){if(ee&&tt){for(st=0,!Ne&&tt.ownerDocument!=k&&(Us(tt),We=!L);yt=E[st++];)if(yt(tt,Ne||k,We)){C.call(Ie,tt);break}bt&&(J=Qa)}Y&&((tt=!yt&&tt)&&Je--,ke&&bi.push(tt))}if(Je+=qt,Y&&qt!==Je){for(st=0;yt=j[st++];)yt(bi,Bn,Ne,We);if(ke){if(Je>0)for(;qt--;)bi[qt]||Bn[qt]||(Bn[qt]=oe.call(Ie));Bn=Mf(Bn)}C.apply(Ie,Bn),bt&&!ke&&Bn.length>0&&Je+j.length>1&&v.uniqueSort(Ie)}return bt&&(J=Qa,b=Gi),bi};return Y?pr(ce):ce}function wm(E,j){var Y,ee=[],ce=[],ke=ft[E+" "];if(!ke){for(j||(j=Tc(E)),Y=j.length;Y--;)ke=xm(j[Y]),ke[fe]?ee.push(ke):ce.push(ke);ke=ft(E,eP(ce,ee)),ke.selector=E}return ke}function C1(E,j,Y,ee){var ce,ke,Ne,We,Ie,bt=typeof E=="function"&&E,tt=!ee&&Tc(E=bt.selector||E);if(Y=Y||[],tt.length===1){if(ke=tt[0]=tt[0].slice(0),ke.length>2&&(Ne=ke[0]).type==="ID"&&j.nodeType===9&&L&&p.relative[ke[1].type]){if(j=(p.find.ID(Ne.matches[0].replace(hs,ds),j)||[])[0],j)bt&&(j=j.parentNode);else return Y;E=E.slice(ke.shift().value.length)}for(ce=Nr.needsContext.test(E)?0:ke.length;ce--&&(Ne=ke[ce],!p.relative[We=Ne.type]);)if((Ie=p.find[We])&&(ee=Ie(Ne.matches[0].replace(hs,ds),vm.test(ke[0].type)&&bm(j.parentNode)||j))){if(ke.splice(ce,1),E=ee.length&&$f(ke),!E)return C.apply(Y,ee),Y;break}}return(bt||wm(E,tt))(ee,j,!L,Y,!j||vm.test(E)&&bm(j.parentNode)||j),Y}g.sortStable=fe.split("").sort(gn).join("")===fe,Us(),g.sortDetached=Va(function(E){return E.compareDocumentPosition(k.createElement("fieldset"))&1}),v.find=Bt,v.expr[":"]=v.expr.pseudos,v.unique=v.uniqueSort,Bt.compile=wm,Bt.select=C1,Bt.setDocument=Us,Bt.tokenize=Tc,Bt.escape=v.escapeSelector,Bt.getText=v.text,Bt.isXML=v.isXMLDoc,Bt.selectors=v.expr,Bt.support=v.support,Bt.uniqueSort=v.uniqueSort})();var Le=function(h,p,b){for(var w=[],S=b!==void 0;(h=h[p])&&h.nodeType!==9;)if(h.nodeType===1){if(S&&v(h).is(b))break;w.push(h)}return w},ot=function(h,p){for(var b=[];h;h=h.nextSibling)h.nodeType===1&&h!==p&&b.push(h);return b},it=v.expr.match.needsContext,nt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function mt(h,p,b){return y(p)?v.grep(h,function(w,S){return!!p.call(w,S,w)!==b}):p.nodeType?v.grep(h,function(w){return w===p!==b}):typeof p!="string"?v.grep(h,function(w){return l.call(p,w)>-1!==b}):v.filter(p,h,b)}v.filter=function(h,p,b){var w=p[0];return b&&(h=":not("+h+")"),p.length===1&&w.nodeType===1?v.find.matchesSelector(w,h)?[w]:[]:v.find.matches(h,v.grep(p,function(S){return S.nodeType===1}))},v.fn.extend({find:function(h){var p,b,w=this.length,S=this;if(typeof h!="string")return this.pushStack(v(h).filter(function(){for(p=0;p<w;p++)if(v.contains(S[p],this))return!0}));for(b=this.pushStack([]),p=0;p<w;p++)v.find(h,S[p],b);return w>1?v.uniqueSort(b):b},filter:function(h){return this.pushStack(mt(this,h||[],!1))},not:function(h){return this.pushStack(mt(this,h||[],!0))},is:function(h){return!!mt(this,typeof h=="string"&&it.test(h)?v(h):h||[],!1).length}});var Pt,Ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Nt=v.fn.init=function(h,p,b){var w,S;if(!h)return this;if(b=b||Pt,typeof h=="string")if(h[0]==="<"&&h[h.length-1]===">"&&h.length>=3?w=[null,h,null]:w=Ht.exec(h),w&&(w[1]||!p))if(w[1]){if(p=p instanceof v?p[0]:p,v.merge(this,v.parseHTML(w[1],p&&p.nodeType?p.ownerDocument||p:_,!0)),nt.test(w[1])&&v.isPlainObject(p))for(w in p)y(this[w])?this[w](p[w]):this.attr(w,p[w]);return this}else return S=_.getElementById(w[2]),S&&(this[0]=S,this.length=1),this;else return!p||p.jquery?(p||b).find(h):this.constructor(p).find(h);else{if(h.nodeType)return this[0]=h,this.length=1,this;if(y(h))return b.ready!==void 0?b.ready(h):h(v)}return v.makeArray(h,this)};Nt.prototype=v.fn,Pt=v(_);var ae=/^(?:parents|prev(?:Until|All))/,Re={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(h){var p=v(h,this),b=p.length;return this.filter(function(){for(var w=0;w<b;w++)if(v.contains(this,p[w]))return!0})},closest:function(h,p){var b,w=0,S=this.length,C=[],k=typeof h!="string"&&v(h);if(!it.test(h)){for(;w<S;w++)for(b=this[w];b&&b!==p;b=b.parentNode)if(b.nodeType<11&&(k?k.index(b)>-1:b.nodeType===1&&v.find.matchesSelector(b,h))){C.push(b);break}}return this.pushStack(C.length>1?v.uniqueSort(C):C)},index:function(h){return h?typeof h=="string"?l.call(v(h),this[0]):l.call(this,h.jquery?h[0]:h):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(h,p){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(h,p))))},addBack:function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}});function Ce(h,p){for(;(h=h[p])&&h.nodeType!==1;);return h}v.each({parent:function(h){var p=h.parentNode;return p&&p.nodeType!==11?p:null},parents:function(h){return Le(h,"parentNode")},parentsUntil:function(h,p,b){return Le(h,"parentNode",b)},next:function(h){return Ce(h,"nextSibling")},prev:function(h){return Ce(h,"previousSibling")},nextAll:function(h){return Le(h,"nextSibling")},prevAll:function(h){return Le(h,"previousSibling")},nextUntil:function(h,p,b){return Le(h,"nextSibling",b)},prevUntil:function(h,p,b){return Le(h,"previousSibling",b)},siblings:function(h){return ot((h.parentNode||{}).firstChild,h)},children:function(h){return ot(h.firstChild)},contents:function(h){return h.contentDocument!=null&&r(h.contentDocument)?h.contentDocument:(G(h,"template")&&(h=h.content||h),v.merge([],h.childNodes))}},function(h,p){v.fn[h]=function(b,w){var S=v.map(this,p,b);return h.slice(-5)!=="Until"&&(w=b),w&&typeof w=="string"&&(S=v.filter(w,S)),this.length>1&&(Re[h]||v.uniqueSort(S),ae.test(h)&&S.reverse()),this.pushStack(S)}});var De=/[^\x20\t\r\n\f]+/g;function gt(h){var p={};return v.each(h.match(De)||[],function(b,w){p[w]=!0}),p}v.Callbacks=function(h){h=typeof h=="string"?gt(h):v.extend({},h);var p,b,w,S,C=[],k=[],B=-1,L=function(){for(S=S||h.once,w=p=!0;k.length;B=-1)for(b=k.shift();++B<C.length;)C[B].apply(b[0],b[1])===!1&&h.stopOnFalse&&(B=C.length,b=!1);h.memory||(b=!1),p=!1,S&&(b?C=[]:C="")},Q={add:function(){return C&&(b&&!p&&(B=C.length-1,k.push(b)),function ie(fe){v.each(fe,function(J,we){y(we)?(!h.unique||!Q.has(we))&&C.push(we):we&&we.length&&T(we)!=="string"&&ie(we)})}(arguments),b&&!p&&L()),this},remove:function(){return v.each(arguments,function(ie,fe){for(var J;(J=v.inArray(fe,C,J))>-1;)C.splice(J,1),J<=B&&B--}),this},has:function(ie){return ie?v.inArray(ie,C)>-1:C.length>0},empty:function(){return C&&(C=[]),this},disable:function(){return S=k=[],C=b="",this},disabled:function(){return!C},lock:function(){return S=k=[],!b&&!p&&(C=b=""),this},locked:function(){return!!S},fireWith:function(ie,fe){return S||(fe=fe||[],fe=[ie,fe.slice?fe.slice():fe],k.push(fe),p||L()),this},fire:function(){return Q.fireWith(this,arguments),this},fired:function(){return!!w}};return Q};function M(h){return h}function F(h){throw h}function q(h,p,b,w){var S;try{h&&y(S=h.promise)?S.call(h).done(p).fail(b):h&&y(S=h.then)?S.call(h,p,b):p.apply(void 0,[h].slice(w))}catch(C){b.apply(void 0,[C])}}v.extend({Deferred:function(h){var p=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],b="pending",w={state:function(){return b},always:function(){return S.done(arguments).fail(arguments),this},catch:function(C){return w.then(null,C)},pipe:function(){var C=arguments;return v.Deferred(function(k){v.each(p,function(B,L){var Q=y(C[L[4]])&&C[L[4]];S[L[1]](function(){var ie=Q&&Q.apply(this,arguments);ie&&y(ie.promise)?ie.promise().progress(k.notify).done(k.resolve).fail(k.reject):k[L[0]+"With"](this,Q?[ie]:arguments)})}),C=null}).promise()},then:function(C,k,B){var L=0;function Q(ie,fe,J,we){return function(){var rt=this,Ct=arguments,ft=function(){var gn,Pr;if(!(ie<L)){if(gn=J.apply(rt,Ct),gn===fe.promise())throw new TypeError("Thenable self-resolution");Pr=gn&&(typeof gn=="object"||typeof gn=="function")&&gn.then,y(Pr)?we?Pr.call(gn,Q(L,fe,M,we),Q(L,fe,F,we)):(L++,Pr.call(gn,Q(L,fe,M,we),Q(L,fe,F,we),Q(L,fe,M,fe.notifyWith))):(J!==M&&(rt=void 0,Ct=[gn]),(we||fe.resolveWith)(rt,Ct))}},Pn=we?ft:function(){try{ft()}catch(gn){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(gn,Pn.error),ie+1>=L&&(J!==F&&(rt=void 0,Ct=[gn]),fe.rejectWith(rt,Ct))}};ie?Pn():(v.Deferred.getErrorHook?Pn.error=v.Deferred.getErrorHook():v.Deferred.getStackHook&&(Pn.error=v.Deferred.getStackHook()),e.setTimeout(Pn))}}return v.Deferred(function(ie){p[0][3].add(Q(0,ie,y(B)?B:M,ie.notifyWith)),p[1][3].add(Q(0,ie,y(C)?C:M)),p[2][3].add(Q(0,ie,y(k)?k:F))}).promise()},promise:function(C){return C!=null?v.extend(C,w):w}},S={};return v.each(p,function(C,k){var B=k[2],L=k[5];w[k[1]]=B.add,L&&B.add(function(){b=L},p[3-C][2].disable,p[3-C][3].disable,p[0][2].lock,p[0][3].lock),B.add(k[3].fire),S[k[0]]=function(){return S[k[0]+"With"](this===S?void 0:this,arguments),this},S[k[0]+"With"]=B.fireWith}),w.promise(S),h&&h.call(S,S),S},when:function(h){var p=arguments.length,b=p,w=Array(b),S=s.call(arguments),C=v.Deferred(),k=function(B){return function(L){w[B]=this,S[B]=arguments.length>1?s.call(arguments):L,--p||C.resolveWith(w,S)}};if(p<=1&&(q(h,C.done(k(b)).resolve,C.reject,!p),C.state()==="pending"||y(S[b]&&S[b].then)))return C.then();for(;b--;)q(S[b],k(b),C.reject);return C.promise()}});var he=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(h,p){e.console&&e.console.warn&&h&&he.test(h.name)&&e.console.warn("jQuery.Deferred exception: "+h.message,h.stack,p)},v.readyException=function(h){e.setTimeout(function(){throw h})};var de=v.Deferred();v.fn.ready=function(h){return de.then(h).catch(function(p){v.readyException(p)}),this},v.extend({isReady:!1,readyWait:1,ready:function(h){(h===!0?--v.readyWait:v.isReady)||(v.isReady=!0,!(h!==!0&&--v.readyWait>0)&&de.resolveWith(_,[v]))}}),v.ready.then=de.then;function ue(){_.removeEventListener("DOMContentLoaded",ue),e.removeEventListener("load",ue),v.ready()}_.readyState==="complete"||_.readyState!=="loading"&&!_.documentElement.doScroll?e.setTimeout(v.ready):(_.addEventListener("DOMContentLoaded",ue),e.addEventListener("load",ue));var Se=function(h,p,b,w,S,C,k){var B=0,L=h.length,Q=b==null;if(T(b)==="object"){S=!0;for(B in b)Se(h,p,B,b[B],!0,C,k)}else if(w!==void 0&&(S=!0,y(w)||(k=!0),Q&&(k?(p.call(h,w),p=null):(Q=p,p=function(ie,fe,J){return Q.call(v(ie),J)})),p))for(;B<L;B++)p(h[B],b,k?w:w.call(h[B],B,p(h[B],b)));return S?h:Q?p.call(h):L?p(h[0],b):C},Te=/^-ms-/,_e=/-([a-z])/g;function ye(h,p){return p.toUpperCase()}function He(h){return h.replace(Te,"ms-").replace(_e,ye)}var Ae=function(h){return h.nodeType===1||h.nodeType===9||!+h.nodeType};function Qe(){this.expando=v.expando+Qe.uid++}Qe.uid=1,Qe.prototype={cache:function(h){var p=h[this.expando];return p||(p={},Ae(h)&&(h.nodeType?h[this.expando]=p:Object.defineProperty(h,this.expando,{value:p,configurable:!0}))),p},set:function(h,p,b){var w,S=this.cache(h);if(typeof p=="string")S[He(p)]=b;else for(w in p)S[He(w)]=p[w];return S},get:function(h,p){return p===void 0?this.cache(h):h[this.expando]&&h[this.expando][He(p)]},access:function(h,p,b){return p===void 0||p&&typeof p=="string"&&b===void 0?this.get(h,p):(this.set(h,p,b),b!==void 0?b:p)},remove:function(h,p){var b,w=h[this.expando];if(w!==void 0){if(p!==void 0)for(Array.isArray(p)?p=p.map(He):(p=He(p),p=p in w?[p]:p.match(De)||[]),b=p.length;b--;)delete w[p[b]];(p===void 0||v.isEmptyObject(w))&&(h.nodeType?h[this.expando]=void 0:delete h[this.expando])}},hasData:function(h){var p=h[this.expando];return p!==void 0&&!v.isEmptyObject(p)}};var ge=new Qe,Xe=new Qe,Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/[A-Z]/g;function Dn(h){return h==="true"?!0:h==="false"?!1:h==="null"?null:h===+h+""?+h:Et.test(h)?JSON.parse(h):h}function mn(h,p,b){var w;if(b===void 0&&h.nodeType===1)if(w="data-"+p.replace(wt,"-$&").toLowerCase(),b=h.getAttribute(w),typeof b=="string"){try{b=Dn(b)}catch{}Xe.set(h,p,b)}else b=void 0;return b}v.extend({hasData:function(h){return Xe.hasData(h)||ge.hasData(h)},data:function(h,p,b){return Xe.access(h,p,b)},removeData:function(h,p){Xe.remove(h,p)},_data:function(h,p,b){return ge.access(h,p,b)},_removeData:function(h,p){ge.remove(h,p)}}),v.fn.extend({data:function(h,p){var b,w,S,C=this[0],k=C&&C.attributes;if(h===void 0){if(this.length&&(S=Xe.get(C),C.nodeType===1&&!ge.get(C,"hasDataAttrs"))){for(b=k.length;b--;)k[b]&&(w=k[b].name,w.indexOf("data-")===0&&(w=He(w.slice(5)),mn(C,w,S[w])));ge.set(C,"hasDataAttrs",!0)}return S}return typeof h=="object"?this.each(function(){Xe.set(this,h)}):Se(this,function(B){var L;if(C&&B===void 0)return L=Xe.get(C,h),L!==void 0||(L=mn(C,h),L!==void 0)?L:void 0;this.each(function(){Xe.set(this,h,B)})},null,p,arguments.length>1,null,!0)},removeData:function(h){return this.each(function(){Xe.remove(this,h)})}}),v.extend({queue:function(h,p,b){var w;if(h)return p=(p||"fx")+"queue",w=ge.get(h,p),b&&(!w||Array.isArray(b)?w=ge.access(h,p,v.makeArray(b)):w.push(b)),w||[]},dequeue:function(h,p){p=p||"fx";var b=v.queue(h,p),w=b.length,S=b.shift(),C=v._queueHooks(h,p),k=function(){v.dequeue(h,p)};S==="inprogress"&&(S=b.shift(),w--),S&&(p==="fx"&&b.unshift("inprogress"),delete C.stop,S.call(h,k,C)),!w&&C&&C.empty.fire()},_queueHooks:function(h,p){var b=p+"queueHooks";return ge.get(h,b)||ge.access(h,b,{empty:v.Callbacks("once memory").add(function(){ge.remove(h,[p+"queue",b])})})}}),v.fn.extend({queue:function(h,p){var b=2;return typeof h!="string"&&(p=h,h="fx",b--),arguments.length<b?v.queue(this[0],h):p===void 0?this:this.each(function(){var w=v.queue(this,h,p);v._queueHooks(this,h),h==="fx"&&w[0]!=="inprogress"&&v.dequeue(this,h)})},dequeue:function(h){return this.each(function(){v.dequeue(this,h)})},clearQueue:function(h){return this.queue(h||"fx",[])},promise:function(h,p){var b,w=1,S=v.Deferred(),C=this,k=this.length,B=function(){--w||S.resolveWith(C,[C])};for(typeof h!="string"&&(p=h,h=void 0),h=h||"fx";k--;)b=ge.get(C[k],h+"queueHooks"),b&&b.empty&&(w++,b.empty.add(B));return B(),S.promise(p)}});var ei=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xn=new RegExp("^(?:([+-])=|)("+ei+")([a-z%]*)$","i"),Rn=["Top","Right","Bottom","Left"],se=_.documentElement,Ee=function(h){return v.contains(h.ownerDocument,h)},qe={composed:!0};se.getRootNode&&(Ee=function(h){return v.contains(h.ownerDocument,h)||h.getRootNode(qe)===h.ownerDocument});var vt=function(h,p){return h=p||h,h.style.display==="none"||h.style.display===""&&Ee(h)&&v.css(h,"display")==="none"};function _t(h,p,b,w){var S,C,k=20,B=w?function(){return w.cur()}:function(){return v.css(h,p,"")},L=B(),Q=b&&b[3]||(v.cssNumber[p]?"":"px"),ie=h.nodeType&&(v.cssNumber[p]||Q!=="px"&&+L)&&xn.exec(v.css(h,p));if(ie&&ie[3]!==Q){for(L=L/2,Q=Q||ie[3],ie=+L||1;k--;)v.style(h,p,ie+Q),(1-C)*(1-(C=B()/L||.5))<=0&&(k=0),ie=ie/C;ie=ie*2,v.style(h,p,ie+Q),b=b||[]}return b&&(ie=+ie||+L||0,S=b[1]?ie+(b[1]+1)*b[2]:+b[2],w&&(w.unit=Q,w.start=ie,w.end=S)),S}var wn={};function gi(h){var p,b=h.ownerDocument,w=h.nodeName,S=wn[w];return S||(p=b.body.appendChild(b.createElement(w)),S=v.css(p,"display"),p.parentNode.removeChild(p),S==="none"&&(S="block"),wn[w]=S,S)}function Ei(h,p){for(var b,w,S=[],C=0,k=h.length;C<k;C++)w=h[C],w.style&&(b=w.style.display,p?(b==="none"&&(S[C]=ge.get(w,"display")||null,S[C]||(w.style.display="")),w.style.display===""&&vt(w)&&(S[C]=gi(w))):b!=="none"&&(S[C]="none",ge.set(w,"display",b)));for(C=0;C<k;C++)S[C]!=null&&(h[C].style.display=S[C]);return h}v.fn.extend({show:function(){return Ei(this,!0)},hide:function(){return Ei(this)},toggle:function(h){return typeof h=="boolean"?h?this.show():this.hide():this.each(function(){vt(this)?v(this).show():v(this).hide()})}});var zs=/^(?:checkbox|radio)$/i,$r=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ia=/^$|^module$|\/(?:java|ecma)script/i;(function(){var h=_.createDocumentFragment(),p=h.appendChild(_.createElement("div")),b=_.createElement("input");b.setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","t"),p.appendChild(b),g.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked,p.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!p.cloneNode(!0).lastChild.defaultValue,p.innerHTML="<option></option>",g.option=!!p.lastChild})();var $n={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$n.tbody=$n.tfoot=$n.colgroup=$n.caption=$n.thead,$n.th=$n.td,g.option||($n.optgroup=$n.option=[1,"<select multiple='multiple'>","</select>"]);function sn(h,p){var b;return typeof h.getElementsByTagName<"u"?b=h.getElementsByTagName(p||"*"):typeof h.querySelectorAll<"u"?b=h.querySelectorAll(p||"*"):b=[],p===void 0||p&&G(h,p)?v.merge([h],b):b}function bc(h,p){for(var b=0,w=h.length;b<w;b++)ge.set(h[b],"globalEval",!p||ge.get(p[b],"globalEval"))}var yc=/<|&#?\w+;/;function Ho(h,p,b,w,S){for(var C,k,B,L,Q,ie,fe=p.createDocumentFragment(),J=[],we=0,rt=h.length;we<rt;we++)if(C=h[we],C||C===0)if(T(C)==="object")v.merge(J,C.nodeType?[C]:C);else if(!yc.test(C))J.push(p.createTextNode(C));else{for(k=k||fe.appendChild(p.createElement("div")),B=($r.exec(C)||["",""])[1].toLowerCase(),L=$n[B]||$n._default,k.innerHTML=L[1]+v.htmlPrefilter(C)+L[2],ie=L[0];ie--;)k=k.lastChild;v.merge(J,k.childNodes),k=fe.firstChild,k.textContent=""}for(fe.textContent="",we=0;C=J[we++];){if(w&&v.inArray(C,w)>-1){S&&S.push(C);continue}if(Q=Ee(C),k=sn(fe.appendChild(C),"script"),Q&&bc(k),b)for(ie=0;C=k[ie++];)Ia.test(C.type||"")&&b.push(C)}return fe}var Z0=/^([^.]*)(?:\.(.+)|)/;function Fa(){return!0}function Ba(){return!1}function im(h,p,b,w,S,C){var k,B;if(typeof p=="object"){typeof b!="string"&&(w=w||b,b=void 0);for(B in p)im(h,B,b,w,p[B],C);return h}if(w==null&&S==null?(S=b,w=b=void 0):S==null&&(typeof b=="string"?(S=w,w=void 0):(S=w,w=b,b=void 0)),S===!1)S=Ba;else if(!S)return h;return C===1&&(k=S,S=function(L){return v().off(L),k.apply(this,arguments)},S.guid=k.guid||(k.guid=v.guid++)),h.each(function(){v.event.add(this,p,S,w,b)})}v.event={global:{},add:function(h,p,b,w,S){var C,k,B,L,Q,ie,fe,J,we,rt,Ct,ft=ge.get(h);if(Ae(h))for(b.handler&&(C=b,b=C.handler,S=C.selector),S&&v.find.matchesSelector(se,S),b.guid||(b.guid=v.guid++),(L=ft.events)||(L=ft.events=Object.create(null)),(k=ft.handle)||(k=ft.handle=function(Pn){return typeof v<"u"&&v.event.triggered!==Pn.type?v.event.dispatch.apply(h,arguments):void 0}),p=(p||"").match(De)||[""],Q=p.length;Q--;)B=Z0.exec(p[Q])||[],we=Ct=B[1],rt=(B[2]||"").split(".").sort(),we&&(fe=v.event.special[we]||{},we=(S?fe.delegateType:fe.bindType)||we,fe=v.event.special[we]||{},ie=v.extend({type:we,origType:Ct,data:w,handler:b,guid:b.guid,selector:S,needsContext:S&&v.expr.match.needsContext.test(S),namespace:rt.join(".")},C),(J=L[we])||(J=L[we]=[],J.delegateCount=0,(!fe.setup||fe.setup.call(h,w,rt,k)===!1)&&h.addEventListener&&h.addEventListener(we,k)),fe.add&&(fe.add.call(h,ie),ie.handler.guid||(ie.handler.guid=b.guid)),S?J.splice(J.delegateCount++,0,ie):J.push(ie),v.event.global[we]=!0)},remove:function(h,p,b,w,S){var C,k,B,L,Q,ie,fe,J,we,rt,Ct,ft=ge.hasData(h)&&ge.get(h);if(!(!ft||!(L=ft.events))){for(p=(p||"").match(De)||[""],Q=p.length;Q--;){if(B=Z0.exec(p[Q])||[],we=Ct=B[1],rt=(B[2]||"").split(".").sort(),!we){for(we in L)v.event.remove(h,we+p[Q],b,w,!0);continue}for(fe=v.event.special[we]||{},we=(w?fe.delegateType:fe.bindType)||we,J=L[we]||[],B=B[2]&&new RegExp("(^|\\.)"+rt.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=C=J.length;C--;)ie=J[C],(S||Ct===ie.origType)&&(!b||b.guid===ie.guid)&&(!B||B.test(ie.namespace))&&(!w||w===ie.selector||w==="**"&&ie.selector)&&(J.splice(C,1),ie.selector&&J.delegateCount--,fe.remove&&fe.remove.call(h,ie));k&&!J.length&&((!fe.teardown||fe.teardown.call(h,rt,ft.handle)===!1)&&v.removeEvent(h,we,ft.handle),delete L[we])}v.isEmptyObject(L)&&ge.remove(h,"handle events")}},dispatch:function(h){var p,b,w,S,C,k,B=new Array(arguments.length),L=v.event.fix(h),Q=(ge.get(this,"events")||Object.create(null))[L.type]||[],ie=v.event.special[L.type]||{};for(B[0]=L,p=1;p<arguments.length;p++)B[p]=arguments[p];if(L.delegateTarget=this,!(ie.preDispatch&&ie.preDispatch.call(this,L)===!1)){for(k=v.event.handlers.call(this,L,Q),p=0;(S=k[p++])&&!L.isPropagationStopped();)for(L.currentTarget=S.elem,b=0;(C=S.handlers[b++])&&!L.isImmediatePropagationStopped();)(!L.rnamespace||C.namespace===!1||L.rnamespace.test(C.namespace))&&(L.handleObj=C,L.data=C.data,w=((v.event.special[C.origType]||{}).handle||C.handler).apply(S.elem,B),w!==void 0&&(L.result=w)===!1&&(L.preventDefault(),L.stopPropagation()));return ie.postDispatch&&ie.postDispatch.call(this,L),L.result}},handlers:function(h,p){var b,w,S,C,k,B=[],L=p.delegateCount,Q=h.target;if(L&&Q.nodeType&&!(h.type==="click"&&h.button>=1)){for(;Q!==this;Q=Q.parentNode||this)if(Q.nodeType===1&&!(h.type==="click"&&Q.disabled===!0)){for(C=[],k={},b=0;b<L;b++)w=p[b],S=w.selector+" ",k[S]===void 0&&(k[S]=w.needsContext?v(S,this).index(Q)>-1:v.find(S,this,null,[Q]).length),k[S]&&C.push(w);C.length&&B.push({elem:Q,handlers:C})}}return Q=this,L<p.length&&B.push({elem:Q,handlers:p.slice(L)}),B},addProp:function(h,p){Object.defineProperty(v.Event.prototype,h,{enumerable:!0,configurable:!0,get:y(p)?function(){if(this.originalEvent)return p(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[h]},set:function(b){Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(h){return h[v.expando]?h:new v.Event(h)},special:{load:{noBubble:!0},click:{setup:function(h){var p=this||h;return zs.test(p.type)&&p.click&&G(p,"input")&&Af(p,"click",!0),!1},trigger:function(h){var p=this||h;return zs.test(p.type)&&p.click&&G(p,"input")&&Af(p,"click"),!0},_default:function(h){var p=h.target;return zs.test(p.type)&&p.click&&G(p,"input")&&ge.get(p,"click")||G(p,"a")}},beforeunload:{postDispatch:function(h){h.result!==void 0&&h.originalEvent&&(h.originalEvent.returnValue=h.result)}}}};function Af(h,p,b){if(!b){ge.get(h,p)===void 0&&v.event.add(h,p,Fa);return}ge.set(h,p,!1),v.event.add(h,p,{namespace:!1,handler:function(w){var S,C=ge.get(this,p);if(w.isTrigger&1&&this[p]){if(C)(v.event.special[p]||{}).delegateType&&w.stopPropagation();else if(C=s.call(arguments),ge.set(this,p,C),this[p](),S=ge.get(this,p),ge.set(this,p,!1),C!==S)return w.stopImmediatePropagation(),w.preventDefault(),S}else C&&(ge.set(this,p,v.event.trigger(C[0],C.slice(1),this)),w.stopPropagation(),w.isImmediatePropagationStopped=Fa)}})}v.removeEvent=function(h,p,b){h.removeEventListener&&h.removeEventListener(p,b)},v.Event=function(h,p){if(!(this instanceof v.Event))return new v.Event(h,p);h&&h.type?(this.originalEvent=h,this.type=h.type,this.isDefaultPrevented=h.defaultPrevented||h.defaultPrevented===void 0&&h.returnValue===!1?Fa:Ba,this.target=h.target&&h.target.nodeType===3?h.target.parentNode:h.target,this.currentTarget=h.currentTarget,this.relatedTarget=h.relatedTarget):this.type=h,p&&v.extend(this,p),this.timeStamp=h&&h.timeStamp||Date.now(),this[v.expando]=!0},v.Event.prototype={constructor:v.Event,isDefaultPrevented:Ba,isPropagationStopped:Ba,isImmediatePropagationStopped:Ba,isSimulated:!1,preventDefault:function(){var h=this.originalEvent;this.isDefaultPrevented=Fa,h&&!this.isSimulated&&h.preventDefault()},stopPropagation:function(){var h=this.originalEvent;this.isPropagationStopped=Fa,h&&!this.isSimulated&&h.stopPropagation()},stopImmediatePropagation:function(){var h=this.originalEvent;this.isImmediatePropagationStopped=Fa,h&&!this.isSimulated&&h.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},v.event.addProp),v.each({focus:"focusin",blur:"focusout"},function(h,p){function b(w){if(_.documentMode){var S=ge.get(this,"handle"),C=v.event.fix(w);C.type=w.type==="focusin"?"focus":"blur",C.isSimulated=!0,S(w),C.target===C.currentTarget&&S(C)}else v.event.simulate(p,w.target,v.event.fix(w))}v.event.special[h]={setup:function(){var w;if(Af(this,h,!0),_.documentMode)w=ge.get(this,p),w||this.addEventListener(p,b),ge.set(this,p,(w||0)+1);else return!1},trigger:function(){return Af(this,h),!0},teardown:function(){var w;if(_.documentMode)w=ge.get(this,p)-1,w?ge.set(this,p,w):(this.removeEventListener(p,b),ge.remove(this,p));else return!1},_default:function(w){return ge.get(w.target,h)},delegateType:p},v.event.special[p]={setup:function(){var w=this.ownerDocument||this.document||this,S=_.documentMode?this:w,C=ge.get(S,p);C||(_.documentMode?this.addEventListener(p,b):w.addEventListener(h,b,!0)),ge.set(S,p,(C||0)+1)},teardown:function(){var w=this.ownerDocument||this.document||this,S=_.documentMode?this:w,C=ge.get(S,p)-1;C?ge.set(S,p,C):(_.documentMode?this.removeEventListener(p,b):w.removeEventListener(h,b,!0),ge.remove(S,p))}}}),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(h,p){v.event.special[h]={delegateType:p,bindType:p,handle:function(b){var w,S=this,C=b.relatedTarget,k=b.handleObj;return(!C||C!==S&&!v.contains(S,C))&&(b.type=k.origType,w=k.handler.apply(this,arguments),b.type=p),w}}}),v.fn.extend({on:function(h,p,b,w){return im(this,h,p,b,w)},one:function(h,p,b,w){return im(this,h,p,b,w,1)},off:function(h,p,b){var w,S;if(h&&h.preventDefault&&h.handleObj)return w=h.handleObj,v(h.delegateTarget).off(w.namespace?w.origType+"."+w.namespace:w.origType,w.selector,w.handler),this;if(typeof h=="object"){for(S in h)this.off(S,p,h[S]);return this}return(p===!1||typeof p=="function")&&(b=p,p=void 0),b===!1&&(b=Ba),this.each(function(){v.event.remove(this,h,b,p)})}});var m$=/<script|<style|<link/i,g$=/checked\s*(?:[^=]|=\s*.checked.)/i,v$=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function e1(h,p){return G(h,"table")&&G(p.nodeType!==11?p:p.firstChild,"tr")&&v(h).children("tbody")[0]||h}function b$(h){return h.type=(h.getAttribute("type")!==null)+"/"+h.type,h}function y$(h){return(h.type||"").slice(0,5)==="true/"?h.type=h.type.slice(5):h.removeAttribute("type"),h}function t1(h,p){var b,w,S,C,k,B,L;if(p.nodeType===1){if(ge.hasData(h)&&(C=ge.get(h),L=C.events,L)){ge.remove(p,"handle events");for(S in L)for(b=0,w=L[S].length;b<w;b++)v.event.add(p,S,L[S][b])}Xe.hasData(h)&&(k=Xe.access(h),B=v.extend({},k),Xe.set(p,B))}}function O$(h,p){var b=p.nodeName.toLowerCase();b==="input"&&zs.test(h.type)?p.checked=h.checked:(b==="input"||b==="textarea")&&(p.defaultValue=h.defaultValue)}function Ha(h,p,b,w){p=o(p);var S,C,k,B,L,Q,ie=0,fe=h.length,J=fe-1,we=p[0],rt=y(we);if(rt||fe>1&&typeof we=="string"&&!g.checkClone&&g$.test(we))return h.each(function(Ct){var ft=h.eq(Ct);rt&&(p[0]=we.call(this,Ct,ft.html())),Ha(ft,p,b,w)});if(fe&&(S=Ho(p,h[0].ownerDocument,!1,h,w),C=S.firstChild,S.childNodes.length===1&&(S=C),C||w)){for(k=v.map(sn(S,"script"),b$),B=k.length;ie<fe;ie++)L=S,ie!==J&&(L=v.clone(L,!0,!0),B&&v.merge(k,sn(L,"script"))),b.call(h[ie],L,ie);if(B)for(Q=k[k.length-1].ownerDocument,v.map(k,y$),ie=0;ie<B;ie++)L=k[ie],Ia.test(L.type||"")&&!ge.access(L,"globalEval")&&v.contains(Q,L)&&(L.src&&(L.type||"").toLowerCase()!=="module"?v._evalUrl&&!L.noModule&&v._evalUrl(L.src,{nonce:L.nonce||L.getAttribute("nonce")},Q):R(L.textContent.replace(v$,""),L,Q))}return h}function n1(h,p,b){for(var w,S=p?v.filter(p,h):h,C=0;(w=S[C])!=null;C++)!b&&w.nodeType===1&&v.cleanData(sn(w)),w.parentNode&&(b&&Ee(w)&&bc(sn(w,"script")),w.parentNode.removeChild(w));return h}v.extend({htmlPrefilter:function(h){return h},clone:function(h,p,b){var w,S,C,k,B=h.cloneNode(!0),L=Ee(h);if(!g.noCloneChecked&&(h.nodeType===1||h.nodeType===11)&&!v.isXMLDoc(h))for(k=sn(B),C=sn(h),w=0,S=C.length;w<S;w++)O$(C[w],k[w]);if(p)if(b)for(C=C||sn(h),k=k||sn(B),w=0,S=C.length;w<S;w++)t1(C[w],k[w]);else t1(h,B);return k=sn(B,"script"),k.length>0&&bc(k,!L&&sn(h,"script")),B},cleanData:function(h){for(var p,b,w,S=v.event.special,C=0;(b=h[C])!==void 0;C++)if(Ae(b)){if(p=b[ge.expando]){if(p.events)for(w in p.events)S[w]?v.event.remove(b,w):v.removeEvent(b,w,p.handle);b[ge.expando]=void 0}b[Xe.expando]&&(b[Xe.expando]=void 0)}}}),v.fn.extend({detach:function(h){return n1(this,h,!0)},remove:function(h){return n1(this,h)},text:function(h){return Se(this,function(p){return p===void 0?v.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=p)})},null,h,arguments.length)},append:function(){return Ha(this,arguments,function(h){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var p=e1(this,h);p.appendChild(h)}})},prepend:function(){return Ha(this,arguments,function(h){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var p=e1(this,h);p.insertBefore(h,p.firstChild)}})},before:function(){return Ha(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this)})},after:function(){return Ha(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this.nextSibling)})},empty:function(){for(var h,p=0;(h=this[p])!=null;p++)h.nodeType===1&&(v.cleanData(sn(h,!1)),h.textContent="");return this},clone:function(h,p){return h=h??!1,p=p??h,this.map(function(){return v.clone(this,h,p)})},html:function(h){return Se(this,function(p){var b=this[0]||{},w=0,S=this.length;if(p===void 0&&b.nodeType===1)return b.innerHTML;if(typeof p=="string"&&!m$.test(p)&&!$n[($r.exec(p)||["",""])[1].toLowerCase()]){p=v.htmlPrefilter(p);try{for(;w<S;w++)b=this[w]||{},b.nodeType===1&&(v.cleanData(sn(b,!1)),b.innerHTML=p);b=0}catch{}}b&&this.empty().append(p)},null,h,arguments.length)},replaceWith:function(){var h=[];return Ha(this,arguments,function(p){var b=this.parentNode;v.inArray(this,h)<0&&(v.cleanData(sn(this)),b&&b.replaceChild(p,this))},h)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(h,p){v.fn[h]=function(b){for(var w,S=[],C=v(b),k=C.length-1,B=0;B<=k;B++)w=B===k?this:this.clone(!0),v(C[B])[p](w),a.apply(S,w.get());return this.pushStack(S)}});var rm=new RegExp("^("+ei+")(?!px)[a-z%]+$","i"),sm=/^--/,kf=function(h){var p=h.ownerDocument.defaultView;return(!p||!p.opener)&&(p=e),p.getComputedStyle(h)},i1=function(h,p,b){var w,S,C={};for(S in p)C[S]=h.style[S],h.style[S]=p[S];w=b.call(h);for(S in p)h.style[S]=C[S];return w},x$=new RegExp(Rn.join("|"),"i");(function(){function h(){if(Q){L.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Q.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(L).appendChild(Q);var ie=e.getComputedStyle(Q);b=ie.top!=="1%",B=p(ie.marginLeft)===12,Q.style.right="60%",C=p(ie.right)===36,w=p(ie.width)===36,Q.style.position="absolute",S=p(Q.offsetWidth/3)===12,se.removeChild(L),Q=null}}function p(ie){return Math.round(parseFloat(ie))}var b,w,S,C,k,B,L=_.createElement("div"),Q=_.createElement("div");Q.style&&(Q.style.backgroundClip="content-box",Q.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=Q.style.backgroundClip==="content-box",v.extend(g,{boxSizingReliable:function(){return h(),w},pixelBoxStyles:function(){return h(),C},pixelPosition:function(){return h(),b},reliableMarginLeft:function(){return h(),B},scrollboxSize:function(){return h(),S},reliableTrDimensions:function(){var ie,fe,J,we;return k==null&&(ie=_.createElement("table"),fe=_.createElement("tr"),J=_.createElement("div"),ie.style.cssText="position:absolute;left:-11111px;border-collapse:separate",fe.style.cssText="box-sizing:content-box;border:1px solid",fe.style.height="1px",J.style.height="9px",J.style.display="block",se.appendChild(ie).appendChild(fe).appendChild(J),we=e.getComputedStyle(fe),k=parseInt(we.height,10)+parseInt(we.borderTopWidth,10)+parseInt(we.borderBottomWidth,10)===fe.offsetHeight,se.removeChild(ie)),k}}))})();function Oc(h,p,b){var w,S,C,k,B=sm.test(p),L=h.style;return b=b||kf(h),b&&(k=b.getPropertyValue(p)||b[p],B&&k&&(k=k.replace(le,"$1")||void 0),k===""&&!Ee(h)&&(k=v.style(h,p)),!g.pixelBoxStyles()&&rm.test(k)&&x$.test(p)&&(w=L.width,S=L.minWidth,C=L.maxWidth,L.minWidth=L.maxWidth=L.width=k,k=b.width,L.width=w,L.minWidth=S,L.maxWidth=C)),k!==void 0?k+"":k}function r1(h,p){return{get:function(){if(h()){delete this.get;return}return(this.get=p).apply(this,arguments)}}}var s1=["Webkit","Moz","ms"],o1=_.createElement("div").style,a1={};function w$(h){for(var p=h[0].toUpperCase()+h.slice(1),b=s1.length;b--;)if(h=s1[b]+p,h in o1)return h}function om(h){var p=v.cssProps[h]||a1[h];return p||(h in o1?h:a1[h]=w$(h)||h)}var _$=/^(none|table(?!-c[ea]).+)/,S$={position:"absolute",visibility:"hidden",display:"block"},l1={letterSpacing:"0",fontWeight:"400"};function c1(h,p,b){var w=xn.exec(p);return w?Math.max(0,w[2]-(b||0))+(w[3]||"px"):p}function am(h,p,b,w,S,C){var k=p==="width"?1:0,B=0,L=0,Q=0;if(b===(w?"border":"content"))return 0;for(;k<4;k+=2)b==="margin"&&(Q+=v.css(h,b+Rn[k],!0,S)),w?(b==="content"&&(L-=v.css(h,"padding"+Rn[k],!0,S)),b!=="margin"&&(L-=v.css(h,"border"+Rn[k]+"Width",!0,S))):(L+=v.css(h,"padding"+Rn[k],!0,S),b!=="padding"?L+=v.css(h,"border"+Rn[k]+"Width",!0,S):B+=v.css(h,"border"+Rn[k]+"Width",!0,S));return!w&&C>=0&&(L+=Math.max(0,Math.ceil(h["offset"+p[0].toUpperCase()+p.slice(1)]-C-L-B-.5))||0),L+Q}function u1(h,p,b){var w=kf(h),S=!g.boxSizingReliable()||b,C=S&&v.css(h,"boxSizing",!1,w)==="border-box",k=C,B=Oc(h,p,w),L="offset"+p[0].toUpperCase()+p.slice(1);if(rm.test(B)){if(!b)return B;B="auto"}return(!g.boxSizingReliable()&&C||!g.reliableTrDimensions()&&G(h,"tr")||B==="auto"||!parseFloat(B)&&v.css(h,"display",!1,w)==="inline")&&h.getClientRects().length&&(C=v.css(h,"boxSizing",!1,w)==="border-box",k=L in h,k&&(B=h[L])),B=parseFloat(B)||0,B+am(h,p,b||(C?"border":"content"),k,w,B)+"px"}v.extend({cssHooks:{opacity:{get:function(h,p){if(p){var b=Oc(h,"opacity");return b===""?"1":b}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(h,p,b,w){if(!(!h||h.nodeType===3||h.nodeType===8||!h.style)){var S,C,k,B=He(p),L=sm.test(p),Q=h.style;if(L||(p=om(B)),k=v.cssHooks[p]||v.cssHooks[B],b!==void 0){if(C=typeof b,C==="string"&&(S=xn.exec(b))&&S[1]&&(b=_t(h,p,S),C="number"),b==null||b!==b)return;C==="number"&&!L&&(b+=S&&S[3]||(v.cssNumber[B]?"":"px")),!g.clearCloneStyle&&b===""&&p.indexOf("background")===0&&(Q[p]="inherit"),(!k||!("set"in k)||(b=k.set(h,b,w))!==void 0)&&(L?Q.setProperty(p,b):Q[p]=b)}else return k&&"get"in k&&(S=k.get(h,!1,w))!==void 0?S:Q[p]}},css:function(h,p,b,w){var S,C,k,B=He(p),L=sm.test(p);return L||(p=om(B)),k=v.cssHooks[p]||v.cssHooks[B],k&&"get"in k&&(S=k.get(h,!0,b)),S===void 0&&(S=Oc(h,p,w)),S==="normal"&&p in l1&&(S=l1[p]),b===""||b?(C=parseFloat(S),b===!0||isFinite(C)?C||0:S):S}}),v.each(["height","width"],function(h,p){v.cssHooks[p]={get:function(b,w,S){if(w)return _$.test(v.css(b,"display"))&&(!b.getClientRects().length||!b.getBoundingClientRect().width)?i1(b,S$,function(){return u1(b,p,S)}):u1(b,p,S)},set:function(b,w,S){var C,k=kf(b),B=!g.scrollboxSize()&&k.position==="absolute",L=B||S,Q=L&&v.css(b,"boxSizing",!1,k)==="border-box",ie=S?am(b,p,S,Q,k):0;return Q&&B&&(ie-=Math.ceil(b["offset"+p[0].toUpperCase()+p.slice(1)]-parseFloat(k[p])-am(b,p,"border",!1,k)-.5)),ie&&(C=xn.exec(w))&&(C[3]||"px")!=="px"&&(b.style[p]=w,w=v.css(b,p)),c1(b,w,ie)}}}),v.cssHooks.marginLeft=r1(g.reliableMarginLeft,function(h,p){if(p)return(parseFloat(Oc(h,"marginLeft"))||h.getBoundingClientRect().left-i1(h,{marginLeft:0},function(){return h.getBoundingClientRect().left}))+"px"}),v.each({margin:"",padding:"",border:"Width"},function(h,p){v.cssHooks[h+p]={expand:function(b){for(var w=0,S={},C=typeof b=="string"?b.split(" "):[b];w<4;w++)S[h+Rn[w]+p]=C[w]||C[w-2]||C[0];return S}},h!=="margin"&&(v.cssHooks[h+p].set=c1)}),v.fn.extend({css:function(h,p){return Se(this,function(b,w,S){var C,k,B={},L=0;if(Array.isArray(w)){for(C=kf(b),k=w.length;L<k;L++)B[w[L]]=v.css(b,w[L],!1,C);return B}return S!==void 0?v.style(b,w,S):v.css(b,w)},h,p,arguments.length>1)}});function vi(h,p,b,w,S){return new vi.prototype.init(h,p,b,w,S)}v.Tween=vi,vi.prototype={constructor:vi,init:function(h,p,b,w,S,C){this.elem=h,this.prop=b,this.easing=S||v.easing._default,this.options=p,this.start=this.now=this.cur(),this.end=w,this.unit=C||(v.cssNumber[b]?"":"px")},cur:function(){var h=vi.propHooks[this.prop];return h&&h.get?h.get(this):vi.propHooks._default.get(this)},run:function(h){var p,b=vi.propHooks[this.prop];return this.options.duration?this.pos=p=v.easing[this.easing](h,this.options.duration*h,0,1,this.options.duration):this.pos=p=h,this.now=(this.end-this.start)*p+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):vi.propHooks._default.set(this),this}},vi.prototype.init.prototype=vi.prototype,vi.propHooks={_default:{get:function(h){var p;return h.elem.nodeType!==1||h.elem[h.prop]!=null&&h.elem.style[h.prop]==null?h.elem[h.prop]:(p=v.css(h.elem,h.prop,""),!p||p==="auto"?0:p)},set:function(h){v.fx.step[h.prop]?v.fx.step[h.prop](h):h.elem.nodeType===1&&(v.cssHooks[h.prop]||h.elem.style[om(h.prop)]!=null)?v.style(h.elem,h.prop,h.now+h.unit):h.elem[h.prop]=h.now}}},vi.propHooks.scrollTop=vi.propHooks.scrollLeft={set:function(h){h.elem.nodeType&&h.elem.parentNode&&(h.elem[h.prop]=h.now)}},v.easing={linear:function(h){return h},swing:function(h){return .5-Math.cos(h*Math.PI)/2},_default:"swing"},v.fx=vi.prototype.init,v.fx.step={};var ja,Ef,C$=/^(?:toggle|show|hide)$/,T$=/queueHooks$/;function lm(){Ef&&(_.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(lm):e.setTimeout(lm,v.fx.interval),v.fx.tick())}function f1(){return e.setTimeout(function(){ja=void 0}),ja=Date.now()}function Df(h,p){var b,w=0,S={height:h};for(p=p?1:0;w<4;w+=2-p)b=Rn[w],S["margin"+b]=S["padding"+b]=h;return p&&(S.opacity=S.width=h),S}function h1(h,p,b){for(var w,S=(dr.tweeners[p]||[]).concat(dr.tweeners["*"]),C=0,k=S.length;C<k;C++)if(w=S[C].call(b,p,h))return w}function A$(h,p,b){var w,S,C,k,B,L,Q,ie,fe="width"in p||"height"in p,J=this,we={},rt=h.style,Ct=h.nodeType&&vt(h),ft=ge.get(h,"fxshow");b.queue||(k=v._queueHooks(h,"fx"),k.unqueued==null&&(k.unqueued=0,B=k.empty.fire,k.empty.fire=function(){k.unqueued||B()}),k.unqueued++,J.always(function(){J.always(function(){k.unqueued--,v.queue(h,"fx").length||k.empty.fire()})}));for(w in p)if(S=p[w],C$.test(S)){if(delete p[w],C=C||S==="toggle",S===(Ct?"hide":"show"))if(S==="show"&&ft&&ft[w]!==void 0)Ct=!0;else continue;we[w]=ft&&ft[w]||v.style(h,w)}if(L=!v.isEmptyObject(p),!(!L&&v.isEmptyObject(we))){fe&&h.nodeType===1&&(b.overflow=[rt.overflow,rt.overflowX,rt.overflowY],Q=ft&&ft.display,Q==null&&(Q=ge.get(h,"display")),ie=v.css(h,"display"),ie==="none"&&(Q?ie=Q:(Ei([h],!0),Q=h.style.display||Q,ie=v.css(h,"display"),Ei([h]))),(ie==="inline"||ie==="inline-block"&&Q!=null)&&v.css(h,"float")==="none"&&(L||(J.done(function(){rt.display=Q}),Q==null&&(ie=rt.display,Q=ie==="none"?"":ie)),rt.display="inline-block")),b.overflow&&(rt.overflow="hidden",J.always(function(){rt.overflow=b.overflow[0],rt.overflowX=b.overflow[1],rt.overflowY=b.overflow[2]})),L=!1;for(w in we)L||(ft?"hidden"in ft&&(Ct=ft.hidden):ft=ge.access(h,"fxshow",{display:Q}),C&&(ft.hidden=!Ct),Ct&&Ei([h],!0),J.done(function(){Ct||Ei([h]),ge.remove(h,"fxshow");for(w in we)v.style(h,w,we[w])})),L=h1(Ct?ft[w]:0,w,J),w in ft||(ft[w]=L.start,Ct&&(L.end=L.start,L.start=0))}}function k$(h,p){var b,w,S,C,k;for(b in h)if(w=He(b),S=p[w],C=h[b],Array.isArray(C)&&(S=C[1],C=h[b]=C[0]),b!==w&&(h[w]=C,delete h[b]),k=v.cssHooks[w],k&&"expand"in k){C=k.expand(C),delete h[w];for(b in C)b in h||(h[b]=C[b],p[b]=S)}else p[w]=S}function dr(h,p,b){var w,S,C=0,k=dr.prefilters.length,B=v.Deferred().always(function(){delete L.elem}),L=function(){if(S)return!1;for(var fe=ja||f1(),J=Math.max(0,Q.startTime+Q.duration-fe),we=J/Q.duration||0,rt=1-we,Ct=0,ft=Q.tweens.length;Ct<ft;Ct++)Q.tweens[Ct].run(rt);return B.notifyWith(h,[Q,rt,J]),rt<1&&ft?J:(ft||B.notifyWith(h,[Q,1,0]),B.resolveWith(h,[Q]),!1)},Q=B.promise({elem:h,props:v.extend({},p),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},b),originalProperties:p,originalOptions:b,startTime:ja||f1(),duration:b.duration,tweens:[],createTween:function(fe,J){var we=v.Tween(h,Q.opts,fe,J,Q.opts.specialEasing[fe]||Q.opts.easing);return Q.tweens.push(we),we},stop:function(fe){var J=0,we=fe?Q.tweens.length:0;if(S)return this;for(S=!0;J<we;J++)Q.tweens[J].run(1);return fe?(B.notifyWith(h,[Q,1,0]),B.resolveWith(h,[Q,fe])):B.rejectWith(h,[Q,fe]),this}}),ie=Q.props;for(k$(ie,Q.opts.specialEasing);C<k;C++)if(w=dr.prefilters[C].call(Q,h,ie,Q.opts),w)return y(w.stop)&&(v._queueHooks(Q.elem,Q.opts.queue).stop=w.stop.bind(w)),w;return v.map(ie,h1,Q),y(Q.opts.start)&&Q.opts.start.call(h,Q),Q.progress(Q.opts.progress).done(Q.opts.done,Q.opts.complete).fail(Q.opts.fail).always(Q.opts.always),v.fx.timer(v.extend(L,{elem:h,anim:Q,queue:Q.opts.queue})),Q}v.Animation=v.extend(dr,{tweeners:{"*":[function(h,p){var b=this.createTween(h,p);return _t(b.elem,h,xn.exec(p),b),b}]},tweener:function(h,p){y(h)?(p=h,h=["*"]):h=h.match(De);for(var b,w=0,S=h.length;w<S;w++)b=h[w],dr.tweeners[b]=dr.tweeners[b]||[],dr.tweeners[b].unshift(p)},prefilters:[A$],prefilter:function(h,p){p?dr.prefilters.unshift(h):dr.prefilters.push(h)}}),v.speed=function(h,p,b){var w=h&&typeof h=="object"?v.extend({},h):{complete:b||!b&&p||y(h)&&h,duration:h,easing:b&&p||p&&!y(p)&&p};return v.fx.off?w.duration=0:typeof w.duration!="number"&&(w.duration in v.fx.speeds?w.duration=v.fx.speeds[w.duration]:w.duration=v.fx.speeds._default),(w.queue==null||w.queue===!0)&&(w.queue="fx"),w.old=w.complete,w.complete=function(){y(w.old)&&w.old.call(this),w.queue&&v.dequeue(this,w.queue)},w},v.fn.extend({fadeTo:function(h,p,b,w){return this.filter(vt).css("opacity",0).show().end().animate({opacity:p},h,b,w)},animate:function(h,p,b,w){var S=v.isEmptyObject(h),C=v.speed(p,b,w),k=function(){var B=dr(this,v.extend({},h),C);(S||ge.get(this,"finish"))&&B.stop(!0)};return k.finish=k,S||C.queue===!1?this.each(k):this.queue(C.queue,k)},stop:function(h,p,b){var w=function(S){var C=S.stop;delete S.stop,C(b)};return typeof h!="string"&&(b=p,p=h,h=void 0),p&&this.queue(h||"fx",[]),this.each(function(){var S=!0,C=h!=null&&h+"queueHooks",k=v.timers,B=ge.get(this);if(C)B[C]&&B[C].stop&&w(B[C]);else for(C in B)B[C]&&B[C].stop&&T$.test(C)&&w(B[C]);for(C=k.length;C--;)k[C].elem===this&&(h==null||k[C].queue===h)&&(k[C].anim.stop(b),S=!1,k.splice(C,1));(S||!b)&&v.dequeue(this,h)})},finish:function(h){return h!==!1&&(h=h||"fx"),this.each(function(){var p,b=ge.get(this),w=b[h+"queue"],S=b[h+"queueHooks"],C=v.timers,k=w?w.length:0;for(b.finish=!0,v.queue(this,h,[]),S&&S.stop&&S.stop.call(this,!0),p=C.length;p--;)C[p].elem===this&&C[p].queue===h&&(C[p].anim.stop(!0),C.splice(p,1));for(p=0;p<k;p++)w[p]&&w[p].finish&&w[p].finish.call(this);delete b.finish})}}),v.each(["toggle","show","hide"],function(h,p){var b=v.fn[p];v.fn[p]=function(w,S,C){return w==null||typeof w=="boolean"?b.apply(this,arguments):this.animate(Df(p,!0),w,S,C)}}),v.each({slideDown:Df("show"),slideUp:Df("hide"),slideToggle:Df("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(h,p){v.fn[h]=function(b,w,S){return this.animate(p,b,w,S)}}),v.timers=[],v.fx.tick=function(){var h,p=0,b=v.timers;for(ja=Date.now();p<b.length;p++)h=b[p],!h()&&b[p]===h&&b.splice(p--,1);b.length||v.fx.stop(),ja=void 0},v.fx.timer=function(h){v.timers.push(h),v.fx.start()},v.fx.interval=13,v.fx.start=function(){Ef||(Ef=!0,lm())},v.fx.stop=function(){Ef=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(h,p){return h=v.fx&&v.fx.speeds[h]||h,p=p||"fx",this.queue(p,function(b,w){var S=e.setTimeout(b,h);w.stop=function(){e.clearTimeout(S)}})},function(){var h=_.createElement("input"),p=_.createElement("select"),b=p.appendChild(_.createElement("option"));h.type="checkbox",g.checkOn=h.value!=="",g.optSelected=b.selected,h=_.createElement("input"),h.value="t",h.type="radio",g.radioValue=h.value==="t"}();var d1,xc=v.expr.attrHandle;v.fn.extend({attr:function(h,p){return Se(this,v.attr,h,p,arguments.length>1)},removeAttr:function(h){return this.each(function(){v.removeAttr(this,h)})}}),v.extend({attr:function(h,p,b){var w,S,C=h.nodeType;if(!(C===3||C===8||C===2)){if(typeof h.getAttribute>"u")return v.prop(h,p,b);if((C!==1||!v.isXMLDoc(h))&&(S=v.attrHooks[p.toLowerCase()]||(v.expr.match.bool.test(p)?d1:void 0)),b!==void 0){if(b===null){v.removeAttr(h,p);return}return S&&"set"in S&&(w=S.set(h,b,p))!==void 0?w:(h.setAttribute(p,b+""),b)}return S&&"get"in S&&(w=S.get(h,p))!==null?w:(w=v.find.attr(h,p),w??void 0)}},attrHooks:{type:{set:function(h,p){if(!g.radioValue&&p==="radio"&&G(h,"input")){var b=h.value;return h.setAttribute("type",p),b&&(h.value=b),p}}}},removeAttr:function(h,p){var b,w=0,S=p&&p.match(De);if(S&&h.nodeType===1)for(;b=S[w++];)h.removeAttribute(b)}}),d1={set:function(h,p,b){return p===!1?v.removeAttr(h,b):h.setAttribute(b,b),b}},v.each(v.expr.match.bool.source.match(/\w+/g),function(h,p){var b=xc[p]||v.find.attr;xc[p]=function(w,S,C){var k,B,L=S.toLowerCase();return C||(B=xc[L],xc[L]=k,k=b(w,S,C)!=null?L:null,xc[L]=B),k}});var E$=/^(?:input|select|textarea|button)$/i,D$=/^(?:a|area)$/i;v.fn.extend({prop:function(h,p){return Se(this,v.prop,h,p,arguments.length>1)},removeProp:function(h){return this.each(function(){delete this[v.propFix[h]||h]})}}),v.extend({prop:function(h,p,b){var w,S,C=h.nodeType;if(!(C===3||C===8||C===2))return(C!==1||!v.isXMLDoc(h))&&(p=v.propFix[p]||p,S=v.propHooks[p]),b!==void 0?S&&"set"in S&&(w=S.set(h,b,p))!==void 0?w:h[p]=b:S&&"get"in S&&(w=S.get(h,p))!==null?w:h[p]},propHooks:{tabIndex:{get:function(h){var p=v.find.attr(h,"tabindex");return p?parseInt(p,10):E$.test(h.nodeName)||D$.test(h.nodeName)&&h.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(v.propHooks.selected={get:function(h){var p=h.parentNode;return p&&p.parentNode&&p.parentNode.selectedIndex,null},set:function(h){var p=h.parentNode;p&&(p.selectedIndex,p.parentNode&&p.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});function jo(h){var p=h.match(De)||[];return p.join(" ")}function Vo(h){return h.getAttribute&&h.getAttribute("class")||""}function cm(h){return Array.isArray(h)?h:typeof h=="string"?h.match(De)||[]:[]}v.fn.extend({addClass:function(h){var p,b,w,S,C,k;return y(h)?this.each(function(B){v(this).addClass(h.call(this,B,Vo(this)))}):(p=cm(h),p.length?this.each(function(){if(w=Vo(this),b=this.nodeType===1&&" "+jo(w)+" ",b){for(C=0;C<p.length;C++)S=p[C],b.indexOf(" "+S+" ")<0&&(b+=S+" ");k=jo(b),w!==k&&this.setAttribute("class",k)}}):this)},removeClass:function(h){var p,b,w,S,C,k;return y(h)?this.each(function(B){v(this).removeClass(h.call(this,B,Vo(this)))}):arguments.length?(p=cm(h),p.length?this.each(function(){if(w=Vo(this),b=this.nodeType===1&&" "+jo(w)+" ",b){for(C=0;C<p.length;C++)for(S=p[C];b.indexOf(" "+S+" ")>-1;)b=b.replace(" "+S+" "," ");k=jo(b),w!==k&&this.setAttribute("class",k)}}):this):this.attr("class","")},toggleClass:function(h,p){var b,w,S,C,k=typeof h,B=k==="string"||Array.isArray(h);return y(h)?this.each(function(L){v(this).toggleClass(h.call(this,L,Vo(this),p),p)}):typeof p=="boolean"&&B?p?this.addClass(h):this.removeClass(h):(b=cm(h),this.each(function(){if(B)for(C=v(this),S=0;S<b.length;S++)w=b[S],C.hasClass(w)?C.removeClass(w):C.addClass(w);else(h===void 0||k==="boolean")&&(w=Vo(this),w&&ge.set(this,"__className__",w),this.setAttribute&&this.setAttribute("class",w||h===!1?"":ge.get(this,"__className__")||""))}))},hasClass:function(h){var p,b,w=0;for(p=" "+h+" ";b=this[w++];)if(b.nodeType===1&&(" "+jo(Vo(b))+" ").indexOf(p)>-1)return!0;return!1}});var R$=/\r/g;v.fn.extend({val:function(h){var p,b,w,S=this[0];return arguments.length?(w=y(h),this.each(function(C){var k;this.nodeType===1&&(w?k=h.call(this,C,v(this).val()):k=h,k==null?k="":typeof k=="number"?k+="":Array.isArray(k)&&(k=v.map(k,function(B){return B==null?"":B+""})),p=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],(!p||!("set"in p)||p.set(this,k,"value")===void 0)&&(this.value=k))})):S?(p=v.valHooks[S.type]||v.valHooks[S.nodeName.toLowerCase()],p&&"get"in p&&(b=p.get(S,"value"))!==void 0?b:(b=S.value,typeof b=="string"?b.replace(R$,""):b??"")):void 0}}),v.extend({valHooks:{option:{get:function(h){var p=v.find.attr(h,"value");return p??jo(v.text(h))}},select:{get:function(h){var p,b,w,S=h.options,C=h.selectedIndex,k=h.type==="select-one",B=k?null:[],L=k?C+1:S.length;for(C<0?w=L:w=k?C:0;w<L;w++)if(b=S[w],(b.selected||w===C)&&!b.disabled&&(!b.parentNode.disabled||!G(b.parentNode,"optgroup"))){if(p=v(b).val(),k)return p;B.push(p)}return B},set:function(h,p){for(var b,w,S=h.options,C=v.makeArray(p),k=S.length;k--;)w=S[k],(w.selected=v.inArray(v.valHooks.option.get(w),C)>-1)&&(b=!0);return b||(h.selectedIndex=-1),C}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(h,p){if(Array.isArray(p))return h.checked=v.inArray(v(h).val(),p)>-1}},g.checkOn||(v.valHooks[this].get=function(h){return h.getAttribute("value")===null?"on":h.value})});var wc=e.location,p1={guid:Date.now()},um=/\?/;v.parseXML=function(h){var p,b;if(!h||typeof h!="string")return null;try{p=new e.DOMParser().parseFromString(h,"text/xml")}catch{}return b=p&&p.getElementsByTagName("parsererror")[0],(!p||b)&&v.error("Invalid XML: "+(b?v.map(b.childNodes,function(w){return w.textContent}).join(`
`):h)),p};var m1=/^(?:focusinfocus|focusoutblur)$/,g1=function(h){h.stopPropagation()};v.extend(v.event,{trigger:function(h,p,b,w){var S,C,k,B,L,Q,ie,fe,J=[b||_],we=f.call(h,"type")?h.type:h,rt=f.call(h,"namespace")?h.namespace.split("."):[];if(C=fe=k=b=b||_,!(b.nodeType===3||b.nodeType===8)&&!m1.test(we+v.event.triggered)&&(we.indexOf(".")>-1&&(rt=we.split("."),we=rt.shift(),rt.sort()),L=we.indexOf(":")<0&&"on"+we,h=h[v.expando]?h:new v.Event(we,typeof h=="object"&&h),h.isTrigger=w?2:3,h.namespace=rt.join("."),h.rnamespace=h.namespace?new RegExp("(^|\\.)"+rt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h.result=void 0,h.target||(h.target=b),p=p==null?[h]:v.makeArray(p,[h]),ie=v.event.special[we]||{},!(!w&&ie.trigger&&ie.trigger.apply(b,p)===!1))){if(!w&&!ie.noBubble&&!O(b)){for(B=ie.delegateType||we,m1.test(B+we)||(C=C.parentNode);C;C=C.parentNode)J.push(C),k=C;k===(b.ownerDocument||_)&&J.push(k.defaultView||k.parentWindow||e)}for(S=0;(C=J[S++])&&!h.isPropagationStopped();)fe=C,h.type=S>1?B:ie.bindType||we,Q=(ge.get(C,"events")||Object.create(null))[h.type]&&ge.get(C,"handle"),Q&&Q.apply(C,p),Q=L&&C[L],Q&&Q.apply&&Ae(C)&&(h.result=Q.apply(C,p),h.result===!1&&h.preventDefault());return h.type=we,!w&&!h.isDefaultPrevented()&&(!ie._default||ie._default.apply(J.pop(),p)===!1)&&Ae(b)&&L&&y(b[we])&&!O(b)&&(k=b[L],k&&(b[L]=null),v.event.triggered=we,h.isPropagationStopped()&&fe.addEventListener(we,g1),b[we](),h.isPropagationStopped()&&fe.removeEventListener(we,g1),v.event.triggered=void 0,k&&(b[L]=k)),h.result}},simulate:function(h,p,b){var w=v.extend(new v.Event,b,{type:h,isSimulated:!0});v.event.trigger(w,null,p)}}),v.fn.extend({trigger:function(h,p){return this.each(function(){v.event.trigger(h,p,this)})},triggerHandler:function(h,p){var b=this[0];if(b)return v.event.trigger(h,p,b,!0)}});var $$=/\[\]$/,v1=/\r?\n/g,P$=/^(?:submit|button|image|reset|file)$/i,M$=/^(?:input|select|textarea|keygen)/i;function fm(h,p,b,w){var S;if(Array.isArray(p))v.each(p,function(C,k){b||$$.test(h)?w(h,k):fm(h+"["+(typeof k=="object"&&k!=null?C:"")+"]",k,b,w)});else if(!b&&T(p)==="object")for(S in p)fm(h+"["+S+"]",p[S],b,w);else w(h,p)}v.param=function(h,p){var b,w=[],S=function(C,k){var B=y(k)?k():k;w[w.length]=encodeURIComponent(C)+"="+encodeURIComponent(B??"")};if(h==null)return"";if(Array.isArray(h)||h.jquery&&!v.isPlainObject(h))v.each(h,function(){S(this.name,this.value)});else for(b in h)fm(b,h[b],p,S);return w.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var h=v.prop(this,"elements");return h?v.makeArray(h):this}).filter(function(){var h=this.type;return this.name&&!v(this).is(":disabled")&&M$.test(this.nodeName)&&!P$.test(h)&&(this.checked||!zs.test(h))}).map(function(h,p){var b=v(this).val();return b==null?null:Array.isArray(b)?v.map(b,function(w){return{name:p.name,value:w.replace(v1,`\r
`)}}):{name:p.name,value:b.replace(v1,`\r
`)}}).get()}});var L$=/%20/g,N$=/#.*$/,I$=/([?&])_=[^&]*/,F$=/^(.*?):[ \t]*([^\r\n]*)$/mg,B$=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,H$=/^(?:GET|HEAD)$/,j$=/^\/\//,b1={},hm={},y1="*/".concat("*"),dm=_.createElement("a");dm.href=wc.href;function O1(h){return function(p,b){typeof p!="string"&&(b=p,p="*");var w,S=0,C=p.toLowerCase().match(De)||[];if(y(b))for(;w=C[S++];)w[0]==="+"?(w=w.slice(1)||"*",(h[w]=h[w]||[]).unshift(b)):(h[w]=h[w]||[]).push(b)}}function x1(h,p,b,w){var S={},C=h===hm;function k(B){var L;return S[B]=!0,v.each(h[B]||[],function(Q,ie){var fe=ie(p,b,w);if(typeof fe=="string"&&!C&&!S[fe])return p.dataTypes.unshift(fe),k(fe),!1;if(C)return!(L=fe)}),L}return k(p.dataTypes[0])||!S["*"]&&k("*")}function pm(h,p){var b,w,S=v.ajaxSettings.flatOptions||{};for(b in p)p[b]!==void 0&&((S[b]?h:w||(w={}))[b]=p[b]);return w&&v.extend(!0,h,w),h}function V$(h,p,b){for(var w,S,C,k,B=h.contents,L=h.dataTypes;L[0]==="*";)L.shift(),w===void 0&&(w=h.mimeType||p.getResponseHeader("Content-Type"));if(w){for(S in B)if(B[S]&&B[S].test(w)){L.unshift(S);break}}if(L[0]in b)C=L[0];else{for(S in b){if(!L[0]||h.converters[S+" "+L[0]]){C=S;break}k||(k=S)}C=C||k}if(C)return C!==L[0]&&L.unshift(C),b[C]}function Q$(h,p,b,w){var S,C,k,B,L,Q={},ie=h.dataTypes.slice();if(ie[1])for(k in h.converters)Q[k.toLowerCase()]=h.converters[k];for(C=ie.shift();C;)if(h.responseFields[C]&&(b[h.responseFields[C]]=p),!L&&w&&h.dataFilter&&(p=h.dataFilter(p,h.dataType)),L=C,C=ie.shift(),C){if(C==="*")C=L;else if(L!=="*"&&L!==C){if(k=Q[L+" "+C]||Q["* "+C],!k){for(S in Q)if(B=S.split(" "),B[1]===C&&(k=Q[L+" "+B[0]]||Q["* "+B[0]],k)){k===!0?k=Q[S]:Q[S]!==!0&&(C=B[0],ie.unshift(B[1]));break}}if(k!==!0)if(k&&h.throws)p=k(p);else try{p=k(p)}catch(fe){return{state:"parsererror",error:k?fe:"No conversion from "+L+" to "+C}}}}return{state:"success",data:p}}v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wc.href,type:"GET",isLocal:B$.test(wc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":y1,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(h,p){return p?pm(pm(h,v.ajaxSettings),p):pm(v.ajaxSettings,h)},ajaxPrefilter:O1(b1),ajaxTransport:O1(hm),ajax:function(h,p){typeof h=="object"&&(p=h,h=void 0),p=p||{};var b,w,S,C,k,B,L,Q,ie,fe,J=v.ajaxSetup({},p),we=J.context||J,rt=J.context&&(we.nodeType||we.jquery)?v(we):v.event,Ct=v.Deferred(),ft=v.Callbacks("once memory"),Pn=J.statusCode||{},gn={},Pr={},Mr="canceled",St={readyState:0,getResponseHeader:function(Dt){var rn;if(L){if(!C)for(C={};rn=F$.exec(S);)C[rn[1].toLowerCase()+" "]=(C[rn[1].toLowerCase()+" "]||[]).concat(rn[2]);rn=C[Dt.toLowerCase()+" "]}return rn==null?null:rn.join(", ")},getAllResponseHeaders:function(){return L?S:null},setRequestHeader:function(Dt,rn){return L==null&&(Dt=Pr[Dt.toLowerCase()]=Pr[Dt.toLowerCase()]||Dt,gn[Dt]=rn),this},overrideMimeType:function(Dt){return L==null&&(J.mimeType=Dt),this},statusCode:function(Dt){var rn;if(Dt)if(L)St.always(Dt[St.status]);else for(rn in Dt)Pn[rn]=[Pn[rn],Dt[rn]];return this},abort:function(Dt){var rn=Dt||Mr;return b&&b.abort(rn),Qo(0,rn),this}};if(Ct.promise(St),J.url=((h||J.url||wc.href)+"").replace(j$,wc.protocol+"//"),J.type=p.method||p.type||J.method||J.type,J.dataTypes=(J.dataType||"*").toLowerCase().match(De)||[""],J.crossDomain==null){B=_.createElement("a");try{B.href=J.url,B.href=B.href,J.crossDomain=dm.protocol+"//"+dm.host!=B.protocol+"//"+B.host}catch{J.crossDomain=!0}}if(J.data&&J.processData&&typeof J.data!="string"&&(J.data=v.param(J.data,J.traditional)),x1(b1,J,p,St),L)return St;Q=v.event&&J.global,Q&&v.active++===0&&v.event.trigger("ajaxStart"),J.type=J.type.toUpperCase(),J.hasContent=!H$.test(J.type),w=J.url.replace(N$,""),J.hasContent?J.data&&J.processData&&(J.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(J.data=J.data.replace(L$,"+")):(fe=J.url.slice(w.length),J.data&&(J.processData||typeof J.data=="string")&&(w+=(um.test(w)?"&":"?")+J.data,delete J.data),J.cache===!1&&(w=w.replace(I$,"$1"),fe=(um.test(w)?"&":"?")+"_="+p1.guid+++fe),J.url=w+fe),J.ifModified&&(v.lastModified[w]&&St.setRequestHeader("If-Modified-Since",v.lastModified[w]),v.etag[w]&&St.setRequestHeader("If-None-Match",v.etag[w])),(J.data&&J.hasContent&&J.contentType!==!1||p.contentType)&&St.setRequestHeader("Content-Type",J.contentType),St.setRequestHeader("Accept",J.dataTypes[0]&&J.accepts[J.dataTypes[0]]?J.accepts[J.dataTypes[0]]+(J.dataTypes[0]!=="*"?", "+y1+"; q=0.01":""):J.accepts["*"]);for(ie in J.headers)St.setRequestHeader(ie,J.headers[ie]);if(J.beforeSend&&(J.beforeSend.call(we,St,J)===!1||L))return St.abort();if(Mr="abort",ft.add(J.complete),St.done(J.success),St.fail(J.error),b=x1(hm,J,p,St),!b)Qo(-1,"No Transport");else{if(St.readyState=1,Q&&rt.trigger("ajaxSend",[St,J]),L)return St;J.async&&J.timeout>0&&(k=e.setTimeout(function(){St.abort("timeout")},J.timeout));try{L=!1,b.send(gn,Qo)}catch(Dt){if(L)throw Dt;Qo(-1,Dt)}}function Qo(Dt,rn,Sc,gm){var Lr,Cc,Nr,Ws,qs,Yi=rn;L||(L=!0,k&&e.clearTimeout(k),b=void 0,S=gm||"",St.readyState=Dt>0?4:0,Lr=Dt>=200&&Dt<300||Dt===304,Sc&&(Ws=V$(J,St,Sc)),!Lr&&v.inArray("script",J.dataTypes)>-1&&v.inArray("json",J.dataTypes)<0&&(J.converters["text script"]=function(){}),Ws=Q$(J,Ws,St,Lr),Lr?(J.ifModified&&(qs=St.getResponseHeader("Last-Modified"),qs&&(v.lastModified[w]=qs),qs=St.getResponseHeader("etag"),qs&&(v.etag[w]=qs)),Dt===204||J.type==="HEAD"?Yi="nocontent":Dt===304?Yi="notmodified":(Yi=Ws.state,Cc=Ws.data,Nr=Ws.error,Lr=!Nr)):(Nr=Yi,(Dt||!Yi)&&(Yi="error",Dt<0&&(Dt=0))),St.status=Dt,St.statusText=(rn||Yi)+"",Lr?Ct.resolveWith(we,[Cc,Yi,St]):Ct.rejectWith(we,[St,Yi,Nr]),St.statusCode(Pn),Pn=void 0,Q&&rt.trigger(Lr?"ajaxSuccess":"ajaxError",[St,J,Lr?Cc:Nr]),ft.fireWith(we,[St,Yi]),Q&&(rt.trigger("ajaxComplete",[St,J]),--v.active||v.event.trigger("ajaxStop")))}return St},getJSON:function(h,p,b){return v.get(h,p,b,"json")},getScript:function(h,p){return v.get(h,void 0,p,"script")}}),v.each(["get","post"],function(h,p){v[p]=function(b,w,S,C){return y(w)&&(C=C||S,S=w,w=void 0),v.ajax(v.extend({url:b,type:p,dataType:C,data:w,success:S},v.isPlainObject(b)&&b))}}),v.ajaxPrefilter(function(h){var p;for(p in h.headers)p.toLowerCase()==="content-type"&&(h.contentType=h.headers[p]||"")}),v._evalUrl=function(h,p,b){return v.ajax({url:h,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(w){v.globalEval(w,p,b)}})},v.fn.extend({wrapAll:function(h){var p;return this[0]&&(y(h)&&(h=h.call(this[0])),p=v(h,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&p.insertBefore(this[0]),p.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this},wrapInner:function(h){return y(h)?this.each(function(p){v(this).wrapInner(h.call(this,p))}):this.each(function(){var p=v(this),b=p.contents();b.length?b.wrapAll(h):p.append(h)})},wrap:function(h){var p=y(h);return this.each(function(b){v(this).wrapAll(p?h.call(this,b):h)})},unwrap:function(h){return this.parent(h).not("body").each(function(){v(this).replaceWith(this.childNodes)}),this}}),v.expr.pseudos.hidden=function(h){return!v.expr.pseudos.visible(h)},v.expr.pseudos.visible=function(h){return!!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var z$={0:200,1223:204},_c=v.ajaxSettings.xhr();g.cors=!!_c&&"withCredentials"in _c,g.ajax=_c=!!_c,v.ajaxTransport(function(h){var p,b;if(g.cors||_c&&!h.crossDomain)return{send:function(w,S){var C,k=h.xhr();if(k.open(h.type,h.url,h.async,h.username,h.password),h.xhrFields)for(C in h.xhrFields)k[C]=h.xhrFields[C];h.mimeType&&k.overrideMimeType&&k.overrideMimeType(h.mimeType),!h.crossDomain&&!w["X-Requested-With"]&&(w["X-Requested-With"]="XMLHttpRequest");for(C in w)k.setRequestHeader(C,w[C]);p=function(B){return function(){p&&(p=b=k.onload=k.onerror=k.onabort=k.ontimeout=k.onreadystatechange=null,B==="abort"?k.abort():B==="error"?typeof k.status!="number"?S(0,"error"):S(k.status,k.statusText):S(z$[k.status]||k.status,k.statusText,(k.responseType||"text")!=="text"||typeof k.responseText!="string"?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}},k.onload=p(),b=k.onerror=k.ontimeout=p("error"),k.onabort!==void 0?k.onabort=b:k.onreadystatechange=function(){k.readyState===4&&e.setTimeout(function(){p&&b()})},p=p("abort");try{k.send(h.hasContent&&h.data||null)}catch(B){if(p)throw B}},abort:function(){p&&p()}}}),v.ajaxPrefilter(function(h){h.crossDomain&&(h.contents.script=!1)}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(h){return v.globalEval(h),h}}}),v.ajaxPrefilter("script",function(h){h.cache===void 0&&(h.cache=!1),h.crossDomain&&(h.type="GET")}),v.ajaxTransport("script",function(h){if(h.crossDomain||h.scriptAttrs){var p,b;return{send:function(w,S){p=v("<script>").attr(h.scriptAttrs||{}).prop({charset:h.scriptCharset,src:h.url}).on("load error",b=function(C){p.remove(),b=null,C&&S(C.type==="error"?404:200,C.type)}),_.head.appendChild(p[0])},abort:function(){b&&b()}}}});var w1=[],mm=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var h=w1.pop()||v.expando+"_"+p1.guid++;return this[h]=!0,h}}),v.ajaxPrefilter("json jsonp",function(h,p,b){var w,S,C,k=h.jsonp!==!1&&(mm.test(h.url)?"url":typeof h.data=="string"&&(h.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&mm.test(h.data)&&"data");if(k||h.dataTypes[0]==="jsonp")return w=h.jsonpCallback=y(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,k?h[k]=h[k].replace(mm,"$1"+w):h.jsonp!==!1&&(h.url+=(um.test(h.url)?"&":"?")+h.jsonp+"="+w),h.converters["script json"]=function(){return C||v.error(w+" was not called"),C[0]},h.dataTypes[0]="json",S=e[w],e[w]=function(){C=arguments},b.always(function(){S===void 0?v(e).removeProp(w):e[w]=S,h[w]&&(h.jsonpCallback=p.jsonpCallback,w1.push(w)),C&&y(S)&&S(C[0]),C=S=void 0}),"script"}),g.createHTMLDocument=function(){var h=_.implementation.createHTMLDocument("").body;return h.innerHTML="<form></form><form></form>",h.childNodes.length===2}(),v.parseHTML=function(h,p,b){if(typeof h!="string")return[];typeof p=="boolean"&&(b=p,p=!1);var w,S,C;return p||(g.createHTMLDocument?(p=_.implementation.createHTMLDocument(""),w=p.createElement("base"),w.href=_.location.href,p.head.appendChild(w)):p=_),S=nt.exec(h),C=!b&&[],S?[p.createElement(S[1])]:(S=Ho([h],p,C),C&&C.length&&v(C).remove(),v.merge([],S.childNodes))},v.fn.load=function(h,p,b){var w,S,C,k=this,B=h.indexOf(" ");return B>-1&&(w=jo(h.slice(B)),h=h.slice(0,B)),y(p)?(b=p,p=void 0):p&&typeof p=="object"&&(S="POST"),k.length>0&&v.ajax({url:h,type:S||"GET",dataType:"html",data:p}).done(function(L){C=arguments,k.html(w?v("<div>").append(v.parseHTML(L)).find(w):L)}).always(b&&function(L,Q){k.each(function(){b.apply(this,C||[L.responseText,Q,L])})}),this},v.expr.pseudos.animated=function(h){return v.grep(v.timers,function(p){return h===p.elem}).length},v.offset={setOffset:function(h,p,b){var w,S,C,k,B,L,Q,ie=v.css(h,"position"),fe=v(h),J={};ie==="static"&&(h.style.position="relative"),B=fe.offset(),C=v.css(h,"top"),L=v.css(h,"left"),Q=(ie==="absolute"||ie==="fixed")&&(C+L).indexOf("auto")>-1,Q?(w=fe.position(),k=w.top,S=w.left):(k=parseFloat(C)||0,S=parseFloat(L)||0),y(p)&&(p=p.call(h,b,v.extend({},B))),p.top!=null&&(J.top=p.top-B.top+k),p.left!=null&&(J.left=p.left-B.left+S),"using"in p?p.using.call(h,J):fe.css(J)}},v.fn.extend({offset:function(h){if(arguments.length)return h===void 0?this:this.each(function(S){v.offset.setOffset(this,h,S)});var p,b,w=this[0];if(w)return w.getClientRects().length?(p=w.getBoundingClientRect(),b=w.ownerDocument.defaultView,{top:p.top+b.pageYOffset,left:p.left+b.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var h,p,b,w=this[0],S={top:0,left:0};if(v.css(w,"position")==="fixed")p=w.getBoundingClientRect();else{for(p=this.offset(),b=w.ownerDocument,h=w.offsetParent||b.documentElement;h&&(h===b.body||h===b.documentElement)&&v.css(h,"position")==="static";)h=h.parentNode;h&&h!==w&&h.nodeType===1&&(S=v(h).offset(),S.top+=v.css(h,"borderTopWidth",!0),S.left+=v.css(h,"borderLeftWidth",!0))}return{top:p.top-S.top-v.css(w,"marginTop",!0),left:p.left-S.left-v.css(w,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var h=this.offsetParent;h&&v.css(h,"position")==="static";)h=h.offsetParent;return h||se})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(h,p){var b=p==="pageYOffset";v.fn[h]=function(w){return Se(this,function(S,C,k){var B;if(O(S)?B=S:S.nodeType===9&&(B=S.defaultView),k===void 0)return B?B[p]:S[C];B?B.scrollTo(b?B.pageXOffset:k,b?k:B.pageYOffset):S[C]=k},h,w,arguments.length)}}),v.each(["top","left"],function(h,p){v.cssHooks[p]=r1(g.pixelPosition,function(b,w){if(w)return w=Oc(b,p),rm.test(w)?v(b).position()[p]+"px":w})}),v.each({Height:"height",Width:"width"},function(h,p){v.each({padding:"inner"+h,content:p,"":"outer"+h},function(b,w){v.fn[w]=function(S,C){var k=arguments.length&&(b||typeof S!="boolean"),B=b||(S===!0||C===!0?"margin":"border");return Se(this,function(L,Q,ie){var fe;return O(L)?w.indexOf("outer")===0?L["inner"+h]:L.document.documentElement["client"+h]:L.nodeType===9?(fe=L.documentElement,Math.max(L.body["scroll"+h],fe["scroll"+h],L.body["offset"+h],fe["offset"+h],fe["client"+h])):ie===void 0?v.css(L,Q,B):v.style(L,Q,ie,B)},p,k?S:void 0,k)}})}),v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(h,p){v.fn[p]=function(b){return this.on(p,b)}}),v.fn.extend({bind:function(h,p,b){return this.on(h,null,p,b)},unbind:function(h,p){return this.off(h,null,p)},delegate:function(h,p,b,w){return this.on(p,h,b,w)},undelegate:function(h,p,b){return arguments.length===1?this.off(h,"**"):this.off(p,h||"**",b)},hover:function(h,p){return this.on("mouseenter",h).on("mouseleave",p||h)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(h,p){v.fn[p]=function(b,w){return arguments.length>0?this.on(p,null,b,w):this.trigger(p)}});var W$=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;v.proxy=function(h,p){var b,w,S;if(typeof p=="string"&&(b=h[p],p=h,h=b),!!y(h))return w=s.call(arguments,2),S=function(){return h.apply(p||this,w.concat(s.call(arguments)))},S.guid=h.guid=h.guid||v.guid++,S},v.holdReady=function(h){h?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=G,v.isFunction=y,v.isWindow=O,v.camelCase=He,v.type=T,v.now=Date.now,v.isNumeric=function(h){var p=v.type(h);return(p==="number"||p==="string")&&!isNaN(h-parseFloat(h))},v.trim=function(h){return h==null?"":(h+"").replace(W$,"$1")};var q$=e.jQuery,U$=e.$;return v.noConflict=function(h){return e.$===v&&(e.$=U$),h&&e.jQuery===v&&(e.jQuery=q$),v},typeof n>"u"&&(e.jQuery=e.$=v),v})}(zh)),zh.exports}var Lee=Mee();const BR=EC(Lee);/*! DataTables 2.2.2
 * © SpryMedia Ltd - datatables.net/license
 */var D=BR,me=function(t,e){if(me.factory(t,e))return me;if(this instanceof me)return D(t).DataTable(e);e=t;var n=this,i=e===void 0,r=this.length;return i&&(e={}),this.api=function(){return new xt(this)},this.each(function(){var s={},o=r>1?fS(s,e,!0):e,a=0,l,c=this.getAttribute("id"),u=me.defaults,f=D(this);if(this.nodeName.toLowerCase()!="table"){tr(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}D(this).trigger("options.dt",o),iS(u),QR(u.column),po(u,u,!0),po(u.column,u.column,!0),po(u,D.extend(o,f.data()),!0);var d=me.settings;for(a=0,l=d.length;a<l;a++){var m=d[a];if(m.nTable==this||m.nTHead&&m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){var g=o.bRetrieve!==void 0?o.bRetrieve:u.bRetrieve,y=o.bDestroy!==void 0?o.bDestroy:u.bDestroy;if(i||g)return m.oInstance;if(y){new me.Api(m).destroy();break}else{tr(m,0,"Cannot reinitialise DataTable",3);return}}if(m.sTableId==this.id){d.splice(a,1);break}}(c===null||c==="")&&(c="DataTables_Table_"+me.ext._unique++,this.id=c);var O=D.extend(!0,{},me.models.oSettings,{sDestroyWidth:f[0].style.width,sInstance:c,sTableId:c,colgroup:D("<colgroup>").prependTo(this),fastData:function(W,V,te){return hr(O,W,V,te)}});O.nTable=this,O.oInit=o,d.push(O),O.api=new xt(O),O.oInstance=n.length===1?n:f.dataTable(),iS(o),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=Array.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:D.isPlainObject(o.aLengthMenu[0])?o.aLengthMenu[0].value:o.aLengthMenu[0]),o=fS(D.extend(!0,{},u),o),go(O.oFeatures,o,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),go(O,o,["ajax","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","iStateDuration","bSortCellsTop","iTabIndex","sDom","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId","caption","layout","orderDescReverse","typeDetect",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),go(O.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),go(O.oLanguage,o,"fnInfoCallback"),Ki(O,"aoDrawCallback",o.fnDrawCallback),Ki(O,"aoStateSaveParams",o.fnStateSaveParams),Ki(O,"aoStateLoadParams",o.fnStateLoadParams),Ki(O,"aoStateLoaded",o.fnStateLoaded),Ki(O,"aoRowCallback",o.fnRowCallback),Ki(O,"aoRowCreatedCallback",o.fnCreatedRow),Ki(O,"aoHeaderCallback",o.fnHeaderCallback),Ki(O,"aoFooterCallback",o.fnFooterCallback),Ki(O,"aoInitComplete",o.fnInitComplete),Ki(O,"aoPreDrawCallback",o.fnPreDrawCallback),O.rowIdFn=ic(o.rowId),jee(O);var _=O.oClasses;D.extend(_,me.ext.classes,o.oClasses),f.addClass(_.table),O.oFeatures.bPaginate||(o.iDisplayStart=0),O.iInitDisplayStart===void 0&&(O.iInitDisplayStart=o.iDisplayStart,O._iDisplayStart=o.iDisplayStart);var A=o.iDeferLoading;if(A!==null){O.deferLoading=!0;var R=Array.isArray(A);O._iRecordsDisplay=R?A[0]:A,O._iRecordsTotal=R?A[1]:A}var T=[],N=this.getElementsByTagName("thead"),I=GR(O,N[0]);if(o.aoColumns)T=o.aoColumns;else if(I.length)for(a=0,l=I[0].length;a<l;a++)T.push(null);for(a=0,l=T.length;a<l;a++)zR(O);zee(O,o.aoColumnDefs,T,I,function(W,V){jb(O,W,V)});var v=f.children("tbody").find("tr").eq(0);if(v.length){var z=function(W,V){return W.getAttribute("data-"+V)!==null?V:null};D(v[0]).children("th, td").each(function(W,V){var te=O.aoColumns[W];if(te||tr(O,0,"Incorrect column count",18),te.mData===W){var be=z(V,"sort")||z(V,"order"),Le=z(V,"filter")||z(V,"search");(be!==null||Le!==null)&&(te.mData={_:W+".display",sort:be!==null?W+".@data-"+be:void 0,type:be!==null?W+".@data-"+be:void 0,filter:Le!==null?W+".@data-"+Le:void 0},te._isArrayHost=!0,jb(O,W))}})}Ki(O,"aoDrawCallback",Jp);var G=O.oFeatures;if(o.bStateSave&&(G.bStateSave=!0),o.aaSorting===void 0){var oe=O.aaSorting;for(a=0,l=oe.length;a<l;a++)oe[a][1]=O.aoColumns[a].asSorting[0]}zb(O),Ki(O,"aoDrawCallback",function(){(O.bSorted||Xi(O)==="ssp"||G.bDeferRender)&&zb(O)});var ve=f.children("caption");O.caption&&(ve.length===0&&(ve=D("<caption/>").appendTo(f)),ve.html(O.caption)),ve.length&&(ve[0]._captionSide=ve.css("caption-side"),O.captionNode=ve[0]),N.length===0&&(N=D("<thead/>").appendTo(f)),O.nTHead=N[0];var ne=f.children("tbody");ne.length===0&&(ne=D("<tbody/>").insertAfter(N)),O.nTBody=ne[0];var X=f.children("tfoot");X.length===0&&(X=D("<tfoot/>").appendTo(f)),O.nTFoot=X[0],O.aiDisplay=O.aiDisplayMaster.slice(),O.bInitialised=!0;var le=O.oLanguage;D.extend(!0,le,o.oLanguage),le.sUrl?D.ajax({dataType:"json",url:le.sUrl,success:function(W){po(u.oLanguage,W),D.extend(!0,le,W,O.oInit.oLanguage),Lt(O,null,"i18n",[O],!0),qh(O)},error:function(){tr(O,0,"i18n file loading error",21),qh(O)}}):(Lt(O,null,"i18n",[O],!0),qh(O))}),n=null,this};me.ext=Cn={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],features:{},search:[],selector:{cell:[],column:[],row:[]},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{className:{},detect:[],render:{},search:{},order:{}},_unique:0,fnVersionCheck:me.fnVersionCheck,iApiIndex:0,sVersion:me.version};D.extend(Cn,{afnFiltering:Cn.search,aTypes:Cn.type.detect,ofnSearch:Cn.type.search,oSort:Cn.type.order,afnSortData:Cn.order,aoFeatures:Cn.feature,oStdClasses:Cn.classes,oPagination:Cn.pager});D.extend(me.ext.classes,{container:"dt-container",empty:{row:"dt-empty"},info:{container:"dt-info"},layout:{row:"dt-layout-row",cell:"dt-layout-cell",tableRow:"dt-layout-table",tableCell:"",start:"dt-layout-start",end:"dt-layout-end",full:"dt-layout-full"},length:{container:"dt-length",select:"dt-input"},order:{canAsc:"dt-orderable-asc",canDesc:"dt-orderable-desc",isAsc:"dt-ordering-asc",isDesc:"dt-ordering-desc",none:"dt-orderable-none",position:"sorting_"},processing:{container:"dt-processing"},scrolling:{body:"dt-scroll-body",container:"dt-scroll",footer:{self:"dt-scroll-foot",inner:"dt-scroll-footInner"},header:{self:"dt-scroll-head",inner:"dt-scroll-headInner"}},search:{container:"dt-search",input:"dt-input"},table:"dataTable",tbody:{cell:"",row:""},thead:{cell:"",row:""},tfoot:{cell:"",row:""},paging:{active:"current",button:"dt-paging-button",container:"dt-paging",disabled:"disabled",nav:""}});var Cn,xt,ze,Vt,Hg={},Nee=/[\r\n\u2028]/g,$0=/<([^>]*>)/g,Iee=Math.pow(2,28),nS=/^\d{2,4}[./-]\d{1,2}[./-]\d{1,2}([T ]{1}\d{1,2}[:.]\d{2}([.:]\d{2})?)?$/,Fee=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),P0=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,Qi=function(t){return!t||t===!0||t==="-"},HR=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},jR=function(t,e){return Hg[e]||(Hg[e]=new RegExp(Qb(e),"g")),typeof t=="string"&&e!=="."?t.replace(/\./g,"").replace(Hg[e],"."):t},Ku=function(t,e,n,i){var r=typeof t,s=r==="string";return r==="number"||r==="bigint"||i&&Qi(t)?!0:(e&&s&&(t=jR(t,e)),n&&s&&(t=t.replace(P0,"")),!isNaN(parseFloat(t))&&isFinite(t))},Bee=function(t){return Qi(t)||typeof t=="string"},Ud=function(t,e,n,i){if(i&&Qi(t))return!0;if(typeof t=="string"&&t.match(/<(input|select)/i))return null;var r=Bee(t);return r&&Ku(Bs(t),e,n,i)?!0:null},Gn=function(t,e,n){var i=[],r=0,s=t.length;if(n!==void 0)for(;r<s;r++)t[r]&&t[r][e]&&i.push(t[r][e][n]);else for(;r<s;r++)t[r]&&i.push(t[r][e]);return i},Sf=function(t,e,n,i){var r=[],s=0,o=e.length;if(i!==void 0)for(;s<o;s++)t[e[s]]&&t[e[s]][n]&&r.push(t[e[s]][n][i]);else for(;s<o;s++)t[e[s]]&&r.push(t[e[s]][n]);return r},oo=function(t,e){var n=[],i;e===void 0?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)n.push(r);return n},VR=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},Bs=function(t){if(!t||typeof t!="string")return t;if(t.length>Iee)throw new Error("Exceeded max str len");var e;t=t.replace($0,"");do e=t,t=t.replace(/<script/i,"");while(t!==e);return e},kl=function(t){return Array.isArray(t)&&(t=t.join(",")),typeof t=="string"?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t},Xd=function(t,e){if(typeof t!="string")return t;var n=t.normalize?t.normalize("NFD"):t;return n.length!==t.length?(e===!0?t+" ":"")+n.replace(/[\u0300-\u036f]/g,""):n},Hee=function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),n=e[0],i=1,r=e.length;i<r;i++){if(e[i]===n)return!1;n=e[i]}return!0},Na=function(t){if(Array.from&&Set)return Array.from(new Set(t));if(Hee(t))return t.slice();var e=[],n,i,r=t.length,s,o=0;e:for(i=0;i<r;i++){for(n=t[i],s=0;s<o;s++)if(e[s]===n)continue e;e.push(n),o++}return e},M0=function(t,e){if(Array.isArray(e))for(var n=0;n<e.length;n++)M0(t,e[n]);else t.push(e);return t};function El(t,e){e&&e.split(" ").forEach(function(n){n&&t.classList.add(n)})}me.util={diacritics:function(t,e){var n=typeof t;if(n!=="function")return Xd(t,e);Xd=t},debounce:function(t,e){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,r)},e||250)}},throttle:function(t,e){var n=e!==void 0?e:200,i,r;return function(){var s=this,o=+new Date,a=arguments;i&&o<i+n?(clearTimeout(r),r=setTimeout(function(){i=void 0,t.apply(s,a)},n)):(i=o,t.apply(s,a))}},escapeRegex:function(t){return t.replace(Fee,"\\$1")},set:function(t){if(D.isPlainObject(t))return me.util.set(t._);if(t===null)return function(){};if(typeof t=="function")return function(n,i,r){t(n,"set",i,r)};if(typeof t=="string"&&(t.indexOf(".")!==-1||t.indexOf("[")!==-1||t.indexOf("(")!==-1)){var e=function(n,i,r){for(var s=sS(r),o,a=s[s.length-1],l,c,u,f,d=0,m=s.length-1;d<m;d++){if(s[d]==="__proto__"||s[d]==="constructor")throw new Error("Cannot set prototype values");if(l=s[d].match(Bc),c=s[d].match(Ka),l){if(s[d]=s[d].replace(Bc,""),n[s[d]]=[],o=s.slice(),o.splice(0,d+1),f=o.join("."),Array.isArray(i))for(var g=0,y=i.length;g<y;g++)u={},e(u,i[g],f),n[s[d]].push(u);else n[s[d]]=i;return}else c&&(s[d]=s[d].replace(Ka,""),n=n[s[d]](i));(n[s[d]]===null||n[s[d]]===void 0)&&(n[s[d]]={}),n=n[s[d]]}a.match(Ka)?n=n[a.replace(Ka,"")](i):n[a.replace(Bc,"")]=i};return function(n,i){return e(n,i,t)}}else return function(n,i){n[t]=i}},get:function(t){if(D.isPlainObject(t)){var e={};return D.each(t,function(i,r){r&&(e[i]=me.util.get(r))}),function(i,r,s,o){var a=e[r]||e._;return a!==void 0?a(i,r,s,o):i}}else{if(t===null)return function(i){return i};if(typeof t=="function")return function(i,r,s,o){return t(i,r,s,o)};if(typeof t=="string"&&(t.indexOf(".")!==-1||t.indexOf("[")!==-1||t.indexOf("(")!==-1)){var n=function(i,r,s){var o,a,l,c;if(s!=="")for(var u=sS(s),f=0,d=u.length;f<d;f++){if(o=u[f].match(Bc),a=u[f].match(Ka),o){if(u[f]=u[f].replace(Bc,""),u[f]!==""&&(i=i[u[f]]),l=[],u.splice(0,f+1),c=u.join("."),Array.isArray(i))for(var m=0,g=i.length;m<g;m++)l.push(n(i[m],r,c));var y=o[0].substring(1,o[0].length-1);i=y===""?l:l.join(y);break}else if(a){u[f]=u[f].replace(Ka,""),i=i[u[f]]();continue}if(i===null||i[u[f]]===null)return null;if(i===void 0||i[u[f]]===void 0)return;i=i[u[f]]}return i};return function(i,r){return n(i,r,t)}}else return function(i){return i[t]}}},stripHtml:function(t){var e=typeof t;if(e==="function"){Bs=t;return}else if(e==="string")return Bs(t);return t},escapeHtml:function(t){var e=typeof t;if(e==="function"){kl=t;return}else if(e==="string"||Array.isArray(t))return kl(t);return t},unique:Na};function Wp(t){var e="a aa ai ao as b fn i m o s ",n,i,r={};D.each(t,function(s){n=s.match(/^([^A-Z]+?)([A-Z])/),n&&e.indexOf(n[1]+" ")!==-1&&(i=s.replace(n[0],n[2].toLowerCase()),r[i]=s,n[1]==="o"&&Wp(t[s]))}),t._hungarianMap=r}function po(t,e,n){t._hungarianMap||Wp(t);var i;D.each(e,function(r){i=t._hungarianMap[r],i!==void 0&&(n||e[i]===void 0)&&(i.charAt(0)==="o"?(e[i]||(e[i]={}),D.extend(!0,e[i],e[r]),po(t[i],e[i],n)):e[i]=e[r])})}var yi=function(t,e,n){t[e]!==void 0&&(t[n]=t[e])};function iS(t){yi(t,"ordering","bSort"),yi(t,"orderMulti","bSortMulti"),yi(t,"orderClasses","bSortClasses"),yi(t,"orderCellsTop","bSortCellsTop"),yi(t,"order","aaSorting"),yi(t,"orderFixed","aaSortingFixed"),yi(t,"paging","bPaginate"),yi(t,"pagingType","sPaginationType"),yi(t,"pageLength","iDisplayLength"),yi(t,"searching","bFilter"),typeof t.sScrollX=="boolean"&&(t.sScrollX=t.sScrollX?"100%":""),typeof t.scrollX=="boolean"&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,i=e.length;n<i;n++)e[n]&&po(me.models.oSearch,e[n]);t.serverSide&&!t.searchDelay&&(t.searchDelay=400)}function QR(t){yi(t,"orderable","bSortable"),yi(t,"orderData","aDataSort"),yi(t,"orderSequence","asSorting"),yi(t,"orderDataType","sortDataType");var e=t.aDataSort;typeof e=="number"&&!Array.isArray(e)&&(t.aDataSort=[e])}function jee(t){if(!me.__browser){var e={};me.__browser=e;var n=D("<div/>").css({position:"fixed",top:0,left:-1*window.pageXOffset,height:1,width:1,overflow:"hidden"}).append(D("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(D("<div/>").css({width:"100%",height:10}))).appendTo("body"),i=n.children(),r=i.children();e.barWidth=i[0].offsetWidth-i[0].clientWidth,e.bScrollbarLeft=Math.round(r.offset().left)!==1,n.remove()}D.extend(t.oBrowser,me.__browser),t.oScroll.iBarWidth=me.__browser.barWidth}function zR(t){var e=me.defaults.column,n=t.aoColumns.length,i=D.extend({},me.models.oColumn,e,{aDataSort:e.aDataSort?e.aDataSort:[n],mData:e.mData?e.mData:n,idx:n,searchFixed:{},colEl:D("<col>").attr("data-dt-column",n)});t.aoColumns.push(i);var r=t.aoPreSearchCols;r[n]=D.extend({},me.models.oSearch,r[n])}function jb(t,e,n){var i=t.aoColumns[e];if(n!=null){QR(n),po(me.defaults.column,n,!0),n.mDataProp!==void 0&&!n.mData&&(n.mData=n.mDataProp),n.sType&&(i._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className);var r=i.sClass;D.extend(i,n),go(i,n,"sWidth","sWidthOrig"),r!==i.sClass&&(i.sClass=r+" "+i.sClass),n.iDataSort!==void 0&&(i.aDataSort=[n.iDataSort]),go(i,n,"aDataSort")}var s=i.mData,o=ic(s);if(i.mRender&&Array.isArray(i.mRender)){var a=i.mRender.slice(),l=a.shift();i.mRender=me.render[l].apply(window,a)}i._render=i.mRender?ic(i.mRender):null;var c=function(u){return typeof u=="string"&&u.indexOf("@")!==-1};i._bAttrSrc=D.isPlainObject(s)&&(c(s.sort)||c(s.type)||c(s.filter)),i._setter=null,i.fnGetData=function(u,f,d){var m=o(u,f,void 0,d);return i._render&&f?i._render(m,f,u,d):m},i.fnSetData=function(u,f,d){return la(s)(u,f,d)},typeof s!="number"&&!i._isArrayHost&&(t._rowReadObject=!0),t.oFeatures.bSort||(i.bSortable=!1)}function qp(t){ste(t),Vee(t);var e=t.oScroll;(e.sY!==""||e.sX!=="")&&e$(t),Lt(t,null,"column-sizing",[t])}function Vee(t){for(var e=t.aoColumns,n=0;n<e.length;n++){var i=WR(t,[n],!1);e[n].colEl.css("width",i),t.oScroll.sX&&e[n].colEl.css("min-width",i)}}function L0(t,e){var n=N0(t,"bVisible");return typeof n[e]=="number"?n[e]:null}function Cf(t,e){var n=N0(t,"bVisible"),i=n.indexOf(e);return i!==-1?i:null}function Up(t){var e=t.aoHeader,n=t.aoColumns,i=0;if(e.length)for(var r=0,s=e[0].length;r<s;r++)n[r].bVisible&&D(e[0][r].cell).css("display")!=="none"&&i++;return i}function N0(t,e){var n=[];return t.aoColumns.map(function(i,r){i[e]&&n.push(r)}),n}function jg(t,e){return e===!0?t._name:e}function Xp(t){var e=t.aoColumns,n=t.aoData,i=me.ext.type.detect,r,s,o,a,l,c,u,f,d;for(r=0,s=e.length;r<s;r++){if(u=e[r],d=[],!u.sType&&u._sManualType)u.sType=u._sManualType;else if(!u.sType){if(!t.typeDetect)return;for(o=0,a=i.length;o<a;o++){var m=i[o],g=m.oneOf,y=m.allOf||m,O=m.init,_=!1;if(f=null,O&&(f=jg(m,O(t,u,r)),f)){u.sType=f;break}for(l=0,c=n.length;l<c&&!(n[l]&&(d[l]===void 0&&(d[l]=hr(t,l,r,"type")),g&&!_&&(_=jg(m,g(d[l],t))),f=jg(m,y(d[l],t)),!f&&o!==i.length-3||f==="html"&&!Qi(d[l])));l++);if(g&&_&&f||!g&&f){u.sType=f;break}}u.sType||(u.sType="string")}var A=Cn.type.className[u.sType];A&&(rS(t.aoHeader,r,A),rS(t.aoFooter,r,A));var R=Cn.type.render[u.sType];R&&!u._render&&(u._render=me.util.get(R),Qee(t,r))}}function Qee(t,e){for(var n=t.aoData,i=0;i<n.length;i++)if(n[i].nTr){var r=hr(t,i,e,"display");n[i].displayData[e]=r,Yd(n[i].anCells[e],r)}}function rS(t,e,n){t.forEach(function(i){i[e]&&i[e].unique&&El(i[e].cell,n)})}function zee(t,e,n,i,r){var s,o,a,l,c,u,f,d=t.aoColumns;if(n)for(s=0,o=n.length;s<o;s++)n[s]&&n[s].name&&(d[s].sName=n[s].name);if(e)for(s=e.length-1;s>=0;s--){f=e[s];var m=f.target!==void 0?f.target:f.targets!==void 0?f.targets:f.aTargets;for(Array.isArray(m)||(m=[m]),a=0,l=m.length;a<l;a++){var g=m[a];if(typeof g=="number"&&g>=0){for(;d.length<=g;)zR(t);r(g,f)}else if(typeof g=="number"&&g<0)r(d.length+g,f);else if(typeof g=="string")for(c=0,u=d.length;c<u;c++)g==="_all"?r(c,f):g.indexOf(":name")!==-1?d[c].sName===g.replace(":name","")&&r(c,f):i.forEach(function(y){if(y[c]){var O=D(y[c].cell);g.match(/^[a-z][\w-]*$/i)&&(g="."+g),O.is(g)&&r(c,f)}})}}if(n)for(s=0,o=n.length;s<o;s++)r(s,n[s])}function WR(t,e,n,i){Array.isArray(e)||(e=I0(e));for(var r=0,s,o=t.aoColumns,a=0,l=e.length;a<l;a++){var c=o[e[a]],u=n?c.sWidthOrig:c.sWidth;if(c.bVisible!==!1){if(u==null)return null;if(typeof u=="number")s="px",r+=u;else{var f=u.match(/([\d\.]+)([^\d]*)/);f&&(r+=f[1]*1,s=f.length===3?f[2]:"px")}}}return r+s}function I0(t){var e=D(t).closest("[data-dt-column]").attr("data-dt-column");return e?e.split(",").map(function(n){return n*1}):[]}function Da(t,e,n,i){var r=t.aoData.length,s=D.extend(!0,{},me.models.oRow,{src:n?"dom":"data",idx:r});s._aData=e,t.aoData.push(s);for(var o=t.aoColumns,a=0,l=o.length;a<l;a++)o[a].sType=null;t.aiDisplayMaster.push(r);var c=t.rowIdFn(e);return c!==void 0&&(t.aIds[c]=s),(n||!t.oFeatures.bDeferRender)&&UR(t,r,n,i),r}function F0(t,e){var n;return e instanceof D||(e=D(e)),e.map(function(i,r){return n=qR(t,r),Da(t,n.data,r,n.cells)})}function hr(t,e,n,i){i==="search"?i="filter":i==="order"&&(i="sort");var r=t.aoData[e];if(r){var s=t.iDraw,o=t.aoColumns[n],a=r._aData,l=o.sDefaultContent,c=o.fnGetData(a,i,{settings:t,row:e,col:n});if(i!=="display"&&c&&typeof c=="object"&&c.nodeName&&(c=c.innerHTML),c===void 0)return t.iDrawError!=s&&l===null&&(tr(t,0,"Requested unknown parameter "+(typeof o.mData=="function"?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=s),l;if((c===a||c===null)&&l!==null&&i!==void 0)c=l;else if(typeof c=="function")return c.call(a);if(c===null&&i==="display")return"";if(i==="filter"){var u=me.ext.type.search;u[o.sType]&&(c=u[o.sType](c))}return c}}function Wee(t,e,n,i){var r=t.aoColumns[n],s=t.aoData[e]._aData;r.fnSetData(s,i,{settings:t,row:e,col:n})}function Yd(t,e){e&&typeof e=="object"&&e.nodeName?D(t).empty().append(e):t.innerHTML=e}var Bc=/\[.*?\]$/,Ka=/\(\)$/;function sS(t){var e=t.match(/(\\.|[^.])+/g)||[""];return e.map(function(n){return n.replace(/\\\./g,".")})}var ic=me.util.get,la=me.util.set;function oS(t){return Gn(t.aoData,"_aData")}function B0(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function Yp(t,e,n,i){var r=t.aoData[e],s,o;if(r._aSortData=null,r._aFilterData=null,r.displayData=null,n==="dom"||(!n||n==="auto")&&r.src==="dom")r._aData=qR(t,r,i,i===void 0?void 0:r._aData).data;else{var a=r.anCells,l=H0(t,e);if(a)if(i!==void 0)Yd(a[i],l[i]);else for(s=0,o=a.length;s<o;s++)Yd(a[s],l[s])}var c=t.aoColumns;if(i!==void 0)c[i].sType=null,c[i].maxLenString=null;else{for(s=0,o=c.length;s<o;s++)c[s].sType=null,c[s].maxLenString=null;XR(t,r)}}function qR(t,e,n,i){var r=[],s=e.firstChild,o,a,l=0,c,u=t.aoColumns,f=t._rowReadObject;i=i!==void 0?i:f?{}:[];var d=function(A,R){if(typeof A=="string"){var T=A.indexOf("@");if(T!==-1){var N=A.substring(T+1),I=la(A);I(i,R.getAttribute(N))}}},m=function(A){if(n===void 0||n===l)if(a=u[l],c=A.innerHTML.trim(),a&&a._bAttrSrc){var R=la(a.mData._);R(i,c),d(a.mData.sort,A),d(a.mData.type,A),d(a.mData.filter,A)}else f?(a._setter||(a._setter=la(a.mData)),a._setter(i,c)):i[l]=c;l++};if(s)for(;s;)o=s.nodeName.toUpperCase(),(o=="TD"||o=="TH")&&(m(s),r.push(s)),s=s.nextSibling;else{r=e.anCells;for(var g=0,y=r.length;g<y;g++)m(r[g])}var O=e.firstChild?e:e.nTr;if(O){var _=O.getAttribute("id");_&&la(t.rowId)(i,_)}return{data:i,cells:r}}function H0(t,e){var n=t.aoData[e],i=t.aoColumns;if(!n.displayData){n.displayData=[];for(var r=0,s=i.length;r<s;r++)n.displayData.push(hr(t,e,r,"display"))}return n.displayData}function UR(t,e,n,i){var r=t.aoData[e],s=r._aData,o=[],a,l,c,u,f,d,m=t.oClasses.tbody.row;if(r.nTr===null){for(a=n||document.createElement("tr"),r.nTr=a,r.anCells=o,El(a,m),a._DT_RowIndex=e,XR(t,r),u=0,f=t.aoColumns.length;u<f;u++){c=t.aoColumns[u],d=!(n&&i[u]),l=d?document.createElement(c.sCellType):i[u],l||tr(t,0,"Incorrect column count",18),l._DT_CellIndex={row:e,column:u},o.push(l);var g=H0(t,e);(d||(c.mRender||c.mData!==u)&&(!D.isPlainObject(c.mData)||c.mData._!==u+".display"))&&Yd(l,g[u]),El(l,c.sClass),c.bVisible&&d?a.appendChild(l):!c.bVisible&&!d&&l.parentNode.removeChild(l),c.fnCreatedCell&&c.fnCreatedCell.call(t.oInstance,l,hr(t,e,u),s,e,u)}Lt(t,"aoRowCreatedCallback","row-created",[a,s,e,o])}else El(r.nTr,m)}function XR(t,e){var n=e.nTr,i=e._aData;if(n){var r=t.rowIdFn(i);if(r&&(n.id=r),i.DT_RowClass){var s=i.DT_RowClass.split(" ");e.__rowc=e.__rowc?Na(e.__rowc.concat(s)):s,D(n).removeClass(e.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&D(n).attr(i.DT_RowAttr),i.DT_RowData&&D(n).data(i.DT_RowData)}}function aS(t,e){var n=t.oClasses,i=t.aoColumns,r,s,o,a=e==="header"?t.nTHead:t.nTFoot,l=e==="header"?"sTitle":e;if(a){if((e==="header"||Gn(t.aoColumns,l).join(""))&&(o=D("tr",a),o.length||(o=D("<tr/>").appendTo(a)),o.length===1)){var c=0;for(D("td, th",o).each(function(){c+=this.colSpan}),r=c,s=i.length;r<s;r++)D("<th/>").html(i[r][l]||"").appendTo(o)}var u=GR(t,a,!0);e==="header"?(t.aoHeader=u,D("tr",a).addClass(n.thead.row)):(t.aoFooter=u,D("tr",a).addClass(n.tfoot.row)),D(a).children("tr").children("th, td").each(function(){Jd(t,e)(t,D(this),n)})}}function YR(t,e,n){var i,r,s,o=[],a=[],l=t.aoColumns,c=l.length,u,f;if(e){for(n||(n=oo(c).filter(function(g){return l[g].bVisible})),i=0;i<e.length;i++)o[i]=e[i].slice().filter(function(g,y){return n.includes(y)}),a.push([]);for(i=0;i<o.length;i++)for(r=0;r<o[i].length;r++)if(u=1,f=1,a[i][r]===void 0){for(s=o[i][r].cell;o[i+u]!==void 0&&o[i][r].cell==o[i+u][r].cell;)a[i+u][r]=null,u++;for(;o[i][r+f]!==void 0&&o[i][r].cell==o[i][r+f].cell;){for(var d=0;d<u;d++)a[i+d][r+f]=null;f++}var m=D("span.dt-column-title",s);a[i][r]={cell:s,colspan:f,rowspan:u,title:m.length?m.html():D(s).html()}}return a}}function Gd(t,e){for(var n=YR(t,e),i,r,s=0;s<e.length;s++){if(i=e[s].row,i)for(;r=i.firstChild;)i.removeChild(r);for(var o=0;o<n[s].length;o++){var a=n[s][o];a&&D(a.cell).appendTo(i).attr("rowspan",a.rowspan).attr("colspan",a.colspan)}}}function gc(t,e){Gee(t);var n=Lt(t,"aoPreDrawCallback","preDraw",[t]);if(n.indexOf(!1)!==-1){zi(t,!1);return}var i=[],r=0,s=Xi(t)=="ssp",o=t.aiDisplay,a=t._iDisplayStart,l=t.fnDisplayEnd(),c=t.aoColumns,u=D(t.nTBody);if(t.bDrawing=!0,t.deferLoading)t.deferLoading=!1,t.iDraw++,zi(t,!1);else if(!s)t.iDraw++;else if(!t.bDestroying&&!e){t.iDraw===0&&u.empty().append(lS(t)),Kee(t);return}if(o.length!==0)for(var f=s?0:a,d=s?t.aoData.length:l,m=f;m<d;m++){var g=o[m],y=t.aoData[g];y.nTr===null&&UR(t,g);for(var O=y.nTr,_=0;_<c.length;_++){var A=c[_],R=y.anCells[_];El(R,Cn.type.className[A.sType]),El(R,t.oClasses.tbody.cell)}Lt(t,"aoRowCallback",null,[O,y._aData,r,m,g]),i.push(O),r++}else i[0]=lS(t);Lt(t,"aoHeaderCallback","header",[D(t.nTHead).children("tr")[0],oS(t),a,l,o]),Lt(t,"aoFooterCallback","footer",[D(t.nTFoot).children("tr")[0],oS(t),a,l,o]),u[0].replaceChildren?u[0].replaceChildren.apply(u[0],i):(u.children().detach(),u.append(D(i))),D(t.nTableWrapper).toggleClass("dt-empty-footer",D("tr",t.nTFoot).length===0),Lt(t,"aoDrawCallback","draw",[t],!0),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}function rc(t,e,n){var i=t.oFeatures,r=i.bSort,s=i.bFilter;(n===void 0||n===!0)&&(Xp(t),r&&Q0(t),s?Ju(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice()),e!==!0&&(t._iDisplayStart=0),t._drawHold=e,gc(t),t._drawHold=!1}function lS(t){var e=t.oLanguage,n=e.sZeroRecords,i=Xi(t);return t.iDraw<1&&i==="ssp"||t.iDraw<=1&&i==="ajax"?n=e.sLoadingRecords:e.sEmptyTable&&t.fnRecordsTotal()===0&&(n=e.sEmptyTable),D("<tr/>").append(D("<td />",{colSpan:Up(t),class:t.oClasses.empty.row}).html(n))[0]}function Vb(t,e,n){if(Array.isArray(n)){for(var i=0;i<n.length;i++)Vb(t,e,n[i]);return}var r=t[e];D.isPlainObject(n)?n.features?(n.rowId&&(t.id=n.rowId),n.rowClass&&(t.className=n.rowClass),r.id=n.id,r.className=n.className,Vb(t,e,n.features)):Object.keys(n).map(function(s){r.contents.push({feature:s,opts:n[s]})}):r.contents.push(n)}function qee(t,e,n){for(var i,r=0;r<t.length;r++)if(i=t[r],i.rowNum===e&&(n==="full"&&i.full||(n==="start"||n==="end")&&(i.start||i.end)))return i[n]||(i[n]={contents:[]}),i;return i={rowNum:e},i[n]={contents:[]},t.push(i),i}function cS(t,e,n){var i=[];D.each(e,function(s,o){if(o!==null){var a=s.match(/^([a-z]+)([0-9]*)([A-Za-z]*)$/),l=a[2]?a[2]*1:0,c=a[3]?a[3].toLowerCase():"full";if(a[1]===n){var u=qee(i,l,c);Vb(u,c,o)}}}),i.sort(function(s,o){var a=s.rowNum,l=o.rowNum;if(a===l){var c=s.full&&!o.full?-1:1;return n==="bottom"?c*-1:c}return l-a}),n==="bottom"&&i.reverse();for(var r=0;r<i.length;r++)delete i[r].rowNum,Uee(t,i[r]);return i}function Uee(t,e){var n=function(r,s){return Cn.features[r]||tr(t,0,"Unknown feature: "+r),Cn.features[r].apply(this,[t,s])},i=function(r){if(e[r])for(var s=e[r].contents,o=0,a=s.length;o<a;o++)if(s[o]){if(typeof s[o]=="string")s[o]=n(s[o],null);else if(D.isPlainObject(s[o]))s[o]=n(s[o].feature,s[o].opts);else if(typeof s[o].node=="function")s[o]=s[o].node(t);else if(typeof s[o]=="function"){var l=s[o](t);s[o]=typeof l.node=="function"?l.node():l}}else continue};i("start"),i("end"),i("full")}function Xee(t){var e=t.oClasses,n=D(t.nTable),i=D("<div/>").attr({id:t.sTableId+"_wrapper",class:e.container}).insertBefore(n);if(t.nTableWrapper=i[0],t.sDom)Yee(t,t.sDom,i);else{var r=cS(t,t.layout,"top"),s=cS(t,t.layout,"bottom"),o=Jd(t,"layout");r.forEach(function(a){o(t,i,a)}),o(t,i,{full:{table:!0,contents:[ZR(t)]}}),s.forEach(function(a){o(t,i,a)})}rte(t)}function Yee(t,e,n){for(var i=e.match(/(".*?")|('.*?')|./g),r,s,o,a,l,c=0;c<i.length;c++){if(r=null,s=i[c],s=="<"){if(o=D("<div/>"),a=i[c+1],a[0]=="'"||a[0]=='"'){l=a.replace(/['"]/g,"");var u="",f;if(l.indexOf(".")!=-1){var d=l.split(".");u=d[0],f=d[1]}else l[0]=="#"?u=l:f=l;o.attr("id",u.substring(1)).addClass(f),c++}n.append(o),n=o}else s==">"?n=n.parent():s=="t"?r=ZR(t):me.ext.feature.forEach(function(m){s==m.cFeature&&(r=m.fnInit(t))});r&&n.append(r)}}function GR(t,e,n){var i=t.aoColumns,r=D(e).children("tr"),s,o,a,l,c,u,f,d,m,g,y=e&&e.nodeName.toLowerCase()==="thead",O=[],_,A=function(v,z,G){for(var oe=v[z];oe[G];)G++;return G};for(a=0,u=r.length;a<u;a++)O.push([]);for(a=0,u=r.length;a<u;a++)for(s=r[a],d=0,o=s.firstChild;o;){if(o.nodeName.toUpperCase()=="TD"||o.nodeName.toUpperCase()=="TH"){var R=[];if(m=o.getAttribute("colspan")*1,g=o.getAttribute("rowspan")*1,m=!m||m===0||m===1?1:m,g=!g||g===0||g===1?1:g,f=A(O,a,d),_=m===1,n){if(_){jb(t,f,D(o).data());var T=i[f],N=o.getAttribute("width")||null,I=o.style.width.match(/width:\s*(\d+[pxem%]+)/);I&&(N=I[1]),T.sWidthOrig=T.sWidth||N,y?(T.sTitle!==null&&!T.autoTitle&&(o.innerHTML=T.sTitle),!T.sTitle&&_&&(T.sTitle=Bs(o.innerHTML),T.autoTitle=!0)):T.footer&&(o.innerHTML=T.footer),T.ariaTitle||(T.ariaTitle=D(o).attr("aria-label")||T.sTitle),T.className&&D(o).addClass(T.className)}D("span.dt-column-title",o).length===0&&D("<span>").addClass("dt-column-title").append(o.childNodes).appendTo(o),y&&D("span.dt-column-order",o).length===0&&D("<span>").addClass("dt-column-order").appendTo(o)}for(c=0;c<m;c++){for(l=0;l<g;l++)O[a+l][f+c]={cell:o,unique:_},O[a+l].row=s;R.push(f+c)}o.setAttribute("data-dt-column",Na(R).join(","))}o=o.nextSibling}return O}function Gee(t){var e=Xi(t)=="ssp",n=t.iInitDisplayStart;n!==void 0&&n!==-1&&(t._iDisplayStart=e?n:n>=t.fnRecordsDisplay()?0:n,t.iInitDisplayStart=-1)}function j0(t,e,n){var i,r=t.ajax,s=t.oInstance,o=function(u){var f=t.jqXHR?t.jqXHR.status:null;(u===null||typeof f=="number"&&f==204)&&(u={},Gp(t,u,[]));var d=u.error||u.sError;if(d&&tr(t,0,d),u.d&&typeof u.d=="string")try{u=JSON.parse(u.d)}catch{}t.json=u,Lt(t,null,"xhr",[t,u,t.jqXHR],!0),n(u)};if(D.isPlainObject(r)&&r.data){i=r.data;var a=typeof i=="function"?i(e,t):i;e=typeof i=="function"&&a?a:D.extend(!0,e,a),delete r.data}var l={url:typeof r=="string"?r:"",data:e,success:o,dataType:"json",cache:!1,type:t.sServerMethod,error:function(u,f){var d=Lt(t,null,"xhr",[t,null,t.jqXHR],!0);d.indexOf(!0)===-1&&(f=="parsererror"?tr(t,0,"Invalid JSON response",1):u.readyState===4&&tr(t,0,"Ajax error",7)),zi(t,!1)}};if(D.isPlainObject(r)&&D.extend(l,r),t.oAjaxData=e,Lt(t,null,"preXhr",[t,e,l],!0),typeof r=="function")t.jqXHR=r.call(s,e,o,t);else if(r.url===""){var c={};me.util.set(r.dataSrc)(c,[]),o(c)}else t.jqXHR=D.ajax(l);i&&(r.data=i)}function Kee(t){t.iDraw++,zi(t,!0),j0(t,Jee(t),function(e){Zee(t,e)})}function Jee(t){var e=t.aoColumns,n=t.oFeatures,i=t.oPreviousSearch,r=t.aoPreSearchCols,s=function(o,a){return typeof e[o][a]=="function"?"function":e[o][a]};return{draw:t.iDraw,columns:e.map(function(o,a){return{data:s(a,"mData"),name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:r[a].search,regex:r[a].regex,fixed:Object.keys(o.searchFixed).map(function(l){return{name:l,term:o.searchFixed[l].toString()}})}}}),order:Kp(t).map(function(o){return{column:o.col,dir:o.dir,name:s(o.col,"sName")}}),start:t._iDisplayStart,length:n.bPaginate?t._iDisplayLength:-1,search:{value:i.search,regex:i.regex,fixed:Object.keys(t.searchFixed).map(function(o){return{name:o,term:t.searchFixed[o].toString()}})}}}function Zee(t,e){var n=Gp(t,e),i=Vg(t,"draw",e),r=Vg(t,"recordsTotal",e),s=Vg(t,"recordsFiltered",e);if(i!==void 0){if(i*1<t.iDraw)return;t.iDraw=i*1}n||(n=[]),B0(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(s,10);for(var o=0,a=n.length;o<a;o++)Da(t,n[o]);t.aiDisplay=t.aiDisplayMaster.slice(),Xp(t),gc(t,!0),Kd(t),zi(t,!1)}function Gp(t,e,n){var i="data";if(D.isPlainObject(t.ajax)&&t.ajax.dataSrc!==void 0){var r=t.ajax.dataSrc;typeof r=="string"||typeof r=="function"?i=r:r.data!==void 0&&(i=r.data)}if(!n)return i==="data"?e.aaData||e[i]:i!==""?ic(i)(e):e;la(i)(e,n)}function Vg(t,e,n){var i=D.isPlainObject(t.ajax)?t.ajax.dataSrc:null;if(i&&i[e])return ic(i[e])(n);var r="";return e==="draw"?r="sEcho":e==="recordsTotal"?r="iTotalRecords":e==="recordsFiltered"&&(r="iTotalDisplayRecords"),n[r]!==void 0?n[r]:n[e]}function Ju(t,e){var n=t.aoPreSearchCols;if(Xi(t)!="ssp"){ite(t),t.aiDisplay=t.aiDisplayMaster.slice(),vh(t.aiDisplay,t,e.search,e),D.each(t.searchFixed,function(s,o){vh(t.aiDisplay,t,o,{})});for(var i=0;i<n.length;i++){var r=n[i];vh(t.aiDisplay,t,r.search,r,i),D.each(t.aoColumns[i].searchFixed,function(s,o){vh(t.aiDisplay,t,o,{},i)})}ete(t)}t.bFiltered=!0,Lt(t,null,"search",[t])}function ete(t){for(var e=me.ext.search,n=t.aiDisplay,i,r,s=0,o=e.length;s<o;s++){for(var a=[],l=0,c=n.length;l<c;l++)r=n[l],i=t.aoData[r],e[s](t,i._aFilterData,r,i._aData,l)&&a.push(r);n.length=0,Zp(n,a)}}function vh(t,e,n,i,r){if(n!==""){var s=0,o=[],a=typeof n=="function"?n:null,l=n instanceof RegExp?n:a?null:tte(n,i);for(s=0;s<t.length;s++){var c=e.aoData[t[s]],u=r===void 0?c._sFilterRow:c._aFilterData[r];(a&&a(u,c._aData,t[s],r)||l&&l.test(u))&&o.push(t[s])}for(t.length=o.length,s=0;s<o.length;s++)t[s]=o[s]}}function tte(t,e){var n=[],i=D.extend({},{boundary:!1,caseInsensitive:!0,exact:!1,regex:!1,smart:!0},e);if(typeof t!="string"&&(t=t.toString()),t=Xd(t),i.exact)return new RegExp("^"+Qb(t)+"$",i.caseInsensitive?"i":"");if(t=i.regex?t:Qb(t),i.smart){var r=t.match(/!?["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],s=r.map(function(l){var c=!1,u;return l.charAt(0)==="!"&&(c=!0,l=l.substring(1)),l.charAt(0)==='"'?(u=l.match(/^"(.*)"$/),l=u?u[1]:l):l.charAt(0)==="“"&&(u=l.match(/^\u201C(.*)\u201D$/),l=u?u[1]:l),c&&(l.length>1&&n.push("(?!"+l+")"),l=""),l.replace(/"/g,"")}),o=n.length?n.join(""):"",a=i.boundary?"\\b":"";t="^(?=.*?"+a+s.join(")(?=.*?"+a)+")("+o+".)*$"}return new RegExp(t,i.caseInsensitive?"i":"")}var Qb=me.util.escapeRegex,Wh=D("<div>")[0],nte=Wh.textContent!==void 0;function ite(t){for(var e=t.aoColumns,n=t.aoData,i,r,s,o,a,l,c=!1,u=0;u<n.length;u++)if(n[u]&&(l=n[u],!l._aFilterData)){for(o=[],r=0,s=e.length;r<s;r++)i=e[r],i.bSearchable?(a=hr(t,u,r,"filter"),a===null&&(a=""),typeof a!="string"&&a.toString&&(a=a.toString())):a="",a.indexOf&&a.indexOf("&")!==-1&&(Wh.innerHTML=a,a=nte?Wh.textContent:Wh.innerText),a.replace&&(a=a.replace(/[\r\n\u2028]/g,"")),o.push(a);l._aFilterData=o,l._sFilterRow=o.join("  "),c=!0}return c}function qh(t){var e,n=t.oInit,i=t.deferLoading,r=Xi(t);if(!t.bInitialised){setTimeout(function(){qh(t)},200);return}aS(t,"header"),aS(t,"footer"),ute(t,n,function(){Gd(t,t.aoHeader),Gd(t,t.aoFooter);var s=t.iInitDisplayStart;if(n.aaData)for(e=0;e<n.aaData.length;e++)Da(t,n.aaData[e]);else(i||r=="dom")&&F0(t,D(t.nTBody).children("tr"));t.aiDisplay=t.aiDisplayMaster.slice(),Xee(t),ate(t),t$(t),zi(t,!0),Lt(t,null,"preInit",[t],!0),rc(t),(r!="ssp"||i)&&(r=="ajax"?j0(t,{},function(o){var a=Gp(t,o);for(e=0;e<a.length;e++)Da(t,a[e]);t.iInitDisplayStart=s,rc(t),zi(t,!1),Kd(t)}):(Kd(t),zi(t,!1)))})}function Kd(t){if(!t._bInitComplete){var e=[t,t.json];t._bInitComplete=!0,qp(t),Lt(t,null,"plugin-init",e,!0),Lt(t,"aoInitComplete","init",e,!0)}}function KR(t,e){var n=parseInt(e,10);t._iDisplayLength=n,s$(t),Lt(t,null,"length",[t,n])}function V0(t,e,n){var i=t._iDisplayStart,r=t._iDisplayLength,s=t.fnRecordsDisplay();if(s===0||r===-1)i=0;else if(typeof e=="number")i=e*r,i>s&&(i=0);else if(e=="first")i=0;else if(e=="previous")i=r>=0?i-r:0,i<0&&(i=0);else if(e=="next")i+r<s&&(i+=r);else if(e=="last")i=Math.floor((s-1)/r)*r;else{if(e==="ellipsis")return;tr(t,0,"Unknown paging action: "+e,5)}var o=t._iDisplayStart!==i;return t._iDisplayStart=i,Lt(t,null,o?"page":"page-nc",[t]),o&&n&&gc(t),o}function rte(t){var e=t.nTable,n=t.oScroll.sX!==""||t.oScroll.sY!=="";if(t.oFeatures.bProcessing){var i=D("<div/>",{id:t.sTableId+"_processing",class:t.oClasses.processing.container,role:"status"}).html(t.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>");n?i.prependTo(D("div.dt-scroll",t.nTableWrapper)):i.insertBefore(e),D(e).on("processing.dt.DT",function(r,s,o){i.css("display",o?"block":"none")})}}function zi(t,e){t.bDrawing&&e===!1||Lt(t,null,"processing",[t,e])}function JR(t,e,n){e?(zi(t,!0),setTimeout(function(){n(),zi(t,!1)},0)):n()}function ZR(t){var e=D(t.nTable),n=t.oScroll;if(n.sX===""&&n.sY==="")return t.nTable;var i=n.sX,r=n.sY,s=t.oClasses.scrolling,o=t.captionNode,a=o?o._captionSide:null,l=D(e[0].cloneNode(!1)),c=D(e[0].cloneNode(!1)),u=e.children("tfoot"),f="<div/>",d=function(A){return A?mo(A):null};u.length||(u=null);var m=D(f,{class:s.container}).append(D(f,{class:s.header.self}).css({overflow:"hidden",position:"relative",border:0,width:i?d(i):"100%"}).append(D(f,{class:s.header.inner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append(a==="top"?o:null).append(e.children("thead"))))).append(D(f,{class:s.body}).css({position:"relative",overflow:"auto",width:d(i)}).append(e));u&&m.append(D(f,{class:s.footer.self}).css({overflow:"hidden",border:0,width:i?d(i):"100%"}).append(D(f,{class:s.footer.inner}).append(c.removeAttr("id").css("margin-left",0).append(a==="bottom"?o:null).append(e.children("tfoot")))));var g=m.children(),y=g[0],O=g[1],_=u?g[2]:null;return D(O).on("scroll.DT",function(){var A=this.scrollLeft;y.scrollLeft=A,u&&(_.scrollLeft=A)}),D("th, td",y).on("focus",function(){var A=y.scrollLeft;O.scrollLeft=A,u&&(O.scrollLeft=A)}),D(O).css("max-height",r),n.bCollapse||D(O).css("height",r),t.nScrollHead=y,t.nScrollBody=O,t.nScrollFoot=_,t.aoDrawCallback.push(e$),m[0]}function e$(t){var e=t.oScroll,n=e.iBarWidth,i=D(t.nScrollHead),r=i.children("div"),s=r.children("table"),o=t.nScrollBody,a=D(o),l=D(t.nScrollFoot),c=l.children("div"),u=c.children("table"),f=D(t.nTHead),d=D(t.nTable),m=t.nTFoot&&D("th, td",t.nTFoot).length?D(t.nTFoot):null,g=t.oBrowser,y,O,_=o.scrollHeight>o.clientHeight;if(t.scrollBarVis!==_&&t.scrollBarVis!==void 0){t.scrollBarVis=_,qp(t);return}else t.scrollBarVis=_;if(d.children("thead, tfoot").remove(),y=f.clone().prependTo(d),y.find("th, td").removeAttr("tabindex"),y.find("[id]").removeAttr("id"),m&&(O=m.clone().prependTo(d),O.find("[id]").removeAttr("id")),t.aiDisplay.length){var A=null,R=Xi(t)!=="ssp"?t._iDisplayStart:0;for(v=R;v<R+t.aiDisplay.length;v++){var T=t.aiDisplay[v],N=t.aoData[T].nTr;if(N){A=N;break}}if(A)for(var I=D(A).children("th, td").map(function(X){return{idx:L0(t,X),width:D(this).outerWidth()}}),v=0;v<I.length;v++){var z=t.aoColumns[I[v].idx].colEl[0],G=z.style.width.replace("px","");G!==I[v].width&&(z.style.width=I[v].width+"px",e.sX&&(z.style.minWidth=I[v].width+"px"))}}s.find("colgroup").remove(),s.append(t.colgroup.clone()),m&&(u.find("colgroup").remove(),u.append(t.colgroup.clone())),D("th, td",y).each(function(){D(this.childNodes).wrapAll('<div class="dt-scroll-sizing">')}),m&&D("th, td",O).each(function(){D(this.childNodes).wrapAll('<div class="dt-scroll-sizing">')});var oe=Math.floor(d.height())>o.clientHeight||a.css("overflow-y")=="scroll",ve="padding"+(g.bScrollbarLeft?"Left":"Right"),ne=d.outerWidth();s.css("width",mo(ne)),r.css("width",mo(ne)).css(ve,oe?n+"px":"0px"),m&&(u.css("width",mo(ne)),c.css("width",mo(ne)).css(ve,oe?n+"px":"0px")),d.children("colgroup").prependTo(d),a.trigger("scroll"),(t.bSorted||t.bFiltered)&&!t._drawHold&&(o.scrollTop=0)}function ste(t){if(t.oFeatures.bAutoWidth){var e=t.nTable,n=t.aoColumns,i=t.oScroll,r=i.sY,s=i.sX,o=i.sXInner,a=N0(t,"bVisible"),l=e.getAttribute("width"),c=e.parentNode,u,f,d,m=e.style.width,g=uS(t);if(g===t.containerWidth)return!1;t.containerWidth=g,!m&&!l&&(e.style.width="100%",m="100%"),m&&m.indexOf("%")!==-1&&(l=m),Lt(t,null,"column-calc",{visible:a},!1);var y=D(e.cloneNode()).css("visibility","hidden").removeAttr("id");y.append("<tbody>");var O=D("<tr/>").appendTo(y.find("tbody"));for(y.append(D(t.nTHead).clone()).append(D(t.nTFoot).clone()),y.find("tfoot th, tfoot td").css("width",""),y.find("thead th, thead td").each(function(){var ne=WR(t,this,!0);ne?(this.style.width=ne,s&&(this.style.minWidth=ne,D(this).append(D("<div/>").css({width:ne,margin:0,padding:0,border:0,height:1})))):this.style.width=""}),u=0;u<a.length;u++){d=a[u],f=n[d];var _=ote(t,d),A=Cn.type.className[f.sType],R=_+f.sContentPadding,T=_.indexOf("<")===-1?document.createTextNode(R):R;D("<td/>").addClass(A).addClass(f.sClass).append(T).appendTo(O)}D("[name]",y).removeAttr("name");var N=D("<div/>").css(s||r?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(y).appendTo(c);s&&o?y.width(o):s?(y.css("width","auto"),y.removeAttr("width"),y.outerWidth()<c.clientWidth&&l&&y.outerWidth(c.clientWidth)):r?y.outerWidth(c.clientWidth):l&&y.outerWidth(l);var I=0,v=y.find("tbody tr").eq(0).children();for(u=0;u<a.length;u++){var z=v[u].getBoundingClientRect().width;I+=z,n[a[u]].sWidth=mo(z)}if(e.style.width=mo(I),N.remove(),l&&(e.style.width=mo(l)),(l||s)&&!t._reszEvt){var G=me.util.throttle(function(){var ne=uS(t);!t.bDestroying&&ne!==0&&qp(t)});if(window.ResizeObserver){var oe=D(t.nTableWrapper).is(":visible"),ve=D("<div>").css({width:"100%",height:0}).addClass("dt-autosize").appendTo(t.nTableWrapper);t.resizeObserver=new ResizeObserver(function(ne){oe?oe=!1:G()}),t.resizeObserver.observe(ve[0])}else D(window).on("resize.DT-"+t.sInstance,G);t._reszEvt=!0}}}function uS(t){return D(t.nTableWrapper).is(":visible")?D(t.nTableWrapper).width():0}function ote(t,e){var n=t.aoColumns[e];if(!n.maxLenString){for(var i,r="",s=-1,o=0,a=t.aiDisplayMaster.length;o<a;o++){var l=t.aiDisplayMaster[o],c=H0(t,l)[e],u=c&&typeof c=="object"&&c.nodeType?c.innerHTML:c+"";u=u.replace(/id=".*?"/g,"").replace(/name=".*?"/g,""),i=Bs(u).replace(/&nbsp;/g," "),i.length>s&&(r=u,s=i.length)}n.maxLenString=r}return n.maxLenString}function mo(t){return t===null?"0px":typeof t=="number"?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function t$(t){var e=t.aoColumns;for(t.colgroup.empty(),li=0;li<e.length;li++)e[li].bVisible&&t.colgroup.append(e[li].colEl)}function ate(t){var e=t.nTHead,n=e.querySelectorAll("tr"),i=t.bSortCellsTop,r=':not([data-dt-order="disable"]):not([data-dt-order="icon-only"])';i===!0?e=n[0]:i===!1&&(e=n[n.length-1]),n$(t,e,e===t.nTHead?"tr"+r+" th"+r+", tr"+r+" td"+r:"th"+r+", td"+r);var s=[];pl(t,s,t.aaSorting),t.aaSorting=s}function n$(t,e,n,i,r){r$(e,n,function(s){var o=!1,a=i===void 0?I0(s.target):[i];if(a.length){for(var l=0,c=a.length;l<c;l++){var u=lte(t,a[l],l,s.shiftKey);if(u!==!1&&(o=!0),t.aaSorting.length===1&&t.aaSorting[0][1]==="")break}o&&JR(t,!0,function(){Q0(t),i$(t,t.aiDisplay),rc(t,!1,!1),r&&r()})}})}function i$(t,e){if(!(e.length<2)){var n=t.aiDisplayMaster,i={},r={},s;for(s=0;s<n.length;s++)i[n[s]]=s;for(s=0;s<e.length;s++)r[e[s]]=i[e[s]];e.sort(function(o,a){return r[o]-r[a]})}}function pl(t,e,n){var i=function(s){if(D.isPlainObject(s)){if(s.idx!==void 0)e.push([s.idx,s.dir]);else if(s.name){var o=Gn(t.aoColumns,"sName"),a=o.indexOf(s.name);a!==-1&&e.push([a,s.dir])}}else e.push(s)};if(D.isPlainObject(n))i(n);else if(n.length&&typeof n[0]=="number")i(n);else if(n.length)for(var r=0;r<n.length;r++)i(n[r])}function Kp(t){var e,n,i,r=[],s=me.ext.type.order,o=t.aoColumns,a,l,c,u,f=t.aaSortingFixed,d=D.isPlainObject(f),m=[];if(!t.oFeatures.bSort)return r;for(Array.isArray(f)&&pl(t,m,f),d&&f.pre&&pl(t,m,f.pre),pl(t,m,t.aaSorting),d&&f.post&&pl(t,m,f.post),e=0;e<m.length;e++)if(u=m[e][0],o[u])for(a=o[u].aDataSort,n=0,i=a.length;n<i;n++)l=a[n],c=o[l].sType||"string",m[e]._idx===void 0&&(m[e]._idx=o[l].asSorting.indexOf(m[e][1])),m[e][1]&&r.push({src:u,col:l,dir:m[e][1],index:m[e]._idx,type:c,formatter:s[c+"-pre"],sorter:s[c+"-"+m[e][1]]});return r}function Q0(t,e,n){var i,r,s,o=[],a=me.ext.type.order,l=t.aoData,c,u=t.aiDisplayMaster,f;if(Xp(t),e!==void 0){var d=t.aoColumns[e];f=[{src:e,col:e,dir:n,index:0,type:d.sType,formatter:a[d.sType+"-pre"],sorter:a[d.sType+"-"+n]}],u=u.slice()}else f=Kp(t);for(i=0,r=f.length;i<r;i++)c=f[i],cte(t,c.col);if(Xi(t)!="ssp"&&f.length!==0){for(i=0,s=u.length;i<s;i++)o[i]=i;f.length&&f[0].dir==="desc"&&t.orderDescReverse&&o.reverse(),u.sort(function(m,g){var y,O,_,A,R,T=f.length,N=l[m]._aSortData,I=l[g]._aSortData;for(_=0;_<T;_++)if(R=f[_],y=N[R.col],O=I[R.col],R.sorter){if(A=R.sorter(y,O),A!==0)return A}else if(A=y<O?-1:y>O?1:0,A!==0)return R.dir==="asc"?A:-A;return y=o[m],O=o[g],y<O?-1:y>O?1:0})}else f.length===0&&u.sort(function(m,g){return m<g?-1:m>g?1:0});return e===void 0&&(t.bSorted=!0,t.sortDetails=f,Lt(t,null,"order",[t,f])),u}function lte(t,e,n,i){var r=t.aoColumns[e],s=t.aaSorting,o=r.asSorting,a,l=function(u,f){var d=u._idx;return d===void 0&&(d=o.indexOf(u[1])),d+1<o.length?d+1:f?null:0};if(!r.bSortable)return!1;if(typeof s[0]=="number"&&(s=t.aaSorting=[s]),(i||n)&&t.oFeatures.bSortMulti){var c=Gn(s,"0").indexOf(e);c!==-1?(a=l(s[c],!0),a===null&&s.length===1&&(a=0),a===null?s.splice(c,1):(s[c][1]=o[a],s[c]._idx=a)):i?(s.push([e,o[0],0]),s[s.length-1]._idx=0):(s.push([e,s[0][1],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==e?(a=l(s[0]),s.length=1,s[0][1]=o[a],s[0]._idx=a):(s.length=0,s.push([e,o[0]]),s[0]._idx=0)}function zb(t){var e=t.aLastSort,n=t.oClasses.order.position,i=Kp(t),r=t.oFeatures,s,o,a;if(r.bSort&&r.bSortClasses){for(s=0,o=e.length;s<o;s++)a=e[s].src,D(Gn(t.aoData,"anCells",a)).removeClass(n+(s<2?s+1:3));for(s=0,o=i.length;s<o;s++)a=i[s].src,D(Gn(t.aoData,"anCells",a)).addClass(n+(s<2?s+1:3))}t.aLastSort=i}function cte(t,e){var n=t.aoColumns[e],i=me.ext.order[n.sSortDataType],r;i&&(r=i.call(t.oInstance,t,e,Cf(t,e)));for(var s,o,a=me.ext.type.order[n.sType+"-pre"],l=t.aoData,c=0;c<l.length;c++)l[c]&&(s=l[c],s._aSortData||(s._aSortData=[]),(!s._aSortData[e]||i)&&(o=i?r[c]:hr(t,c,e,"sort"),s._aSortData[e]=a?a(o,t):o))}function Jp(t){if(!t._bLoadingState){var e=[];pl(t,e,t.aaSorting);var n=t.aoColumns,i={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.map(function(r){return n[r[0]]&&n[r[0]].sName?[n[r[0]].sName,r[1]]:r.slice()}),search:D.extend({},t.oPreviousSearch),columns:t.aoColumns.map(function(r,s){return{name:r.sName,visible:r.bVisible,search:D.extend({},t.aoPreSearchCols[s])}})};t.oSavedState=i,Lt(t,"aoStateSaveParams","stateSaveParams",[t,i]),t.oFeatures.bStateSave&&!t.bDestroying&&t.fnStateSaveCallback.call(t.oInstance,t,i)}}function ute(t,e,n){if(!t.oFeatures.bStateSave){n();return}var i=function(s){Wb(t,s,n)},r=t.fnStateLoadCallback.call(t.oInstance,t,i);return r!==void 0&&Wb(t,r,n),!0}function Wb(t,e,n){var i,r,s=t.aoColumns,o=Gn(t.aoColumns,"sName");t._bLoadingState=!0;var a=t._bInitComplete?new me.Api(t):null;if(!e||!e.time){t._bLoadingState=!1,n();return}var l=t.iStateDuration;if(l>0&&e.time<+new Date-l*1e3){t._bLoadingState=!1,n();return}var c=Lt(t,"aoStateLoadParams","stateLoadParams",[t,e]);if(c.indexOf(!1)!==-1){t._bLoadingState=!1,n();return}if(t.oLoadedState=D.extend(!0,{},e),Lt(t,null,"stateLoadInit",[t,e],!0),e.length!==void 0&&(a?a.page.len(e.length):t._iDisplayLength=e.length),e.start!==void 0&&(a===null?(t._iDisplayStart=e.start,t.iInitDisplayStart=e.start):V0(t,e.start/t._iDisplayLength)),e.order!==void 0&&(t.aaSorting=[],D.each(e.order,function(g,y){var O=[y[0],y[1]];if(typeof y[0]=="string"){var _=o.indexOf(y[0]);O[0]=_>=0?_:0}else O[0]>=s.length&&(O[0]=0);t.aaSorting.push(O)})),e.search!==void 0&&D.extend(t.oPreviousSearch,e.search),e.columns){var u=e.columns,f=Gn(e.columns,"name");if(f.join("").length&&f.join("")!==o.join(""))for(u=[],i=0;i<o.length;i++)if(o[i]!=""){var d=f.indexOf(o[i]);d>=0?u.push(e.columns[d]):u.push({})}else u.push({});if(u.length===s.length){for(i=0,r=u.length;i<r;i++){var m=u[i];m.visible!==void 0&&(a?a.column(i).visible(m.visible,!1):s[i].bVisible=m.visible),m.search!==void 0&&D.extend(t.aoPreSearchCols[i],m.search)}a&&a.columns.adjust()}}t._bLoadingState=!1,Lt(t,"aoStateLoaded","stateLoaded",[t,e]),n()}function tr(t,e,n,i){n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see https://datatables.net/tn/"+i);{var r=me.ext,s=r.sErrMode||r.errMode;if(t&&Lt(t,null,"dt-error",[t,i,n],!0),s=="alert")alert(n);else{if(s=="throw")throw new Error(n);typeof s=="function"&&s(t,i,n)}}}function go(t,e,n,i){if(Array.isArray(n)){D.each(n,function(r,s){Array.isArray(s)?go(t,e,s[0],s[1]):go(t,e,s)});return}i===void 0&&(i=n),e[n]!==void 0&&(t[i]=e[n])}function fS(t,e,n){var i;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i=e[r],D.isPlainObject(i)?(D.isPlainObject(t[r])||(t[r]={}),D.extend(!0,t[r],i)):n&&r!=="data"&&r!=="aaData"&&Array.isArray(i)?t[r]=i.slice():t[r]=i);return t}function r$(t,e,n){D(t).on("click.DT",e,function(i){n(i)}).on("keypress.DT",e,function(i){i.which===13&&(i.preventDefault(),n(i))}).on("selectstart.DT",e,function(){return!1})}function Ki(t,e,n){n&&t[e].push(n)}function Lt(t,e,n,i,r){var s=[];if(e&&(s=t[e].slice().reverse().map(function(l){return l.apply(t.oInstance,i)})),n!==null){var o=D.Event(n+".dt"),a=D(t.nTable);o.dt=t.api,a[r?"trigger":"triggerHandler"](o,i),r&&a.parents("body").length===0&&D("body").trigger(o,i),s.push(o.result)}return s}function s$(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(i===-1||e<0)&&(e=0),t._iDisplayStart=e}function Jd(t,e){var n=t.renderer,i=me.ext.renderer[e];return D.isPlainObject(n)&&n[e]?i[n[e]]||i._:typeof n=="string"&&i[n]||i._}function Xi(t){return t.oFeatures.bServerSide?"ssp":t.ajax?"ajax":"dom"}function z0(t,e,n){var i=t.fnFormatNumber,r=t._iDisplayStart+1,s=t._iDisplayLength,o=t.fnRecordsDisplay(),a=t.fnRecordsTotal(),l=s===-1;return e.replace(/_START_/g,i.call(t,r)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,a)).replace(/_TOTAL_/g,i.call(t,o)).replace(/_PAGE_/g,i.call(t,l?1:Math.ceil(r/s))).replace(/_PAGES_/g,i.call(t,l?1:Math.ceil(o/s))).replace(/_ENTRIES_/g,t.api.i18n("entries","",n)).replace(/_ENTRIES-MAX_/g,t.api.i18n("entries","",a)).replace(/_ENTRIES-TOTAL_/g,t.api.i18n("entries","",o))}function Zp(t,e){if(e)if(e.length<1e4)t.push.apply(t,e);else for(li=0;li<e.length;li++)t.push(e[li])}var W0=[],ni=Array.prototype,fte=function(t){var e,n,i=me.settings,r=Gn(i,"nTable");if(t){if(t.nTable&&t.oFeatures)return[t];if(t.nodeName&&t.nodeName.toLowerCase()==="table")return e=r.indexOf(t),e!==-1?[i[e]]:null;if(t&&typeof t.settings=="function")return t.settings().toArray();typeof t=="string"?n=D(t).get():t instanceof D&&(n=t.get())}else return[];if(n)return i.filter(function(s,o){return n.includes(r[o])})};xt=function(t,e){if(!(this instanceof xt))return new xt(t,e);var n,i=[],r=function(s){var o=fte(s);o&&i.push.apply(i,o)};if(Array.isArray(t))for(n=0;n<t.length;n++)r(t[n]);else r(t);this.context=i.length>1?Na(i):i,Zp(this,e),this.selector={rows:null,cols:null,opts:null},xt.extend(this,this,W0)};me.Api=xt;D.extend(xt.prototype,{any:function(){return this.count()!==0},context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new xt(e[t],this[t]):null},filter:function(t){var e=ni.filter.call(this,t,this);return new xt(this.context,e)},flatten:function(){var t=[];return new xt(this.context,t.concat.apply(t,this.toArray()))},get:function(t){return this[t]},join:ni.join,includes:function(t){return this.indexOf(t)!==-1},indexOf:ni.indexOf,iterator:function(t,e,n,i){var r=[],s,o,a,l,c,u=this.context,f,d,m,g=this.selector;for(typeof t=="string"&&(i=n,n=e,e=t,t=!1),o=0,a=u.length;o<a;o++){var y=new xt(u[o]);if(e==="table")s=n.call(y,u[o],o),s!==void 0&&r.push(s);else if(e==="columns"||e==="rows")s=n.call(y,u[o],this[o],o),s!==void 0&&r.push(s);else if(e==="every"||e==="column"||e==="column-rows"||e==="row"||e==="cell")for(d=this[o],e==="column-rows"&&(f=em(u[o],g.opts)),l=0,c=d.length;l<c;l++)m=d[l],e==="cell"?s=n.call(y,u[o],m.row,m.column,o,l):s=n.call(y,u[o],m,o,l,f),s!==void 0&&r.push(s)}if(r.length||i){var O=new xt(u,t?r.concat.apply([],r):r),_=O.selector;return _.rows=g.rows,_.cols=g.cols,_.opts=g.opts,O}return this},lastIndexOf:ni.lastIndexOf,length:0,map:function(t){var e=ni.map.call(this,t,this);return new xt(this.context,e)},pluck:function(t){var e=me.util.get(t);return this.map(function(n){return e(n)})},pop:ni.pop,push:ni.push,reduce:ni.reduce,reduceRight:ni.reduceRight,reverse:ni.reverse,selector:null,shift:ni.shift,slice:function(){return new xt(this.context,this)},sort:ni.sort,splice:ni.splice,toArray:function(){return ni.slice.call(this)},to$:function(){return D(this)},toJQuery:function(){return D(this)},unique:function(){return new xt(this.context,Na(this.toArray()))},unshift:ni.unshift});function hte(t,e,n){return function(){var i=e.apply(t||this,arguments);return xt.extend(i,i,n.methodExt),i}}function dte(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n].name===e)return t[n];return null}window.__apiStruct=W0;xt.extend=function(t,e,n){if(!(!n.length||!e||!(e instanceof xt)&&!e.__dt_wrapper)){var i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i],s.name!=="__proto__"&&(e[s.name]=s.type==="function"?hte(t,s.val,s):s.type==="object"?{}:s.val,e[s.name].__dt_wrapper=!0,xt.extend(t,e[s.name],s.propExt))}};xt.register=ze=function(t,e){if(Array.isArray(t)){for(var n=0,i=t.length;n<i;n++)xt.register(t[n],e);return}var r,s,o=t.split("."),a=W0,l,c;for(r=0,s=o.length;r<s;r++){c=o[r].indexOf("()")!==-1,l=c?o[r].replace("()",""):o[r];var u=dte(a,l);u||(u={name:l,val:{},methodExt:[],propExt:[],type:"object"},a.push(u)),r===s-1?(u.val=e,u.type=typeof e=="function"?"function":D.isPlainObject(e)?"object":"other"):a=c?u.methodExt:u.propExt}};xt.registerPlural=Vt=function(t,e,n){xt.register(t,n),xt.register(e,function(){var i=n.apply(this,arguments);return i===this?this:i instanceof xt?i.length?Array.isArray(i[0])?new xt(i.context,i[0]):i[0]:void 0:i})};var o$=function(t,e){if(Array.isArray(t)){var n=[];return t.forEach(function(r){var s=o$(r,e);Zp(n,s)}),n.filter(function(r){return r})}if(typeof t=="number")return[e[t]];var i=e.map(function(r){return r.nTable});return D(i).filter(t).map(function(){var r=i.indexOf(this);return e[r]}).toArray()};ze("tables()",function(t){return t!=null?new xt(o$(t,this.context)):this});ze("table()",function(t){var e=this.tables(t),n=e.context;return n.length?new xt(n[0]):e});[["nodes","node","nTable"],["body","body","nTBody"],["header","header","nTHead"],["footer","footer","nTFoot"]].forEach(function(t){Vt("tables()."+t[0]+"()","table()."+t[1]+"()",function(){return this.iterator("table",function(e){return e[t[2]]},1)})});[["header","aoHeader"],["footer","aoFooter"]].forEach(function(t){ze("table()."+t[0]+".structure()",function(e){var n=this.columns(e).indexes().flatten(),i=this.context[0];return YR(i,i[t[1]],n)})});Vt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)});ze("tables().every()",function(t){var e=this;return this.iterator("table",function(n,i){t.call(e.table(i),i)})});ze("caption()",function(t,e){var n=this.context;if(t===void 0){var i=n[0].captionNode;return i&&n.length?i.innerHTML:null}return this.iterator("table",function(r){var s=D(r.nTable),o=D(r.captionNode),a=D(r.nTableWrapper);if(o.length||(o=D("<caption/>").html(t),r.captionNode=o[0],e||(s.prepend(o),e=o.css("caption-side"))),o.html(t),e&&(o.css("caption-side",e),o[0]._captionSide=e),a.find("div.dataTables_scroll").length){var l=e==="top"?"Head":"Foot";a.find("div.dataTables_scroll"+l+" table").prepend(o)}else s.prepend(o)},1)});ze("caption.node()",function(){var t=this.context;return t.length?t[0].captionNode:null});ze("draw()",function(t){return this.iterator("table",function(e){t==="page"?gc(e):(typeof t=="string"&&(t=t!=="full-hold"),rc(e,t===!1))})});ze("page()",function(t){return t===void 0?this.page.info().page:this.iterator("table",function(e){V0(e,t)})});ze("page.info()",function(){if(this.context.length!==0){var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,i=t.fnRecordsDisplay(),r=n===-1;return{page:r?0:Math.floor(e/n),pages:r?1:Math.ceil(i/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:i,serverSide:Xi(t)==="ssp"}}});ze("page.len()",function(t){return t===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(e){KR(e,t)})});var a$=function(t,e,n){if(n){var i=new xt(t);i.one("draw",function(){n(i.ajax.json())})}if(Xi(t)=="ssp")rc(t,e);else{zi(t,!0);var r=t.jqXHR;r&&r.readyState!==4&&r.abort(),j0(t,{},function(s){B0(t);for(var o=Gp(t,s),a=0,l=o.length;a<l;a++)Da(t,o[a]);rc(t,e),Kd(t),zi(t,!1)})}};ze("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json});ze("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData});ze("ajax.reload()",function(t,e){return this.iterator("table",function(n){a$(n,e===!1,t)})});ze("ajax.url()",function(t){var e=this.context;return t===void 0?e.length===0?void 0:(e=e[0],D.isPlainObject(e.ajax)?e.ajax.url:e.ajax):this.iterator("table",function(n){D.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})});ze("ajax.url().load()",function(t,e){return this.iterator("table",function(n){a$(n,e===!1,t)})});var q0=function(t,e,n,i,r){var s=[],o,a,l,c,u,f,d=typeof e;for((!e||d==="string"||d==="function"||e.length===void 0)&&(e=[e]),l=0,c=e.length;l<c;l++)for(a=e[l]&&e[l].split&&!e[l].match(/[[(:]/)?e[l].split(","):[e[l]],u=0,f=a.length;u<f;u++)o=n(typeof a[u]=="string"?a[u].trim():a[u]),o=o.filter(function(g){return g!=null}),o&&o.length&&(s=s.concat(o));var m=Cn.selector[t];if(m.length)for(l=0,c=m.length;l<c;l++)s=m[l](i,r,s);return Na(s)},U0=function(t){return t||(t={}),t.filter&&t.search===void 0&&(t.search=t.filter),D.extend({search:"none",order:"current",page:"all"},t)},X0=function(t){var e=new xt(t.context[0]);return t.length&&e.push(t[0]),e.selector=t.selector,e.length&&e[0].length>1&&e[0].splice(1),e},em=function(t,e){var n,i,r,s=[],o=t.aiDisplay,a=t.aiDisplayMaster,l=e.search,c=e.order,u=e.page;if(Xi(t)=="ssp")return l==="removed"?[]:oo(0,a.length);if(u=="current")for(n=t._iDisplayStart,i=t.fnDisplayEnd();n<i;n++)s.push(o[n]);else if(c=="current"||c=="applied"){if(l=="none")s=a.slice();else if(l=="applied")s=o.slice();else if(l=="removed"){var f={};for(n=0,i=o.length;n<i;n++)f[o[n]]=null;a.forEach(function(m){Object.prototype.hasOwnProperty.call(f,m)||s.push(m)})}}else if(c=="index"||c=="original")for(n=0,i=t.aoData.length;n<i;n++)t.aoData[n]&&(l=="none"?s.push(n):(r=o.indexOf(n),(r===-1&&l=="removed"||r>=0&&l=="applied")&&s.push(n)));else if(typeof c=="number"){var d=Q0(t,c,"asc");if(l==="none")s=d;else for(n=0;n<d.length;n++)r=o.indexOf(d[n]),(r===-1&&l=="removed"||r>=0&&l=="applied")&&s.push(d[n])}return s},pte=function(t,e,n){var i,r=function(o){var a=HR(o),l=t.aoData;if(a!==null&&!n)return[a];if(i||(i=em(t,n)),a!==null&&i.indexOf(a)!==-1)return[a];if(o==null||o==="")return i;if(typeof o=="function")return i.map(function(g){var y=l[g];return o(g,y._aData,y.nTr)?g:null});if(o.nodeName){var c=o._DT_RowIndex,u=o._DT_CellIndex;if(c!==void 0)return l[c]&&l[c].nTr===o?[c]:[];if(u)return l[u.row]&&l[u.row].nTr===o.parentNode?[u.row]:[];var f=D(o).closest("*[data-dt-row]");return f.length?[f.data("dt-row")]:[]}if(typeof o=="string"&&o.charAt(0)==="#"){var d=t.aIds[o.replace(/^#/,"")];if(d!==void 0)return[d.idx]}var m=VR(Sf(t.aoData,i,"nTr"));return D(m).filter(o).map(function(){return this._DT_RowIndex}).toArray()},s=q0("row",e,r,t,n);return(n.order==="current"||n.order==="applied")&&i$(t,s),s};ze("rows()",function(t,e){t===void 0?t="":D.isPlainObject(t)&&(e=t,t=""),e=U0(e);var n=this.iterator("table",function(i){return pte(i,t,e)},1);return n.selector.rows=t,n.selector.opts=e,n});ze("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||void 0},1)});ze("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return Sf(t.aoData,e,"_aData")},1)});Vt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return t==="search"?i._aFilterData:i._aSortData},1)});Vt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){Yp(e,n,t)})});Vt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)});Vt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,r=n.length;i<r;i++)for(var s=0,o=this[i].length;s<o;s++){var a=n[i].rowIdFn(n[i].aoData[this[i][s]]._aData);e.push((t===!0?"#":"")+a)}return new xt(n,e)});Vt("rows().remove()","row().remove()",function(){return this.iterator("row",function(t,e){var n=t.aoData,i=n[e],r=t.aiDisplayMaster.indexOf(e);r!==-1&&t.aiDisplayMaster.splice(r,1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,s$(t);var s=t.rowIdFn(i._aData);s!==void 0&&delete t.aIds[s],n[e]=null}),this});ze("rows.add()",function(t){var e=this.iterator("table",function(i){var r,s,o,a=[];for(s=0,o=t.length;s<o;s++)r=t[s],r.nodeName&&r.nodeName.toUpperCase()==="TR"?a.push(F0(i,r)[0]):a.push(Da(i,r));return a},1),n=this.rows(-1);return n.pop(),Zp(n,e),n});ze("row()",function(t,e){return X0(this.rows(t,e))});ze("row().data()",function(t){var e=this.context;if(t===void 0)return e.length&&this.length&&this[0].length?e[0].aoData[this[0]]._aData:void 0;var n=e[0].aoData[this[0]];return n._aData=t,Array.isArray(t)&&n.nTr&&n.nTr.id&&la(e[0].rowId)(t,n.nTr.id),Yp(e[0],this[0],"data"),this});ze("row().node()",function(){var t=this.context;if(t.length&&this.length&&this[0].length){var e=t[0].aoData[this[0]];if(e&&e.nTr)return e.nTr}return null});ze("row.add()",function(t){t instanceof D&&t.length&&(t=t[0]);var e=this.iterator("table",function(n){return t.nodeName&&t.nodeName.toUpperCase()==="TR"?F0(n,t)[0]:Da(n,t)});return this.row(e[0])});D(document).on("plugin-init.dt",function(t,e){var n=new xt(e);n.on("stateSaveParams.DT",function(i,r,s){for(var o=r.rowIdFn,a=r.aiDisplayMaster,l=[],c=0;c<a.length;c++){var u=a[c],f=r.aoData[u];f._detailsShow&&l.push("#"+o(f._aData))}s.childRows=l}),n.on("stateLoaded.DT",function(i,r,s){hS(n,s)}),hS(n,n.state.loaded())});var hS=function(t,e){e&&e.childRows&&t.rows(e.childRows.map(function(n){return n.replace(/([^:\\]*(?:\\.[^:\\]*)*):/g,"$1\\:")})).every(function(){Lt(t.settings()[0],null,"requestChild",[this])})},mte=function(t,e,n,i){var r=[],s=function(o,a){if(Array.isArray(o)||o instanceof D){for(var l=0,c=o.length;l<c;l++)s(o[l],a);return}if(o.nodeName&&o.nodeName.toLowerCase()==="tr")o.setAttribute("data-dt-row",e.idx),r.push(o);else{var u=D("<tr><td></td></tr>").attr("data-dt-row",e.idx).addClass(a);D("td",u).addClass(a).html(o)[0].colSpan=Up(t),r.push(u[0])}};s(n,i),e._details&&e._details.detach(),e._details=D(r),e._detailsShow&&e._details.insertAfter(e.nTr)},l$=me.util.throttle(function(t){Jp(t[0])},500),Y0=function(t,e){var n=t.context;if(n.length){var i=n[0].aoData[e!==void 0?e:t[0]];i&&i._details&&(i._details.remove(),i._detailsShow=void 0,i._details=void 0,D(i.nTr).removeClass("dt-hasChild"),l$(n))}},c$=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];i._details&&(i._detailsShow=e,e?(i._details.insertAfter(i.nTr),D(i.nTr).addClass("dt-hasChild")):(i._details.detach(),D(i.nTr).removeClass("dt-hasChild")),Lt(n[0],null,"childRow",[e,t.row(t[0])]),gte(n[0]),l$(n))}},gte=function(t){var e=new xt(t),n=".dt.DT_details",i="draw"+n,r="column-sizing"+n,s="destroy"+n,o=t.aoData;e.off(i+" "+r+" "+s),Gn(o,"_details").length>0&&(e.on(i,function(a,l){t===l&&e.rows({page:"current"}).eq(0).each(function(c){var u=o[c];u._detailsShow&&u._details.insertAfter(u.nTr)})}),e.on(r,function(a,l){if(t===l)for(var c,u=Up(l),f=0,d=o.length;f<d;f++)c=o[f],c&&c._details&&c._details.each(function(){var m=D(this).children("td");m.length==1&&m.attr("colspan",u)})}),e.on(s,function(a,l){if(t===l)for(var c=0,u=o.length;c<u;c++)o[c]&&o[c]._details&&Y0(e,c)}))},vte="",Tf=vte+"row().child",tm=Tf+"()";ze(tm,function(t,e){var n=this.context;return t===void 0?n.length&&this.length&&n[0].aoData[this[0]]?n[0].aoData[this[0]]._details:void 0:(t===!0?this.child.show():t===!1?Y0(this):n.length&&this.length&&mte(n[0],n[0].aoData[this[0]],t,e),this)});ze([Tf+".show()",tm+".show()"],function(){return c$(this,!0),this});ze([Tf+".hide()",tm+".hide()"],function(){return c$(this,!1),this});ze([Tf+".remove()",tm+".remove()"],function(){return Y0(this),this});ze(Tf+".isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]&&t[0].aoData[this[0]]._detailsShow||!1});var bte=/^([^:]+)?:(name|title|visIdx|visible)$/,G0=function(t,e,n,i,r,s){for(var o=[],a=0,l=r.length;a<l;a++)o.push(hr(t,r[a],e,s));return o},u$=function(t,e,n){var i=t.aoHeader,r=n!==void 0?n:t.bSortCellsTop?0:i.length-1;return i[r][e].cell},yte=function(t,e,n){var i=t.aoColumns,r=Gn(i,"sName"),s=Gn(i,"sTitle"),o=me.util.get("[].[].cell")(t.aoHeader),a=Na(M0([],o)),l=function(c){var u=HR(c);if(c==="")return oo(i.length);if(u!==null)return[u>=0?u:i.length+u];if(typeof c=="function"){var f=em(t,n);return i.map(function(_,A){return c(A,G0(t,A,0,0,f),u$(t,A))?A:null})}var d=typeof c=="string"?c.match(bte):"";if(d)switch(d[2]){case"visIdx":case"visible":if(d[1]&&d[1].match(/^\d+$/)){var m=parseInt(d[1],10);if(m<0){var g=i.map(function(_,A){return _.bVisible?A:null});return[g[g.length+m]]}return[L0(t,m)]}return i.map(function(_,A){return _.bVisible?d[1]?D(a[A]).filter(d[1]).length>0?A:null:A:null});case"name":return r.map(function(_,A){return _===d[1]?A:null});case"title":return s.map(function(_,A){return _===d[1]?A:null});default:return[]}if(c.nodeName&&c._DT_CellIndex)return[c._DT_CellIndex.column];var y=D(a).filter(c).map(function(){return I0(this)}).toArray().sort(function(_,A){return _-A});if(y.length||!c.nodeName)return y;var O=D(c).closest("*[data-dt-column]");return O.length?[O.data("dt-column")]:[]};return q0("column",e,l,t,n)},Ote=function(t,e,n){var i=t.aoColumns,r=i[e],s=t.aoData,o,a,l,c;if(n===void 0)return r.bVisible;if(r.bVisible===n)return!1;if(n){var u=Gn(i,"bVisible").indexOf(!0,e+1);for(a=0,l=s.length;a<l;a++)s[a]&&(c=s[a].nTr,o=s[a].anCells,c&&c.insertBefore(o[e],o[u]||null))}else D(Gn(t.aoData,"anCells",e)).detach();return r.bVisible=n,t$(t),!0};ze("columns()",function(t,e){t===void 0?t="":D.isPlainObject(t)&&(e=t,t=""),e=U0(e);var n=this.iterator("table",function(i){return yte(i,t,e)},1);return n.selector.cols=t,n.selector.opts=e,n});Vt("columns().header()","column().header()",function(t){return this.iterator("column",function(e,n){return u$(e,n,t)},1)});Vt("columns().footer()","column().footer()",function(t){return this.iterator("column",function(e,n){var i=e.aoFooter;return i.length?e.aoFooter[t!==void 0?t:0][n].cell:null},1)});Vt("columns().data()","column().data()",function(){return this.iterator("column-rows",G0,1)});Vt("columns().render()","column().render()",function(t){return this.iterator("column-rows",function(e,n,i,r,s){return G0(e,n,i,r,s,t)},1)});Vt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)});Vt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,r,s){return Sf(e.aoData,s,t==="search"?"_aFilterData":"_aSortData",n)},1)});Vt("columns().init()","column().init()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e]},1)});Vt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,r){return Sf(t.aoData,r,"anCells",e)},1)});Vt("columns().titles()","column().title()",function(t,e){return this.iterator("column",function(n,i){typeof t=="number"&&(e=t,t=void 0);var r=D("span.dt-column-title",this.column(i).header(e));return t!==void 0?(r.html(t),this):r.html()},1)});Vt("columns().types()","column().type()",function(){return this.iterator("column",function(t,e){var n=t.aoColumns[e].sType;return n||Xp(t),n},1)});Vt("columns().visible()","column().visible()",function(t,e){var n=this,i=[],r=this.iterator("column",function(s,o){if(t===void 0)return s.aoColumns[o].bVisible;Ote(s,o,t)&&i.push(o)});return t!==void 0&&this.iterator("table",function(s){Gd(s,s.aoHeader),Gd(s,s.aoFooter),s.aiDisplay.length||D(s.nTBody).find("td[colspan]").attr("colspan",Up(s)),Jp(s),n.iterator("column",function(o,a){i.includes(a)&&Lt(o,null,"column-visibility",[o,a,t,e])}),i.length&&(e===void 0||e)&&n.columns.adjust()}),r});Vt("columns().widths()","column().width()",function(){var t=this.columns(":visible").count(),e=D("<tr>").html("<td>"+Array(t).join("</td><td>")+"</td>");D(this.table().body()).append(e);var n=e.children().map(function(){return D(this).outerWidth()});return e.remove(),this.iterator("column",function(i,r){var s=Cf(i,r);return s!==null?n[s]:0},1)});Vt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return t==="visible"?Cf(e,n):n},1)});ze("columns.adjust()",function(){return this.iterator("table",function(t){t.containerWidth=-1,qp(t)},1)});ze("column.index()",function(t,e){if(this.context.length!==0){var n=this.context[0];if(t==="fromVisible"||t==="toData")return L0(n,e);if(t==="fromData"||t==="toVisible")return Cf(n,e)}});ze("column()",function(t,e){return X0(this.columns(t,e))});var xte=function(t,e,n){var i=t.aoData,r=em(t,n),s=VR(Sf(i,r,"anCells")),o=D(M0([],s)),a,l=t.aoColumns.length,c,u,f,d,m,g,y=function(O){var _=typeof O=="function";if(O==null||_){for(c=[],u=0,f=r.length;u<f;u++)for(a=r[u],d=0;d<l;d++)m={row:a,column:d},_?(g=i[a],O(m,hr(t,a,d),g.anCells?g.anCells[d]:null)&&c.push(m)):c.push(m);return c}if(D.isPlainObject(O))return O.column!==void 0&&O.row!==void 0&&r.indexOf(O.row)!==-1?[O]:[];var A=o.filter(O).map(function(R,T){return{row:T._DT_CellIndex.row,column:T._DT_CellIndex.column}}).toArray();return A.length||!O.nodeName?A:(g=D(O).closest("*[data-dt-row]"),g.length?[{row:g.data("dt-row"),column:g.data("dt-column")}]:[])};return q0("cell",e,y,t,n)};ze("cells()",function(t,e,n){if(D.isPlainObject(t)&&(t.row===void 0?(n=t,t=null):(n=e,e=null)),D.isPlainObject(e)&&(n=e,e=null),e==null)return this.iterator("table",function(d){return xte(d,t,U0(n))});var i=n?{page:n.page,order:n.order,search:n.search}:{},r=this.columns(e,i),s=this.rows(t,i),o,a,l,c,u=this.iterator("table",function(d,m){var g=[];for(o=0,a=s[m].length;o<a;o++)for(l=0,c=r[m].length;l<c;l++)g.push({row:s[m][o],column:r[m][l]});return g},1),f=n&&n.selected?this.cells(u,n):u;return D.extend(f.selector,{cols:e,rows:t,opts:n}),f});Vt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){var i=t.aoData[e];return i&&i.anCells?i.anCells[n]:void 0},1)});ze("cells().data()",function(){return this.iterator("cell",function(t,e,n){return hr(t,e,n)},1)});Vt("cells().cache()","cell().cache()",function(t){return t=t==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]},1)});Vt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,i){return hr(e,n,i,t)},1)});Vt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:Cf(t,n)}},1)});Vt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,i){Yp(e,n,t,i)})});ze("cell()",function(t,e,n){return X0(this.cells(t,e,n))});ze("cell().data()",function(t){var e=this.context,n=this[0];return t===void 0?e.length&&n.length?hr(e[0],n[0].row,n[0].column):void 0:(Wee(e[0],n[0].row,n[0].column,t),Yp(e[0],n[0].row,"data",n[0].column),this)});ze("order()",function(t,e){var n=this.context,i=Array.prototype.slice.call(arguments);return t===void 0?n.length!==0?n[0].aaSorting:void 0:(typeof t=="number"?t=[[t,e]]:i.length>1&&(t=i),this.iterator("table",function(r){r.aaSorting=Array.isArray(t)?t.slice():t}))});ze("order.listener()",function(t,e,n){return this.iterator("table",function(i){n$(i,t,{},e,n)})});ze("order.fixed()",function(t){if(!t){var e=this.context,n=e.length?e[0].aaSortingFixed:void 0;return Array.isArray(n)?{pre:n}:n}return this.iterator("table",function(i){i.aaSortingFixed=D.extend(!0,{},t)})});ze(["columns().order()","column().order()"],function(t){var e=this;return t?this.iterator("table",function(n,i){n.aaSorting=e[i].map(function(r){return[r,t]})}):this.iterator("column",function(n,i){for(var r=Kp(n),s=0,o=r.length;s<o;s++)if(r[s].col===i)return r[s].dir;return null},1)});Vt("columns().orderable()","column().orderable()",function(t){return this.iterator("column",function(e,n){var i=e.aoColumns[n];return t?i.asSorting:i.bSortable},1)});ze("processing()",function(t){return this.iterator("table",function(e){zi(e,t)})});ze("search()",function(t,e,n,i){var r=this.context;return t===void 0?r.length!==0?r[0].oPreviousSearch.search:void 0:this.iterator("table",function(s){s.oFeatures.bFilter&&(typeof e=="object"?Ju(s,D.extend(s.oPreviousSearch,e,{search:t})):Ju(s,D.extend(s.oPreviousSearch,{search:t,regex:e===null?!1:e,smart:n===null?!0:n,caseInsensitive:i===null?!0:i})))})});ze("search.fixed()",function(t,e){var n=this.iterator(!0,"table",function(i){var r=i.searchFixed;if(t){if(e===void 0)return r[t];e===null?delete r[t]:r[t]=e}else return Object.keys(r);return this});return t!==void 0&&e===void 0?n[0]:n});Vt("columns().search()","column().search()",function(t,e,n,i){return this.iterator("column",function(r,s){var o=r.aoPreSearchCols;if(t===void 0)return o[s].search;r.oFeatures.bFilter&&(typeof e=="object"?D.extend(o[s],e,{search:t}):D.extend(o[s],{search:t,regex:e===null?!1:e,smart:n===null?!0:n,caseInsensitive:i===null?!0:i}),Ju(r,r.oPreviousSearch))})});ze(["columns().search.fixed()","column().search.fixed()"],function(t,e){var n=this.iterator(!0,"column",function(i,r){var s=i.aoColumns[r].searchFixed;if(t){if(e===void 0)return s[t];e===null?delete s[t]:s[t]=e}else return Object.keys(s);return this});return t!==void 0&&e===void 0?n[0]:n});ze("state()",function(t,e){if(!t)return this.context.length?this.context[0].oSavedState:null;var n=D.extend(!0,{},t);return this.iterator("table",function(i){e!==!1&&(n.time=+new Date+100),Wb(i,n,function(){})})});ze("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})});ze("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});ze("state.save()",function(){return this.iterator("table",function(t){Jp(t)})});var dS,pS;me.use=function(t,e){var n=typeof t=="string"?e:t,i=typeof e=="string"?e:t;if(n===void 0&&typeof i=="string")switch(i){case"lib":case"jq":return D;case"win":return window;case"datetime":return me.DateTime;case"luxon":return Oo;case"moment":return Ra;case"bootstrap":return dS||window.bootstrap;case"foundation":return pS||window.Foundation;default:return null}i==="lib"||i==="jq"||n&&n.fn&&n.fn.jquery?D=n:i==="win"||n&&n.document?(window=n,document=n.document):i==="datetime"||n&&n.type==="DateTime"?me.DateTime=n:i==="luxon"||n&&n.FixedOffsetZone?Oo=n:i==="moment"||n&&n.isMoment?Ra=n:i==="bootstrap"||n&&n.Modal&&n.Modal.NAME==="modal"?dS=n:(i==="foundation"||n&&n.Reveal)&&(pS=n)};me.factory=function(t,e){var n=!1;return t&&t.document&&(window=t,document=t.document),e&&e.fn&&e.fn.jquery&&(D=e,n=!0),n};me.versionCheck=function(t,e){for(var n=e?e.split("."):me.version.split("."),i=t.split("."),r,s,o=0,a=i.length;o<a;o++)if(r=parseInt(n[o],10)||0,s=parseInt(i[o],10)||0,r!==s)return r>s;return!0};me.isDataTable=function(t){var e=D(t).get(0),n=!1;return t instanceof me.Api?!0:(D.each(me.settings,function(i,r){var s=r.nScrollHead?D("table",r.nScrollHead)[0]:null,o=r.nScrollFoot?D("table",r.nScrollFoot)[0]:null;(r.nTable===e||s===e||o===e)&&(n=!0)}),n)};me.tables=function(t){var e=!1;D.isPlainObject(t)&&(e=t.api,t=t.visible);var n=me.settings.filter(function(i){return!!(!t||t&&D(i.nTable).is(":visible"))}).map(function(i){return i.nTable});return e?new xt(n):n};me.camelToHungarian=po;ze("$()",function(t,e){var n=this.rows(e).nodes(),i=D(n);return D([].concat(i.filter(t).toArray(),i.find(t).toArray()))});D.each(["on","one","off"],function(t,e){ze(e+"()",function(){var n=Array.prototype.slice.call(arguments);n[0]=n[0].split(/\s/).map(function(r){return r.match(/\.dt\b/)?r:r+".dt"}).join(" ");var i=D(this.tables().nodes());return i[e].apply(i,n),this})});ze("clear()",function(){return this.iterator("table",function(t){B0(t)})});ze("error()",function(t){return this.iterator("table",function(e){tr(e,0,t)})});ze("settings()",function(){return new xt(this.context,this.context)});ze("init()",function(){var t=this.context;return t.length?t[0].oInit:null});ze("data()",function(){return this.iterator("table",function(t){return Gn(t.aoData,"_aData")}).flatten()});ze("trigger()",function(t,e,n){return this.iterator("table",function(i){return Lt(i,null,t,e,n)}).flatten()});ze("ready()",function(t){var e=this.context;return t?this.tables().every(function(){var n=this;this.context[0]._bInitComplete?t.call(n):this.on("init.dt.DT",function(){t.call(n)})}):e.length?e[0]._bInitComplete||!1:null});ze("destroy()",function(t){return t=t||!1,this.iterator("table",function(e){var n=e.oClasses,i=e.nTable,r=e.nTBody,s=e.nTHead,o=e.nTFoot,a=D(i),l=D(r),c=D(e.nTableWrapper),u=e.aoData.map(function(O){return O?O.nTr:null}),f=n.order;e.bDestroying=!0,Lt(e,"aoDestroyCallback","destroy",[e],!0),t||new xt(e).columns().visible(!0),e.resizeObserver&&e.resizeObserver.disconnect(),c.off(".DT").find(":not(tbody *)").off(".DT"),D(window).off(".DT-"+e.sInstance),i!=s.parentNode&&(a.children("thead").detach(),a.append(s)),o&&i!=o.parentNode&&(a.children("tfoot").detach(),a.append(o)),D(s).find("span.dt-column-order").remove(),D(s).find("span.dt-column-title").each(function(){var O=D(this).html();D(this).parent().append(O),D(this).remove()}),e.colgroup.remove(),e.aaSorting=[],e.aaSortingFixed=[],zb(e),D(a).find("th, td").removeClass(D.map(me.ext.type.className,function(O){return O}).join(" ")),D("th, td",s).removeClass(f.none+" "+f.canAsc+" "+f.canDesc+" "+f.isAsc+" "+f.isDesc).css("width","").removeAttr("data-dt-column").removeAttr("aria-sort"),l.children().detach(),l.append(u);var d=e.nTableWrapper.parentNode,m=e.nTableWrapper.nextSibling,g=t?"remove":"detach";a[g](),c[g](),!t&&d&&(d.insertBefore(i,m),a.css("width",e.sDestroyWidth).removeClass(n.table));var y=me.settings.indexOf(e);y!==-1&&me.settings.splice(y,1)})});D.each(["column","row","cell"],function(t,e){ze(e+"s().every()",function(n){var i=this.selector.opts,r=this,s,o=0;return this.iterator("every",function(a,l,c){s=r[e](l,i),e==="cell"?n.call(s,s[0][0].row,s[0][0].column,c,o):n.call(s,l,c,o),o++})})});ze("i18n()",function(t,e,n){var i=this.context[0],r=ic(t)(i.oLanguage);return r===void 0&&(r=e),D.isPlainObject(r)&&(r=n!==void 0&&r[n]!==void 0?r[n]:r._),typeof r=="string"?r.replace("%d",n):r});me.version="2.2.2";me.settings=[];me.models={};me.models.oSearch={caseInsensitive:!0,search:"",regex:!1,smart:!0,return:!1};me.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,src:null,idx:-1,displayData:null};me.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null,maxLenString:null,searchFixed:null};me.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],bAutoWidth:!0,bDeferRender:!0,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:null,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnStateLoadCallback:function(t){try{return JSON.parse((t.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(t.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{orderable:": Activate to sort",orderableReverse:": Activate to invert sorting",orderableRemove:": Activate to remove sorting",paginate:{first:"First",last:"Last",next:"Next",previous:"Previous",number:""}},oPaginate:{sFirst:"«",sLast:"»",sNext:"›",sPrevious:"‹"},entries:{_:"entries",1:"entry"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ _ENTRIES-TOTAL_",sInfoEmpty:"Showing 0 to 0 of 0 _ENTRIES-TOTAL_",sInfoFiltered:"(filtered from _MAX_ total _ENTRIES-MAX_)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"_MENU_ _ENTRIES_ per page",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},orderDescReverse:!0,oSearch:D.extend({},me.models.oSearch),layout:{topStart:"pageLength",topEnd:"search",bottomStart:"info",bottomEnd:"paging"},sDom:null,searchDelay:null,sPaginationType:"",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId",caption:null,iDeferLoading:null};Wp(me.defaults);me.defaults.column={aDataSort:null,iDataSort:-1,ariaTitle:"",asSorting:["asc","desc",""],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};Wp(me.defaults.column);me.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:!0,bLengthChange:!0,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollbarLeft:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},searchFixed:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",pagingControls:0,iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,bAjaxDataGet:!0,jqXHR:null,json:void 0,oAjaxData:void 0,sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return Xi(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return Xi(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,r=this.oFeatures,s=r.bPaginate;return r.bServerSide?s===!1||t===-1?e+i:Math.min(e+t,this._iRecordsDisplay):!s||n>i||t===-1?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null,caption:"",captionNode:null,colgroup:null,deferLoading:null,typeDetect:!0,resizeObserver:null,containerWidth:-1};var wte=me.ext.pager;D.extend(wte,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(){return["numbers"]},simple_numbers:function(){return["previous","numbers","next"]},full_numbers:function(){return["first","previous","numbers","next","last"]},first_last:function(){return["first","last"]},first_last_numbers:function(){return["first","numbers","last"]},_numbers:p$,numbers_length:7});D.extend(!0,me.ext.renderer,{pagingButton:{_:function(t,e,n,i,r){var s=t.oClasses.paging,o=[s.button],a;return i&&o.push(s.active),r&&o.push(s.disabled),e==="ellipsis"?a=D('<span class="ellipsis"></span>').html(n)[0]:a=D("<button>",{class:o.join(" "),role:"link",type:"button"}).html(n),{display:a,clicker:a}}},pagingContainer:{_:function(t,e){return e}}});var vc=function(t,e){return function(n){return Qi(n)||typeof n!="string"||(n=n.replace(Nee," "),t&&(n=Bs(n)),n=Xd(n,!1)),n}};function mS(t,e,n,i,r){return Ra?t[e](r):Oo?t[n](r):i?t[i](r):t}var gS=!1,Oo,Ra;function _te(){window.luxon&&!Oo&&(Oo=window.luxon),window.moment&&!Ra&&(Ra=window.moment)}function Zd(t,e,n){var i;if(_te(),Ra){if(i=Ra.utc(t,e,n,!0),!i.isValid())return null}else if(Oo){if(i=e&&typeof t=="string"?Oo.DateTime.fromFormat(t,e):Oo.DateTime.fromISO(t),!i.isValid)return null;i=i.setLocale(n)}else e?(gS||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),gS=!0):i=new Date(t);return i}function Qg(t){return function(e,n,i,r){arguments.length===0?(i="en",n=null,e=null):arguments.length===1?(i="en",n=e,e=null):arguments.length===2&&(i=n,n=e,e=null);var s="datetime"+(n?"-"+n:"");return me.ext.type.order[s+"-pre"]||me.type(s,{detect:function(o){return o===s?s:!1},order:{pre:function(o){return o.valueOf()}},className:"dt-right"}),function(o,a){if(o==null)if(r==="--now"){var l=new Date;o=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds()))}else o="";if(a==="type")return s;if(o==="")return a!=="sort"?"":Zd("0000-01-01 00:00:00",null,i);if(n!==null&&e===n&&a!=="sort"&&a!=="type"&&!(o instanceof Date))return o;var c=Zd(o,e,i);if(c===null)return o;if(a==="sort")return c;var u=n===null?mS(c,"toDate","toJSDate","")[t]():mS(c,"format","toFormat","toISOString",n);return a==="display"?kl(u):u}}}var f$=",",h$=".";if(window.Intl!==void 0)try{for(var Hc=new Intl.NumberFormat().formatToParts(100000.1),li=0;li<Hc.length;li++)Hc[li].type==="group"?f$=Hc[li].value:Hc[li].type==="decimal"&&(h$=Hc[li].value)}catch{}me.datetime=function(t,e){var n="datetime-"+t;e||(e="en"),me.ext.type.order[n]||me.type(n,{detect:function(i){var r=Zd(i,t,e);return i===""||r?n:!1},order:{pre:function(i){return Zd(i,t,e)||0}},className:"dt-right"})};me.render={date:Qg("toLocaleDateString"),datetime:Qg("toLocaleString"),time:Qg("toLocaleTimeString"),number:function(t,e,n,i,r){return t==null&&(t=f$),e==null&&(e=h$),{display:function(s){if(typeof s!="number"&&typeof s!="string"||s===""||s===null)return s;var o=s<0?"-":"",a=parseFloat(s),l=Math.abs(a);if(l>=1e11||l<1e-4&&l!==0){var c=a.toExponential(n).split(/e\+?/);return c[0]+" x 10<sup>"+c[1]+"</sup>"}if(isNaN(a))return kl(s);a=a.toFixed(n),s=Math.abs(a);var u=parseInt(s,10),f=n?e+(s-u).toFixed(n).substring(2):"";return u===0&&parseFloat(f)===0&&(o=""),o+(i||"")+u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+f+(r||"")}}},text:function(){return{display:kl,filter:kl}}};var ri=me.ext.type;me.type=function(t,e,n){if(!e)return{className:ri.className[t],detect:ri.detect.find(function(o){return o._name===t}),order:{pre:ri.order[t+"-pre"],asc:ri.order[t+"-asc"],desc:ri.order[t+"-desc"]},render:ri.render[t],search:ri.search[t]};var i=function(o,a){ri[o][t]=a},r=function(o){Object.defineProperty(o,"_name",{value:t});var a=ri.detect.findIndex(function(l){return l._name===t});a===-1?ri.detect.unshift(o):ri.detect.splice(a,1,o)},s=function(o){ri.order[t+"-pre"]=o.pre,ri.order[t+"-asc"]=o.asc,ri.order[t+"-desc"]=o.desc};n===void 0&&(n=e,e=null),e==="className"?i("className",n):e==="detect"?r(n):e==="order"?s(n):e==="render"?i("render",n):e==="search"?i("search",n):e||(n.className&&i("className",n.className),n.detect!==void 0&&r(n.detect),n.order&&s(n.order),n.render!==void 0&&i("render",n.render),n.search!==void 0&&i("search",n.search))};me.types=function(){return ri.detect.map(function(t){return t._name})};var qb=function(t,e){return t=t!=null?t.toString().toLowerCase():"",e=e!=null?e.toString().toLowerCase():"",t.localeCompare(e,navigator.languages[0]||navigator.language,{numeric:!0,ignorePunctuation:!0})},vS=function(t,e){return t=Bs(t),e=Bs(e),qb(t,e)};me.type("string",{detect:function(){return"string"},order:{pre:function(t){return Qi(t)&&typeof t!="boolean"?"":typeof t=="string"?t.toLowerCase():t.toString?t.toString():""}},search:vc(!1)});me.type("string-utf8",{detect:{allOf:function(t){return!0},oneOf:function(t){return!Qi(t)&&navigator.languages&&typeof t=="string"&&t.match(/[^\x00-\x7F]/)}},order:{asc:qb,desc:function(t,e){return qb(t,e)*-1}},search:vc(!1)});me.type("html",{detect:{allOf:function(t){return Qi(t)||typeof t=="string"&&t.indexOf("<")!==-1},oneOf:function(t){return!Qi(t)&&typeof t=="string"&&t.indexOf("<")!==-1}},order:{pre:function(t){return Qi(t)?"":t.replace?Bs(t).trim().toLowerCase():t+""}},search:vc(!0)});me.type("html-utf8",{detect:{allOf:function(t){return Qi(t)||typeof t=="string"&&t.indexOf("<")!==-1},oneOf:function(t){return navigator.languages&&!Qi(t)&&typeof t=="string"&&t.indexOf("<")!==-1&&typeof t=="string"&&t.match(/[^\x00-\x7F]/)}},order:{asc:vS,desc:function(t,e){return vS(t,e)*-1}},search:vc(!0)});me.type("date",{className:"dt-type-date",detect:{allOf:function(t){if(t&&!(t instanceof Date)&&!nS.test(t))return null;var e=Date.parse(t);return e!==null&&!isNaN(e)||Qi(t)},oneOf:function(t){return t instanceof Date||typeof t=="string"&&nS.test(t)}},order:{pre:function(t){var e=Date.parse(t);return isNaN(e)?-1/0:e}}});me.type("html-num-fmt",{className:"dt-type-numeric",detect:{allOf:function(t,e){var n=e.oLanguage.sDecimal;return Ud(t,n,!0,!1)},oneOf:function(t,e){var n=e.oLanguage.sDecimal;return Ud(t,n,!0,!1)}},order:{pre:function(t,e){var n=e.oLanguage.sDecimal;return nm(t,n,$0,P0)}},search:vc(!0)});me.type("html-num",{className:"dt-type-numeric",detect:{allOf:function(t,e){var n=e.oLanguage.sDecimal;return Ud(t,n,!1,!0)},oneOf:function(t,e){var n=e.oLanguage.sDecimal;return Ud(t,n,!1,!1)}},order:{pre:function(t,e){var n=e.oLanguage.sDecimal;return nm(t,n,$0)}},search:vc(!0)});me.type("num-fmt",{className:"dt-type-numeric",detect:{allOf:function(t,e){var n=e.oLanguage.sDecimal;return Ku(t,n,!0,!0)},oneOf:function(t,e){var n=e.oLanguage.sDecimal;return Ku(t,n,!0,!1)}},order:{pre:function(t,e){var n=e.oLanguage.sDecimal;return nm(t,n,P0)}}});me.type("num",{className:"dt-type-numeric",detect:{allOf:function(t,e){var n=e.oLanguage.sDecimal;return Ku(t,n,!1,!0)},oneOf:function(t,e){var n=e.oLanguage.sDecimal;return Ku(t,n,!1,!1)}},order:{pre:function(t,e){var n=e.oLanguage.sDecimal;return nm(t,n)}}});var nm=function(t,e,n,i){if(t!==0&&(!t||t==="-"))return-1/0;var r=typeof t;return r==="number"||r==="bigint"?t:(e&&(t=jR(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),t*1)};D.extend(!0,me.ext.renderer,{footer:{_:function(t,e,n){e.addClass(n.tfoot.cell)}},header:{_:function(t,e,n){e.addClass(n.thead.cell),t.oFeatures.bSort||e.addClass(n.order.none);var i=t.bSortCellsTop,r=e.closest("thead").find("tr"),s=e.parent().index();e.attr("data-dt-order")==="disable"||e.parent().attr("data-dt-order")==="disable"||i===!0&&s!==0||i===!1&&s!==r.length-1||D(t.nTable).on("order.dt.DT column-visibility.dt.DT",function(o,a){if(t===a){var l=a.sortDetails;if(l){var c,u=n.order,f=a.api.columns(e),d=t.aoColumns[f.flatten()[0]],m=f.orderable().includes(!0),g="",y=f.indexes(),O=f.orderable(!0).flatten(),_=Gn(l,"col"),A=t.iTabIndex;e.removeClass(u.isAsc+" "+u.isDesc).toggleClass(u.none,!m).toggleClass(u.canAsc,m&&O.includes("asc")).toggleClass(u.canDesc,m&&O.includes("desc"));var R=!0;for(c=0;c<y.length;c++)_.includes(y[c])||(R=!1);if(R){var T=f.order();e.addClass(T.includes("asc")?u.isAsc:""+T.includes("desc")?u.isDesc:"")}var N=-1;for(c=0;c<_.length;c++)if(t.aoColumns[_[c]].bVisible){N=_[c];break}if(y[0]==N){var I=l[0],v=d.asSorting;e.attr("aria-sort",I.dir==="asc"?"ascending":"descending"),g=v[I.index+1]?"Reverse":"Remove"}else e.removeAttr("aria-sort");if(m){var z=e.find(".dt-column-order");z.attr("role","button").attr("aria-label",m?d.ariaTitle+a.api.i18n("oAria.orderable"+g):d.ariaTitle),A!==-1&&z.attr("tabindex",A)}}}})}},layout:{_:function(t,e,n){var i=t.oClasses.layout,r=D("<div/>").attr("id",n.id||null).addClass(n.className||i.row).appendTo(e);me.ext.renderer.layout._forLayoutRow(n,function(s,o){if(!(s==="id"||s==="className")){var a="";o.table&&(r.addClass(i.tableRow),a+=i.tableCell+" "),s==="start"?a+=i.start:s==="end"?a+=i.end:a+=i.full,D("<div/>").attr({id:o.id||null,class:o.className?o.className:i.cell+" "+a}).append(o.contents).appendTo(r)}})},_forLayoutRow:function(t,e){var n=function(i){switch(i){case"":return 0;case"start":return 1;case"end":return 2;default:return 3}};Object.keys(t).sort(function(i,r){return n(i)-n(r)}).forEach(function(i){e(i,t[i])})}}});me.feature={};me.feature.register=function(t,e,n){me.ext.features[t]=e,n&&Cn.feature.push({cFeature:n,fnInit:e})};function bh(t,e,n){n&&(t[e]=n)}me.feature.register("div",function(t,e){var n=D("<div>")[0];return e&&(bh(n,"className",e.className),bh(n,"id",e.id),bh(n,"innerHTML",e.html),bh(n,"textContent",e.text)),n});me.feature.register("info",function(t,e){if(!t.oFeatures.bInfo)return null;var n=t.oLanguage,i=t.sTableId,r=D("<div/>",{class:t.oClasses.info.container});return e=D.extend({callback:n.fnInfoCallback,empty:n.sInfoEmpty,postfix:n.sInfoPostFix,search:n.sInfoFiltered,text:n.sInfo},e),t.aoDrawCallback.push(function(s){Ste(s,e,r)}),t._infoEl||(r.attr({"aria-live":"polite",id:i+"_info",role:"status"}),D(t.nTable).attr("aria-describedby",i+"_info"),t._infoEl=r),r},"i");function Ste(t,e,n){var i=t._iDisplayStart+1,r=t.fnDisplayEnd(),s=t.fnRecordsTotal(),o=t.fnRecordsDisplay(),a=o?e.text:e.empty;o!==s&&(a+=" "+e.search),a+=e.postfix,a=z0(t,a),e.callback&&(a=e.callback.call(t.oInstance,t,i,r,s,o,a)),n.html(a),Lt(t,null,"info",[t,n[0],a])}var zg=0;me.feature.register("search",function(t,e){if(!t.oFeatures.bFilter)return null;var n=t.oClasses.search,i=t.sTableId,r=t.oLanguage,s=t.oPreviousSearch,o='<input type="search" class="'+n.input+'"/>';e=D.extend({placeholder:r.sSearchPlaceholder,processing:!1,text:r.sSearch},e),e.text.indexOf("_INPUT_")===-1&&(e.text+="_INPUT_"),e.text=z0(t,e.text);var a=e.text.match(/_INPUT_$/),l=e.text.match(/^_INPUT_/),c=e.text.replace(/_INPUT_/,""),u="<label>"+e.text+"</label>";l?u="_INPUT_<label>"+c+"</label>":a&&(u="<label>"+c+"</label>_INPUT_");var f=D("<div>").addClass(n.container).append(u.replace(/_INPUT_/,o));f.find("label").attr("for","dt-search-"+zg),f.find("input").attr("id","dt-search-"+zg),zg++;var d=function(y){var O=this.value;s.return&&y.key!=="Enter"||O!=s.search&&JR(t,e.processing,function(){s.search=O,Ju(t,s),t._iDisplayStart=0,gc(t)})},m=t.searchDelay!==null?t.searchDelay:0,g=D("input",f).val(s.search).attr("placeholder",e.placeholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",m?me.util.debounce(d,m):d).on("mouseup.DT",function(y){setTimeout(function(){d.call(g[0],y)},10)}).on("keypress.DT",function(y){if(y.keyCode==13)return!1}).attr("aria-controls",i);return D(t.nTable).on("search.dt.DT",function(y,O){t===O&&g[0]!==document.activeElement&&g.val(typeof s.search!="function"?s.search:"")}),f},"f");me.feature.register("paging",function(t,e){if(!t.oFeatures.bPaginate)return null;e=D.extend({buttons:me.ext.pager.numbers_length,type:t.sPaginationType,boundaryNumbers:!0,firstLast:!0,previousNext:!0,numbers:!0},e);var n=D("<div/>").addClass(t.oClasses.paging.container+(e.type?" paging_"+e.type:"")).append(D("<nav>").attr("aria-label","pagination").addClass(t.oClasses.paging.nav)),i=function(){d$(t,n.children(),e)};return t.aoDrawCallback.push(i),D(t.nTable).on("column-sizing.dt.DT",i),n},"p");function Cte(t){var e=[];return t.numbers&&e.push("numbers"),t.previousNext&&(e.unshift("previous"),e.push("next")),t.firstLast&&(e.unshift("first"),e.push("last")),e}function d$(t,e,n){if(t._bInitComplete){var i=n.type?me.ext.pager[n.type]:Cte,r=t.oLanguage.oAria.paginate||{},s=t._iDisplayStart,o=t._iDisplayLength,a=t.fnRecordsDisplay(),l=o===-1,c=l?0:Math.ceil(s/o),u=l?1:Math.ceil(a/o),f=[],d=[],m=i(n).map(function(I){return I==="numbers"?p$(c,u,n.buttons,n.boundaryNumbers):I});f=f.concat.apply(f,m);for(var g=0;g<f.length;g++){var y=f[g],O=Tte(t,y,c,u),_=Jd(t,"pagingButton")(t,y,O.display,O.active,O.disabled),A=typeof y=="string"?r[y]:r.number?r.number+(y+1):null;D(_.clicker).attr({"aria-controls":t.sTableId,"aria-disabled":O.disabled?"true":null,"aria-current":O.active?"page":null,"aria-label":A,"data-dt-idx":y,tabIndex:O.disabled?-1:t.iTabIndex&&_.clicker[0].nodeName.toLowerCase()!=="span"?t.iTabIndex:null}),typeof y!="number"&&D(_.clicker).addClass(y),r$(_.clicker,{action:y},function(I){I.preventDefault(),V0(t,I.data.action,!0)}),d.push(_.display)}var R=Jd(t,"pagingContainer")(t,d),T=e.find(document.activeElement).data("dt-idx");if(e.empty().append(R),T!==void 0&&e.find("[data-dt-idx="+T+"]").trigger("focus"),d.length){var N=D(d[0]).outerHeight();n.buttons>1&&N>0&&D(e).height()>=N*2-10&&d$(t,e,D.extend({},n,{buttons:n.buttons-2}))}}}function Tte(t,e,n,i){var r=t.oLanguage.oPaginate,s={display:"",active:!1,disabled:!1};switch(e){case"ellipsis":s.display="&#x2026;";break;case"first":s.display=r.sFirst,n===0&&(s.disabled=!0);break;case"previous":s.display=r.sPrevious,n===0&&(s.disabled=!0);break;case"next":s.display=r.sNext,(i===0||n===i-1)&&(s.disabled=!0);break;case"last":s.display=r.sLast,(i===0||n===i-1)&&(s.disabled=!0);break;default:typeof e=="number"&&(s.display=t.fnFormatNumber(e+1),n===e&&(s.active=!0));break}return s}function p$(t,e,n,i){var r=[],s=Math.floor(n/2),o=i?2:1,a=i?1:0;return e<=n?r=oo(0,e):n===1?r=[t]:n===3?t<=1?r=[0,1,"ellipsis"]:t>=e-2?(r=oo(e-2,e),r.unshift("ellipsis")):r=["ellipsis",t,"ellipsis"]:t<=s?(r=oo(0,n-o),r.push("ellipsis"),i&&r.push(e-1)):t>=e-1-s?(r=oo(e-(n-o),e),r.unshift("ellipsis"),i&&r.unshift(0)):(r=oo(t-s+o,t+s-a),r.push("ellipsis"),r.unshift("ellipsis"),i&&(r.push(e-1),r.unshift(0))),r}var Wg=0;me.feature.register("pageLength",function(t,e){var n=t.oFeatures;if(!n.bPaginate||!n.bLengthChange)return null;e=D.extend({menu:t.aLengthMenu,text:t.oLanguage.sLengthMenu},e);var i=t.oClasses.length,r=t.sTableId,s=e.menu,o=[],a=[],l;if(Array.isArray(s[0]))o=s[0],a=s[1];else for(l=0;l<s.length;l++)D.isPlainObject(s[l])?(o.push(s[l].value),a.push(s[l].label)):(o.push(s[l]),a.push(s[l]));var c=e.text.match(/_MENU_$/),u=e.text.match(/^_MENU_/),f=e.text.replace(/_MENU_/,""),d="<label>"+e.text+"</label>";u?d="_MENU_<label>"+f+"</label>":c&&(d="<label>"+f+"</label>_MENU_");var m="tmp-"+ +new Date,g=D("<div/>").addClass(i.container).append(d.replace("_MENU_",'<span id="'+m+'"></span>')),y=[];Array.prototype.slice.call(g.find("label")[0].childNodes).forEach(function(A){A.nodeType===Node.TEXT_NODE&&y.push({el:A,text:A.textContent})});var O=function(A){y.forEach(function(R){R.el.textContent=z0(t,R.text,A)})},_=D("<select/>",{"aria-controls":r,class:i.select});for(l=0;l<o.length;l++)_[0][l]=new Option(typeof a[l]=="number"?t.fnFormatNumber(a[l]):a[l],o[l]);return g.find("label").attr("for","dt-length-"+Wg),_.attr("id","dt-length-"+Wg),Wg++,g.find("#"+m).replaceWith(_),D("select",g).val(t._iDisplayLength).on("change.DT",function(){KR(t,D(this).val()),gc(t)}),D(t.nTable).on("length.dt.DT",function(A,R,T){t===R&&(D("select",g).val(T),O(T))}),O(t._iDisplayLength),g},"l");D.fn.dataTable=me;me.$=D;D.fn.dataTableSettings=me.settings;D.fn.dataTableExt=me.ext;D.fn.DataTable=function(t){return D(this).dataTable(t).api()};D.each(me,function(t,e){D.fn.DataTable[t]=e});window.$=window.jQuery=BR;const K0=gL(CZ);K0.use(OL());K0.use($ee);K0.mount("#app");
